{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/layout/MainLayoutHeader.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/reactui/layout/MainLayoutHeader.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/layout/MainLayoutHeader.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/layout/MainLayoutHeader.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/layout/MainLayoutHeader.jsx"}},"code":"module.export({\n  LoginFormHorizontalT: () => LoginFormHorizontalT,\n  SocialLoginButtonsT: () => SocialLoginButtonsT,\n  LoginPage: () => LoginPage,\n  LoginPageHorizontal: () => LoginPageHorizontal,\n  LoginFormT: () => LoginFormT,\n  LoginFormMessages: () => LoginFormMessages\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet LoginFormSignInView, LoginFormSignUpView, LoginFormSignUpViewLandlord, LoginFormResetPasswordView;\nmodule.link(\"./LoginFormViews.jsx\", {\n  LoginFormSignInView(v) {\n    LoginFormSignInView = v;\n  },\n\n  LoginFormSignUpView(v) {\n    LoginFormSignUpView = v;\n  },\n\n  LoginFormSignUpViewLandlord(v) {\n    LoginFormSignUpViewLandlord = v;\n  },\n\n  LoginFormResetPasswordView(v) {\n    LoginFormResetPasswordView = v;\n  }\n\n}, 3);\nemailAlerts = [// {\n//     heading: 'OH, HEY!',\n//     para: 'Get your dream place sooner without even searching for it! Sign up for our emails and we will send you the latest properties of your choice',\n//     yesButtonText: \"Awesome 🤘👍\"\n// },\n{\n  heading: 'Always First.',\n  para: 'Be the first to hear about the latest lettings in your area. Signup for our email alerts.',\n  yesButtonText: \"HELL YES!\"\n} // ,\n// {\n//     heading: 'Get Notified.',\n//     para: 'Get your rental soon by signing up for our email alerts. Be the first one to know when a letting is posted.',\n//     yesButtonText: \"Okays! Sign me up. :)\"\n// }\n];\nEMAIL_ALERT_VARIATION_count = 2; // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1, 2\n\nEMAIL_ALERT_VARIATION = 0; //Keeping only 1 variation.\n\nEMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION];\nisMobileMenuEventAttached = false;\n\nfunction delayedFunctions() {\n  // if(!isMobileMenuEventAttached) {\n  $(document).unbind('click').bind('click', function (e) {\n    if (!$('.xs-menu').hasClass('slide-right')) {\n      //Its not open\n      if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n        if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n        $('.xs-menu').addClass('slide-right');\n        return true;\n      } else return true;\n    } else {\n      //Its open\n      if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n        $('.xs-menu').removeClass('slide-right');\n        if (FlowRouter.current().route.name == 'home') setTimeout(function () {\n          if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n        }, 250);\n        return true;\n      }\n    }\n  }); // isMobileMenuEventAttached = true;\n  // }\n}\n\nfunction showLoginDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', false);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showSignupDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', true);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showLoginPopup() {\n  // let doesDivStillExists = $('#signin-div').html()\n  // if( doesDivStillExists != \"\" ){//To prevent home page dialogs\n  $.fancybox({\n    'padding': 0,\n    'href': '#signin-div',\n    afterClose: function (template) {\n      console.log(template); //template.showLoginDialog.set(false);\n\n      Session.set('isLandLordMode', false);\n      Session.set('showLoginDialog', false);\n      Session.set('showLoginSignupFancyBoxDialog', false);\n      Session.set('loginFromApplyNowBtn', false);\n    }\n  });\n}\n\nfunction emailValidation(email) {\n  email = email.trim();\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // Valid\n\n  if (re.test(email)) {\n    return true;\n  } // Invalid\n\n\n  return {\n    error: \"INVALID_EMAIL\",\n    reason: \"Please enter a valid email address in format pat@gmail.com\"\n  };\n}\n\nfunction decideAndShowCreateAlertPopup() {\n  // console.log(\"Apply decideAndShowCreateAlertPopup\")\n  let showAlertCreate = true;\n  let saidNo = parseInt(readCookie('emailAlertNoThanks'));\n\n  if (!saidNo) {\n    let c = parseInt(readCookie('emailAlertShowedCount'));\n    let on = parseInt(readCookie('emailAlertShowedOnTime'));\n    let tmp = (Date.now() - on) / 60000; // time in mins\n    // console.log('Time is: '+tmp);\n\n    if (c > 1) {\n      if (tmp < 2) showAlertCreate = false; //its not even 2mns since last popup show, so wait\n    }\n\n    if (c > 2) {\n      if (tmp < 2) showAlertCreate = false; //its not even 2mns since last popup show, so wait\n    }\n\n    if (c > 3) {\n      if (tmp < 3) showAlertCreate = false; //its not even 3mns since last popup show, so wait\n    }\n\n    if (c > 4) {\n      if (tmp < 6) showAlertCreate = false; //its not even 6mns since last popup show, so wait\n    }\n\n    if (c > 5) {\n      if (tmp < 12) showAlertCreate = false; //its not even 12mns since last popup show, so wait\n    }\n  }\n\n  let user = Meteor.user();\n\n  if (user) {\n    if (user.profile.emailAlertsActive || user.profile.emailAlertsNoThanks) showAlertCreate = false; // he already has alerts or he said no to them.\n  }\n\n  if (parseInt(readCookie('emailAlertAlreadyHasIt')) || parseInt(readCookie('emailAlertNoThanks'))) showAlertCreate = false; // He already has alerts or He already said no\n  //you don't need above fallback because this function is called only after 3-5 sec , by then user subscription must be loaded.\n  // console.log(\"decision: \"+showAlertCreate)\n\n  if (showAlertCreate) {\n    showCreateAlertPopup();\n  }\n}\n\nfunction showCreateAlertPopup() {\n  if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n    let c = parseInt(readCookie('emailAlertShowedCount'));\n    c = parseInt(c);\n    if (isNaN(c)) c = 1;else {\n      c++;\n    }\n    createCookie('emailAlertShowedCount', c, 5);\n    createCookie('emailAlertShowedOnTime', Date.now(), 5);\n    $.fancybox({\n      'padding': 0,\n      'href': '#create-alert-popup',\n      afterShow: function () {\n        $('#emailAlertUserEmailAddress').focus();\n        ga('send', 'event', 'emailAlert', 'Show Email Alert', 'Route name: ' + FlowRouter.current().route.name + ' Variation: ' + EMAIL_ALERT_VARIATION);\n      },\n      afterClose: function () {\n        Session.set('showCreateAlertPopup', false);\n      }\n    });\n  }\n}\n\nfunction showAddPropertyHeaderPopup() {\n  $.fancybox({\n    'padding': 0,\n    'href': '#addPropertyHeader-div',\n    afterClose: function (template) {\n      //console.log(template);\n      Session.set('showAddPropertyHeaderTemplate', false);\n      Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n    }\n  });\n}\n\nfunction createCookie(name, value, days) {\n  var expires = \"\";\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toUTCString();\n  }\n\n  document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n}\n\nfunction eraseCookie(name) {\n  createCookie(name, \"\", -1);\n}\n\nfunction loadFonts() {\n  (function () {\n    var wf = document.createElement('link');\n    wf.href = cdnPath('/fonts/Montserrat/stylesheet.css');\n    wf.rel = 'stylesheet';\n    wf.async = 'true'; //link doesnt support async\n\n    var s = document.getElementsByTagName('link')[0];\n    s.parentNode.insertBefore(wf, s);\n    Session.set('fontsLoaded', true); // var wf = document.createElement('script');\n    // wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';\n    // wf.type = 'text/javascript';\n    // wf.async = 'true';\n    // var s = document.getElementsByTagName('script')[0];\n    // s.parentNode.insertBefore(wf, s);\n  })();\n}\n\nclass MainLayoutHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      emailAlertEmailAddress: this.props.currentUser ? this.props.currentUser.profile.email : \"\"\n    };\n    this.emailAlertEmailAddressHandler = this.emailAlertEmailAddressHandler.bind(this);\n    this.NeedsCreateAlertPopup = false;\n\n    if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n      this.NeedsCreateAlertPopup = true; // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1\n\n      EMAIL_ALERT_VARIATION = 0;\n      EMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION];\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser && !this.state.emailAlertEmailAddress) //update only if it has vals and emailAlertEmailAddress is empty.\n      this.setState({\n        emailAlertEmailAddress: nextProps.currentUser.profile.email\n      });\n  }\n\n  componentWillMount() {\n    if (Meteor.isClient) {\n      Session.set('showLoginDialog', false);\n      Session.set('showForgotForm', false);\n      Session.set('showLoginDialog', false);\n      Session.set('showLoginSignupFancyBoxDialog', false);\n      Session.set('showAddPropertyHeaderTemplate', false);\n      Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n      if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n    }\n\n    this.state = {\n      newAlertCreateForm: true,\n      newAlertCreatedSuccessfully: false\n    };\n    this.emailAlertCreateBtnHandler = this.emailAlertCreateBtnHandler.bind(this);\n    this.emailAlertNoThanksBtnHandler = this.emailAlertNoThanksBtnHandler.bind(this);\n  }\n\n  emailAlertCreateBtnHandler() {\n    console.log('emailAlertCreateBtnHandler');\n    let val = $('#emailAlertUserEmailAddress').val();\n    let validatedEmail = emailValidation(val);\n\n    if (validatedEmail !== true) {\n      alert('Invalid email, please enter a valid email address.');\n      $('#emailAlertUserEmailAddress').focus();\n      return;\n    }\n\n    this.subscribeToEmailAlert = function (error, result) {\n      if (error) {\n        console.log(error);\n        alert('Error: ' + error.reason);\n        $('#emailAlertUserEmailAddress').focus();\n        return;\n      } else {\n        createCookie('emailAlertAlreadyHasIt', 1, 365);\n        this.setState({\n          newAlertCreateForm: false,\n          newAlertCreatedSuccessfully: true\n        });\n        setTimeout(function () {\n          if ($) if ($.fancybox) $.fancybox.close();\n        }, 10000);\n      }\n    };\n\n    this.subscribeToEmailAlert = this.subscribeToEmailAlert.bind(this);\n    Meteor.call('subscribeToEmailAlert', val, this.subscribeToEmailAlert);\n    ga('send', 'event', 'emailAlert', 'Created Email Alert', 'Route name: ' + FlowRouter.current().route.name + ' Variation: ' + EMAIL_ALERT_VARIATION);\n  }\n\n  emailAlertNoThanksBtnHandler() {\n    console.log('emailAlertNoThanksBtnHandler');\n    createCookie('emailAlertNoThanks', 1, 365);\n\n    if (this.props.currentUser) {\n      Meteor.call('emailAlertsNoThanks');\n    }\n\n    if ($) if ($.fancybox) $.fancybox.close();\n  }\n\n  componentDidMount() {\n    $.getScript(cdnPath('/js/bootstrap.min.js'), function () {// console.log(\"Bootstrap loaded\")\n    }); // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n    //     console.log(\"Filestack loaded\")\n    // });\n\n    $.getScript(cdnPath('/plugins/fancybox/js/jquery.fancybox.min.js'), function () {\n      // script should be loaded and do something with it.\n      $('.fancybox').fancybox({\n        scrolling: 'no',\n        helpers: {\n          overlay: {\n            locked: true\n          }\n        }\n      });\n    });\n\n    if (Meteor.isClient) {\n      var fontsLoaded = Session.get('fontsLoaded');\n\n      if (!fontsLoaded) {\n        //Below code is taken from https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\n        var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n        if (raf) raf(function () {\n          window.setTimeout(loadFonts, 0);\n        });else window.addEventListener('load', loadFonts);\n      }\n    }\n\n    setTimeout(delayedFunctions, 1500);\n\n    if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n      setTimeout(function () {\n        decideAndShowCreateAlertPopup();\n      }, 10000);\n      var runOnlyOnce = false;\n      $(document).off('scroll').on('scroll', function () {\n        try {\n          let addon = 50;\n          if (FlowRouter.current().route.name == 'b') addon = 300;\n\n          if ($(this).scrollTop() >= $('.subscribeTillPopop').position().top - addon && !runOnlyOnce) {\n            runOnlyOnce = true;\n            decideAndShowCreateAlertPopup();\n          }\n        } catch (e) {}\n      });\n    }\n  }\n\n  showLoginDialogClick(event) {\n    showLoginDialog();\n  }\n\n  showSignupDialogClick(event) {\n    showSignupDialog();\n  }\n\n  logoutBtnClick(event) {\n    Meteor.logout(function (err) {\n      if (err) {\n        throw new Meteor.Error(\"Logout failed\");\n      }\n    });\n  }\n\n  profileBtnClick(event) {\n    FlowRouter.go('account/profile');\n  }\n\n  cookieConsentBtnClick(event) {\n    createCookie('cookieConsent', 1, 365);\n    $('.cookieConsentArea').remove();\n  }\n\n  emailAlertEmailAddressHandler(event) {\n    this.setState({\n      emailAlertEmailAddress: event.target.value\n    });\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.showCookieConsent ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"cookieConsentArea\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cookieConsentArea-inner\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left-menu text-center\",\n      style: {\n        color: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('cookiepolicy')\n    }, \" cookie policy \"), \".\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"green-btn btns cookieConsentBtn\",\n      onClick: self.cookieConsentBtnClick.bind(this),\n      type: \"button\",\n      style: {\n        marginLeft: 20\n      }\n    }, \"I understand\")))))) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n      className: \"header\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-icon-master\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-icon\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"menu-xs sprite\"\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/spot-my-crib-logo.png\"),\n      alt: \"SpotMyCrib\",\n      title: \"SpotMyCrib - Safe and easy rentals\",\n      className: \"logo-big\"\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/spotmycrib-logo-130.jpg\"),\n      alt: \"SpotMyCrib\",\n      title: \"SpotMyCrib - Safe and easy rentals\",\n      className: \"logo-xs\"\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus'),\n      className: \"btns green-btn addPropertyHeaderBtn\",\n      type: \"button\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-object-align-bottom\",\n      \"aria-hidden\": \"true\"\n    }), \" Advertise property\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"login-menu hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/myProperties')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-check\",\n      \"aria-hidden\": \"true\"\n    }), \" MY PROPERTIES\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"login-menu hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/profile')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-check\",\n      \"aria-hidden\": \"true\"\n    }), \" MY REFERENCES\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"login-menu hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: self.logoutBtnClick.bind(this),\n      className: \"logoutBtn\"\n    }, \"SIGN OUT\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-accounts\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.path('account/profile')\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"circular-icon profileBtn\",\n      src: this.props.getProfilePic,\n      width: \"40px\",\n      height: \"40px\"\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"logged-in-display-name profileBtn\"\n    }, this.props.displayName)))) : /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"oval logedout-menu\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"right-border showLoginDialog\",\n      onClick: self.showLoginDialogClick.bind(this),\n      href: \"javascript:;\"\n    }, \"SIGN IN\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      onClick: self.showSignupDialogClick.bind(this),\n      className: \"showSignupDialog\"\n    }, \"SIGN UP\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu visible-xs transition\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-close-icon text-right\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sprite xs-close\"\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"transition\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, \"HOME / SEARCH\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.path('account/profile')\n    }, \"MY REFERENCES\")) : \"\", /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus')\n    }, \"LIST PROPERTY\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.path('account/myProperties')\n    }, \"MY PROPERTIES\")) : \"\", /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('estateagent')\n    }, \"AGENTS/LANDLORDS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('howitworks')\n    }, \"HOW IT WORKS?\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('faqs')\n    }, \"FAQ\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus')\n    }, \"CONTACT US\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('careers')\n    }, \"CAREERS\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: self.logoutBtnClick.bind(this)\n    }, \"SIGN OUT\")) : \"\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"errorModel\",\n      className: \"alert alert-danger \",\n      style: {\n        display: 'none'\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"signin-div\",\n      className: \"signin1\",\n      style: {\n        display: 'none'\n      }\n    }, this.props.showLoginDialog ? /*#__PURE__*/React.createElement(LoginFormT, null) : \"\"), this.NeedsCreateAlertPopup ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"create-alert-popup\",\n      style: {\n        display: 'none'\n      },\n      className: \"verification-div1\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully ? /*#__PURE__*/React.createElement(\"h2\", null, EMAILALERT.heading) : \"\", this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"green-text\"\n    }, \"Well Done! Alert Created.\") : \"\"), this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text\",\n      style: {\n        textAlign: 'center',\n        margin: '10px 0px',\n        fontSize: '14px'\n      }\n    }, EMAILALERT.para), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form\",\n      action: \"javascript:void(0);\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-border\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter your email address\",\n      id: \"emailAlertUserEmailAddress\",\n      required: \"required\",\n      style: {\n        fontSize: '14px',\n        marginBottom: '10px !important',\n        borderBottom: 'none !important'\n      },\n      value: this.state.emailAlertEmailAddress,\n      onChange: this.emailAlertEmailAddressHandler\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.emailAlertCreateBtnHandler,\n      className: \"green-btn btns\",\n      type: \"submit\",\n      style: {\n        width: '100%',\n        marginTop: '10px'\n      }\n    }, EMAILALERT.yesButtonText))), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: this.emailAlertNoThanksBtnHandler,\n      className: 'noThanks'\n    }, \"No thanks, I'm happy to search myself\")) : \"\", this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text\",\n      style: {\n        textAlign: 'center',\n        margin: '10px 0px',\n        fontSize: '13px'\n      }\n    }, \"We will send you an email a day with new lettings. Be the first to apply for them. \"), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://giphy.com/embed/fxsqOYnIMEefC\",\n      frameBorder: 0,\n      className: \"giphy-embed\",\n      allowFullScreen: true,\n      style: {\n        width: '80%'\n      }\n    })) : \"\", false ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"green-text\",\n      style: {\n        textAlign: 'center',\n        margin: '10px 0px',\n        color: 'black'\n      }\n    }, \"You will now be notified of the new lettings in Dundrum of County Dubin.\"), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text mar-top-20\",\n      style: {\n        textAlign: 'center',\n        margin: '20px 0px 10px',\n\n        /* display: 'none', */\n        fontSize: '14px'\n      }\n    }, \"Your active alerts are\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\"\n    }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, \"County\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, \"Area\"), /*#__PURE__*/React.createElement(\"th\", null))), /*#__PURE__*/React.createElement(\"tbody\", {\n      style: {\n        color: '#8b8b8b',\n        fontSize: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Dublin\"), /*#__PURE__*/React.createElement(\"td\", null, \"All Areas\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\"))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Limrick\"), /*#__PURE__*/React.createElement(\"td\", null, \"City Center North\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\"))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Limrick\"), /*#__PURE__*/React.createElement(\"td\", null, \"Madison square\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\")))))) : \"\") : \"\");\n  }\n\n}\n\n;\nmodule.exportDefault(withTracker(() => {\n  var showCookieConsent = false;\n  var errorModel = false;\n  var showLoginDialog = false;\n\n  if (Meteor.isClient) {\n    if (Session.get('loginFlowComplete')) {\n      setTimeout(function () {\n        Session.set('loginFlowComplete', undefined);\n      }, 1000);\n    } ///////////////////// errorModel start\n\n\n    var tmp = Session.get(\"showErrorDlg\");\n    if (!tmp) tmp = [];\n    if (tmp) if (tmp.length) {\n      var timeoutVal = 0;\n      if (!$.fancybox) timeoutVal = 3000;\n      let tmpHTML = '';\n\n      for (let j = 0; j < tmp.length; j++) {\n        tmpHTML += '<p>' + tmp[j] + '</p>';\n      }\n\n      $('#errorModel').html(tmpHTML);\n      setTimeout(function () {\n        $.fancybox({\n          'padding': 0,\n          'href': '#errorModel',\n          // afterShow:function(template){\n          //     setTimeout(function () {\n          //         $.fancybox.close();\n          //     },3000)\n          // },\n          afterClose: function () {\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.shift();\n            Session.set(\"showErrorDlg\", tmp);\n          }\n        });\n      }, timeoutVal);\n    } ///////////////////// showLoginDialog start\n\n    if (Session.get('showLoginSignupFancyBoxDialog')) {\n      showLoginPopup();\n    } else {\n      if ($) if ($.fancybox) $.fancybox.close();\n    } ///////////////////// showCreateAlertPopup start\n\n\n    if (Session.get('showCreateAlertPopup')) {\n      showCreateAlertPopup();\n    } // else {//No need for any control over its closing.\n    //     if ($)\n    //         if ($.fancybox)\n    //             $.fancybox.close();\n    // }\n\n\n    showCookieConsent = !parseInt(readCookie('cookieConsent'));\n    errorModel = Session.get(\"showErrorDlg\");\n    showLoginDialog = Session.get(\"showLoginDialog\");\n  }\n\n  var user = Meteor.user(); ///////////////////// displayName start\n\n  var displayName = \"Guest\";\n\n  try {\n    if (user) {\n      if (user.profile && user.profile.name) {\n        displayName = user.profile.name;\n      }\n    }\n  } catch (e) {} ///////////////////// getProfilePic start\n\n\n  var getProfilePic = cdnPath(\"/images/user-img.png\");\n\n  try {\n    if (user.profile.picture) {\n      if (user.services.facebook) if (user.services.facebook.indexOf('?width=40') == -1) getProfilePic = user.profile.picture + \"?width=40\"; //@BCompatibility : adding ?width=40 to it\n\n      getProfilePic = user.profile.picture;\n    }\n  } catch (e) {}\n\n  return {\n    showCookieConsent: showCookieConsent,\n    currentUserId: Meteor.userId(),\n    errorModel: errorModel,\n    showLoginDialog: showLoginDialog,\n    displayName: displayName,\n    currentUser: Meteor.user()\n  };\n})(MainLayoutHeader));\n\nclass LoginFormMessages extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.messages ? /*#__PURE__*/React.createElement(\"div\", null, this.props.messages.info ? this.props.messages.info.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert alert-info\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-info-sign\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\", this.props.messages.warning ? this.props.messages.warning.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert alert-warning\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-warning-sign\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\", this.props.messages.success ? this.props.messages.success.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert success\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-ok\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\", this.props.messages.errors ? this.props.messages.errors.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert alert-danger\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-exclamation-sign\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\") : \"\");\n  }\n\n}\n\n;\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showForgotForm: props.showForgotForm ? true : false,\n      showSignupForm: props.showSignupForm ? true : false,\n      isLandLordMode: props.isLandLordMode ? true : false,\n      loginFromApplyNowBtn: props.loginFromApplyNowBtn ? true : false\n    };\n  }\n\n  showForgotFormHandler() {\n    this.setState({\n      showForgotForm: true\n    });\n    this.setState({\n      showSignupForm: false\n    });\n    this.setState({\n      isLandLordMode: false\n    });\n  }\n\n  showSignupFormHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n    this.setState({\n      showSignupForm: true\n    });\n    this.setState({\n      isLandLordMode: false\n    });\n  }\n\n  showSignInFormHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n    this.setState({\n      showSignupForm: false\n    });\n    this.setState({\n      isLandLordMode: false\n    });\n  }\n\n  showLandlordViewHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n    this.setState({\n      showSignupForm: true\n    });\n    this.setState({\n      isLandLordMode: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginForm\"\n    }, this.state.showForgotForm ? /*#__PURE__*/React.createElement(LoginFormResetPasswordView, {\n      onPage: false,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : this.state.showSignupForm ? this.state.isLandLordMode ? /*#__PURE__*/React.createElement(LoginFormSignUpViewLandlord, {\n      onPage: false,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : /*#__PURE__*/React.createElement(LoginFormSignUpView, {\n      loginFromApplyNowBtn: this.state.loginFromApplyNowBtn,\n      onPage: false,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : /*#__PURE__*/React.createElement(LoginFormSignInView, {\n      loginFromApplyNowBtn: this.state.loginFromApplyNowBtn,\n      onPage: false,\n      showSignupFormHandler: this.showSignupFormHandler.bind(this),\n      showForgotFormHandler: this.showForgotFormHandler.bind(this)\n    }));\n  }\n\n}\n\n;\nmodule.runSetters(LoginFormT = withTracker(() => {\n  var ret = {};\n\n  if (Meteor.isClient) {\n    ret.showSignupForm = Session.get('showSignupForm');\n    ret.showForgotForm = Session.get('showForgotForm');\n    ret.isLandLordMode = Session.get('isLandLordMode');\n    ret.loginFromApplyNowBtn = Session.get('loginFromApplyNowBtn');\n  }\n\n  return ret;\n})(LoginForm));\n\nclass LoginPage extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom\"\n    }, /*#__PURE__*/React.createElement(LoginFormT, null)))));\n  }\n\n}\n\n;\n\nclass SocialLoginButtons extends Component {\n  componentWillMount() {\n    if (Meteor.isClient) {\n      Session.set('loginFlowStart', true);\n      Session.set('loginFlowComplete', undefined);\n      delete Session.keys.loginFlowComplete;\n    }\n\n    this.state = {\n      errorMessages: {}\n    };\n    this.dontShow = true;\n    this.buttonForText = '';\n\n    switch (this.props.buttonFor) {\n      case 'login':\n        this.buttonForText = 'Login';\n        break;\n\n      case 'signup':\n        this.buttonForText = 'Signup';\n        break;\n\n      default:\n        this.buttonForText = 'Login / Signup';\n    }\n\n    this.handleFBLogin = this.handleFBLogin.bind(this);\n    this.handleTwitterLogin = this.handleTwitterLogin.bind(this);\n    this.handleGoogleLogin = this.handleGoogleLogin.bind(this);\n    this.handleLinkedInLogin = this.handleLinkedInLogin.bind(this);\n  }\n\n  handleFBLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.FBCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'FBUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'FB Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'FBUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'FB Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'FBUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'FB LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Facebook failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.FBCallback = this.FBCallback.bind(this);\n    Meteor.loginWithFacebook({}, this.FBCallback);\n  }\n\n  handleTwitterLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.TwitterCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'TwitterUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'TwitterUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'TwitterUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Twitter LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Twitter failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.TwitterCallback = this.TwitterCallback.bind(this);\n    Meteor.loginWithTwitter({}, this.TwitterCallback);\n  }\n\n  handleGoogleLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.GoogleCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'GoogleUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Google Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'GoogleUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Google Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'GoogleUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Google LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Google failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.GoogleCallback = this.GoogleCallback.bind(this);\n    Meteor.loginWithGoogle({}, this.GoogleCallback);\n  }\n\n  handleLinkedInLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.LinkedInCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'LinkedInUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'LinkedInUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'LinkedInUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with LinkedIn failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.LinkedInCallback = this.LinkedInCallback.bind(this);\n    Meteor.loginWithLinkedIn({}, this.LinkedInCallback);\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleFBLogin,\n      id: \"facebook-login\",\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, this.buttonForText, \" with Facebook\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleTwitterLogin,\n      id: \"twitter-login\",\n      style: {\n        marginTop: '10px'\n      },\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, this.buttonForText, \" with Twitter\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleGoogleLogin,\n      id: \"google-login\",\n      style: {\n        marginTop: '10px'\n      },\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, this.buttonForText, \" with Google\"), this.dontShow ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleLinkedInLogin,\n      id: \"linkedin-login\",\n      style: {\n        marginTop: '10px'\n      },\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, \"Login with LinkedIn\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(LoginFormMessages, {\n      messages: this.state.errorMessages\n    }), /*#__PURE__*/React.createElement(\"br\", null));\n  }\n\n}\n\n;\nmodule.runSetters(SocialLoginButtonsT = withTracker(() => {\n  var ret = {};\n\n  if (Meteor.isClient) {\n    ret.showSignupForm = Session.get('showSignupForm');\n    ret.showForgotForm = Session.get('showForgotForm');\n  }\n\n  ret.user = Meteor.user();\n  return ret;\n})(SocialLoginButtons));\n\nclass LoginFormHorizontal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showForgotForm: props.showForgotForm ? true : false,\n      isLandLordMode: props.isLandLordMode ? true : false\n    };\n  }\n\n  showForgotFormHandler() {\n    this.setState({\n      showForgotForm: true\n    });\n  }\n\n  showSignInFormHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.user) Session.set('loginFlowComplete', true); //todo: check this\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginForm onpageSignin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(SocialLoginButtonsT, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-center\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-12\"\n    }, this.state.showForgotForm ? /*#__PURE__*/React.createElement(LoginFormResetPasswordView, {\n      onPage: true,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : /*#__PURE__*/React.createElement(LoginFormSignInView, {\n      onPage: true,\n      showForgotFormHandler: this.showForgotFormHandler.bind(this)\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-12\"\n    }, this.state.isLandLordMode ? /*#__PURE__*/React.createElement(LoginFormSignUpViewLandlord, {\n      onPage: true\n    }) : /*#__PURE__*/React.createElement(LoginFormSignUpView, {\n      onPage: true\n    }))));\n  }\n\n}\n\n;\nmodule.runSetters(LoginFormHorizontalT = withTracker(() => {\n  var ret = {};\n  ret.user = Meteor.user();\n  return ret;\n})(LoginFormHorizontal));\n\nclass LoginPageHorizontal extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom\"\n    }, /*#__PURE__*/React.createElement(LoginFormHorizontalT, null)))));\n  }\n\n}\n\n;","map":{"version":3,"sources":["imports/reactui/layout/MainLayoutHeader.jsx"],"names":["module","export","LoginFormHorizontalT","SocialLoginButtonsT","LoginPage","LoginPageHorizontal","LoginFormT","LoginFormMessages","Meteor","link","v","React","Component","default","withTracker","LoginFormSignInView","LoginFormSignUpView","LoginFormSignUpViewLandlord","LoginFormResetPasswordView","emailAlerts","heading","para","yesButtonText","EMAIL_ALERT_VARIATION_count","EMAIL_ALERT_VARIATION","EMAILALERT","isMobileMenuEventAttached","delayedFunctions","$","document","unbind","bind","e","hasClass","target","closest","length","FlowRouter","current","route","name","addClass","removeClass","setTimeout","showLoginDialog","Session","set","showSignupDialog","showLoginPopup","fancybox","afterClose","template","console","log","emailValidation","email","trim","re","test","error","reason","decideAndShowCreateAlertPopup","showAlertCreate","saidNo","parseInt","readCookie","c","on","tmp","Date","now","user","profile","emailAlertsActive","emailAlertsNoThanks","showCreateAlertPopup","includes","isNaN","createCookie","afterShow","focus","ga","showAddPropertyHeaderPopup","value","days","expires","date","setTime","getTime","toUTCString","cookie","nameEQ","ca","split","i","charAt","substring","indexOf","eraseCookie","loadFonts","wf","createElement","href","cdnPath","rel","async","s","getElementsByTagName","parentNode","insertBefore","MainLayoutHeader","constructor","props","state","emailAlertEmailAddress","currentUser","emailAlertEmailAddressHandler","NeedsCreateAlertPopup","componentWillReceiveProps","nextProps","setState","componentWillMount","isClient","get","newAlertCreateForm","newAlertCreatedSuccessfully","emailAlertCreateBtnHandler","emailAlertNoThanksBtnHandler","val","validatedEmail","alert","subscribeToEmailAlert","result","close","call","componentDidMount","getScript","scrolling","helpers","overlay","locked","fontsLoaded","raf","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","addEventListener","runOnlyOnce","off","addon","scrollTop","position","top","showLoginDialogClick","event","showSignupDialogClick","logoutBtnClick","logout","err","Error","profileBtnClick","go","cookieConsentBtnClick","remove","render","self","showCookieConsent","color","url","marginLeft","currentUserId","path","getProfilePic","displayName","display","textAlign","margin","fontSize","marginBottom","borderBottom","width","marginTop","exportDefault","errorModel","undefined","timeoutVal","tmpHTML","j","html","shift","picture","services","facebook","userId","messages","info","map","item","warning","success","errors","LoginForm","showForgotForm","showSignupForm","isLandLordMode","loginFromApplyNowBtn","showForgotFormHandler","showSignupFormHandler","showSignInFormHandler","showLandlordViewHandler","ret","SocialLoginButtons","keys","loginFlowComplete","errorMessages","dontShow","buttonForText","buttonFor","handleFBLogin","handleTwitterLogin","handleGoogleLogin","handleLinkedInLogin","FBCallback","fbq","msg","errorType","message","push","usedInDlg","loginFlowStart","loginWithFacebook","TwitterCallback","loginWithTwitter","GoogleCallback","loginWithGoogle","LinkedInCallback","loginWithLinkedIn","LoginFormHorizontal"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport {LoginFormSignInView,LoginFormSignUpView,LoginFormSignUpViewLandlord,LoginFormResetPasswordView  } from './LoginFormViews.jsx'\n\nemailAlerts = [\n    // {\n    //     heading: 'OH, HEY!',\n    //     para: 'Get your dream place sooner without even searching for it! Sign up for our emails and we will send you the latest properties of your choice',\n    //     yesButtonText: \"Awesome 🤘👍\"\n    // },\n    {\n        heading: 'Always First.',\n        para: 'Be the first to hear about the latest lettings in your area. Signup for our email alerts.',\n        yesButtonText: \"HELL YES!\"\n    }\n    // ,\n    // {\n    //     heading: 'Get Notified.',\n    //     para: 'Get your rental soon by signing up for our email alerts. Be the first one to know when a letting is posted.',\n    //     yesButtonText: \"Okays! Sign me up. :)\"\n    // }\n]\nEMAIL_ALERT_VARIATION_count = 2;\n// EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1, 2\nEMAIL_ALERT_VARIATION = 0;//Keeping only 1 variation.\nEMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION]\nisMobileMenuEventAttached = false;\nfunction delayedFunctions() {\n    // if(!isMobileMenuEventAttached) {\n        $(document).unbind('click').bind('click',function (e) {\n            if (!$('.xs-menu').hasClass('slide-right')) {//Its not open\n                if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n                    if(FlowRouter.current().route.name=='home')\n                        $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n                    $('.xs-menu').addClass('slide-right');\n                    return true;\n                } else return true\n            } else {//Its open\n                if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n                    $('.xs-menu').removeClass('slide-right')\n                    if(FlowRouter.current().route.name=='home')\n                        setTimeout(function(){\n                            if(FlowRouter.current().route.name=='home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n                        },250);\n                    return true;\n                }\n            }\n        });\n        // isMobileMenuEventAttached = true;\n    // }\n\n}\nfunction showLoginDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',false)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showSignupDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',true)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showLoginPopup(){\n    // let doesDivStillExists = $('#signin-div').html()\n    // if( doesDivStillExists != \"\" ){//To prevent home page dialogs\n        $.fancybox({\n            'padding': 0,\n            'href': '#signin-div',\n            afterClose:function(template){\n                console.log(template);\n                //template.showLoginDialog.set(false);\n                Session.set('isLandLordMode',false)\n                Session.set('showLoginDialog',false)\n                Session.set('showLoginSignupFancyBoxDialog',false)\n                Session.set('loginFromApplyNowBtn',false)\n\n            }\n        })\n}\nfunction emailValidation(email) {\n\n    email = email.trim();\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    // Valid\n    if( re.test(email) ){\n        return true;\n    }\n\n    // Invalid\n    return {\n        error: \"INVALID_EMAIL\",\n        reason: \"Please enter a valid email address in format pat@gmail.com\",\n    };\n\n}\nfunction decideAndShowCreateAlertPopup(){\n    // console.log(\"Apply decideAndShowCreateAlertPopup\")\n    let showAlertCreate = true;\n    \n    let saidNo = parseInt(readCookie('emailAlertNoThanks')) ;\n    if(!saidNo){\n        let c = parseInt(readCookie('emailAlertShowedCount')) ;\n        let on = parseInt(readCookie('emailAlertShowedOnTime')) ;\n        let tmp = (Date.now() - on) / 60000 ;// time in mins\n        // console.log('Time is: '+tmp);\n        if(c > 1 ){\n            if( tmp < 2 )showAlertCreate = false; //its not even 2mns since last popup show, so wait\n        }\n        if(c > 2 ){\n            if( tmp < 2 )showAlertCreate = false; //its not even 2mns since last popup show, so wait\n        }\n        if(c > 3 ){\n            if( tmp < 3 )showAlertCreate = false; //its not even 3mns since last popup show, so wait\n        }\n        if(c > 4 ){\n            if( tmp < 6 )showAlertCreate = false; //its not even 6mns since last popup show, so wait\n        }\n        if(c > 5 ){\n            if( tmp < 12 )showAlertCreate = false; //its not even 12mns since last popup show, so wait\n        }\n    }\n    let user = Meteor.user();\n    if(user){\n        if(user.profile.emailAlertsActive || user.profile.emailAlertsNoThanks) showAlertCreate = false; // he already has alerts or he said no to them.\n    }\n    if(parseInt(readCookie('emailAlertAlreadyHasIt')) || parseInt(readCookie('emailAlertNoThanks')) ) showAlertCreate = false; // He already has alerts or He already said no\n    //you don't need above fallback because this function is called only after 3-5 sec , by then user subscription must be loaded.\n    // console.log(\"decision: \"+showAlertCreate)\n    if(showAlertCreate){\n        showCreateAlertPopup();\n    }\n}\nfunction showCreateAlertPopup(){\n    if ( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n    let c = parseInt(readCookie('emailAlertShowedCount')) ;\n    c= parseInt(c);\n    if(isNaN(c))c = 1;\n    else {\n        c++;\n    }\n    createCookie('emailAlertShowedCount',c,5)\n    createCookie('emailAlertShowedOnTime',Date.now(),5)\n\n    $.fancybox({\n        'padding': 0,\n        'href': '#create-alert-popup',\n        afterShow:function(){\n            $('#emailAlertUserEmailAddress').focus();\n            ga('send', 'event', 'emailAlert', 'Show Email Alert', 'Route name: '+FlowRouter.current().route.name+' Variation: '+EMAIL_ALERT_VARIATION);\n        },\n        afterClose:function(){\n            Session.set('showCreateAlertPopup',false)\n        }\n    })\n    }\n}\nfunction showAddPropertyHeaderPopup(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#addPropertyHeader-div',\n\n        afterClose:function(template){\n            //console.log(template);\n            Session.set('showAddPropertyHeaderTemplate',false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog',false)\n\n        }\n    })\n}\nfunction createCookie(name,value,days) {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\nfunction readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\nfunction eraseCookie(name) {\n    createCookie(name,\"\",-1);\n}\nfunction loadFonts(){\n    (function() {\n        var wf = document.createElement('link');\n        wf.href = cdnPath('/fonts/Montserrat/stylesheet.css');\n        wf.rel = 'stylesheet';\n        wf.async = 'true';//link doesnt support async\n        var s = document.getElementsByTagName('link')[0];\n        s.parentNode.insertBefore(wf, s);\n\n        Session.set('fontsLoaded',true);\n\n        // var wf = document.createElement('script');\n        // wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';\n        // wf.type = 'text/javascript';\n        // wf.async = 'true';\n        // var s = document.getElementsByTagName('script')[0];\n        // s.parentNode.insertBefore(wf, s);\n    })();\n}\n\nclass MainLayoutHeader extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            emailAlertEmailAddress : this.props.currentUser ? this.props.currentUser.profile.email : \"\"\n        };\n        this.emailAlertEmailAddressHandler = this.emailAlertEmailAddressHandler.bind(this);\n        this.NeedsCreateAlertPopup = false;\n        if( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n            this.NeedsCreateAlertPopup = true;\n            // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1\n            EMAIL_ALERT_VARIATION = 0;\n            EMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION]\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.currentUser && !this.state.emailAlertEmailAddress)//update only if it has vals and emailAlertEmailAddress is empty.\n            this.setState({emailAlertEmailAddress: nextProps.currentUser.profile.email })\n    }\n    componentWillMount(){\n        if(Meteor.isClient) {\n            Session.set('showLoginDialog', false)\n            Session.set('showForgotForm', false)\n            Session.set('showLoginDialog', false)\n            Session.set('showLoginSignupFancyBoxDialog', false)\n            Session.set('showAddPropertyHeaderTemplate', false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog', false)\n            if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n        }\n        this.state = {\n            newAlertCreateForm:true,\n            newAlertCreatedSuccessfully:false\n        }\n        this.emailAlertCreateBtnHandler = this.emailAlertCreateBtnHandler.bind(this)\n        this.emailAlertNoThanksBtnHandler = this.emailAlertNoThanksBtnHandler.bind(this)\n    }\n    emailAlertCreateBtnHandler(){\n        console.log('emailAlertCreateBtnHandler')\n        let val = $('#emailAlertUserEmailAddress').val();\n        let validatedEmail = emailValidation(val);\n        if(validatedEmail !== true){\n            alert('Invalid email, please enter a valid email address.');\n            $('#emailAlertUserEmailAddress').focus();\n            return;\n        }\n        this.subscribeToEmailAlert = function(error, result){\n            if(error){\n                console.log(error);\n                alert('Error: '+error.reason);\n                $('#emailAlertUserEmailAddress').focus();\n                return;\n            }else{\n                createCookie('emailAlertAlreadyHasIt',1,365)\n                this.setState({newAlertCreateForm:false,newAlertCreatedSuccessfully:true})\n                setTimeout(function () {\n                    if ($)\n                        if ($.fancybox)\n                            $.fancybox.close();\n                },10000)\n            }\n        }\n        this.subscribeToEmailAlert = this.subscribeToEmailAlert.bind(this);\n        Meteor.call('subscribeToEmailAlert',val,this.subscribeToEmailAlert);\n\n        ga('send', 'event', 'emailAlert', 'Created Email Alert', 'Route name: '+FlowRouter.current().route.name+' Variation: '+EMAIL_ALERT_VARIATION);\n    }\n    emailAlertNoThanksBtnHandler(){\n        console.log('emailAlertNoThanksBtnHandler')\n        createCookie('emailAlertNoThanks',1,365)\n        if(this.props.currentUser){\n            Meteor.call('emailAlertsNoThanks');\n        }\n        if ($)\n            if ($.fancybox)\n                $.fancybox.close();\n    }\n    componentDidMount(){\n        $.getScript(cdnPath('/js/bootstrap.min.js'), function(){\n            // console.log(\"Bootstrap loaded\")\n        });\n        // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n        //     console.log(\"Filestack loaded\")\n        // });\n\n        $.getScript(cdnPath('/plugins/fancybox/js/jquery.fancybox.min.js'), function(){\n            // script should be loaded and do something with it.\n            $('.fancybox').fancybox({\n                scrolling:'no',\n                helpers: {\n                    overlay: {\n                        locked: true\n                    }\n                }\n            })\n        });\n        if(Meteor.isClient){\n            var fontsLoaded = Session.get('fontsLoaded');\n            if(!fontsLoaded) {\n                //Below code is taken from https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\n                var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                    window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n                if (raf) raf(function() { window.setTimeout(loadFonts, 0); });\n                else window.addEventListener('load', loadFonts);\n            }\n        }\n        setTimeout(delayedFunctions,1500)\n        if( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n            setTimeout(function(){\n                decideAndShowCreateAlertPopup();\n            },10000)\n            var runOnlyOnce = false;\n            $(document).off('scroll').on('scroll', function() {\n                try{\n                    let addon = 50; if(FlowRouter.current().route.name == 'b')addon = 300;\n                    if($(this).scrollTop()>=($('.subscribeTillPopop').position().top - addon) && !runOnlyOnce ){\n                        runOnlyOnce = true;\n                        decideAndShowCreateAlertPopup();\n                    }\n                }catch(e){}\n            })\n        }\n    }\n\n    showLoginDialogClick(event){\n        showLoginDialog();\n    }\n    showSignupDialogClick(event){\n        showSignupDialog();\n    }\n    logoutBtnClick(event){\n        Meteor.logout(function(err){\n            if (err) {\n                throw new Meteor.Error(\"Logout failed\");\n            }\n        })\n    }\n    profileBtnClick(event){\n        FlowRouter.go('account/profile');\n    }\n    cookieConsentBtnClick(event){\n        createCookie('cookieConsent',1,365);\n        $('.cookieConsentArea').remove();\n    }\n    emailAlertEmailAddressHandler(event){\n        this.setState({emailAlertEmailAddress:event.target.value})\n    }\n\n    render() {\n        const self = this;\n        return (\n<div>\n    { this.props.showCookieConsent ?\n    <section className=\"cookieConsentArea\">\n        <div className=\"container\">\n            <div className=\"cookieConsentArea-inner\">\n                <div className=\"left-menu text-center\" style={{color: 'white'}}><p>  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  <a href={FlowRouter.url('cookiepolicy')}> cookie policy </a>.<button className=\"green-btn btns cookieConsentBtn\" onClick={self.cookieConsentBtnClick.bind(this)} type=\"button\" style={{marginLeft: 20}}>I understand</button></p>\n            </div>\n        </div>\n    </div>\n</section>\n: \"\"}\n<section className=\"header\">\n    <div className=\"container\">\n        <div className=\"logo-holder-div\">\n            <div className=\"xs-menu-icon-master\"><div className=\"xs-menu-icon\">\n                    <span className=\"menu-xs sprite\" />\n            </div></div>\n                <div className=\"logo-holder\">\n                    <a href={FlowRouter.url('home')}>\n                        <img src={cdnPath(\"/images/spot-my-crib-logo.png\")} alt=\"SpotMyCrib\" title=\"SpotMyCrib - Safe and easy rentals\" className=\"logo-big\" />\n                        <img src={cdnPath(\"/images/spotmycrib-logo-130.jpg\")} alt=\"SpotMyCrib\" title=\"SpotMyCrib - Safe and easy rentals\" className=\"logo-xs\" />\n                    </a>\n                </div>\n                <div className=\"menu\">\n                    <ul>\n                        <li className=\"hidden-xs\"><a href={FlowRouter.url('advertisewithus')} className=\"btns green-btn addPropertyHeaderBtn\" type=\"button\"><span className=\"glyphicon glyphicon-object-align-bottom\" aria-hidden=\"true\" /> Advertise property</a></li>\n                        \n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\">\n                                <a href={FlowRouter.url('account/myProperties')}>\n                                    <span className=\"glyphicon glyphicon-check\" aria-hidden=\"true\"/> MY PROPERTIES\n                                </a>\n                            </li>\n                            : \"\"}\n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\">\n                                <a href={FlowRouter.url('account/profile')}>\n                                    <span className=\"glyphicon glyphicon-check\" aria-hidden=\"true\"/> MY REFERENCES\n                                </a>\n                            </li>\n                        : \"\"}\n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\"><a href=\"javascript:void(0);\" onClick={self.logoutBtnClick.bind(this)} className=\"logoutBtn\">SIGN OUT</a></li>\n                        : \"\"}\n                        { this.props.currentUserId ?\n                            <li>\n                                <div className=\"navbar-accounts\">\n                                    <a href={FlowRouter.path('account/profile')}>\n                                        <img className=\"circular-icon profileBtn\" src={this.props.getProfilePic} width=\"40px\" height=\"40px\" />\n                                        <span id=\"logged-in-display-name profileBtn\">\n                                                        {this.props.displayName}\n                                        </span>\n                                    </a>\n                                </div>\n                            </li>\n                            :\n                            <ul className=\"oval logedout-menu\">\n                                <li><a className=\"right-border showLoginDialog\" onClick={self.showLoginDialogClick.bind(this)} href=\"javascript:;\">SIGN IN</a></li>\n                                <li><a href=\"javascript:;\" onClick={self.showSignupDialogClick.bind(this)} className=\"showSignupDialog\">SIGN UP</a></li>\n                            </ul>\n                        }\n                    </ul>\n                </div>\n                        <div className=\"xs-menu visible-xs transition\">\n                            <div className=\"xs-menu-close-icon text-right\">\n                                <span className=\"sprite xs-close\" />\n                                </div>\n                                <ul className=\"transition\">\n                                    <li><a href={FlowRouter.url('home')}>HOME / SEARCH</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href={FlowRouter.path('account/profile')}>MY REFERENCES</a></li>\n                                        : \"\"\n                                    }\n                                    <li><a href={FlowRouter.url('advertisewithus')}>LIST PROPERTY</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href={FlowRouter.path('account/myProperties')}>MY PROPERTIES</a></li>\n                                        : \"\"\n                                    }\n                                    <li><a href={FlowRouter.url('estateagent')}>AGENTS/LANDLORDS</a></li>\n                                    <li><a href={FlowRouter.url('howitworks')}>HOW IT WORKS?</a></li>\n                                    <li><a href={FlowRouter.url('faqs')}>FAQ</a></li>\n                                    <li><a href={FlowRouter.url('contactus')}>CONTACT US</a></li>\n                                    <li><a href={FlowRouter.url('careers')}>CAREERS</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href=\"javascript:void(0);\" onClick={self.logoutBtnClick.bind(this)}>SIGN OUT</a></li>\n                                        : \"\"\n                                    }\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n\n                <div id=\"errorModel\" className=\"alert alert-danger \" style={{display: 'none'}}></div>\n                <div id=\"signin-div\" className=\"signin1\" style={{display: 'none'}}>\n                    {this.props.showLoginDialog ? <LoginFormT/> : \"\" }\n                </div>\n    {this.NeedsCreateAlertPopup ? (\n                <div id=\"create-alert-popup\" style={{display: 'none'}} className={\"verification-div1\"}>\n                    <div className=\"refund-div\">\n                        {this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully  ? (<h2>{EMAILALERT.heading}</h2>) : \"\"}\n                        {this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? (<h2 className=\"green-text\">Well Done! Alert Created.</h2>) : \"\"}\n                    </div>\n                    {this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully  ? (\n                        <div className=\"profile-text\">\n                            <p className=\"color-text\"\n                               style={{textAlign: 'center', margin: '10px 0px', fontSize: '14px'}}>{EMAILALERT.para}</p>\n                            <hr/>\n                            <form className=\"signin-form\" action=\"javascript:void(0);\">\n\n                                <div className=\"form-border\">\n                                    <div className=\"styled-input\"><input type=\"text\"\n                                                                         placeholder=\"Enter your email address\" id=\"emailAlertUserEmailAddress\"\n                                                                         required=\"required\" style={{\n                                        fontSize: '14px',\n                                        marginBottom: '10px !important', borderBottom: 'none !important'\n                                    }} value={this.state.emailAlertEmailAddress} onChange={this.emailAlertEmailAddressHandler}/></div>\n                                </div>\n\n                                <div className=\"signup-btn\">\n                                    <button onClick={this.emailAlertCreateBtnHandler} className=\"green-btn btns\" type=\"submit\" style={{width: '100%', marginTop: '10px'}}>\n                                        {EMAILALERT.yesButtonText}\n                                    </button>\n                                </div>\n                            </form>\n                            <a href=\"javascript:void(0)\" onClick={this.emailAlertNoThanksBtnHandler} className={'noThanks'}>No thanks, I'm happy to search myself</a>\n                        </div>\n                    ) : \"\"}\n                    {this.state.newAlertCreatedSuccessfully  && !this.state.newAlertCreateForm ? (\n                        <div className=\"profile-text\">\n                            {/*<p style={{color: '#ccac4c', paddingBottom: 0}}>Well Done! </p>*/}\n                            <p className=\"color-text\" style={{textAlign: 'center', margin: '10px 0px', fontSize: '13px'}}>We will\n                                send you an email a day with new lettings. Be the first to apply for them. </p>\n                            <iframe src=\"https://giphy.com/embed/fxsqOYnIMEefC\" frameBorder={0} className=\"giphy-embed\"\n                                    allowFullScreen style={{width: '80%'}}/>\n                        </div>\n                    ) : \"\"}\n                    {false ? (\n                        <div className=\"profile-text\">\n                            <p className=\"green-text\" style={{textAlign: 'center', margin: '10px 0px', color: 'black'}}>\n                                You will now be notified of the new lettings in Dundrum of County Dubin.\n                            </p>\n                            <hr/>\n                            <p className=\"color-text mar-top-20\" style={{\n                                textAlign: 'center',\n                                margin: '20px 0px 10px', /* display: 'none', */\n                                fontSize: '14px'\n                            }}>Your active alerts are</p>\n                            <table className=\"table table-bordered\">\n                                <thead>\n                                <tr>\n                                    <th style={{textAlign: 'center'}}>County</th>\n                                    <th style={{textAlign: 'center'}}>Area</th>\n                                    <th/>\n                                </tr>\n                                </thead>\n                                <tbody style={{color: '#8b8b8b', fontSize: '14px'}}>\n                                <tr>\n                                    <td>Dublin</td>\n                                    <td>All Areas</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                <tr>\n                                    <td>Limrick</td>\n                                    <td>City Center North</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                <tr>\n                                    <td>Limrick</td>\n                                    <td>Madison square</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    ) : \"\"}\n                </div>\n    ) : \"\"}\n\n            </div>\n\n        );\n        }\n};\nexport default withTracker(() => {\n\n    var showCookieConsent = false;\n    var errorModel = false;\n    var showLoginDialog = false;\n    if(Meteor.isClient) {\n        if (Session.get('loginFlowComplete')) {\n            setTimeout(function () {\n                Session.set('loginFlowComplete', undefined);\n            }, 1000)\n        }\n\n        ///////////////////// errorModel start\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        if (tmp)\n            if (tmp.length) {\n                var timeoutVal = 0;\n                if (!$.fancybox) timeoutVal = 3000;\n                let tmpHTML = ''\n                for(let j=0;j<tmp.length;j++){\n                    tmpHTML += '<p>'+tmp[j]+'</p>'\n                }\n                $('#errorModel').html(tmpHTML);\n                setTimeout(function () {\n                    $.fancybox({\n                        'padding': 0,\n                        'href': '#errorModel',\n                        // afterShow:function(template){\n                        //     setTimeout(function () {\n                        //         $.fancybox.close();\n                        //     },3000)\n                        // },\n                        afterClose: function () {\n                            var tmp = Session.get(\"showErrorDlg\");\n                            if (!tmp) tmp = [];\n                            tmp.shift();\n                            Session.set(\"showErrorDlg\", tmp)\n                        }\n                    })\n                }, timeoutVal)\n\n            }\n        ///////////////////// showLoginDialog start\n        if (Session.get('showLoginSignupFancyBoxDialog')) {\n            showLoginPopup()\n        } else {\n            if ($)\n                if ($.fancybox)\n                    $.fancybox.close();\n        }\n        ///////////////////// showCreateAlertPopup start\n        if (Session.get('showCreateAlertPopup')) {\n            showCreateAlertPopup();\n        }\n        // else {//No need for any control over its closing.\n        //     if ($)\n        //         if ($.fancybox)\n        //             $.fancybox.close();\n        // }\n\n        showCookieConsent = !parseInt(readCookie('cookieConsent'))\n        errorModel= Session.get(\"showErrorDlg\")\n        showLoginDialog= Session.get(\"showLoginDialog\")\n    }\n\n    var user= Meteor.user();\n    ///////////////////// displayName start\n    var displayName = \"Guest\";\n    try{\n        if (user) {\n            if (user.profile && user.profile.name) {\n                displayName = user.profile.name;\n            }\n        }\n    }catch (e){}\n    ///////////////////// getProfilePic start\n    var getProfilePic = cdnPath(\"/images/user-img.png\");\n    try{\n        if (user.profile.picture)\n        {\n            if(user.services.facebook)\n                if(user.services.facebook.indexOf('?width=40')==-1)\n                    getProfilePic = user.profile.picture+\"?width=40\"; //@BCompatibility : adding ?width=40 to it\n\n            getProfilePic = user.profile.picture;\n        }\n    }catch (e){}\n\n\n    return {\n        showCookieConsent: showCookieConsent,\n        currentUserId: Meteor.userId(),\n        errorModel: errorModel,\n        showLoginDialog: showLoginDialog,\n        displayName: displayName,\n        currentUser: Meteor.user(),\n    };\n})(MainLayoutHeader);\n\nclass LoginFormMessages extends Component {\n    render() {\n        return (\n            <div>\n                { this.props.messages ?\n                    (\n                        <div>\n                        {this.props.messages.info ?\n                            this.props.messages.info.map((item, i) => {\n                                return (\n                                    <div className=\"changePwdAlertMsgs alert alert-info\" role=\"alert\" key={i}>\n                                        <span className=\"glyphicon glyphicon-info-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                    </div>\n                                )\n                            })\n                        :\"\"}\n                        {this.props.messages.warning ?\n                            this.props.messages.warning.map((item, i) => {\n                                return (\n                                <div className=\"changePwdAlertMsgs alert alert-warning\" role=\"alert\" key={i}>\n                                    <span className=\"glyphicon glyphicon-warning-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                </div>\n                                )\n                            })\n                        :\"\"}\n                            {this.props.messages.success ?\n                                this.props.messages.success.map((item, i) => {\n                                    return (\n                                        <div className=\"changePwdAlertMsgs alert success\" role=\"alert\" key={i}>\n                                            <span className=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                        </div>\n                                    )\n                                })\n                            :\"\"}\n                            {this.props.messages.errors ?\n                                this.props.messages.errors.map((item, i) => {\n                                    return (\n                                        <div className=\"changePwdAlertMsgs alert alert-danger\" role=\"alert\" key={i}>\n                                            <span className=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                        </div>\n                                    )\n                                })\n                            :\"\"}\n\n                        </div>\n                    )\n                :\"\"\n                }\n            </div>\n\n        );\n    }\n};\n\nclass LoginForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showForgotForm : props.showForgotForm ? true : false,\n            showSignupForm : props.showSignupForm ? true : false,\n            isLandLordMode : props.isLandLordMode ? true : false,\n            loginFromApplyNowBtn : props.loginFromApplyNowBtn ? true : false\n        }\n    }\n    showForgotFormHandler(){\n        this.setState({showForgotForm:true});\n        this.setState({showSignupForm:false});\n        this.setState({isLandLordMode:false});\n    }\n    showSignupFormHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:true});\n        this.setState({isLandLordMode:false});\n    }\n    showSignInFormHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:false});\n        this.setState({isLandLordMode:false});\n    }\n    showLandlordViewHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:true});\n        this.setState({isLandLordMode:true});\n    }\n    render() {\n        return (\n            <div className=\"loginForm\">\n                {\n                    this.state.showForgotForm ?\n                        <LoginFormResetPasswordView onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                    :\n                        this.state.showSignupForm ?\n                            this.state.isLandLordMode ?\n                                <LoginFormSignUpViewLandlord onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                            :\n                                <LoginFormSignUpView loginFromApplyNowBtn={this.state.loginFromApplyNowBtn} onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                        :\n                            <LoginFormSignInView loginFromApplyNowBtn={this.state.loginFromApplyNowBtn} onPage={false} showSignupFormHandler={this.showSignupFormHandler.bind(this)} showForgotFormHandler={this.showForgotFormHandler.bind(this)}/>\n\n                }\n            </div>\n        );\n    }\n};\nLoginFormT = withTracker(() => {\n    var ret = {}\n    if(Meteor.isClient){\n        ret.showSignupForm = Session.get('showSignupForm')\n        ret.showForgotForm = Session.get('showForgotForm')\n        ret.isLandLordMode = Session.get('isLandLordMode')\n        ret.loginFromApplyNowBtn = Session.get('loginFromApplyNowBtn')\n    }\n    return ret;\n})(LoginForm);\n\nclass LoginPage extends Component {\n    render() {\n        return (\n            <section className=\"mar-top-20 no-print\">\n                <div className=\"container\">\n                    <div className=\"filter-holder\">\n                        <div className=\"head-border-bottom\">\n                            <LoginFormT/>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n};\n\nclass SocialLoginButtons extends Component {\n    componentWillMount(){\n        if(Meteor.isClient){\n            Session.set('loginFlowStart',true)\n            Session.set('loginFlowComplete', undefined)\n            delete Session.keys.loginFlowComplete\n        }\n        this.state = {\n            errorMessages : {}\n        }\n        this.dontShow = true\n        this.buttonForText = '';\n        switch(this.props.buttonFor){\n            case 'login': this.buttonForText = 'Login';break;\n            case 'signup': this.buttonForText = 'Signup';break;\n            default: this.buttonForText = 'Login / Signup';\n        }\n        this.handleFBLogin = this.handleFBLogin.bind(this)\n        this.handleTwitterLogin = this.handleTwitterLogin.bind(this)\n        this.handleGoogleLogin = this.handleGoogleLogin.bind(this)\n        this.handleLinkedInLogin = this.handleLinkedInLogin.bind(this)\n    }\n\n    handleFBLogin(event) {\n        this.setState({errorMessages:{}})\n        this.FBCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'FBUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'FBUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'FBUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Facebook failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.FBCallback = this.FBCallback.bind(this)\n        Meteor.loginWithFacebook({}, this.FBCallback);\n    }\n\n    handleTwitterLogin(event) {\n        this.setState({errorMessages:{}})\n        this.TwitterCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'TwitterUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'TwitterUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'TwitterUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Twitter failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.TwitterCallback = this.TwitterCallback.bind(this)\n        Meteor.loginWithTwitter({}, this.TwitterCallback);\n    }\n\n    handleGoogleLogin(event) {\n        this.setState({errorMessages:{}})\n        this.GoogleCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'GoogleUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'GoogleUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'GoogleUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Google failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.GoogleCallback = this.GoogleCallback.bind(this)\n        Meteor.loginWithGoogle({}, this.GoogleCallback);\n    }\n\n    handleLinkedInLogin(event) {\n        this.setState({errorMessages:{}})\n        this.LinkedInCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'LinkedInUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'LinkedInUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'LinkedInUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with LinkedIn failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.LinkedInCallback = this.LinkedInCallback.bind(this)\n        Meteor.loginWithLinkedIn({}, this.LinkedInCallback);\n    }\n    \n    render() {\n        const self = this;\n        return (\n            <div>\n                <div onClick={self.handleFBLogin} id=\"facebook-login\" className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Facebook</div>\n                <div onClick={self.handleTwitterLogin} id=\"twitter-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Twitter</div>\n                <div onClick={self.handleGoogleLogin} id=\"google-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Google</div>\n                {this.dontShow ? \"\" :\n                <div onClick={self.handleLinkedInLogin} id=\"linkedin-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">Login with LinkedIn</div>\n                }\n\n                <br/>\n                <LoginFormMessages messages={this.state.errorMessages} />\n                <br/>\n            </div>\n        );\n    }\n};\nSocialLoginButtonsT = withTracker(() => {\n    var ret = {}\n    if(Meteor.isClient){\n        ret.showSignupForm = Session.get('showSignupForm')\n        ret.showForgotForm = Session.get('showForgotForm')\n    }\n    ret.user = Meteor.user()\n    return ret;\n})(SocialLoginButtons);\n\nclass LoginFormHorizontal extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showForgotForm : props.showForgotForm ? true : false,\n            isLandLordMode : props.isLandLordMode ? true : false\n        }\n    }\n    showForgotFormHandler(){\n        this.setState({showForgotForm:true});\n    }\n    showSignInFormHandler(){\n        this.setState({showForgotForm:false});\n    }\n    componentDidMount(){\n        if(this.props.user) Session.set('loginFlowComplete', true)//todo: check this\n    }\n    render() {\n        return (\n            <div className=\"loginForm onpageSignin-form\">\n                <div className=\"row\">\n                    <SocialLoginButtonsT/>\n                </div>\n                <div className=\"row text-center\">\n                    <div className=\"col-md-6 col-sm-12\">\n                        {\n                            this.state.showForgotForm ?\n                                <LoginFormResetPasswordView onPage={true} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                                :\n                                <LoginFormSignInView  onPage={true} showForgotFormHandler={this.showForgotFormHandler.bind(this)}/>\n                        }\n                    </div>\n                    <div className=\"col-md-6 col-sm-12\">\n                        {\n                            this.state.isLandLordMode ?\n                                <LoginFormSignUpViewLandlord onPage={true}/>\n                                :\n                                <LoginFormSignUpView  onPage={true}/>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n};\nLoginFormHorizontalT = withTracker(() => {\n    var ret = {}\n    ret.user = Meteor.user()\n    return ret;\n})(LoginFormHorizontal);\n\nclass LoginPageHorizontal extends Component {\n    render() {\n        return (\n        <section className=\"mar-top-20 mar-btm-20 no-print loginPageHorizontal\">\n            <div className=\"container\">\n                <div className=\"filter-holder\">\n                    <div className=\"head-border-bottom\">\n                        <LoginFormHorizontalT/>\n                    </div>\n                </div>\n            </div>\n        </section>\n            \n        );\n    }\n};\n\nexport {\n    LoginFormHorizontalT,\n    SocialLoginButtonsT,\n    LoginPage,\n    LoginPageHorizontal,\n    LoginFormT,\n    LoginFormMessages\n}"]},"sourceType":"module","hash":"f47d468f526a2c2d4b846446e361debebda92b31"}
