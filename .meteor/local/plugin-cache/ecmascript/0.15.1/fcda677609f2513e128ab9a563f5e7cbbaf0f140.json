{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/BlogHome.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.linux.x86_64"},"sourceFileName":"imports/reactui/pages/BlogHome.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/BlogHome.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/BlogHome.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/pages/BlogHome.jsx"}},"code":"let Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 3);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 4);\nlet Collections;\nmodule.link(\"../../api/collections.js\", {\n  Collections(v) {\n    Collections = v;\n  }\n\n}, 5);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\nlet countsCollection = null;\n\nfunction dateFormat(text) {\n  var date = new Date(text);\n  if (date.toString() == \"Invalid Date\") return 'N/A';\n  return date.toDateString();\n}\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {// console.log(this.props)\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"nav\", null, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pagination\"\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item \" + self.props.pagination.prevPage.disabled\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: self.props.pagination.prevPage.href,\n      tabIndex: \"-1\",\n      onClick: self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)\n    }, self.props.pagination.prevPage.text)), self.props.pagination.pages.map((page, i) => {\n      if (typeof page.current !== 'undefined' && page.current) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"page-item active\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"page-link\",\n          href: page.href\n        }, page.text, \" \", /*#__PURE__*/React.createElement(\"span\", {\n          className: \"sr-only\"\n        }, \"(current)\")));\n      } else {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"page-item\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"page-link\",\n          onClick: self.props.handleChoosePage.bind(self, page.text, self.props.parent),\n          href: page.href\n        }, page.text));\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item \" + self.props.pagination.nextPage.disabled\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: self.props.pagination.nextPage.href,\n      onClick: self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)\n    }, self.props.pagination.nextPage.text))));\n  }\n\n}\n\nclass BlogHome extends Component {\n  constructor(props) {\n    super(props);\n    let pBlogs = props.blogs;\n    if (!pBlogs) pBlogs = [];\n    let pTotalCount = props.totalCount;\n    if (!pTotalCount) pTotalCount = 0;\n    let pPagination = props.pagination;\n    if (!pPagination) pPagination = 0;\n    this.state = {\n      blogs: pBlogs,\n      totalCount: pTotalCount,\n      pagination: pPagination\n    };\n    this.propsListHTML = '';\n    this.isServerSSRReq = '';\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      blogs: nextProps.blogs,\n      totalCount: nextProps.totalCount,\n      pagination: nextProps.pagination\n    });\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    const self = this;\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n    }, 500);\n  }\n\n  componentDidUpdate() {}\n\n  handleChoosePage(page, component) {\n    if (typeof page == \"undefined\") return; // var data = getSlugData();\n    // var slug = generateSlug(data);\n    //\n    // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n    //\n    // component.setState({pagination: pagination()});\n  }\n\n  propGrid() {\n    const self = this;\n    let blogImage = '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, self.state.blogs.map((blog, i) => {\n      if (blog.image) {\n        let tmp = blog.image.split('?');\n        blogImage = tmp[0] + \"?resize=200%2C140\";\n      } else {\n        blogImage = '';\n      }\n\n      return /*#__PURE__*/React.createElement(\"section\", {\n        key: i,\n        className: \"main-holder border-top mar-btm-10\",\n        id: true\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"act-box\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background-white\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder-div\",\n        style: {\n          padding: '10px 20px'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('blogdetail', {\n          slug: blog.slug\n        })\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"pad-btm-0\",\n        dangerouslySetInnerHTML: {\n          __html: blog.title\n        }\n      }))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"apt-info1 background-white clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media\"\n      }, blogImage ? /*#__PURE__*/React.createElement(\"a\", {\n        className: \"pull-left\",\n        href: FlowRouter.url('blogdetail', {\n          slug: blog.slug\n        })\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"media-object\",\n        src: blogImage,\n        alt: blog.title\n      })) : /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/no-photo.png\"),\n        alt: 'Image not available',\n        className: \"img-responsive\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left mar-btm-10\",\n        dangerouslySetInnerHTML: {\n          __html: blog.excerpt\n        }\n      }), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-inline list-unstyled\"\n      }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"glyphicon glyphicon-calendar\"\n      }), \" \", dateFormat(blog.created), \" \")))))))));\n    }));\n  }\n\n  mainAllPage() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"props_list\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"logo-below-div value-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        marginBottom: 10\n      }\n    }, \"Blog \\u2013 SpotMyCrib\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h4-div\",\n      style: {\n        paddingBottom: 5\n      }\n    }, \"Property renting tips, management and much more\"))))))), self.state.totalCount == 0 && this.props.isSubsLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"No blogs found.\")) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"paginationArea mar-top-20 \"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: 'mar-btm-20'\n    }, \"Found total \", self.state.totalCount ? self.state.totalCount : 'no', \" articles. Browse the latest property news, renting tips, management and much more. Use the navigation below to find more.\"), /*#__PURE__*/React.createElement(Pagination, {\n      pagination: self.state.pagination,\n      handleChoosePage: self.handleChoosePage,\n      parent: self\n    }))))) : \"\", Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"isservercheckdiv\"\n    }) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"proplist-sec property-list\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, this.propGrid())) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"paginationArea\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      pagination: self.state.pagination,\n      handleChoosePage: self.handleChoosePage,\n      parent: self\n    }))))) : \"\");\n  }\n\n  render() {\n    const self = this;\n    let totalCount = 0;\n\n    if (Meteor.isClient && this.propsListHTML == \"\") {\n      this.propsListHTML = $('#props_list').html();\n    }\n\n    if (Meteor.isClient) {\n      this.isServerSSRReq = $('#isservercheckdiv').html();\n      if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n    } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded && self.state.blogs ? this.mainAllPage() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.propsListHTML\n      }\n    }) : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'h2-div'\n    }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n  }\n\n}\n\n;\nmodule.exportDefault(withTracker(() => {\n  function getPaginationData(totalResultsCount, currentPageNo, resultsPerPage) {\n    currentPageNo = parseInt(currentPageNo);\n    var pages = [],\n        prevPage = {},\n        nextPage = {};\n    var pgMin = currentPageNo - 4,\n        pgMax = currentPageNo + 5,\n        maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n\n    if (!Number.isInteger(currentPageNo)) {\n      return {\n        \"prevPage\": prevPage,\n        \"pages\": pages,\n        \"nextPage\": nextPage\n      };\n    }\n\n    if (pgMin < 1) pgMin = 1;\n    if (pgMax < 1) pgMax = 1;\n    if (maxPages < 1) maxPages = 1;\n    if (pgMin > maxPages) currentPageNo = maxPages;\n    let tmp = {};\n    let href = '';\n    let cRoute = FlowRouter.current().route.name,\n        cParams = FlowRouter.current().params,\n        cQueryParams = FlowRouter.current().queryParams;\n\n    for (var i = pgMin; i <= maxPages; i++) {\n      cParams.pageno = i;\n      tmp = {\n        \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n        \"text\": i\n      };\n\n      if (i == currentPageNo) {\n        tmp['href'] = 'javascript:void(0);';\n        tmp['current'] = true;\n      }\n\n      pages.push(tmp);\n    }\n\n    var prevPageNo = currentPageNo - 1,\n        nextPageNo = currentPageNo + 1;\n\n    if (prevPageNo < 1) {\n      prevPage['href'] = 'javascript:void(0)';\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = prevPageNo;\n      prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), prevPage['prevPageNo'] = prevPageNo;\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = '';\n    }\n\n    if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n    if (nextPageNo == currentPageNo) {\n      nextPage['href'] = 'javascript:void(0)';\n      nextPage['text'] = 'Next';\n      nextPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = nextPageNo;\n      nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), nextPage['text'] = 'Next';\n      nextPage['nextPageNo'] = nextPageNo;\n      nextPage['disabled'] = '';\n    }\n\n    return {\n      \"prevPage\": prevPage,\n      \"pages\": pages,\n      \"nextPage\": nextPage\n    };\n  }\n\n  var pageno = FlowRouter.getParam('pageno');\n  if (!pageno) pageno = 1;\n  var resperpage = 6; // var query = FlowRouter.current().queryParams;\n\n  var current = FlowRouter.current();\n  var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams);\n  var sortOptions = {\n    updatedAt: -1\n  };\n  const bBlogsSub = Meteor.subscribe(\"browseBlogs\", {\n    viewName: 'browseBlogs.view',\n    pageno: pageno,\n    resperpage: resperpage\n  }, function () {\n    if (bBlogsSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  });\n  Meteor.subscribe(\"total-blogs-count\", {\n    viewName: 'browseBlogs.view',\n    pageno: pageno,\n    resperpage: resperpage\n  });\n\n  if (Meteor.isServer) {\n    if (countsCollection == null) countsCollection = new Mongo.Collection('counts');\n\n    Counts.get = function countsGet(name) {\n      const count = countsCollection.findOne(name);\n      return count && count.count || 0;\n    };\n\n    Counts.has = function countsHas(name) {\n      return !!countsCollection.findOne(name);\n    };\n\n    totalCount = Counts.get(\"total-blogs-count\");\n  } else {\n    totalCount = Counts.get(\"total-blogs-count\");\n  } // Meteor.subscribe('userData');\n  // Meteor.subscribe('Config');\n\n\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  if (!bBlogsSub.ready()) {\n    return {\n      isSubsLoaded: false\n    };\n  }\n\n  return {\n    totalCount: totalCount,\n    pagination: getPaginationData(totalCount, pageno, 6),\n    blogs: Collections.Blogs.find().fetch(),\n    isSubsLoaded: true\n  };\n})(BlogHome));","map":{"version":3,"sources":["imports/reactui/pages/BlogHome.jsx"],"names":["Meteor","module","link","v","React","Component","default","withTracker","MainLayoutFooter","MainLayoutHeader","Collections","isClient","Session","set","countsCollection","dateFormat","text","date","Date","toString","toDateString","Pagination","constructor","props","componentDidMount","render","self","pagination","prevPage","disabled","href","handleChoosePage","bind","prevPageNo","parent","pages","map","page","i","current","nextPage","nextPageNo","BlogHome","pBlogs","blogs","pTotalCount","totalCount","pPagination","state","propsListHTML","isServerSSRReq","componentWillReceiveProps","nextProps","setState","componentWillMount","setTimeout","jQuery","animate","scrollTop","e","document","body","documentElement","componentDidUpdate","component","propGrid","blogImage","blog","image","tmp","split","padding","FlowRouter","url","slug","__html","title","cdnPath","excerpt","created","mainAllPage","marginBottom","paddingBottom","isSubsLoaded","isServer","$","html","exportDefault","getPaginationData","totalResultsCount","currentPageNo","resultsPerPage","parseInt","pgMin","pgMax","maxPages","Math","ceil","Number","isInteger","cRoute","route","name","cParams","params","cQueryParams","queryParams","pageno","push","getParam","resperpage","currentURL","sortOptions","updatedAt","bBlogsSub","subscribe","viewName","ready","Mongo","Collection","Counts","get","countsGet","count","findOne","has","countsHas","Blogs","find","fetch"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\n\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nimport { Collections } from  '../../api/collections.js'\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nlet countsCollection = null;\nfunction dateFormat(text){\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n}\n\nclass Pagination extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        // console.log(this.props)\n    }\n    \n    render() {\n        const self = this;\n        return (\n        <nav>\n            <ul className=\"pagination\">\n                <li className={\"page-item \" +self.props.pagination.prevPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.prevPage.href} \n                    tabIndex=\"-1\"\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)}\n                    >{self.props.pagination.prevPage.text}\n                    </a>\n                </li>\n                {self.props.pagination.pages.map((page, i) => {\n                    if(typeof page.current !== 'undefined' && page.current) {\n                        return (\n                            <li key={i} className=\"page-item active\">\n                                <a className=\"page-link\" href={page.href}>{page.text} <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                        );\n                    } else {\n                        return (\n                           <li key={i} className=\"page-item\">\n                            <a \n                            className=\"page-link\" \n                            onClick={self.props.handleChoosePage.bind(self, page.text, self.props.parent)}\n                            href={page.href}\n                            >{page.text}\n                            </a>\n                           </li>\n                        );\n                    }\n                })}\n                <li className={\"page-item \" + self.props.pagination.nextPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.nextPage.href}\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)}\n                    >{self.props.pagination.nextPage.text}\n                    </a>\n                </li>\n            </ul>\n        </nav>\n        )\n    }\n}\n\nclass BlogHome extends Component {\n\n    constructor(props) {\n        super(props);\n\n        let pBlogs = props.blogs; if(!pBlogs)pBlogs = [];\n        let pTotalCount = props.totalCount; if(!pTotalCount)pTotalCount = 0;\n        let pPagination = props.pagination; if(!pPagination)pPagination = 0;\n        this.state = {\n            blogs: pBlogs,\n            totalCount: pTotalCount,\n            pagination: pPagination,\n        };\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            blogs: nextProps.blogs,\n            totalCount: nextProps.totalCount,\n            pagination: nextProps.pagination\n        });\n    }\n\n    componentWillMount() {}\n\n    componentDidMount() {\n        const self = this;\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n        },500)\n    }\n    componentDidUpdate() {}\n    handleChoosePage(page, component) {\n        if (typeof page == \"undefined\") return\n\n        // var data = getSlugData();\n        // var slug = generateSlug(data);\n        //\n        // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n        //\n        // component.setState({pagination: pagination()});\n    }\n\n    propGrid() {\n        const self = this;\n        let blogImage = '';\n        return (\n            <div className=\"row\">\n                {self.state.blogs.map((blog, i) => {\n                    if(blog.image){\n                        let tmp = blog.image.split('?');\n                        blogImage = tmp[0]+\"?resize=200%2C140\";\n                    }else{\n                        blogImage='';\n                    }\n                    return (\n                        <section key={i} className=\"main-holder border-top mar-btm-10\" id>\n                            <div className=\"container\">\n                                <div className=\"act-box\">\n                                    <div className=\"background-white\">\n                                        <div className=\"logo-holder-div\" style={{padding: '10px 20px'}}>\n                                            <div className=\"logo-holder\">\n                                                <ul>\n                                                    <li>\n                                                        <a href={FlowRouter.url('blogdetail', {slug: blog.slug})}>\n                                                            <h3 className=\"pad-btm-0\" dangerouslySetInnerHTML={{__html: blog.title}}></h3>\n                                                        </a>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"apt-info1 background-white clearfix\">\n                                        <div className=\"media\">\n                                            { blogImage ?\n                                                (\n                                                <a className=\"pull-left\" href={FlowRouter.url('blogdetail', {slug: blog.slug})}>\n                                                    <img className=\"media-object\" src={blogImage} alt={blog.title}/>\n                                                </a>\n                                                )\n                                                :\n                                                (\n                                                <img src={cdnPath(\"/images/no-photo.png\")}\n                                                alt={'Image not available'}\n                                                className=\"img-responsive\"/>\n                                                )\n                                            }\n\n                                            <div className=\"media-body\">\n                                                <div className=\"text-left mar-btm-10\" dangerouslySetInnerHTML={{__html: blog.excerpt}}></div>\n                                                {/*... <span className=\"read-more\"><a href={FlowRouter.url('blogdetail', {slug: blog.slug})}>Read More &raquo;</a></span>*/}\n                                                <ul className=\"list-inline list-unstyled\">\n                                                    <li><span><i className=\"glyphicon glyphicon-calendar\" /> {dateFormat(blog.created)} </span></li>\n                                                    {/*<li>|</li>*/}\n                                                    {/*<li>*/}\n                                                        {/*/!* Use Font Awesome http://fortawesome.github.io/Font-Awesome/ *!/*/}\n                                                        {/*<span><i className=\"fa fa-facebook-square\" /></span>*/}\n                                                        {/*<span><i className=\"fa fa-twitter-square\" /></span>*/}\n                                                        {/*<span><i className=\"fa fa-google-plus-square\" /></span>*/}\n                                                    {/*</li>*/}\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    );\n                })}\n            </div>\n        )\n    }\n    mainAllPage(){\n        const self = this;\n        return (\n            <div id=\"props_list\">\n                <section className=\"logo-below-div value-div\">\n                    <div className=\"container\">\n                        <div className=\"logo-holder-div\">\n                            <div className=\"logo-holder\">\n                                <ul>\n                                    <li>\n                                        <h1 style={{marginBottom: 10}}>Blog – SpotMyCrib</h1>\n                                        <div className=\"h4-div\" style={{paddingBottom: 5}}>Property renting tips, management and much more</div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                { self.state.totalCount == 0 && this.props.isSubsLoaded ? (\n                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                        <strong>\n                            No blogs found.\n                        </strong>\n                    </div>\n                ) : (\"\")}\n\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea mar-top-20 \">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <p className={'mar-btm-20'}>\n                                        Found total {self.state.totalCount ? self.state.totalCount : 'no'} articles. Browse the latest property news, renting tips, management and much more. Use the navigation below to find more.\n                                    </p>\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n\n                { self.state.totalCount > 0 ? (\n                <section className=\"proplist-sec property-list\">\n                    <div className=\"container\">\n                        {this.propGrid()}\n                    </div>\n                </section>\n                ) : (\"\")}\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n            </div>\n        )\n    }\n\n    render() {\n    const self = this;\n    let totalCount = 0;\n    if(Meteor.isClient && this.propsListHTML==\"\"){\n        this.propsListHTML = $('#props_list').html()\n    }\n    if(Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html()\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n        else this.isServerSSRReq = false\n    }\n    // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n    return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded && self.state.blogs )  ? (\n                        this.mainAllPage()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n};\n\nexport default withTracker(() => {\n    \n    function getPaginationData(totalResultsCount,currentPageNo,resultsPerPage) {\n        currentPageNo = parseInt(currentPageNo);\n        var pages = [], prevPage = {}, nextPage={};\n        var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage);\n        if(!Number.isInteger(currentPageNo)){\n            return {\n                \"prevPage\":prevPage,\n                \"pages\":pages,\n                \"nextPage\": nextPage\n            }\n        }\n        \n        if(pgMin<1)pgMin =1;\n        if(pgMax<1)pgMax =1;\n        if(maxPages<1)maxPages =1;\n        if(pgMin>maxPages)currentPageNo =maxPages;\n\n        let tmp={};let href = '';\n        let cRoute = FlowRouter.current().route.name, cParams = FlowRouter.current().params, cQueryParams = FlowRouter.current().queryParams;\n        for (var i=pgMin; i<=maxPages;i++){\n            cParams.pageno = i;\n            tmp = {\n                \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n                \"text\": i\n            }\n            if(i== currentPageNo) {\n                tmp['href'] = 'javascript:void(0);';\n                tmp['current'] = true;\n            }\n            pages.push(tmp)\n        }\n\n        var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n        \n        if(prevPageNo<1){\n            prevPage['href'] = 'javascript:void(0)';\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = prevPageNo;\n            prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n            prevPage['prevPageNo'] = prevPageNo;\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = '';\n        }\n\n        if(nextPageNo>maxPages) nextPageNo = maxPages;\n        if(nextPageNo == currentPageNo){\n            nextPage['href'] = 'javascript:void(0)';\n            nextPage['text'] = 'Next';\n            nextPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = nextPageNo;\n            nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n            nextPage['text'] = 'Next';\n            nextPage['nextPageNo'] = nextPageNo;\n            nextPage['disabled'] = '';\n        }\n\n        return {\n            \"prevPage\":prevPage,\n            \"pages\":pages,\n            \"nextPage\": nextPage\n        }\n    }\n\n    var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n    var resperpage = 6;\n    // var query = FlowRouter.current().queryParams;\n    var current = FlowRouter.current();\n    var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams)\n\n    var sortOptions = { updatedAt : -1 }\n\n    const bBlogsSub = Meteor.subscribe(\"browseBlogs\", {viewName: 'browseBlogs.view', pageno:pageno, resperpage:resperpage } ,function(){\n        if(bBlogsSub.ready() && Meteor.isClient)Session.set('subscriptionsReady',true);\n    });\n\n    Meteor.subscribe(\"total-blogs-count\", {viewName: 'browseBlogs.view', pageno:pageno, resperpage:resperpage});\n\n    if(Meteor.isServer){\n        if(countsCollection==null)countsCollection = new Mongo.Collection('counts');\n        Counts.get = function countsGet(name) {\n            const count = countsCollection.findOne(name);\n            return count && count.count || 0;\n        };\n        Counts.has = function countsHas(name) {\n            return !!countsCollection.findOne(name);\n        };\n\n        totalCount = Counts.get(\"total-blogs-count\");\n\n    }else{\n        totalCount = Counts.get(\"total-blogs-count\");\n    }\n\n    // Meteor.subscribe('userData');\n    // Meteor.subscribe('Config');\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !bBlogsSub.ready() ) {\n        return {\n            isSubsLoaded : false\n        }\n    }\n\n    return {\n        totalCount: totalCount,\n        pagination: getPaginationData(totalCount,pageno,6),\n        blogs: Collections.Blogs.find().fetch(),\n        isSubsLoaded : true\n    };\n})(BlogHome);"]},"sourceType":"module","hash":"fcda677609f2513e128ab9a563f5e7cbbaf0f140"}
