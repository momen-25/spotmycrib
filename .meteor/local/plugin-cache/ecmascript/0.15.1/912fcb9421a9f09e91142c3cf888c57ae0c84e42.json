{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/ui/templates/tenant.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/ui/templates/tenant.js","filename":"/home/momen/projects/spotmycrib-master/imports/ui/templates/tenant.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/ui/templates/tenant.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/ui/templates/tenant.js"}},"code":"module.link(\"./profile.js\");\nmodule.link(\"./tenant.html\");\nTemplate.tenant.onCreated(function () {\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('userData'); //works only if viewing your profile\n\n    instance.subscribe('userDataUsername', FlowRouter.getParam('username')); //works if viewing your profile and others\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.tenant.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  isViewingHisProfile: function () {\n    var currentUser = Accounts.user();\n    var username = FlowRouter.getParam('username');\n\n    try {\n      if (currentUser.profile.username == username) return true;\n    } catch (e) {}\n\n    return false;\n  },\n  isPublicProfile: function () {\n    var username = FlowRouter.getParam('username');\n    var u1 = Meteor.users.findOne({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    });\n\n    try {\n      if (u1.profile.isPublic) {\n        clearMeta();\n        DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n        DocHead.addMeta({\n          name: \"description\",\n          content: \"View and download \" + titleCase(u1.profile.name) + \"'s references.\"\n        });\n        return true;\n      }\n    } catch (e) {}\n\n    return false;\n  },\n  userFound: function () {\n    var username = FlowRouter.getParam('username');\n    var u1 = Meteor.users.findOne({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    });\n    if (u1) return true;\n    clearMeta();\n    DocHead.setTitle(' User not found | SpotMyCrib');\n    DocHead.addMeta({\n      name: \"description\",\n      content: \"\"\n    });\n    return false;\n  },\n  userFirstName: function () {\n    var username = FlowRouter.getParam('username');\n    var u1 = Meteor.users.find({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    }).fetch();\n\n    try {\n      clearMeta();\n      DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n      var tmp = u1.profile.name.split(' ');\n      return tmp[0];\n    } catch (e) {}\n\n    return 'Tenant';\n  },\n  user: function () {\n    var username = FlowRouter.getParam('username');\n    return Meteor.users.find({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    });\n  }\n});\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}","map":{"version":3,"sources":["imports/ui/templates/tenant.js"],"names":["module","link","Template","tenant","onCreated","instance","isSubsLoaded","ReactiveVar","autorun","subscribe","FlowRouter","getParam","subscriptionsReady","set","helpers","userLoggedIn","Meteor","user","isViewingHisProfile","currentUser","Accounts","username","profile","e","isPublicProfile","u1","users","findOne","limit","isPublic","clearMeta","DocHead","setTitle","titleCase","name","addMeta","content","userFound","userFirstName","find","fetch","tmp","split","str","charAt","toUpperCase","toLowerCase","substring"],"mappings":"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","sourcesContent":["import \"./profile.js\";\nimport \"./tenant.html\";\n\nTemplate.tenant.onCreated(function(){\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        instance.subscribe('userData');//works only if viewing your profile\n        instance.subscribe('userDataUsername',FlowRouter.getParam('username'));//works if viewing your profile and others\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n\n})\nTemplate.tenant.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    isViewingHisProfile:function () {\n        var currentUser =  Accounts.user();\n        var username = FlowRouter.getParam('username');\n        try{if(currentUser.profile.username==username)return true;}catch(e){}\n        return false;\n    },\n    isPublicProfile:function(){\n        var username = FlowRouter.getParam('username');\n        var u1 = Meteor.users.findOne({ \"profile.username\":username },{limit:1});\n\n        try{if(u1.profile.isPublic){\n            clearMeta();\n            DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"View and download \"+titleCase(u1.profile.name) + \"'s references.\"});\n            return true;\n        }}catch(e){}\n        return false;\n    },\n    userFound:function(){\n        var username = FlowRouter.getParam('username');\n        var u1 = Meteor.users.findOne({ \"profile.username\":username },{limit:1});\n        if(u1)return true;\n\n        clearMeta();\n        DocHead.setTitle(' User not found | SpotMyCrib');\n        DocHead.addMeta({name: \"description\", content: \"\"});\n        return false;\n    },\n    userFirstName:function(){\n        var username = FlowRouter.getParam('username');\n        var u1 = Meteor.users.find({ \"profile.username\":username },{limit:1}).fetch();\n        try{\n            clearMeta();\n            DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"\"});\n            var tmp = u1.profile.name.split(' ');\n            return tmp[0];\n        }catch(e){}\n        return 'Tenant'\n    },\n    user:function(){\n        var username = FlowRouter.getParam('username');\n        return Meteor.users.find({ \"profile.username\":username },{limit:1});\n    }\n})\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}"]},"sourceType":"module","hash":"912fcb9421a9f09e91142c3cf888c57ae0c84e42"}
