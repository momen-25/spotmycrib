{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/packages/kadira:dochead/lib/both.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/kadira:dochead/lib/both.js","filename":"/home/momen/projects/spotmycrib-master/packages/kadira:dochead/lib/both.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/packages/kadira:dochead/lib/both.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/kadira:dochead/lib/both.js"}},"code":"var _createForOfIteratorHelperLoose;\n\nmodule.link(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\", {\n  default: function (v) {\n    _createForOfIteratorHelperLoose = v;\n  }\n}, 0);\nvar FlowRouter = null;\n\nif (Package['jns:flow-router-ssr']) {\n  FlowRouter = Package['jns:flow-router-ssr'].FlowRouter;\n}\n\nif (Meteor.isClient) {\n  var titleDependency = new Tracker.Dependency();\n}\n\nDocHead = {\n  currentTitle: null,\n  setTitle: function (title) {\n    if (Meteor.isClient) {\n      titleDependency.changed();\n      document.title = title;\n    } else {\n      this.currentTitle = title;\n      var titleHtml = \"<title>\" + title + \"</title>\";\n\n      this._addToHead(titleHtml);\n    }\n  },\n  addMeta: function (info) {\n    this._addTag(info, 'meta');\n  },\n  addLink: function (info) {\n    this._addTag(info, 'link');\n  },\n  getTitle: function () {\n    if (Meteor.isClient) {\n      titleDependency.depend();\n      return document.title;\n    }\n\n    return this.currentTitle;\n  },\n  addLdJsonScript: function (jsonObj) {\n    var strObj = JSON.stringify(jsonObj);\n\n    this._addLdJsonScript(strObj);\n  },\n  loadScript: function (url, options, callback) {\n    if (Meteor.isClient) {\n      npmLoadScript(url, options, callback);\n    }\n  },\n  _addTag: function (info, tag) {\n    var meta = this._buildTag(info, tag);\n\n    if (Meteor.isClient) {\n      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', meta);\n    } else {\n      this._addToHead(meta);\n    }\n  },\n  _addToHead: function (html) {\n    // only work there is jns:flow-router-ssr\n    if (!FlowRouter) {\n      return;\n    }\n\n    var ssrContext = FlowRouter.ssrContext.get();\n\n    if (ssrContext) {\n      ssrContext.addToHead(html);\n    }\n  },\n  _buildTag: function (metaInfo, type) {\n    var props = \"\";\n\n    for (var key in meteorBabelHelpers.sanitizeForInObject(metaInfo)) {\n      props += key + \"=\\\"\" + metaInfo[key] + \"\\\" \";\n    }\n\n    props += 'dochead=\"1\"';\n    var meta = \"<\" + type + \" \" + props + \"/>\";\n    return meta;\n  },\n  _addLdJsonScript: function (stringifiedObject) {\n    var scriptTag = \"<script type=\\\"application/ld+json\\\" dochead=\\\"1\\\">\" + stringifiedObject + \"</script>\";\n\n    if (Meteor.isClient) {\n      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', scriptTag);\n    } else {\n      this._addToHead(scriptTag);\n    }\n  },\n  removeDocHeadAddedTags: function () {\n    if (Meteor.isClient) {\n      var elements = document.querySelectorAll('[dochead=\"1\"]'); // We use for-of here to loop only over iterable objects\n\n      for (var _iterator = _createForOfIteratorHelperLoose(elements), _step; !(_step = _iterator()).done;) {\n        var element = _step.value;\n        element.parentNode.removeChild(element);\n      }\n    }\n  }\n};","map":{"version":3,"sources":["packages/kadira:dochead/lib/both.js"],"names":["_createForOfIteratorHelperLoose","module","link","default","v","FlowRouter","Package","Meteor","isClient","titleDependency","Tracker","Dependency","DocHead","currentTitle","setTitle","title","changed","document","titleHtml","_addToHead","addMeta","info","_addTag","addLink","getTitle","depend","addLdJsonScript","jsonObj","strObj","JSON","stringify","_addLdJsonScript","loadScript","url","options","callback","npmLoadScript","tag","meta","_buildTag","getElementsByTagName","insertAdjacentHTML","html","ssrContext","get","addToHead","metaInfo","type","props","key","stringifiedObject","scriptTag","removeDocHeadAddedTags","elements","querySelectorAll","element","parentNode","removeChild"],"mappings":"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","sourcesContent":["var FlowRouter = null;\nif (Package['jns:flow-router-ssr']) {\n  FlowRouter = Package['jns:flow-router-ssr'].FlowRouter;\n}\n\nif (Meteor.isClient) {\n  var titleDependency = new Tracker.Dependency();\n}\n\nDocHead = {\n  currentTitle: null,\n  setTitle(title) {\n    if (Meteor.isClient) {\n      titleDependency.changed();\n      document.title = title;\n    } else {\n      this.currentTitle = title;\n      const titleHtml = `<title>${title}</title>`;\n      this._addToHead(titleHtml);\n    }\n  },\n  addMeta(info) {\n    this._addTag(info, 'meta');\n  },\n  addLink(info) {\n    this._addTag(info, 'link');\n  },\n  getTitle() {\n    if (Meteor.isClient) {\n      titleDependency.depend();\n      return document.title;\n    }\n    return this.currentTitle;\n  },\n  addLdJsonScript(jsonObj) {\n    const strObj = JSON.stringify(jsonObj);\n    this._addLdJsonScript(strObj);\n  },\n  loadScript(url, options, callback) {\n    if (Meteor.isClient) {\n      npmLoadScript(url, options, callback);\n    }\n  },\n  _addTag(info, tag) {\n    const meta = this._buildTag(info, tag);\n    if (Meteor.isClient) {\n      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', meta);\n    } else {\n      this._addToHead(meta);\n    }\n  },\n  _addToHead(html) {\n    // only work there is jns:flow-router-ssr\n    if (!FlowRouter) {\n      return;\n    }\n    let ssrContext = FlowRouter.ssrContext.get();\n    if (ssrContext) {\n      ssrContext.addToHead(html);\n    }\n  },\n  _buildTag(metaInfo, type) {\n    let props = \"\";\n    for (let key in metaInfo) {\n      props += `${key}=\"${metaInfo[key]}\" `;\n    }\n    props += 'dochead=\"1\"';\n    var meta = `<${type} ${props}/>`;\n    return meta;\n  },\n  _addLdJsonScript(stringifiedObject) {\n    const scriptTag = `<script type=\"application/ld+json\" dochead=\"1\">${stringifiedObject}</script>`;\n    if (Meteor.isClient) {\n      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', scriptTag);\n    } else {\n      this._addToHead(scriptTag);\n    }\n  },\n  removeDocHeadAddedTags() {\n    if (Meteor.isClient) {\n      const elements = document.querySelectorAll('[dochead=\"1\"]');\n      // We use for-of here to loop only over iterable objects\n      for (let element of elements) {\n        element.parentNode.removeChild(element);\n      }\n    }\n  }\n};\n"]},"sourceType":"module","hash":"4db0e6d737c5648e923fe4ebc7f5a32406ccee01"}
