{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/LettingDetail.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/reactui/pages/LettingDetail.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/LettingDetail.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/LettingDetail.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/pages/LettingDetail.jsx"}},"code":"!function (module1) {\n  var _assertThisInitialized;\n\n  module1.link(\"@babel/runtime/helpers/assertThisInitialized\", {\n    default: function (v) {\n      _assertThisInitialized = v;\n    }\n  }, 0);\n\n  var _inheritsLoose;\n\n  module1.link(\"@babel/runtime/helpers/inheritsLoose\", {\n    default: function (v) {\n      _inheritsLoose = v;\n    }\n  }, 1);\n  var Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor: function (v) {\n      Meteor = v;\n    }\n  }, 0);\n  var React, Component;\n  module1.link(\"react\", {\n    \"default\": function (v) {\n      React = v;\n    },\n    Component: function (v) {\n      Component = v;\n    }\n  }, 1);\n  var ReactDOM;\n  module1.link(\"react-dom\", {\n    \"default\": function (v) {\n      ReactDOM = v;\n    }\n  }, 2);\n  var withTracker;\n  module1.link(\"meteor/react-meteor-data\", {\n    withTracker: function (v) {\n      withTracker = v;\n    }\n  }, 3);\n  var MainLayoutFooter;\n  module1.link(\"../layout/MainLayoutFooter.jsx\", {\n    \"default\": function (v) {\n      MainLayoutFooter = v;\n    }\n  }, 4);\n  var MainLayoutHeader;\n  module1.link(\"../layout/MainLayoutHeader.jsx\", {\n    \"default\": function (v) {\n      MainLayoutHeader = v;\n    }\n  }, 5);\n  var Collections;\n  module1.link(\"../../api/collections\", {\n    Collections: function (v) {\n      Collections = v;\n    }\n  }, 6);\n  var isArray;\n  module1.link(\"util\", {\n    isArray: function (v) {\n      isArray = v;\n    }\n  }, 7);\n  updateViewsCalled = false;\n  propertyKeyOfThisPage = '';\n  if (Meteor.isClient) Session.set('subscriptionsReady', false);\n  if (Meteor.isClient) Session.set('subscriptionsReady2', false);\n\n  function titleCase(str) {\n    if (!str) return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n  }\n\n  function dateFormat(text) {\n    var date = new Date(text);\n    if (date.toString() == \"Invalid Date\") return 'N/A';\n    return date.toDateString();\n  }\n\n  function addCommaToEach(arr) {\n    if (!arr) return '';\n    return arr.join(', ');\n  }\n\n  function nlToBr(str) {\n    if (!str) return '';\n    return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n  }\n\n  function validateMobileNumber(mobile) {\n    var tmp = mobile.split('+');\n    if (tmp.length > 1) mobile = tmp[1];\n    if (mobile.length < 6) return false;\n    return /^\\d+$/.test(mobile);\n  }\n\n  function attachEvents() {\n    $(\".confirmApplyBtn\").unbind().bind(\"click\", function () {\n      ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n    });\n    $(\".redirectToProfilePage\").unbind().bind(\"click\", function () {\n      redirectToProfilePageEvent();\n    });\n    $(\".pd_cap_btn\").unbind().bind(\"click\", function () {\n      console.log('pd_cap_btn');\n      ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n      redirectToProfilePageEvent();\n    });\n    $(\".pd_cap_a\").unbind().bind(\"click\", function () {\n      console.log('pd_cap_a');\n      ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n      redirectToProfilePageEvent();\n    });\n    $(\".cap_closePopupBtn\").unbind().bind(\"click\", function () {\n      console.log('cap_closePopupBtn');\n      ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n      closePopupEvent();\n    });\n  }\n\n  function showConfDialog() {\n    $.fancybox({\n      'padding': 0,\n      'href': '#fully-confirm',\n      afterShow: function () {\n        attachEvents();\n      },\n      afterClose: function (template) {}\n    });\n  }\n\n  function redirectToProfilePageEvent() {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        key: FlowRouter.current().params.key\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go(\"account/profile\");\n    closePopupEvent();\n  }\n\n  function closePopupEvent() {\n    if ($) if ($.fancybox) $.fancybox.close();\n  }\n\n  function generateSlug(curURL) {\n    var propertyType = curURL.propertyType;\n    var county = curURL.county;\n    var area = curURL.area;\n    var maxRent = curURL.maxRent;\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort; // const territory = target.territory.value;\n\n    var slug = '';\n    var query = {};\n    if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n    if (county) county = county.replace(/\\s+/g, '_');\n    if (area) area = area.replace(/\\s+/g, '_');\n    if (country) country = country.replace(/\\s+/g, '_');\n    if (propertyType) slug = propertyType + \"-for-\";\n    slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n    slug += \"-in-\";\n    if (!county) area = '';\n    if (area) slug += area;\n    if (area && county) slug += \"-\";\n    if (county) slug += county;\n    if (bedCount) query.bedCount = bedCount;\n    if (luxurySort) query.luxurySort = 1;\n    if (cheapSort) query.cheapSort = 1;\n    if (country) slug += \"-\" + country;else slug += \"-ireland\";\n    var range = [{\n      cur: \"eur\",\n      min: 400,\n      max: 10000\n    }];\n    var selectedCur = range[0];\n    if (maxRent && maxRent != selectedCur.max) query.maxRent = maxRent; // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n\n    return [slugify(slug), query];\n  }\n\n  function generateSlugURL(curURL) {\n    var ret = generateSlug(curURL);\n    return FlowRouter.url('b', {\n      slug: ret[0]\n    }, ret[1]);\n  }\n\n  function slugify(text) {\n    if (!text) return '';\n    var a = 'àáäâèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/,:;';\n    var b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n    var p = new RegExp(a.split('').join('|'), 'g');\n    return text.toString().toLowerCase().replace(/\\s+/g, '') // Replace spaces with \"\"\n    .replace(p, function (c) {\n      return b.charAt(a.indexOf(c));\n    }) // Replace special chars\n    .replace(/&/g, '-and-') // Replace & with ''\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n  }\n\n  function showLoginDialog() {\n    Session.set('showForgotForm', false);\n    Session.set('showSignupForm', false);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  }\n\n  function fixImageSize() {\n    var avgW = 0;\n    $('#relatedsection .thumbnail img').each(function () {\n      if (!avgW) avgW = $(this).width();else {\n        avgW += $(this).width();\n        avgW = avgW / 2;\n      }\n    });\n    if (!avgW) avgW = 250;\n    $('#relatedsection .thumbnail img').width('100%');\n    $('#relatedsection .thumbnail img').height(avgW * 0.7);\n  }\n\n  function chunkify(a, n, balanced) {\n    if (n < 2) return [a];\n    if (!Array.isArray(a)) return [];\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n      size = Math.floor(len / n);\n\n      while (i < len) {\n        out.push(a.slice(i, i += size));\n      }\n    } else if (balanced) {\n      while (i < len) {\n        size = Math.ceil((len - i) / n--);\n        out.push(a.slice(i, i += size));\n      }\n    } else {\n      n--;\n      size = Math.floor(len / n);\n      if (len % size === 0) size--;\n\n      while (i < size * n) {\n        out.push(a.slice(i, i += size));\n      }\n\n      out.push(a.slice(size * n));\n    }\n\n    return out;\n  }\n\n  function autoExpandDelayed() {\n    setTimeout(autoExpand, 500);\n  }\n\n  function autoExpand() {\n    var field = $('#bidMessage')[0];\n    if (!field) return; // Reset field height\n\n    field.style.height = 'inherit'; // Get the computed styles for the element\n\n    var computed = window.getComputedStyle(field); // Calculate the height\n\n    var height = parseInt(computed.getPropertyValue('border-top-width'), 10) + parseInt(computed.getPropertyValue('padding-top'), 10) + field.scrollHeight + parseInt(computed.getPropertyValue('padding-bottom'), 10) + parseInt(computed.getPropertyValue('border-bottom-width'), 10);\n    field.style.height = height - 20 + 'px'; //adding -40 due to the result of test case that its causing too much space extra in a normal way, may be due to font size, line height etc.\n  }\n\n  ;\n  isApplySuccessfulOpen = false;\n\n  function showApplySuccessfulDialog() {\n    // console.log(\"Apply showApplySuccessfulDialog\")\n    $.fancybox({\n      'padding': 0,\n      'href': '#apply-successful-popup',\n      afterShow: function () {\n        isApplySuccessfulOpen = true;\n      },\n      afterClose: function () {\n        isApplySuccessfulOpen = false;\n      }\n    });\n  }\n\n  var LettingDetail = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(LettingDetail, _Component);\n\n    function LettingDetail(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n      var current = FlowRouter.current();\n      _this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n      var searchCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var fCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var areaCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var countyCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n\n      if (props.data) {\n        if (props.data.searchCrumbs) {\n          var chunks = chunkify(props.data.searchCrumbs, 3, true);\n          searchCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n\n        if (props.data.fCrumbs) {\n          var chunks = chunkify(props.data.fCrumbs, 3, true);\n          fCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n\n        if (props.data.areaCrumbs) {\n          var chunks = chunkify(props.data.areaCrumbs, 3, true);\n          areaCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n\n        if (props.data.countyCrumbs) {\n          var chunks = chunkify(props.data.countyCrumbs, 3, true);\n          countyCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n      }\n\n      _this.state = {\n        isApplicationInProgress: false,\n        'searchCrumbs': searchCrumbs,\n        fCrumbs: fCrumbs,\n        areaCrumbs: areaCrumbs,\n        countyCrumbs: countyCrumbs,\n        personalMessage: \"\"\n      };\n      _this.searchCrumbsLoaded = false;\n      _this.applyNowBtnHandler = _this.applyNowBtnHandler.bind(_assertThisInitialized(_this));\n      _this.redirectToProfilePageHandler = _this.redirectToProfilePageHandler.bind(_assertThisInitialized(_this));\n      _this.confirmApplyBtnHandler = _this.confirmApplyBtnHandler.bind(_assertThisInitialized(_this));\n      _this.cap_closePopupBtnHandler = _this.cap_closePopupBtnHandler.bind(_assertThisInitialized(_this));\n      _this.cap_viewSimilarLettingsBtnHandler = _this.cap_viewSimilarLettingsBtnHandler.bind(_assertThisInitialized(_this));\n      _this.backBtnHandler = _this.backBtnHandler.bind(_assertThisInitialized(_this));\n      _this.noPropBackBtnHandler = _this.noPropBackBtnHandler.bind(_assertThisInitialized(_this));\n      _this.pd_cap_btnHandler = _this.pd_cap_btnHandler.bind(_assertThisInitialized(_this));\n      _this.pd_cap_aHandler = _this.pd_cap_aHandler.bind(_assertThisInitialized(_this));\n      _this.headerApplyNowBtnHandler = _this.headerApplyNowBtnHandler.bind(_assertThisInitialized(_this));\n      _this.mainUploadRefBtnHandler = _this.mainUploadRefBtnHandler.bind(_assertThisInitialized(_this));\n      _this.mainUpdateRefBtnHandler = _this.mainUpdateRefBtnHandler.bind(_assertThisInitialized(_this));\n      _this.mainApplyNowBtnHandler = _this.mainApplyNowBtnHandler.bind(_assertThisInitialized(_this));\n      _this.createAlertBtnHandler = _this.createAlertBtnHandler.bind(_assertThisInitialized(_this));\n      updateViewsCalled = false;\n      _this.propsListHTML = '';\n      _this.isServerSSRReq = '';\n      _this.handlePersonalMessageChange = _this.handlePersonalMessageChange.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    var _proto = LettingDetail.prototype;\n\n    _proto.backBtnHandler = function () {\n      function backBtnHandler() {\n        var prevRoute = Session.get('prevRoute');\n\n        if (prevRoute) {\n          FlowRouter.go(prevRoute.name, prevRoute.args);\n          Session.set('prevRoute', false);\n        } else {\n          FlowRouter.go(\"/account/myproperies/\", {\n            pageno: 1\n          });\n        }\n      }\n\n      return backBtnHandler;\n    }();\n\n    _proto.noPropBackBtnHandler = function () {\n      function noPropBackBtnHandler() {\n        var prevRoute = Session.get('prevRoute');\n\n        if (prevRoute) {\n          FlowRouter.go(prevRoute.name, prevRoute.args);\n          Session.set('prevRoute', false);\n        } else {\n          FlowRouter.go(\"home\");\n        }\n      }\n\n      return noPropBackBtnHandler;\n    }();\n\n    _proto.cap_closePopupBtnHandler = function () {\n      function cap_closePopupBtnHandler() {\n        console.log('cap_closePopupBtn');\n        ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n        closePopupEvent();\n      }\n\n      return cap_closePopupBtnHandler;\n    }();\n\n    _proto.cap_viewSimilarLettingsBtnHandler = function () {\n      function cap_viewSimilarLettingsBtnHandler() {\n        console.log('cap_viewSimilarLettingsBtnHandler');\n        ga('send', 'event', 'PDPage', 'CAPViewSimilarLettingsBtn', 'CAP: View Simiar Lettings Btn Clicked'); //CAP: Confirm Apply Popup\n\n        closePopupEvent();\n        var element = document.getElementById(\"relatedsection\");\n        element.scrollIntoView();\n      }\n\n      return cap_viewSimilarLettingsBtnHandler;\n    }();\n\n    _proto.redirectToProfilePageHandler = function () {\n      function redirectToProfilePageHandler() {\n        redirectToProfilePageEvent();\n      }\n\n      return redirectToProfilePageHandler;\n    }();\n\n    _proto.handlePersonalMessageChange = function () {\n      function handlePersonalMessageChange(event) {\n        this.setState({\n          personalMessage: event.target.value\n        });\n        autoExpandDelayed();\n      }\n\n      return handlePersonalMessageChange;\n    }();\n\n    _proto.confirmApplyBtnHandler = function () {\n      function confirmApplyBtnHandler() {\n        console.log('confirmApplyBtn');\n        ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n        var auctionId = this.props.data._id;\n        var price = $('#bidPrice').val();\n        price = parseInt(price);\n\n        if (isNaN(price)) {\n          alert(\"Please enter a valid offer price.\");\n          return;\n        } // var bidMessage = $('#bidMessage').val();\n\n\n        var bidMessage = this.state.personalMessage;\n        bidMessage = bidMessage.substring(0, 500);\n        var min = this.props.data.price * 0.7,\n            max = this.props.data.price * 1.5;\n\n        if (!auctionId) {\n          console.log(\"invalid data\");\n          return;\n        }\n\n        if (price < min || price > max) {\n          alert(\"Offer price should be between \" + min + \" and \" + max + \". Please adjust your offer price again.\");\n          return;\n        } // debugger;\n\n\n        this.setState({\n          isApplicationInProgress: true\n        });\n\n        this.placeBidCallback = function (error, result) {\n          this.setState({\n            isApplicationInProgress: false\n          });\n\n          if (error) {\n            console.log(error);\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          }\n\n          if (result.status == 'Success') {\n            console.log(\"Success\");\n            closePopupEvent(); //Dont close it, instead show the successful part of that dialog\n\n            setTimeout(showApplySuccessfulDialog, 500);\n            setTimeout(function () {\n              if (!isApplySuccessfulOpen) showApplySuccessfulDialog();\n            }, 1500);\n            setTimeout(function () {\n              if (!isApplySuccessfulOpen) showApplySuccessfulDialog();\n            }, 3000);\n          }\n        };\n\n        this.placeBidCallback = this.placeBidCallback.bind(this);\n        Meteor.call('placeBid', [auctionId, price, bidMessage], this.placeBidCallback);\n        var user = Accounts.user();\n        if (user) if (user.profile) if (!user.profile.mobile) {\n          var mobile = false,\n              isValid = false;\n          mobile = prompt(\"You don't have a mobile number attached to your profile. Please enter mobile to proceed. \");\n\n          var _tmp = mobile.split('+');\n\n          if (_tmp.length > 1) mobile = _tmp[1];\n          if (validateMobileNumber(mobile)) isValid = true;\n\n          while (!isValid) {\n            //This is an un limited loop of mobile number.\n            mobile = prompt(\"Error! invalid format. Please enter mobile number in format +353 893456789.\");\n            if (validateMobileNumber(mobile)) isValid = true;\n          } // if(/^\\d{10}$/.test(mobile)) {\n\n\n          if (isValid) {\n            Meteor.call('updateMobile', mobile, function (error, result) {\n              if (error) {\n                console.log(error.error);\n                var tmp = Session.get(\"showErrorDlg\");\n                var msg = 'Mobile number update failed. Please try again. Contact us if needed.';\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\", tmp);\n                return;\n              }\n            });\n          }\n        }\n      }\n\n      return confirmApplyBtnHandler;\n    }();\n\n    _proto.applyNowBtnHandler = function () {\n      function applyNowBtnHandler(event) {\n        // Prevent default browser form submit\n        if (event) event.preventDefault();\n        console.log(\"Apply now btn clicked\");\n\n        if (!this.props.user) {\n          Session.set('loginFromApplyNowBtn', true);\n          showLoginDialog();\n          return;\n        } // if(user._id == this._createdByAgent ){\n        //     console.log(\"Owner cannot apply for the house.\");\n        //     return;\n        // }\n        //Do mobile verification\n\n\n        if (this.props.user.profile) if (this.props.user.profile.personalMessage && !this.state.personalMessage) {\n          //Do this only if the current sessions personal message is empty\n          this.setState({\n            personalMessage: this.props.user.profile.personalMessage\n          });\n        }\n\n        if (this.props.myBid) {\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Error: You have an existing application, please refresh the page.\");\n          Session.set(\"showErrorDlg\", tmp);\n          console.log(\"Already has a bid\");\n          return;\n        }\n\n        this.afterCFun = function () {\n          attachEvents();\n          setTimeout(function () {\n            $('#bidPrice').focus().select();\n            autoExpandDelayed();\n          }, 500);\n        };\n\n        this.afterCFun = this.afterCFun.bind(this);\n        $.fancybox({\n          'padding': 0,\n          'href': '#confirm-apply-pop',\n          afterShow: this.afterCFun,\n          afterClose: function () {}\n        });\n      }\n\n      return applyNowBtnHandler;\n    }();\n\n    _proto.headerApplyNowBtnHandler = function () {\n      function headerApplyNowBtnHandler() {\n        console.log('headerApplyNowBtn');\n        ga('send', 'event', 'PDPage', 'HeaderApplyNowBtnClicked', 'Header: Apply now Btn Clicked');\n        this.applyNowBtnHandler();\n      }\n\n      return headerApplyNowBtnHandler;\n    }();\n\n    _proto.mainApplyNowBtnHandler = function () {\n      function mainApplyNowBtnHandler(event) {\n        console.log('mainApplyNowBtn');\n        ga('send', 'event', 'PDPage', 'ApplyNowBtnClicked', 'Main: Apply now Btn Clicked');\n        this.applyNowBtnHandler(event);\n      }\n\n      return mainApplyNowBtnHandler;\n    }();\n\n    _proto.pd_cap_btnHandler = function () {\n      function pd_cap_btnHandler(event) {\n        if (event) event.preventDefault();\n        console.log('pd_cap_btn');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n      }\n\n      return pd_cap_btnHandler;\n    }();\n\n    _proto.pd_cap_aHandler = function () {\n      function pd_cap_aHandler(event) {\n        if (event) event.preventDefault();\n        console.log('pd_cap_a');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n        redirectToProfilePageEvent();\n      }\n\n      return pd_cap_aHandler;\n    }();\n\n    _proto.mainUploadRefBtnHandler = function () {\n      function mainUploadRefBtnHandler() {\n        console.log('mainUploadRefBtn');\n        ga('send', 'event', 'PDPage', 'UploadRefBtnClicked', 'Main: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n      }\n\n      return mainUploadRefBtnHandler;\n    }();\n\n    _proto.mainUpdateRefBtnHandler = function () {\n      function mainUpdateRefBtnHandler() {\n        console.log('mainUpdateRefBtn');\n        ga('send', 'event', 'PDPage', 'UpdateRefBtnClicked', 'Main: Update Reference Btn Clicked');\n        redirectToProfilePageEvent();\n      }\n\n      return mainUpdateRefBtnHandler;\n    }();\n\n    _proto.createAlertBtnHandler = function () {\n      function createAlertBtnHandler() {\n        console.log('createAlertBtnHandler');\n        ga('send', 'event', 'PDPage', 'createAlertBtnClicked', 'Main: Create Alert Btn Clicked');\n        Session.set('showCreateAlertPopup', true);\n      }\n\n      return createAlertBtnHandler;\n    }();\n\n    _proto.componentDidMount = function () {\n      function componentDidMount() {\n        $(document).ready(function () {\n          $('.scroll-menu-div').hide();\n          $(window).on(\"scroll\", function () {\n            var scrollPercent = 100 * $(window).scrollTop() / ($(document).height() - $(window).height());\n\n            if (scrollPercent > 10) {\n              $('.scroll-menu-div').fadeIn();\n              $(\".scroll-menu-div\").addClass('fixed-header');\n            } else {\n              $('.scroll-menu-div').hide();\n              $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n            }\n          });\n          setTimeout(function () {\n            try {\n              jQuery(\"html,body\").animate({\n                scrollTop: 0\n              }, 250);\n            } catch (e) {\n              document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n\n            $('.scroll-menu-div').hide();\n            $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n          }, 500);\n        });\n        setTimeout(fixImageSize, 1000);\n        setTimeout(fixImageSize, 3000);\n        setTimeout(fixImageSize, 5000); // setTimeout(function(){addthis.init();addthis.layers.refresh();},5000)\n\n        $(window).resize(fixImageSize);\n        $(window).resize(autoExpandDelayed);\n      }\n\n      return componentDidMount;\n    }();\n\n    _proto.componentDidUpdate = function () {\n      function componentDidUpdate() {\n        setTimeout(fixImageSize, 1000);\n        setTimeout(fixImageSize, 3000);\n        setTimeout(fixImageSize, 5000);\n\n        if (this.props.data && !updateViewsCalled) {\n          updateViewsCalled = true;\n          Meteor.call('updateViews', this.props.data._id);\n        }\n\n        if (propertyKeyOfThisPage && this.props.data.lettingAuctionCode) {\n          if (this.props.data.lettingAuctionCode != propertyKeyOfThisPage) {\n            //lettingAuctionCode changed, means page is changed\n            //Constructor elements needs to be called again\n            updateViewsCalled = true;\n            Meteor.call('updateViews', this.props.data._id);\n            this.setState({\n              isApplicationInProgress: false,\n              personalMessage: \"\"\n            });\n            this.searchCrumbsLoaded = false;\n            Session.set('subscriptionsReady2', false);\n            propertyKeyOfThisPage = this.props.data.lettingAuctionCode;\n            setTimeout(function () {\n              try {\n                jQuery(\"html,body\").animate({\n                  scrollTop: 0\n                }, 250);\n              } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n              }\n            }, 500);\n          }\n        }\n      }\n\n      return componentDidUpdate;\n    }();\n\n    _proto.componentWillReceiveProps = function () {\n      function componentWillReceiveProps(props) {\n        var searchCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n        var fCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n        var areaCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n        var countyCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n\n        if (props.data.searchCrumbs != this.state.searchCrumbs) {\n          var chunks = chunkify(props.data.searchCrumbs, 3, true);\n          searchCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          }; // console.log('in the setState for searchCrumbs')\n\n          this.setState({\n            'searchCrumbs': searchCrumbs\n          });\n        }\n\n        if (props.data.fCrumbs != this.state.fCrumbs) {\n          var chunks = chunkify(props.data.fCrumbs, 3, true);\n          fCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          }; // console.log('in the setState for fCrumbs')\n\n          this.setState({\n            fCrumbs: fCrumbs\n          });\n        }\n\n        if (props.data.areaCrumbs != this.state.areaCrumbs) {\n          var chunks = chunkify(props.data.areaCrumbs, 3, true);\n          areaCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          }; // console.log('in the setState for areaCrumbs')\n\n          this.setState({\n            areaCrumbs: areaCrumbs\n          });\n        }\n\n        if (props.data.countyCrumbs != this.state.countyCrumbs) {\n          var chunks = chunkify(props.data.countyCrumbs, 3, true);\n          countyCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          }; // console.log('in the setState for countyCrumbs')\n\n          this.setState({\n            countyCrumbs: countyCrumbs\n          });\n        }\n      }\n\n      return componentWillReceiveProps;\n    }() // currentURL:function () {\n    //     return Router.current().originalUrl;\n    // },\n    ;\n\n    _proto.isCurUserBid = function () {\n      function isCurUserBid() {\n        //todo: test this\n        debugger;\n        if (!this.props.user) return false;\n        if (this.userId == user._id) return true;\n        return false;\n      }\n\n      return isCurUserBid;\n    }();\n\n    _proto.renderMain = function () {\n      function renderMain() {\n        return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"section\", {\n          className: \"scroll-menu-div\",\n          style: {\n            zIndex: '1000'\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"scroll-menu\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"left-menu\"\n        }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + \"#imagessection\",\n          className: \"active scroll1\"\n        }, \"PHOTOS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + \"#detailssection\",\n          className: \"scroll1\"\n        }, \"DETAILS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + \"#amenitiessection\",\n          className: \"scroll1\"\n        }, \"AMENITIES\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"right-menu\"\n        }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"left-line\"\n        }, /*#__PURE__*/React.createElement(\"p\", null, \"Applications received\"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"pad-btm-0 text-center\"\n        }, this.props.data.applicationsReceivedCount)), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"left-line\"\n        }, /*#__PURE__*/React.createElement(\"p\", null, \"Owner's Current Rent\"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"pad-btm-0 text-center\"\n        }, \"\\u20AC \", this.props.data.price + \" (\" + this.props.data.rentType + \")\")), /*#__PURE__*/React.createElement(\"li\", null, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + '#relatedsection',\n          className: \"green-btn  btns\",\n          type: \"button\"\n        }, \"View similar lettings\") : this.props.myBid ? /*#__PURE__*/React.createElement(\"button\", {\n          className: \"green-btn  btns viewMyApplication\",\n          type: \"button\"\n        }, \"Already applied\") : /*#__PURE__*/React.createElement(\"buttons\", {\n          onClick: this.headerApplyNowBtnHandler,\n          className: \"blue-btn btns headerApplyNowBtn applyNowBtn\"\n        }, \"Apply for this \", this.props.PD.type))))))), /*#__PURE__*/React.createElement(\"section\", {\n          className: \"banner\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"imagessection\",\n          className: \"col-md-7 padding0\"\n        }, /*#__PURE__*/React.createElement(\"figure\", null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"banner-holder\"\n        }, /*#__PURE__*/React.createElement(ImagesSlider, {\n          images: this.props.sliderImages\n        })), this.props.isAgent ? /*#__PURE__*/React.createElement(\"figcaption\", null, /*#__PURE__*/React.createElement(\"h2\", null, this.props.isAgent.name), /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            padding: 0\n          }\n        }, this.props.isAgent.address1)) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-5 purva-bg\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"purva\"\n        }, this.props.isAgent ? /*#__PURE__*/React.createElement(\"img\", {\n          src: this.props.isAgent.logourl,\n          alt: this.props.isAgent.name,\n          style: this.props.isAgent.style\n        }) : \"\", /*#__PURE__*/React.createElement(\"h1\", null, titleCase(this.props.PD.address.address), this.props.PD.address.area ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.area)) : '', this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : ''), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            marginBottom: '10px'\n          }\n        }, titleCase(this.props.PD.type), \" to rent in \", titleCase(this.props.PD.address.area), this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : '', \". Its \", this.props.PD.furnished ? \"a furnished\" : \"an Unfurnished\", \" \", titleCase(this.props.PD.type), \" with \", this.props.PD.bedroomsCount, \" beds, \", this.props.PD.baths, \" baths, \", this.props.PD.ensuiteCount ? this.props.PD.ensuiteCount : \"no\", \" Ensuite and \", this.props.PD.doubleBedCount ? this.props.PD.doubleBedCount : \"has no\", \" Double bed property/accommodation, your next my home. \", this.props.isAgent ? /*#__PURE__*/React.createElement(\"span\", null, \"Its posted by \", this.props.isAgent.name, \".\") : \"\", \" Click apply below to send your interest to the landlord and he would contact you soon. \"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: '#b3b3b3'\n          }\n        }, \"Views\"), \" :  \", this.props.data.views)), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url('howitworks')\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: '#39b54a',\n            fontFamily: '\"montserratregular\"',\n            padding: 0\n          }\n        }, \"How it works?\"))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url('contactus')\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: '#39b54a',\n            fontFamily: '\"montserratregular\"',\n            padding: 0\n          }\n        }, \"Need help?\")))), /*#__PURE__*/React.createElement(\"p\", null, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"purva-developer\"\n        }, /*#__PURE__*/React.createElement(\"h5\", null, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: '#b3b3b3'\n          }\n        }, \"Owner's Current Rent :\"), \"\\u20AC \", this.props.data.price + \" (\" + this.props.data.rentType + \")\")), this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontFamily: '\"montserratregular\"'\n          }\n        }, \"This property is already leased. Please use one of the options below.\") : \"\", /*#__PURE__*/React.createElement(\"div\", {\n          className: \"purva-btns\"\n        }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + '#relatedsection',\n          className: \"green-btn  btns\",\n          type: \"button\"\n        }, \"View similar lettings\"), /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + '#searchsection',\n          className: \"transparent-btn btns mar-left-10\",\n          type: \"button\"\n        }, \"Search More\")) : this.props.myBid ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"green-btn  btns viewMyApplication\",\n          type: \"button\"\n        }, \"Already applied\"), this.hasAllReqReferences ? /*#__PURE__*/React.createElement(\"button\", {\n          className: \"transparent-btn btns mainUpdateRefBtn mar-left-10\",\n          onClick: this.mainUpdateRefBtnHandler,\n          type: \"button\",\n          title: \"View your references\"\n        }, \"Update references\") : /*#__PURE__*/React.createElement(\"button\", {\n          className: \"transparent-btn btns mainUploadRefBtn mar-left-10\",\n          onClick: this.mainUploadRefBtnHandler,\n          type: \"button\",\n          title: \"You dont have all your references updated in your profile. Missing files are  {addCommaToEach(this.props.refListArr)}\"\n        }, \"Upload references\")) : /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"buttons\", {\n          onClick: this.mainApplyNowBtnHandler,\n          className: \"blue-btn btns mainApplyNowBtn applyNowBtn\"\n        }, \"Apply for this \", this.props.PD.type), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"hidden-xs\"\n        }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"visible-xs\",\n          style: {\n            height: 1\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", null)), this.hasAllReqReferences ? /*#__PURE__*/React.createElement(\"button\", {\n          className: \"transparent-btn btns mainUpdateRefBtn\",\n          onClick: this.mainUpdateRefBtnHandler,\n          type: \"button\",\n          title: \"View your references\"\n        }, \"Update references\") : /*#__PURE__*/React.createElement(\"button\", {\n          className: \"transparent-btn btns mainUploadRefBtn\",\n          onClick: this.mainUploadRefBtnHandler,\n          type: \"button\",\n          title: \"You dont have all your references updated in your profile. Missing files are  \" + addCommaToEach(this.props.refListArr)\n        }, \"Upload references\")), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"hidden-xs\"\n        }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"visible-xs\",\n          style: {\n            height: 1\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"green-btn btns\",\n          onClick: this.createAlertBtnHandler,\n          type: \"button\",\n          title: \"Be the first to hear about the latest lettings in your area. Signup for our email alerts.\"\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-bell\"\n        }), \" Create Alert\"))))))))), /*#__PURE__*/React.createElement(\"section\", {\n          className: \"main-sec\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"detailssection\",\n          className: \"border mar-btm-20 background-white\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"head-border-bottom head-border-bottomTitleArea\"\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Details\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"developer proj-dtls \"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"clearfix\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-9\"\n        }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"list-inline\"\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: true\n        }, /*#__PURE__*/React.createElement(\"h3\", null, \"Rent type\"), /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"pad-btm-0\"\n        }, titleCase(this.props.data.rentType))), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"left-line\"\n        }, /*#__PURE__*/React.createElement(\"h3\", null, \"Available from\"), /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"pad-btm-0\"\n        }, dateFormat(this.props.data.readyFrom))), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"left-line\"\n        }, /*#__PURE__*/React.createElement(\"h3\", null, \"Available until\"), /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"pad-btm-0\"\n        }, this.props.data.lease))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"project-detail\"\n        }, /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"bdr-btm\"\n        }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"color-grey\"\n        }, \"Location\"), /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"heading-reg\"\n        }, \" \", titleCase(this.props.PD.address.address), \", \", titleCase(this.props.PD.address.area), \", \", titleCase(this.props.PD.address.county))), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"pad-left-35\"\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"color-grey\"\n        }, \"BER\"), /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"heading-reg\"\n        }, \" \", addCommaToEach(this.props.PD.BER)))))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mar-top-20 \"\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"heading-reg\"\n        }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"color-grey pad-btm-10\",\n          dangerouslySetInnerHTML: {\n            __html: nlToBr(this.props.PD.about)\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-3\"\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"heading-reg\"\n        }, \"Bedrooms : \", this.props.PD.bedroomsCount), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"handed-proj-bg clearfix\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-6\"\n        }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, this.props.PD.doubleBedCount), /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"pad-btm-0\"\n        }, \"Double\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-6\",\n          style: {\n            padding: 0\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"left-line\"\n        }, /*#__PURE__*/React.createElement(\"h3\", null, this.props.PD.ensuiteCount), /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"pad-btm-0\"\n        }, \"Ensuite\")))), /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"heading-reg mar-top-30\"\n        }, \"Contact\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"handed-proj-bg clearfix\"\n        }, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontFamily: '\"montserratregular\"'\n          },\n          className: \"text-center\"\n        }, \"This property is already leased.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + '#relatedsection',\n          title: \"Browse through more available lettings for rent in \" + titleCase(this.props.PD.address.area) + \", \" + titleCase(this.props.PD.address.county)\n        }, \"View similar lettings\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + '#searchsection',\n          title: \"Search more available properties for rent in \" + titleCase(this.props.PD.address.area) + \", \" + titleCase(this.props.PD.address.county)\n        }, \"Search More\")) : this.props.data.primaryContact.phone ? this.props.PD.contacts.map(function (contact, i) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: i,\n            className: \"col-md-12\"\n          }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, titleCase(contact.name), \" : \", /*#__PURE__*/React.createElement(\"a\", {\n            href: \"tel:\" + contact.phone\n          }, contact.phone))));\n        }) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-12\"\n        }, \"Apply for this property to email owner\")))))), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"amenitiessection\",\n          className: \"mar-btm-30 amenities\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"head-border-bottom head-border-bottomTitleArea\"\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Amenities\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"amenitiy-block\"\n        }, /*#__PURE__*/React.createElement(\"ul\", null, this.props.PD.amenitiesWithImgs.map(function (aminity, i) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: i\n          }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"img\", {\n            src: aminity.src\n          })), titleCase(aminity.name)));\n        })))), this.props.data.relatedProps ? /*#__PURE__*/React.createElement(\"div\", {\n          id: \"relatedsection\",\n          className: \"mar-btm-30 amenities subscribeTillPopop\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"head-border-bottom head-border-bottomTitleArea\"\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Similar \", titleCase(this.props.PD.type), \" to rent in \", titleCase(this.props.PD.address.area), this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : '')), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"amenitiy-block\",\n          style: {\n            \"float\": 'left',\n            display: 'block'\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            margin: '0 20px'\n          }\n        }, \"Below are few more \", titleCase(this.props.PD.type), \" to rent in \", this.props.PD.address.area ? /*#__PURE__*/React.createElement(\"span\", null, titleCase(this.props.PD.address.area)) : '', this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : '', \". They are also located near \", titleCase(this.props.PD.address.address), this.props.PD.address.area ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.area)) : '', this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : ''), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"thumbnails thumbRelated\"\n        }, this.props.data.relatedProps.map(function (property, i) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: \"span4\",\n            key: i,\n            style: {\n              \"float\": 'left'\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: FlowRouter.url('rent', {\n              slug: property.slug,\n              key: property.auction.lettingAuctionCode\n            })\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"thumbnail\"\n          }, property.firstImg ? property.firstImg.url ? property.firstImg.url.indexOf('amazonaws') ? /*#__PURE__*/React.createElement(\"img\", {\n            src: \"https://process.filestackapi.com/AIPACLEs7ShGwwPh6fMTxz/resize=width:250/\" + property.firstImg.url,\n            alt: titleCase(property.address.address) + property.address.area ? \", \" + titleCase(property.address.area) : '' + property.address.county ? \", \" + titleCase(property.address.county) : ''\n          }) : /*#__PURE__*/React.createElement(\"img\", {\n            src: \"https://process.filestackapi.com/resize=width:250/\" + property.firstImg.url,\n            alt: titleCase(property.address.address) + property.address.area ? \", \" + titleCase(property.address.area) : '' + property.address.county ? \", \" + titleCase(property.address.county) : ''\n          }) : /*#__PURE__*/React.createElement(\"img\", {\n            src: cdnPath(\"/images/no-photo.png\"),\n            style: {\n              width: 250,\n              height: 188\n            }\n          }) : \"\", /*#__PURE__*/React.createElement(\"h3\", null, titleCase(property.address.address), property.address.area ? /*#__PURE__*/React.createElement(\"as\", null, \", \", titleCase(property.address.area)) : '', property.address.county ? /*#__PURE__*/React.createElement(\"as\", null, \", \", titleCase(property.address.county)) : '', \" for rent\"))));\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"amenitiy-block\",\n          style: {\n            paddingTop: 0\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"searchsection\",\n          className: 'bottomcrumbs row'\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Search more properties to rent\"), /*#__PURE__*/React.createElement(\"p\", null, \"Chooes a link below to browse through more relavent properties to rent.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-5 col-sm-5 col-xs-12\"\n        }, this.state.searchCrumbs.c1 ? this.state.searchCrumbs.c1.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.searchCrumbs.c2 ? this.state.searchCrumbs.c2.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-3 col-sm-3 col-xs-12\"\n        }, this.state.searchCrumbs.c3 ? this.state.searchCrumbs.c3.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: 'bottomcrumbs row'\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Property types to rent\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-3 col-sm-3 col-xs-12\"\n        }, this.state.fCrumbs.c1 ? this.state.fCrumbs.c1.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.fCrumbs.c2 ? this.state.fCrumbs.c2.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-5 col-sm-5 col-xs-12\"\n        }, this.state.fCrumbs.c3 ? this.state.fCrumbs.c3.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: 'bottomcrumbs row'\n        }, /*#__PURE__*/React.createElement(\"h2\", null, this.props.PD.address.county, \" neighbourhoods\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.areaCrumbs.c1 ? this.state.areaCrumbs.c1.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.areaCrumbs.c2 ? this.state.areaCrumbs.c2.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.areaCrumbs.c3 ? this.state.areaCrumbs.c3.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: 'bottomcrumbs row'\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Other counties to rent\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.countyCrumbs.c1 ? this.state.countyCrumbs.c1.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.countyCrumbs.c2 ? this.state.countyCrumbs.c2.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 col-sm-4 col-xs-12\"\n        }, this.state.countyCrumbs.c3 ? this.state.countyCrumbs.c3.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"a\", {\n            key: i,\n            style: {\n              display: \"block\"\n            },\n            href: crumb.url\n          }, crumb.name);\n        }) : \"\"))))) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"apply-successful-popup\",\n          style: {\n            display: 'none'\n          },\n          className: \"verification-div1 isApplicationSuccessful\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"refund-div\"\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"green-text\"\n        }, \"Application Successful\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"profile-text\"\n        }, /*#__PURE__*/React.createElement(\"h3\", null, \"Good Job!\"), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            padding: 0\n          }\n        }, \"Landlord is notified of your application and would contact you via email if successful.\"), false ? \"\" : this.hasAllReqReferences ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\"\n        }, /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"h3\", null, \"Improve your chances of securing this letting\"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"color-text\",\n          style: {\n            textAlign: \"center\",\n            margin: \"10px 0\"\n          }\n        }, \"Upload your references in your profile to have an higher chance over other applicants. Missing files are\\xA0\", addCommaToEach(this.props.refListArr), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url(\"account/profile\"),\n          onClick: this.pd_cap_aHandler,\n          className: \"pd_cap_a \"\n        }, \"Upload them now?\")), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url(\"account/profile\"),\n          style: {\n            margin: '0 auto',\n            width: \"200px\"\n          },\n          className: \"blue-btn btns\",\n          onClick: this.pd_cap_btnHandler,\n          type: \"button\"\n        }, \"Upload references \"))), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            padding: 0\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: this.currentURL + \"#relatedsection\",\n          onClick: this.cap_viewSimilarLettingsBtnHandler,\n          className: \"transparent-btn btns\",\n          style: {\n            margin: '0 auto',\n            width: \"200px\"\n          }\n        }, \"View Similar lettings\")))), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"confirm-apply-pop\",\n          style: {\n            display: 'none'\n          },\n          className: \"verification-div1 \"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"refund-div\"\n        }, /*#__PURE__*/React.createElement(\"h2\", null, \"Confirm Apply\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"profile-text\"\n        }, /*#__PURE__*/React.createElement(\"h3\", null, \"Landlords asking rent is \", this.props.data.price + \" (\" + this.props.data.rentType + \")\"), /*#__PURE__*/React.createElement(\"form\", {\n          className: \"signin-form\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-border\",\n          style: {\n            padding: '20px 0'\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"styled-input underline\",\n          style: {\n            borderBottom: '1px solid #2169a8'\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          className: \"bidPrice\",\n          type: \"number\",\n          placeholder: this.props.data.price,\n          defaultValue: this.props.data.price,\n          name: \"number\",\n          id: \"bidPrice\",\n          required: true,\n          min: this.props.priceRange.min,\n          max: this.props.priceRange.max\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"styled-input underline\"\n        }, /*#__PURE__*/React.createElement(\"textarea\", {\n          className: \"form-control bidMessage\",\n          id: \"bidMessage\",\n          rows: 1,\n          placeholder: \"You may enter a personal message to landlord if you wish.\",\n          maxLength: 500,\n          value: this.state.personalMessage,\n          onChange: this.handlePersonalMessageChange,\n          style: {\n            textAlign: \"center\"\n          }\n        })))), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"color-text\",\n          style: {\n            marginTop: '20px',\n            textAlign: \"center\"\n          }\n        }, \"We will submit all the references available in your profile. \"), false ? \"\" : this.hasAllReqReferences ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"radio-bg register\"\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          style: {\n            lineHeight: '22px',\n            marginBottom: '10px'\n          }\n        }, \"Oops! You dont have all your references updated in your profile. \"), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"color-text\",\n          style: {\n            textAlign: \"center\"\n          }\n        }, \"Missing files are\\xA0\", addCommaToEach(this.props.refListArr), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url(\"account/profile\"),\n          onClick: this.pd_cap_aHandler,\n          className: \"pd_cap_a \"\n        }, \"Upload them now?\")), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url(\"account/profile\"),\n          style: {\n            margin: '0 auto',\n            width: \"200px\"\n          },\n          className: \"transparent-btn btns pd_cap_btn\",\n          onClick: this.pd_cap_btnHandler,\n          type: \"button\"\n        }, \"Upload references \")), /*#__PURE__*/React.createElement(\"p\", null, \"Your chances of getting the house will be more if you apply with all the references. To proceed anyways click Submit below.\")), /*#__PURE__*/React.createElement(\"ul\", null, this.state.isApplicationInProgress ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"transparent-btn  btns\",\n          type: \"button\"\n        }, \"Applying... \")) : /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.confirmApplyBtnHandler,\n          className: \"blue-btn  btns confirmApplyBtn\",\n          type: \"button\"\n        }, \"Submit \")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.cap_closePopupBtnHandler,\n          style: {\n            marginLeft: '10px'\n          },\n          className: \"transparent-btn btns cap_closePopupBtn\",\n          disabled: this.state.isApplicationInProgress,\n          type: \"button\"\n        }, \"Cancel\"))))));\n      }\n\n      return renderMain;\n    }();\n\n    _proto.renderFullMain = function () {\n      function renderFullMain() {\n        if (Meteor.isClient) {\n          setTimeout(function () {\n            $('#lettingDetailCarousel').carousel();\n            $('#lettingDetailCarousel .carousel-control.right').unbind('click').bind('click', function () {\n              $('#lettingDetailCarousel').carousel('next');\n            });\n            $('#lettingDetailCarousel .carousel-control.left').unbind('click').bind('click', function () {\n              $('#lettingDetailCarousel').carousel('prev');\n            });\n          }, 1000);\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"property-details-page\",\n          id: 'props_list'\n        }, Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n          id: \"isservercheckdiv\"\n        }) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n          className: \"banner\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\"\n        }, /*#__PURE__*/React.createElement(\"nav\", {\n          \"aria-label\": \"breadcrumb\"\n        }, /*#__PURE__*/React.createElement(\"ol\", {\n          className: \"breadcrumb\"\n        }, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"breadcrumb-item\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url('home')\n        }, \"Home\")), this.props.data ? this.props.data.bcrumbs.map(function (crumb, i) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: i,\n            className: \"breadcrumb-item\"\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: crumb.url\n          }, crumb.name));\n        }) : \"\", /*#__PURE__*/React.createElement(\"li\", {\n          className: \"breadcrumb-item active\",\n          \"aria-current\": \"page\"\n        }, \"This property\")))))), this.props.isSubsLoaded ? this.props.data ? this.renderMain() : /*#__PURE__*/React.createElement(\"section\", {\n          className: \"mar-top-20\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container text-center mar-top-20 pad-btm-30\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"filter-holder\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mar-top-30\"\n        }, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Property already leased. Your landlord would contact you if you are chosen as a tenant.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.backBtnHandler,\n          className: \"blue-btn btns backBtn\",\n          type: \"button\"\n        }, \"Try again\")) : /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"This property is not found. Please check your key and try again.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.noPropBackBtnHandler,\n          className: \"blue-btn btns noPropBackBtn\",\n          type: \"button\"\n        }, \"Try again\")))))) : /*#__PURE__*/React.createElement(\"section\", {\n          className: \"mar-top-20 mar-btm-20 no-print\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container text-center mar-top-20 pad-btm-30\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"filter-holder\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mar-top-30\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: 'h2-div'\n        }, \"Loading...\"))))));\n      }\n\n      return renderFullMain;\n    }();\n\n    _proto.render = function () {\n      function render() {\n        var self = this;\n\n        if (Meteor.isClient && this.propsListHTML == \"\") {\n          this.propsListHTML = $('#props_list').html();\n        }\n\n        if (Meteor.isClient) {\n          this.isServerSSRReq = $('#isservercheckdiv').html();\n          if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n        } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n        return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded ? this.renderFullMain() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: this.propsListHTML\n          }\n        }) : /*#__PURE__*/React.createElement(\"section\", {\n          className: \"mar-top-20 mar-btm-20 no-print\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container text-center mar-top-20 pad-btm-30\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"filter-holder\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mar-top-30\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: 'h2-div'\n        }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n      }\n\n      return render;\n    }();\n\n    return LettingDetail;\n  }(Component);\n\n  module1.exportDefault(withTracker(function () {\n    var key = FlowRouter.getParam('key');\n    if (!key) return {\n      data: false,\n      alreadyLeased: false,\n      isSubsLoaded: true\n    };\n    if (key && !propertyKeyOfThisPage) propertyKeyOfThisPage = key; //This will init the var\n\n    var viewLettingSub = Meteor.subscribe(\"viewLetting\", key, function () {\n      if (ConfigSub.ready()) Session.set('subscriptionsReady', true); //AreasSub.ready() &&  make areas sub not req\n    }); // const AreasSub = Meteor.subscribe('Areas',function(){\n    //     if(viewLettingSub.ready() && ConfigSub.ready()  )Session.set('subscriptionsReady',true);\n    // });\n\n    var ConfigSub = Meteor.subscribe('Config', function () {\n      if (viewLettingSub.ready()) Session.set('subscriptionsReady', true);\n    });\n    if (Meteor.isClient) Session.get('subscriptionsReady');\n\n    if (!viewLettingSub.ready() || !ConfigSub.ready()) {\n      return {\n        data: false,\n        alreadyLeased: false,\n        isSubsLoaded: false\n      };\n    }\n\n    var globalConfig = Collections.Config.findOne();\n    var deletedList = [];\n\n    if (globalConfig) {\n      deletedList = globalConfig.deletedList;\n    }\n\n    if (deletedList.includes(key)) {\n      return {\n        data: false,\n        alreadyLeased: false,\n        isSubsLoaded: true\n      };\n    }\n\n    var user = Meteor.user();\n    var priceRange = {\n      min: 0,\n      max: 10000\n    };\n    var myBid = false;\n    var otherBids = false;\n    var PD = {};\n    var sliderImages = [];\n\n    advancedCrumbs = function (countyParam, areaParam, propertyType) {\n      var fCrumbs = [],\n          tmpCrumbs = [],\n          areaCrumbs = [],\n          countyCrumbs = [];\n      if (propertyType) propertyType = propertyType.toLowerCase(); // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n      //Property Size\n      //Property Size - Property Type\n      //Property Size - Property Type - County\n      //Property Type - county\n      //Counties\n      //Areas\n      //Property Size - Property Type - area - County\n      //Property Size - area - County\n      //Property Type - area - county\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          propertyType: 'studio'\n        }),\n        name: 'Studios'\n      }); //Property Size\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1\n        }),\n        name: '1-Beds'\n      }); //Property Size\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2\n        }),\n        name: '2-Beds'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3\n        }),\n        name: '3-Beds'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          cheapSort: true,\n          propertyType: 'house'\n        }),\n        name: 'Cheap Houses'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1,\n          propertyType: 'house'\n        }),\n        name: '1-Bed Houses'\n      }); //Property Size - Property Type\n\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2,\n          propertyType: 'house'\n        }),\n        name: '2-Bed Houses'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3,\n          propertyType: 'house'\n        }),\n        name: '3-Bed Houses'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          luxurySort: true,\n          propertyType: 'house'\n        }),\n        name: 'Luxury Houses'\n      });\n\n      if (propertyType == 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      }\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          cheapSort: true,\n          propertyType: 'apartment'\n        }),\n        name: 'Cheap Apartments'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1,\n          propertyType: 'apartment'\n        }),\n        name: '1-Bed Apartments'\n      }); //Property Size - Property Type\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2,\n          propertyType: 'apartment'\n        }),\n        name: '2-Bed Apartments'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3,\n          propertyType: 'apartment'\n        }),\n        name: '3-Bed Apartments'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          luxurySort: true,\n          propertyType: 'apartment'\n        }),\n        name: 'Luxury Apartments'\n      });\n\n      if (propertyType != 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      } //dublin-apartments\n      //Not doing dublin-houses due to less searches for Dublin apartments\n\n\n      var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n      for (var i = 0; i < staticCounties.length; i++) {\n        if (!staticCounties[i]) continue;\n        countyCrumbs.push({\n          url: generateSlugURL({\n            county: staticCounties[i]\n          }),\n          name: staticCounties[i] + ' Apartments'\n        });\n      }\n\n      if (countyParam) {\n        // var propertyType = curURL.propertyType;\n        // var county = curURL.county\n        // var area = curURL.area\n        // var maxRent = curURL.maxRent\n        // var country = curURL.country;\n        // var bedCount = curURL.bedCount;\n        // var luxurySort = curURL.luxurySort;\n        // var cheapSort = curURL.cheapSort;\n        //////////////////////////// WITH COUNTY\n        tmpCrumbs = [];\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            cheapSort: true,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: 'Cheap Houses for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType == 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            cheapSort: true,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: 'Cheap Apartments for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType != 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            propertyType: 'studio',\n            county: countyParam\n          }),\n          name: 'Studio for rent in county ' + titleCase(countyParam)\n        });\n        tmpCrumbs = [];\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 1,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: '1-Bed Houses for rent in county ' + titleCase(countyParam)\n        }); //Property Size - Property Type\n\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 2,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: '2-Bed Houses for rent in county ' + titleCase(countyParam)\n        });\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 3,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: '3-Bed Houses for rent in county ' + titleCase(countyParam)\n        });\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            luxurySort: true,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: 'Luxury Houses for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType == 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 1,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: '1-Bed Apartments for rent in county ' + titleCase(countyParam)\n        }); //Property Size - Property Type\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 2,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: '2-Bed Apartments for rent in county ' + titleCase(countyParam)\n        });\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 3,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: '3-Bed Apartments for rent in county ' + titleCase(countyParam)\n        });\n        fCrumbs.push({\n          url: generateSlugURL({\n            luxurySort: true,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: 'Luxury Apartments for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType != 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        if (areaParam) {\n          //////////////////////////// WITH AREA COUNTY\n          tmpCrumbs = [];\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              cheapSort: true,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Cheap Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              cheapSort: true,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Cheap Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              propertyType: 'studio',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Studio for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          tmpCrumbs = [];\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 1,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '1-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          }); //Property Size - Property Type\n\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 2,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '2-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 3,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '3-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              luxurySort: true,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Luxury Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 1,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '1-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          }); //Property Size - Property Type\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 2,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '2-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          fCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 3,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '3-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          fCrumbs.push({\n            url: generateSlugURL({\n              luxurySort: true,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Luxury Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n        }\n\n        var distinctEntries = _.uniq(Collections.Areas.find({}, {\n          //County: countyParam ; Dynamically load areas based on the subscription.\n          sort: {\n            Area: 1\n          },\n          fields: {\n            Area: true\n          }\n        }).fetch().map(function (x) {\n          return x.Area;\n        }), true);\n\n        areaCrumbs = [];\n\n        for (var i = 0; i < distinctEntries.length; i++) {\n          if (!distinctEntries[i]) continue; // if (distinctEntries[i] == areaParam) continue;//Don't show the same area in this list\n\n          areaCrumbs.push({\n            url: generateSlugURL({\n              county: countyParam,\n              area: distinctEntries[i]\n            }),\n            name: distinctEntries[i] + ' Apartments'\n          });\n        } // let ptypeString='';\n        // switch(propertyType){\n        //     case 'apartment': ptypeString = 'Apartments '; break;\n        //     case 'house': ptypeString = 'Houses '; break;\n        // }\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'Studio for rent in county '+titleCase(PD.address.county)})\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'1-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'2-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'3-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n\n      }\n\n      return {\n        fCrumbs: fCrumbs,\n        areaCrumbs: areaCrumbs,\n        countyCrumbs: countyCrumbs\n      };\n    };\n\n    var data = Collections.Auctions.findOne({\n      \"lettingAuctionCode\": key\n    }, {\n      limit: 1\n    });\n\n    if (data) {\n      data.applicationsReceivedCount = Collections.Bids.find({\n        auctionId: data._id\n      }).count();\n      PDret = Collections.Properties.find(data.propertyId).fetch();\n      PD = PDret[0];\n      PD.bedroomsCount = 0;\n      PD.ensuiteCount = 0;\n      PD.doubleBedCount = 0;\n\n      if (PD.bedrooms) {\n        PD.bedroomsCount = PD.bedrooms.length;\n\n        for (var i = 0; i < PD.bedrooms.length; i++) {\n          if (PD.bedrooms[i][\"ensuite\"]) {\n            PD.ensuiteCount++;\n          }\n\n          if (PD.bedrooms[i][\"bedType\"] == 'double') {\n            PD.doubleBedCount++;\n          }\n        }\n      }\n\n      if (PD.contacts) {\n        //Take the contact of activation not property\n        data.primaryContact = PD.contacts[0];\n      } else data.primaryContact = {};\n\n      tmp = [];\n\n      if (PD.amenities) {\n        for (var i = 0; i < PD.amenities.length; i++) {\n          var src = globalConfig.amenitiesLogos[PD.amenities[i]];\n          if (!src) src = globalConfig.amenitiesLogos[\"default\"];\n          tmp.push({\n            name: PD.amenities[i],\n            src: cdnPath(src)\n          });\n        }\n      }\n\n      PD.amenitiesWithImgs = tmp;\n\n      if (PD.gallery) {\n        for (var i = 0; i < PD.gallery.length; i++) {\n          var altText = 'Photo ' + (i + 1) + ' of ' + titleCase(PD.address.address);\n          if (PD.address.area) altText += ', ' + titleCase(PD.address.area);\n          if (PD.address.county) altText += ', ' + titleCase(PD.address.county); // sliderImages.push(PD.gallery[i].url)\n\n          sliderImages.push({\n            url: PD.gallery[i].url,\n            altText: altText\n          });\n        }\n      } ////////// BREADCRUMBS\n\n\n      var bcrumbs = [];\n      var slugTemp,\n          searchCrumbs = []; // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n\n      if (PD.address.county) {\n        slugTemp = generateSlug({\n          county: PD.address.county\n        });\n        bcrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: titleCase(PD.address.county)\n        });\n        searchCrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: 'rent in ' + titleCase(PD.address.county)\n        });\n      }\n\n      if (PD.address.area && PD.address.county) {\n        slugTemp = generateSlug({\n          county: PD.address.county,\n          area: PD.address.area\n        });\n        bcrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: titleCase(PD.address.area)\n        });\n        searchCrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: 'rent in ' + titleCase(PD.address.area) + \" of county \" + titleCase(PD.address.county)\n        });\n      }\n\n      if (PD.address.area && PD.address.county && PD.type) {\n        slugTemp = generateSlug({\n          county: PD.address.county,\n          area: PD.address.area,\n          propertyType: PD.type\n        });\n        bcrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: titleCase(PD.type)\n        });\n        searchCrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: '' + titleCase(PD.type) + \" for rent in \" + titleCase(PD.address.area) + \" of county \" + titleCase(PD.address.county)\n        });\n      }\n\n      data.bcrumbs = bcrumbs;\n      data.searchCrumbs = searchCrumbs.reverse(); ////////// END BREADCRUMBS\n      ////////// ADV BREADCRUMBS MORE LINKS\n\n      if (true) {\n        if (PD.address.county) {\n          AreasSub = Meteor.subscribe('Areas', '', '', PD.address.county, '', '', function () {\n            Session.set('subscriptionsReady2', true);\n          });\n        }\n\n        if (Meteor.isClient) Session.get('subscriptionsReady2');\n        var advC = advancedCrumbs(PD.address.county, PD.address.area, PD.type);\n        data.fCrumbs = advC.fCrumbs;\n        data.areaCrumbs = advC.areaCrumbs;\n        data.countyCrumbs = advC.countyCrumbs;\n      } ////////// END ADV BREADCRUMBS\n      //////// RELATED PROPS\n\n\n      var notArr = [PD._id];\n      var filters = {\n        \"type\": PD.type,\n        \"address.county\": PD.address.county,\n        \"address.area\": PD.address.area,\n        \"auctionId\": {\n          $exists: true,\n          $gt: \"\"\n        },\n        \"isArchived\": false,\n        \"_id\": {\n          $not: {\n            $in: notArr\n          }\n        }\n      };\n      data.relatedProps = [];\n      var tmpRelated = Collections.Properties.find(filters, {\n        transform: function (doc) {\n          doc.auction = Collections.Auctions.findOne({\n            _id: doc.auctionId\n          });\n\n          if (doc.gallery) {\n            if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n          }\n\n          return doc;\n        },\n        limit: 4\n      }).fetch();\n      data.relatedProps = data.relatedProps.concat(tmpRelated);\n      notArr = [PD._id];\n\n      for (var i = 0; i < data.relatedProps.length; i++) {\n        notArr.push(data.relatedProps[i]._id);\n      }\n\n      filters[\"_id\"] = {\n        $not: {\n          $in: notArr\n        }\n      };\n\n      if (data.relatedProps.length < 4) {\n        delete filters[\"address.area\"];\n        var tmpRelated = Collections.Properties.find(filters, {\n          transform: function (doc) {\n            doc.auction = Collections.Auctions.findOne({\n              _id: doc.auctionId\n            });\n\n            if (doc.gallery) {\n              if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n            }\n\n            return doc;\n          },\n          limit: 4\n        }).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n      }\n\n      notArr = [PD._id];\n\n      for (var i = 0; i < data.relatedProps.length; i++) {\n        notArr.push(data.relatedProps[i]._id);\n      }\n\n      filters[\"_id\"] = {\n        $not: {\n          $in: notArr\n        }\n      };\n\n      if (data.relatedProps.length < 4) {\n        delete filters[\"address.county\"];\n        var tmpRelated = Collections.Properties.find(filters, {\n          transform: function (doc) {\n            doc.auction = Collections.Auctions.findOne({\n              _id: doc.auctionId\n            });\n\n            if (doc.gallery) {\n              if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n            }\n\n            return doc;\n          },\n          limit: 4\n        }).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n        tmpRelated;\n      }\n\n      notArr = [PD._id];\n\n      for (var i = 0; i < data.relatedProps.length; i++) {\n        notArr.push(data.relatedProps[i]._id);\n      }\n\n      filters[\"_id\"] = {\n        $not: {\n          $in: notArr\n        }\n      };\n\n      if (data.relatedProps.length < 4) {\n        delete filters[\"type\"];\n        var tmpRelated = Collections.Properties.find(filters, {\n          transform: function (doc) {\n            doc.auction = Collections.Auctions.findOne({\n              _id: doc.auctionId\n            });\n\n            if (doc.gallery) {\n              if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n            }\n\n            return doc;\n          },\n          limit: 4\n        }).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n        tmpRelated;\n      }\n\n      if (data.relatedProps.length > 4) {\n        data.relatedProps = data.relatedProps.slice(0, 4);\n      } ///////// END FILTERS\n\n\n      var min = data.price * 0.7,\n          max = data.price * 1.5; // also used in propertyApplications.onRendered\n\n      priceRange = {\n        min: min,\n        max: max\n      }; ///////// START MY BIG AND OTHER BIDS\n\n      if (user) {\n        var ret = Collections.Bids.find({\n          auctionId: data._id,\n          userId: user._id,\n          isArchived: false\n        }, {\n          limit: 1\n        }).fetch();\n        myBid = ret[0];\n        var maxLen = 5;\n        var forTotCount = Collections.Bids.find({\n          auctionId: data._id,\n          isArchived: false\n        }, {\n          limit: maxLen,\n          sort: {\n            yourBid: -1\n          }\n        }); // debugger;\n\n        if (!forTotCount.count()) {\n          //No results, return\n          otherBids = {\n            needed: false,\n            arr: []\n          };\n        } else {\n          if (!myBid || !user) otherBids = {\n            needed: true,\n            arr: forTotCount.fetch()\n          };else {\n            var weNeedOnSides = Math.floor(maxLen / 2);\n            var needAbove = weNeedOnSides;\n            var back = Collections.Bids.find({\n              auctionId: data._id,\n              userId: {\n                $ne: user._id\n              },\n              yourBid: {\n                $lt: myBid.yourBid\n              },\n              isArchived: false\n            }, {\n              limit: maxLen - 1,\n              sort: {\n                yourBid: -1\n              }\n            });\n            var backCount = back.count();\n\n            if (backCount < weNeedOnSides) {\n              // if count isn't enough, then change back itself.\n              back = Collections.Bids.find({\n                auctionId: data._id,\n                userId: {\n                  $ne: user._id\n                },\n                yourBid: {\n                  $lte: myBid.yourBid\n                },\n                isArchived: false\n              }, {\n                limit: maxLen - 1,\n                sort: {\n                  yourBid: -1\n                }\n              });\n            }\n\n            backCount = back.count();\n\n            if (backCount < weNeedOnSides) {\n              //if its still less, then update we needAbove value\n              needAbove += weNeedOnSides - backCount;\n            }\n\n            var above = Collections.Bids.find({\n              auctionId: data._id,\n              userId: {\n                $ne: user._id\n              },\n              yourBid: {\n                $gt: myBid.yourBid\n              },\n              isArchived: false\n            }, {\n              limit: maxLen - 1,\n              sort: {\n                yourBid: -1\n              }\n            });\n            var aboveCount = above.count();\n\n            if (aboveCount < needAbove) {\n              // if count isn't enough, then change back itself.\n              above = Collections.Bids.find({\n                auctionId: data._id,\n                userId: {\n                  $ne: user._id\n                },\n                yourBid: {\n                  $gte: myBid.yourBid\n                },\n                isArchived: false\n              }, {\n                limit: maxLen - 1,\n                sort: {\n                  yourBid: -1\n                }\n              });\n            }\n\n            aboveCount = above.count();\n            var retAbove = above.fetch();\n            var retBack = back.fetch();\n            retAbove.push(myBid);\n            otherBids = {\n              needed: true,\n              arr: retAbove.concat(retBack)\n            };\n          }\n        }\n      } ///////// START MY BIG AND OTHER BIDS\n\n    }\n\n    var isAgent = false; // switch(data.createdByAgent){\n    //     case '':\n    //         isAgent = {\n    //             \"logourl\":Meteor.absoluteUrl()+'images/property-rental-agents/Bell-Property-Consultants.jpeg',\n    //             \"name\": 'Bell Property Consultants Ltd',\n    //             \"address1\":\"Harolds Cross, Dublin\",\n    //             \"style\":{height:\"100px\"}\n    //         }\n    // }\n\n    var alreadyLeased = false;\n\n    if (data) {\n      if (data.isArchived) alreadyLeased = true;\n    }\n\n    var refListArr = [];\n    var hasAllReqReferences = false;\n    if (user) if (user.profile) if (user.profile.references) {\n      // if (!user.profile.references.hasResume) refListArr.push(\"Resume\");//Why do you need it?\n      if (!user.profile.references.hasLandlordRef) refListArr.push(\"Landlord reference\");\n      if (!user.profile.references.employerName) refListArr.push(\"Employer name\");\n      if (!user.profile.references.hasWorkRef) refListArr.push(\"Work reference\");\n      if (!user.profile.references.hasFinancialRef) refListArr.push(\"Financial reference\");\n      if (!user.profile.references.hasGovtID) refListArr.push(\"Government ID\");\n      if (!user.profile.references.hasPassport) refListArr.push(\"Passport\");\n      if (!user.profile.references.hasPPS) refListArr.push(\"PPS\");\n\n      try {\n        if (user.profile.references.hasResume && user.profile.references.hasLandlordRef && user.profile.references.hasGovtID && user.profile.references.hasWorkRef) hasAllReqReferences = true;\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    try {\n      var title = '';\n      title = PD.address.address + ', ' + PD.address.area;\n      if (PD.address.county) title += ', ' + PD.address.county;\n      var desc = '';\n      if (PD.type) desc += titleCase(PD.type) + ' for rent at ';\n      desc += PD.address.address + ', ' + PD.address.area;\n      if (PD.address.county) desc += ', ' + PD.address.county + '. ';\n      desc += 'Its ' + (PD.furnished ? \"a furnished \" : \"an Unfurnished \") + titleCase(PD.type) + \" with \" + (PD.bedroomsCount ? PD.bedroomsCount : 'no') + \" beds, \" + (PD.baths ? PD.baths : 'no') + \" baths, \" + (PD.ensuiteCount ? PD.ensuiteCount : \"no\") + \" Ensuite and \" + (PD.doubleBedCount ? PD.doubleBedCount : \"has no\") + \" Double bed property. \";\n      desc += \"Apply for this \" + PD.type + \", view its images, details and much more.\"; // Apartment for rent in\n      //     Newbrook road, mullingar, co. westmeath, murrisk, mayo | SpotMyCrib\n\n      clearMeta();\n      var titleTmp = title + ' | SpotMyCrib';\n      if (titleTmp.length <= 75) title = titleTmp;\n      DocHead.setTitle(title);\n      DocHead.addMeta({\n        name: \"description\",\n        content: desc\n      });\n      var socialDesc = \"Apply for this \" + PD.type + \", view its images, details and much more.\";\n      var socialTitle = '';\n      if (PD.bedroomsCount) socialTitle += PD.bedroomsCount + ' Bed ';\n      if (PD.type) socialTitle += PD.type + ' available at ';\n      socialTitle += title;\n      socialTitle = '' + titleCase(socialTitle) + ' | SpotMyCrib';\n      DocHead.addMeta({\n        property: \"og:title\",\n        content: socialTitle\n      });\n      DocHead.addMeta({\n        property: \"og:description\",\n        content: socialDesc\n      });\n      {\n        /*<link rel=\"canonical\" href=\"http://example.com/wordpress/seo-plugin/\" />*/\n      }\n      if (FlowRouter.current().route.name == 'letting') DocHead.addMeta({\n        rel: \"canonical\",\n        href: FlowRouter.url('rent', {\n          slug: PD.slug,\n          key: key\n        })\n      });\n      DocHead.addMeta({\n        property: \"og:type\",\n        content: \"place\"\n      });\n      DocHead.addMeta({\n        property: \"og:url\",\n        content: FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n      });\n      DocHead.addMeta({\n        property: \"fb:app_id\",\n        content: '309356899476430'\n      });\n\n      try {\n        DocHead.addMeta({\n          property: \"og:image\",\n          content: PD.gallery[0].url\n        });\n      } catch (c) {//Putting this here is making FB take the first response from here. & its showing no image if if this meta is later updated. So better put it later after all rendering at a template level. For now lets not keep anywhere.\n        // DocHead.addMeta({name: \"og:image\", content: 'https://www.spotmycrib.ie/images/spot-my-crib-logo.png'  });\n      }\n    } catch (err) {\n      clearMeta();\n      DocHead.setTitle(' Property not found | SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n    }\n\n    return {\n      data: data,\n      alreadyLeased: alreadyLeased,\n      isAgent: isAgent,\n      user: user,\n      refListArr: refListArr,\n      priceRange: priceRange,\n      hasAllReqReferences: hasAllReqReferences,\n      myBid: myBid,\n      otherBids: otherBids,\n      PD: PD,\n      sliderImages: sliderImages,\n      isSubsLoaded: true\n    };\n  })(LettingDetail));\n\n  var ImagesSlider = /*#__PURE__*/function (_Component2) {\n    _inheritsLoose(ImagesSlider, _Component2);\n\n    function ImagesSlider(props) {\n      var _this2;\n\n      _this2 = _Component2.call(this, props) || this;\n      var current = FlowRouter.current();\n      _this2.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n      return _this2;\n    }\n\n    var _proto2 = ImagesSlider.prototype;\n\n    _proto2.componentDidMount = function () {\n      function componentDidMount() {\n        $(document).ready(function () {\n          // $('#lettingDetailCarousel').first().addClass('active');//not needed as bug of isActive helper not working is fixed.\n          $('#imagessection .item img').width('100%');\n          var w = $('#imagessection .item img').first().width();\n          var h = w / 1.33;\n          if (h > 250) $('#imagessection .item img').height(w / 1.33);\n          setTimeout(function () {\n            $('#imagessection .item img').width('100%');\n            var w = $('#imagessection .item img').first().width();\n            var h = w / 1.33;\n            if (h > 250) $('#imagessection .item img').height();\n          }, 3000); // $('#lettingDetailCarousel').carousel();\n          // $(\"#lettingDetailCarousel\").swiperight(function() {\n          //     $(this).carousel('prev');\n          // });\n          // $(\"#lettingDetailCarousel\").swipeleft(function() {\n          //     $(this).carousel('next');\n          // });\n        });\n      }\n\n      return componentDidMount;\n    }();\n\n    _proto2.render = function () {\n      function render() {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          id: \"lettingDetailCarousel\",\n          className: \"carousel slide\",\n          \"data-ride\": \"carousel\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"carousel-inner\"\n        }, this.props.images ? this.props.images.map(function (image, i) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: i,\n            className: 'item ' + (i == 0 ? 'active' : \"\")\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: image.url,\n            alt: image.altText,\n            title: image.altText,\n            className: \"img-responsive\"\n          }));\n        }) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"item active\"\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: cdnPath(\"/images/no-photo.png\"),\n          alt: 'Image not available',\n          title: 'Image not available',\n          className: \"img-responsive\"\n        }))), /*#__PURE__*/React.createElement(\"a\", {\n          className: \"left carousel-control\",\n          href: \"javascript:void(0)\",\n          \"data-slide\": \"prev\"\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-chevron-left\"\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"sr-only\"\n        }, \"Previous\")), /*#__PURE__*/React.createElement(\"a\", {\n          className: \"right carousel-control\",\n          href: \"javascript:void(0)\",\n          \"data-slide\": \"next\"\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-chevron-right\"\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"sr-only\"\n        }, \"Next\")));\n      }\n\n      return render;\n    }();\n\n    return ImagesSlider;\n  }(Component);\n\n  var AddThisReact = /*#__PURE__*/function (_Component3) {\n    _inheritsLoose(AddThisReact, _Component3);\n\n    function AddThisReact(props) {\n      var _this3;\n\n      _this3 = _Component3.call(this, props) || this;\n      console.log('Add this started');\n      return _this3;\n    }\n\n    var _proto3 = AddThisReact.prototype;\n\n    _proto3.componentDidMount = function () {\n      function componentDidMount() {\n        console.log('Add this rendered');\n      }\n\n      return componentDidMount;\n    }();\n\n    _proto3.render = function () {\n      function render() {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"addThis\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"addthis_inline_share_toolbox\"\n        }));\n      }\n\n      return render;\n    }();\n\n    return AddThisReact;\n  }(Component); // Error: Can't find npm module 'aws-sdk'. Did you forget to call 'Npm.depends' in package.js within the 'jns_flow-router-ssr' package?\n\n}.call(this, module);","map":{"version":3,"sources":["imports/reactui/pages/LettingDetail.jsx"],"names":["_assertThisInitialized","module1","link","default","v","_inheritsLoose","Meteor","React","Component","ReactDOM","withTracker","MainLayoutFooter","MainLayoutHeader","Collections","isArray","updateViewsCalled","propertyKeyOfThisPage","isClient","Session","set","titleCase","str","charAt","toUpperCase","toLowerCase","substring","dateFormat","text","date","Date","toString","toDateString","addCommaToEach","arr","join","nlToBr","replace","validateMobileNumber","mobile","tmp","split","length","test","attachEvents","$","unbind","bind","ga","redirectToProfilePageEvent","console","log","closePopupEvent","showConfDialog","fancybox","afterShow","afterClose","template","prevRoute","name","FlowRouter","current","route","args","key","params","go","close","generateSlug","curURL","propertyType","county","area","maxRent","country","bedCount","luxurySort","cheapSort","slug","query","range","cur","min","max","selectedCur","slugify","generateSlugURL","ret","url","a","b","p","RegExp","c","indexOf","showLoginDialog","fixImageSize","avgW","each","width","height","chunkify","n","balanced","Array","len","out","i","size","Math","floor","push","slice","ceil","autoExpandDelayed","setTimeout","autoExpand","field","style","computed","window","getComputedStyle","parseInt","getPropertyValue","scrollHeight","isApplySuccessfulOpen","showApplySuccessfulDialog","LettingDetail","props","currentURL","searchCrumbs","c1","c2","c3","fCrumbs","areaCrumbs","countyCrumbs","data","chunks","state","isApplicationInProgress","personalMessage","searchCrumbsLoaded","applyNowBtnHandler","redirectToProfilePageHandler","confirmApplyBtnHandler","cap_closePopupBtnHandler","cap_viewSimilarLettingsBtnHandler","backBtnHandler","noPropBackBtnHandler","pd_cap_btnHandler","pd_cap_aHandler","headerApplyNowBtnHandler","mainUploadRefBtnHandler","mainUpdateRefBtnHandler","mainApplyNowBtnHandler","createAlertBtnHandler","propsListHTML","isServerSSRReq","handlePersonalMessageChange","get","pageno","element","document","getElementById","scrollIntoView","event","setState","target","value","auctionId","_id","price","val","isNaN","alert","bidMessage","placeBidCallback","error","result","status","call","user","Accounts","profile","isValid","prompt","msg","preventDefault","myBid","afterCFun","focus","select","componentDidMount","ready","hide","on","scrollPercent","scrollTop","fadeIn","addClass","removeClass","jQuery","animate","e","body","documentElement","resize","componentDidUpdate","lettingAuctionCode","componentWillReceiveProps","isCurUserBid","userId","renderMain","zIndex","applicationsReceivedCount","rentType","alreadyLeased","PD","type","sliderImages","isAgent","padding","address1","logourl","address","marginBottom","furnished","bedroomsCount","baths","ensuiteCount","doubleBedCount","color","views","fontFamily","hasAllReqReferences","refListArr","readyFrom","lease","BER","__html","about","primaryContact","phone","contacts","map","contact","amenitiesWithImgs","aminity","src","relatedProps","display","margin","property","auction","firstImg","cdnPath","paddingTop","crumb","textAlign","borderBottom","priceRange","marginTop","lineHeight","marginLeft","renderFullMain","carousel","isServer","bcrumbs","isSubsLoaded","render","self","html","exportDefault","getParam","viewLettingSub","subscribe","ConfigSub","globalConfig","Config","findOne","deletedList","includes","otherBids","advancedCrumbs","countyParam","areaParam","tmpCrumbs","concat","staticCounties","distinctEntries","_","uniq","Areas","find","sort","Area","fields","fetch","x","Auctions","limit","Bids","count","PDret","Properties","propertyId","bedrooms","amenities","amenitiesLogos","gallery","altText","slugTemp","reverse","AreasSub","advC","notArr","filters","$exists","$gt","$not","$in","tmpRelated","transform","doc","isArchived","maxLen","forTotCount","yourBid","needed","weNeedOnSides","needAbove","back","$ne","$lt","backCount","$lte","above","aboveCount","$gte","retAbove","retBack","references","hasLandlordRef","employerName","hasWorkRef","hasFinancialRef","hasGovtID","hasPassport","hasPPS","hasResume","title","desc","clearMeta","titleTmp","DocHead","setTitle","addMeta","content","socialDesc","socialTitle","rel","href","err","ImagesSlider","w","first","h","images","image","AddThisReact"],"mappings":"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","sourcesContent":["/**\n * Created by njanjanam on 08/08/2018.\n */\nimport { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nimport { isArray } from 'util';\nupdateViewsCalled=false;\npropertyKeyOfThisPage = ''\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\nif(Meteor.isClient)Session.set('subscriptionsReady2',false);\n\nfunction titleCase(str) {\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction dateFormat(text){\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n}\nfunction addCommaToEach(arr){\n    if(!arr)return '';\n    return  arr.join(', ');\n}\nfunction nlToBr(str) {\n    if (!str) return '';\n    return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n}\nfunction validateMobileNumber(mobile){\n    let tmp = mobile.split('+');\n    if(tmp.length>1)\n        mobile = tmp[1];\n    if(mobile.length<6) return false;\n    return /^\\d+$/.test(mobile)\n}\nfunction attachEvents() {\n    $(\".confirmApplyBtn\").unbind().bind(\"click\",function () {\n        ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n    })\n    $(\".redirectToProfilePage\").unbind().bind(\"click\",function () {\n        redirectToProfilePageEvent();\n    })\n    $(\".pd_cap_btn\").unbind().bind(\"click\",function () {\n        console.log('pd_cap_btn');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    })\n    $(\".pd_cap_a\").unbind().bind(\"click\",function () {\n        console.log('pd_cap_a');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n        redirectToProfilePageEvent();\n    })\n    $(\".cap_closePopupBtn\").unbind().bind(\"click\",function () {\n        console.log('cap_closePopupBtn');\n        ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n        closePopupEvent();\n    })\n}\nfunction showConfDialog(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#fully-confirm',\n        afterShow:function(){\n            attachEvents();\n\n        },\n        afterClose:function(template){}\n    })\n}\nfunction redirectToProfilePageEvent() {\n    var prevRoute = {name: FlowRouter.current().route.name,args:{key:FlowRouter.current().params.key} }\n    Session.set('prevRoute',prevRoute);\n    FlowRouter.go(\"account/profile\")\n    closePopupEvent();\n}\nfunction closePopupEvent() {\n    if($)\n        if($.fancybox)\n            $.fancybox.close();\n}\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var maxRent = curURL.maxRent\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query={};\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(bedCount)query.bedCount = bedCount;\n    if(luxurySort)query.luxurySort = 1;\n    if(cheapSort)query.cheapSort = 1;\n\n    if(country)slug+=\"-\"+country\n    else slug+=\"-ireland\"\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    if(maxRent && maxRent!=selectedCur.max)query.maxRent = maxRent;\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction generateSlugURL(curURL){\n    var ret = generateSlug(curURL)\n    return FlowRouter.url('b',{slug:ret[0]},ret[1]);\n}\nfunction slugify (text) {\n    if(!text)return '';\n    const a = 'àáäâèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '')           // Replace spaces with \"\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}\nfunction showLoginDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',false)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction fixImageSize() {\n    var avgW=0;\n    $('#relatedsection .thumbnail img').each(function(){\n\n        if(!avgW)avgW = $(this).width();\n        else {\n            avgW += $(this).width();\n            avgW =  avgW / 2;\n        }\n    })\n    if(!avgW)avgW = 250;\n    $('#relatedsection .thumbnail img').width('100%');\n    $('#relatedsection .thumbnail img').height(avgW*0.7);\n}\nfunction chunkify(a, n, balanced) {\n\n    if (n < 2)\n        return [a];\n\n    if(!Array.isArray(a))return [];\n\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else if (balanced) {\n        while (i < len) {\n            size = Math.ceil((len - i) / n--);\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else {\n\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n            size--;\n        while (i < size * n) {\n            out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n\n    }\n\n    return out;\n}\nfunction autoExpandDelayed() {\n    setTimeout(autoExpand,500)\n}\nfunction autoExpand() {\n    let field = $('#bidMessage')[0]\n    if(!field)return;\n    // Reset field height\n    field.style.height = 'inherit';\n\n    // Get the computed styles for the element\n    var computed = window.getComputedStyle(field);\n\n    // Calculate the height\n    var height = parseInt(computed.getPropertyValue('border-top-width'), 10)\n        + parseInt(computed.getPropertyValue('padding-top'), 10)\n        + field.scrollHeight\n        + parseInt(computed.getPropertyValue('padding-bottom'), 10)\n        + parseInt(computed.getPropertyValue('border-bottom-width'), 10);\n\n    field.style.height = (height-20) + 'px';//adding -40 due to the result of test case that its causing too much space extra in a normal way, may be due to font size, line height etc.\n\n};\nisApplySuccessfulOpen = false;\nfunction showApplySuccessfulDialog(){\n    // console.log(\"Apply showApplySuccessfulDialog\")\n\n    $.fancybox({\n        'padding': 0,\n        'href': '#apply-successful-popup',\n        afterShow:function(){isApplySuccessfulOpen=true;},\n        afterClose:function(){isApplySuccessfulOpen=false;}\n    })\n}\n\nclass LettingDetail extends Component {\n\n    constructor(props) {\n        super(props)\n        var current = FlowRouter.current();\n        this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.data){\n            if(props.data.searchCrumbs){\n                var chunks = chunkify(props.data.searchCrumbs,3,true)\n                searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n            if(props.data.fCrumbs){\n                var chunks = chunkify(props.data.fCrumbs,3,true)\n                fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n            if(props.data.areaCrumbs){\n                var chunks = chunkify(props.data.areaCrumbs,3,true)\n                areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n            if(props.data.countyCrumbs){\n                var chunks = chunkify(props.data.countyCrumbs,3,true)\n                countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n        }\n        this.state = {\n            isApplicationInProgress:false,\n            'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs,\n            personalMessage:\"\"\n        }\n        this.searchCrumbsLoaded = false;\n\n        this.applyNowBtnHandler = this.applyNowBtnHandler.bind(this)\n        this.redirectToProfilePageHandler = this.redirectToProfilePageHandler.bind(this)\n        this.confirmApplyBtnHandler = this.confirmApplyBtnHandler.bind(this)\n        this.cap_closePopupBtnHandler = this.cap_closePopupBtnHandler.bind(this)\n        this.cap_viewSimilarLettingsBtnHandler = this.cap_viewSimilarLettingsBtnHandler.bind(this)\n        this.backBtnHandler = this.backBtnHandler.bind(this)\n        this.noPropBackBtnHandler = this.noPropBackBtnHandler.bind(this)\n        this.pd_cap_btnHandler = this.pd_cap_btnHandler.bind(this)\n        this.pd_cap_aHandler = this.pd_cap_aHandler.bind(this)\n        this.headerApplyNowBtnHandler = this.headerApplyNowBtnHandler.bind(this)\n        this.mainUploadRefBtnHandler = this.mainUploadRefBtnHandler.bind(this)\n        this.mainUpdateRefBtnHandler = this.mainUpdateRefBtnHandler.bind(this)\n        this.mainApplyNowBtnHandler = this.mainApplyNowBtnHandler.bind(this)\n        this.createAlertBtnHandler = this.createAlertBtnHandler.bind(this)\n        updateViewsCalled=false;\n\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n        this.handlePersonalMessageChange = this.handlePersonalMessageChange.bind(this);\n    }\n    backBtnHandler(){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n        }\n    }\n    noPropBackBtnHandler(){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"home\");\n        }\n    }\n    cap_closePopupBtnHandler(){\n        console.log('cap_closePopupBtn');\n        ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n        closePopupEvent();\n    }\n    cap_viewSimilarLettingsBtnHandler(){\n        console.log('cap_viewSimilarLettingsBtnHandler');\n        ga('send', 'event', 'PDPage', 'CAPViewSimilarLettingsBtn', 'CAP: View Simiar Lettings Btn Clicked');//CAP: Confirm Apply Popup\n        closePopupEvent();\n        var element = document.getElementById(\"relatedsection\");\n        element.scrollIntoView();\n    }\n    redirectToProfilePageHandler(){\n        redirectToProfilePageEvent();\n    }\n    handlePersonalMessageChange(event) {\n        this.setState({personalMessage: event.target.value});\n        autoExpandDelayed();\n    }\n    confirmApplyBtnHandler(){\n        console.log('confirmApplyBtn');\n        ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n\n        var auctionId = this.props.data._id;\n        var price = $('#bidPrice').val();\n        price = parseInt(price);\n        if(isNaN(price)){alert(\"Please enter a valid offer price.\");return;}\n        // var bidMessage = $('#bidMessage').val();\n        var bidMessage = this.state.personalMessage;\n        bidMessage = bidMessage.substring(0,500);\n        var min = this.props.data.price*0.7, max = this.props.data.price*1.5;\n        if(!auctionId){console.log(\"invalid data\");return;}\n        if(price <  min || price > max ){\n            alert(\"Offer price should be between \"+min+\" and \"+max+\". Please adjust your offer price again.\");return;\n        }\n        // debugger;\n        this.setState({isApplicationInProgress:true})\n\n        this.placeBidCallback = function(error, result){\n            this.setState({isApplicationInProgress:false})\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            if(result.status=='Success'){\n                console.log(\"Success\");\n                closePopupEvent()//Dont close it, instead show the successful part of that dialog\n                setTimeout(showApplySuccessfulDialog,500)\n                setTimeout(function(){\n                    if(!isApplySuccessfulOpen)\n                        showApplySuccessfulDialog();\n                },1500)\n                setTimeout(function(){\n                    if(!isApplySuccessfulOpen)\n                        showApplySuccessfulDialog();\n                },3000)\n            }\n        }\n        this.placeBidCallback = this.placeBidCallback.bind(this);\n        Meteor.call('placeBid',[auctionId, price, bidMessage],this.placeBidCallback);\n\n        var user = Accounts.user();\n        if(user)\n        if(user.profile)\n        if(!user.profile.mobile){\n            let mobile = false, isValid = false;\n            mobile = prompt(\"You don't have a mobile number attached to your profile. Please enter mobile to proceed. \");\n            let tmp = mobile.split('+');\n            if(tmp.length>1)\n                mobile = tmp[1];\n            if( validateMobileNumber(mobile) )isValid=true;\n\n            while(! isValid) {//This is an un limited loop of mobile number.\n                mobile = prompt(\"Error! invalid format. Please enter mobile number in format +353 893456789.\");\n                if( validateMobileNumber(mobile) )isValid=true;\n            }\n            // if(/^\\d{10}$/.test(mobile)) {\n            if( isValid ) {\n                Meteor.call('updateMobile', mobile, function (error, result) {\n                    if (error) {\n                        console.log(error.error);\n                        var tmp = Session.get(\"showErrorDlg\");\n                        var msg = 'Mobile number update failed. Please try again. Contact us if needed.';\n                        tmp.push(msg);\n                        Session.set(\"showErrorDlg\", tmp)\n\n                        return;\n                    }\n                });\n            }\n        }\n\n\n    }\n    applyNowBtnHandler(event){\n        // Prevent default browser form submit\n        if(event)event.preventDefault();\n        console.log(\"Apply now btn clicked\")\n\n        if(!this.props.user){\n            Session.set('loginFromApplyNowBtn',true)\n            showLoginDialog();\n            return;\n        }\n        // if(user._id == this._createdByAgent ){\n        //     console.log(\"Owner cannot apply for the house.\");\n        //     return;\n        // }\n        //Do mobile verification\n        if(this.props.user.profile)\n        if(this.props.user.profile.personalMessage && !this.state.personalMessage){//Do this only if the current sessions personal message is empty\n            this.setState({personalMessage: this.props.user.profile.personalMessage})\n        }\n\n        if(this.props.myBid){\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            tmp.push(\"Error: You have an existing application, please refresh the page.\");\n            Session.set(\"showErrorDlg\",tmp)\n            console.log(\"Already has a bid\");\n            return;\n        }\n        this.afterCFun = function(){\n            attachEvents();\n\n            setTimeout(function () {\n                $('#bidPrice').focus().select()\n                autoExpandDelayed()\n            },500)\n        }\n        this.afterCFun = this.afterCFun.bind(this);\n\n        $.fancybox({\n            'padding': 0,\n            'href': '#confirm-apply-pop',\n            afterShow:this.afterCFun,\n            afterClose:function(){}\n        })\n    }\n    headerApplyNowBtnHandler(){\n        console.log('headerApplyNowBtn');\n        ga('send', 'event', 'PDPage', 'HeaderApplyNowBtnClicked', 'Header: Apply now Btn Clicked');\n        this.applyNowBtnHandler();\n    }\n    mainApplyNowBtnHandler(event){\n        console.log('mainApplyNowBtn');\n        ga('send', 'event', 'PDPage', 'ApplyNowBtnClicked', 'Main: Apply now Btn Clicked');\n        this.applyNowBtnHandler(event);\n    }\n    pd_cap_btnHandler(event){\n        if(event)event.preventDefault();\n        console.log('pd_cap_btn');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    }\n    pd_cap_aHandler(event){\n        if(event)event.preventDefault();\n        console.log('pd_cap_a');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n        redirectToProfilePageEvent();\n    }\n    mainUploadRefBtnHandler(){\n        console.log('mainUploadRefBtn');\n        ga('send', 'event', 'PDPage', 'UploadRefBtnClicked', 'Main: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    }\n    mainUpdateRefBtnHandler(){\n        console.log('mainUpdateRefBtn');\n        ga('send', 'event', 'PDPage', 'UpdateRefBtnClicked', 'Main: Update Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    }\n    createAlertBtnHandler(){\n        console.log('createAlertBtnHandler');\n        ga('send', 'event', 'PDPage', 'createAlertBtnClicked', 'Main: Create Alert Btn Clicked');\n        Session.set('showCreateAlertPopup',true)\n    }\n    componentDidMount(){\n        $(document).ready(function(){\n            $('.scroll-menu-div').hide();\n            $(window).on(\"scroll\", function() {\n                var scrollPercent = 100 * $(window).scrollTop() / ($(document).height() - $(window).height());\n                if(scrollPercent > 10){\n                    $('.scroll-menu-div').fadeIn();\n                    $(\".scroll-menu-div\").addClass('fixed-header');\n                }\n                else{\n                    $('.scroll-menu-div').hide();\n                    $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n\n                }\n            });\n            setTimeout(function(){\n                try {\n                    jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n                } catch (e) {\n                    document.body.scrollTop = document.documentElement.scrollTop = 0;\n                }\n                $('.scroll-menu-div').hide();\n                $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n\n            },500)\n        });\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        // setTimeout(function(){addthis.init();addthis.layers.refresh();},5000)\n        $(window).resize(fixImageSize);\n        $(window).resize(autoExpandDelayed);\n    }\n    componentDidUpdate() {\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        if(this.props.data && !updateViewsCalled){\n            updateViewsCalled=true;\n            Meteor.call('updateViews',this.props.data._id);\n        }\n        if(propertyKeyOfThisPage && this.props.data.lettingAuctionCode){\n            if(this.props.data.lettingAuctionCode!=propertyKeyOfThisPage){//lettingAuctionCode changed, means page is changed\n                //Constructor elements needs to be called again\n                updateViewsCalled=true;\n                Meteor.call('updateViews',this.props.data._id);\n                this.setState({isApplicationInProgress:false,personalMessage:\"\"})\n                this.searchCrumbsLoaded = false;\n                Session.set('subscriptionsReady2',false);\n                propertyKeyOfThisPage = this.props.data.lettingAuctionCode;\n                setTimeout(function(){\n                    try {\n                        jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n                    } catch (e) {\n                        document.body.scrollTop = document.documentElement.scrollTop = 0;\n                    }\n                },500)\n            }\n        }\n    }\n    componentWillReceiveProps(props){\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.data.searchCrumbs != this.state.searchCrumbs){\n            var chunks = chunkify(props.data.searchCrumbs,3,true)\n            searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for searchCrumbs')\n            this.setState({'searchCrumbs':searchCrumbs})\n        }\n        if(props.data.fCrumbs != this.state.fCrumbs){\n            var chunks = chunkify(props.data.fCrumbs,3,true)\n            fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for fCrumbs')\n            this.setState({fCrumbs:fCrumbs})\n        }\n        if(props.data.areaCrumbs != this.state.areaCrumbs){\n            var chunks = chunkify(props.data.areaCrumbs,3,true)\n            areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for areaCrumbs')\n            this.setState({areaCrumbs:areaCrumbs})\n        }\n        if(props.data.countyCrumbs != this.state.countyCrumbs){\n            var chunks = chunkify(props.data.countyCrumbs,3,true)\n            countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for countyCrumbs')\n            this.setState({countyCrumbs:countyCrumbs})\n        }\n\n    }\n    // currentURL:function () {\n    //     return Router.current().originalUrl;\n    // },\n    isCurUserBid() {\n        //todo: test this\n        debugger;\n\n        if(!this.props.user)return false;\n        if(this.userId == user._id)return true;\n        return false;\n    }\n\n    renderMain(){\n        return (\n            <div>\n                <section className=\"scroll-menu-div\" style={{zIndex:'1000'}}>\n                    <div className=\"container\">\n                        <div className=\"scroll-menu\">\n                            <div className=\"left-menu\">\n                                <ul>\n                                    <li><a href={this.currentURL+\"#imagessection\"} className=\"active scroll1\">PHOTOS</a></li>\n                                    <li><a href={this.currentURL+\"#detailssection\"} className=\"scroll1\">DETAILS</a></li>\n                                    <li><a href={this.currentURL+\"#amenitiessection\"} className=\"scroll1\">AMENITIES</a></li>\n                                </ul>\n                            </div>\n                            <div className=\"right-menu\">\n                                <ul>\n                                    <li className=\"left-line\">\n                                        <p>Applications received</p>\n                                        <p className=\"pad-btm-0 text-center\">{this.props.data.applicationsReceivedCount}</p>\n                                    </li>\n                                    <li className=\"left-line\">\n                                        <p>Owner's Current Rent</p>\n                                        <p className=\"pad-btm-0 text-center\">€ {this.props.data.price +\" (\"+this.props.data.rentType+\")\"}</p>\n                                    </li>\n                                    <li>\n                                        {\n                                        this.props.alreadyLeased ?\n                                        (\n                                            <a href={this.currentURL+'#relatedsection'} className=\"green-btn  btns\" type=\"button\">View similar lettings</a>\n                                        ) :\n                                            this.props.myBid ? (\n                                            <button className=\"green-btn  btns viewMyApplication\" type=\"button\">Already applied</button>\n                                        ): (\n                                            <buttons onClick={this.headerApplyNowBtnHandler} className=\"blue-btn btns headerApplyNowBtn applyNowBtn\">Apply for this {this.props.PD.type}</buttons>\n                                        )}\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <section className=\"banner\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div id=\"imagessection\" className=\"col-md-7 padding0\">\n                                <figure>\n                                    <div className=\"banner-holder\">\n                                        <ImagesSlider images={this.props.sliderImages}/>\n                                    </div>\n                                    { this.props.isAgent ? (\n                                        <figcaption>\n                                            <h2>{this.props.isAgent.name}</h2>\n                                            <h5 style={{padding: 0}}>{this.props.isAgent.address1}</h5>\n                                        </figcaption>\n                                    ) : \"\"\n                                    }\n                                </figure>\n                            </div>\n                            <div className=\"col-md-5 purva-bg\">\n                                <div className=\"purva\">\n                                    { this.props.isAgent ? (\n                                        <img src={this.props.isAgent.logourl} alt={this.props.isAgent.name} style={this.props.isAgent.style}/>\n                                    ) : \"\"\n                                    }\n                                    <h1>{titleCase(this.props.PD.address.address)}{this.props.PD.address.area ?  (<span>, {titleCase(this.props.PD.address.area)}</span>) : ''}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}</h1>\n                                    <p style={{marginBottom: '10px'}}>{titleCase(this.props.PD.type)} to rent in {titleCase(this.props.PD.address.area)}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}. Its {this.props.PD.furnished ? \"a furnished\" : \"an Unfurnished\" } {titleCase(this.props.PD.type)} with {this.props.PD.bedroomsCount} beds, {this.props.PD.baths} baths, {this.props.PD.ensuiteCount ? this.props.PD.ensuiteCount : \"no\" } Ensuite and {this.props.PD.doubleBedCount ? this.props.PD.doubleBedCount : \"has no\" } Double bed property/accommodation, your next my home. { this.props.isAgent ? (<span>Its posted by {this.props.isAgent.name}.</span>) : \"\" } Click apply below to send your interest to the landlord and he would contact you soon. </p>\n                                    <ul>\n                                        <li>\n                                            <p><span style={{color: '#b3b3b3'}}>Views</span> :  {this.props.data.views}</p>\n                                        </li>\n                                        <li>\n                                            <a href={FlowRouter.url('howitworks')}><p style={{color: '#39b54a', fontFamily: '\"montserratregular\"', padding: 0}}>How it works?</p></a>\n                                        </li>\n                                        <li>\n                                            <a href={FlowRouter.url('contactus')}><p style={{color: '#39b54a', fontFamily: '\"montserratregular\"', padding: 0}}>Need help?</p></a>\n                                        </li>\n                                    </ul>\n                                    <p>&nbsp;</p>\n                                    <div className=\"purva-developer\">\n                                        <h5><span style={{color: '#b3b3b3'}}>Owner's Current Rent :</span>€ {this.props.data.price +\" (\"+this.props.data.rentType+\")\"}</h5>\n                                    </div>\n                                    {this.props.alreadyLeased ? (\n                                        <p style={{fontFamily: '\"montserratregular\"'}}>This property is already leased. Please use one of the options below.</p>\n                                    ) :\"\"}\n                                    <div className=\"purva-btns\">\n                                        <ul>\n                                            <li>\n                                                { this.props.alreadyLeased ?\n                                                    (\n                                                    <span>\n<a href={this.currentURL+'#relatedsection'} className=\"green-btn  btns\" type=\"button\">View similar lettings</a>\n<a href={this.currentURL+'#searchsection'} className=\"transparent-btn btns mar-left-10\" type=\"button\">Search More</a>\n                                                            \n                                                    </span>\n                                                    )\n                                                :\n                                                    this.props.myBid ? (\n                                                    <span>\n<button className=\"green-btn  btns viewMyApplication\" type=\"button\">Already applied</button>\n{this.hasAllReqReferences ? (\n    <button className=\"transparent-btn btns mainUpdateRefBtn mar-left-10\" onClick={this.mainUpdateRefBtnHandler} type=\"button\" title=\"View your references\">Update references</button>\n):(\n    <button className=\"transparent-btn btns mainUploadRefBtn mar-left-10\" onClick={this.mainUploadRefBtnHandler} type=\"button\" title=\"You dont have all your references updated in your profile. Missing files are  {addCommaToEach(this.props.refListArr)}\">Upload references</button>\n)}\n                                                    </span>\n                                                    ) :(\n                                                    <span>\n<buttons onClick={this.mainApplyNowBtnHandler} className=\"blue-btn btns mainApplyNowBtn applyNowBtn\">Apply for this {this.props.PD.type}</buttons>\n                                                        <span className=\"hidden-xs\">&nbsp;</span>\n                                                        <span className=\"visible-xs\" style={{height: 1}}><br/></span>\n{this.hasAllReqReferences ? (\n    <button className=\"transparent-btn btns mainUpdateRefBtn\" onClick={this.mainUpdateRefBtnHandler} type=\"button\" title=\"View your references\">Update references</button>\n):(\n    <button className=\"transparent-btn btns mainUploadRefBtn\" onClick={this.mainUploadRefBtnHandler} type=\"button\" title={\"You dont have all your references updated in your profile. Missing files are  \"+addCommaToEach(this.props.refListArr)}>Upload references</button>\n)}\n                                                    </span>\n                                                    )\n                                                }\n                                                <span className=\"hidden-xs\">&nbsp;</span>\n                                                <span className=\"visible-xs\" style={{height: 1}}><br/></span>\n                                                <button className=\"green-btn btns\" onClick={this.createAlertBtnHandler} type=\"button\" title={\"Be the first to hear about the latest lettings in your area. Signup for our email alerts.\"}>\n                                                    <span className=\"glyphicon glyphicon-bell\"></span> Create Alert</button>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <section className=\"main-sec\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div id=\"detailssection\" className=\"border mar-btm-20 background-white\">\n                                <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                    <h2>Details</h2>\n                                </div>\n                                <div className=\"developer proj-dtls \">\n                                    <div className=\"clearfix\">\n                                        <div className=\"col-md-9\">\n                                            <div>\n                                                <ul className=\"list-inline\">\n                                                    <li className>\n                                                        <h3>Rent type</h3>\n                                                        <h4 className=\"pad-btm-0\">{titleCase(this.props.data.rentType)}</h4>\n                                                    </li>\n                                                    <li className=\"left-line\">\n                                                        <h3>Available from</h3>\n                                                        <h4 className=\"pad-btm-0\">{dateFormat(this.props.data.readyFrom)}</h4>\n                                                    </li>\n                                                    <li className=\"left-line\">\n                                                        <h3>Available until</h3>\n                                                        <h4 className=\"pad-btm-0\">{this.props.data.lease}</h4>\n                                                    </li>\n                                                </ul>\n                                                <div className=\"project-detail\">\n                                                    <ul className=\"bdr-btm\">\n                                                        <li>\n                                                            <span className=\"color-grey\">Location</span>\n                                                            <h5 className=\"heading-reg\"> {titleCase(this.props.PD.address.address)}, {titleCase(this.props.PD.address.area)}, {titleCase(this.props.PD.address.county)}</h5>\n                                                        </li>\n                                                        <li className=\"pad-left-35\">\n                                                            <span className=\"color-grey\">BER</span>\n                                                            <h5 className=\"heading-reg\"> {addCommaToEach(this.props.PD.BER)}</h5>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                            <div className=\"mar-top-20 \">\n                                                <h5 className=\"heading-reg\">Description</h5>\n                                                <p className=\"color-grey pad-btm-10\" dangerouslySetInnerHTML={{__html:nlToBr( this.props.PD.about) }}></p>\n                                                {/*<a href=\"javascript:;\" class=\"text-underline\" >Read More</a>*/}\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-3\">\n                                            <h5 className=\"heading-reg\">Bedrooms : {this.props.PD.bedroomsCount}</h5>\n                                            <div className=\"handed-proj-bg clearfix\">\n                                                <div className=\"col-md-6\">\n                                                    <div>\n                                                        <h3>{this.props.PD.doubleBedCount}</h3>\n                                                        <h4 className=\"pad-btm-0\">Double</h4>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-md-6\" style={{padding: 0}}>\n                                                    <div className=\"left-line\">\n                                                        <h3>{this.props.PD.ensuiteCount}</h3>\n                                                        <h4 className=\"pad-btm-0\">Ensuite</h4>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <h5 className=\"heading-reg mar-top-30\">Contact</h5>\n                                            <div className=\"handed-proj-bg clearfix\">\n                                                {/*\n                        <div class=\"col-md-12 color-grey\"  style=\"font-size:13px\">Apply for this property to view contact details</div>\n                        */}\n    {this.props.alreadyLeased ? (\n        <p style={{fontFamily: '\"montserratregular\"'}} className={\"text-center\"}>This property is already leased.<br/>\n            <a href={this.currentURL+'#relatedsection'} title={\"Browse through more available lettings for rent in \"+titleCase(this.props.PD.address.area)+\", \"+titleCase(this.props.PD.address.county)}>View similar lettings</a><br/>\n            <a href={this.currentURL+'#searchsection'} title={\"Search more available properties for rent in \"+titleCase(this.props.PD.address.area)+\", \"+titleCase(this.props.PD.address.county)}>Search More</a>\n        </p>\n    ) :\n        this.props.data.primaryContact.phone ?\n            this.props.PD.contacts.map(function(contact,i){\n                return (\n                <div key={i} className=\"col-md-12\">\n                    <div>\n                        <h3>{titleCase(contact.name)} : <a href={\"tel:\"+contact.phone}>{contact.phone}</a></h3>\n                    </div>\n                </div>\n                )\n            })\n        : (\n            <div className=\"col-md-12\">Apply for this property to email owner</div>\n        )\n    }\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div id=\"amenitiessection\" className=\"mar-btm-30 amenities\">\n                                <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                    <h2>Amenities</h2>\n                                </div>\n                                <div className=\"amenitiy-block\">\n                                    <ul>\n                                        { this.props.PD.amenitiesWithImgs.map(function(aminity,i){\n                                            return (\n                                                <li key={i}>\n                                                    <p><span><img src={aminity.src} /></span>{titleCase(aminity.name)}</p>\n                                                </li>\n                                            )\n                                            })\n                                        }\n                                    </ul>\n                                </div>\n                            </div>\n                            {this.props.data.relatedProps ?(\n                                <div id=\"relatedsection\" className=\"mar-btm-30 amenities subscribeTillPopop\">\n                                    <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                        <h2>Similar {titleCase(this.props.PD.type)} to rent\n                                            in {titleCase(this.props.PD.address.area)}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}</h2></div>\n                                                <div className=\"amenitiy-block\" style={{float:'left',display:'block'}}>\n                                                <p style={{margin: '0 20px'}}>Below are few more {titleCase(this.props.PD.type)} to rent in {this.props.PD.address.area ?  (<span>{titleCase(this.props.PD.address.area)}</span>) : ''}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}. They are also located near {titleCase(this.props.PD.address.address)}{this.props.PD.address.area ?  (<span>, {titleCase(this.props.PD.address.area)}</span>) : ''}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}</p>\n                                                <ul className={\"thumbnails thumbRelated\"}>\n                {this.props.data.relatedProps.map(function (property,i) {\n                    return (\n                    <li className=\"span4\" key={i} style={{float:'left'}}>\n                        <a href={ FlowRouter.url('rent',{slug:property.slug,key:property.auction.lettingAuctionCode}) }>\n                            <div className=\"thumbnail\">\n                                {property.firstImg ? property.firstImg.url ? property.firstImg.url.indexOf('amazonaws') ? (\n                                <img src={\"https://process.filestackapi.com/AIPACLEs7ShGwwPh6fMTxz/resize=width:250/\"+property.firstImg.url}\n                                     alt={titleCase(property.address.address)+property.address.area ?  \", \"+titleCase(property.address.area) : '' + property.address.county ?  \", \"+titleCase(property.address.county) : ''}/>\n                                    ): (\n                                <img src={\"https://process.filestackapi.com/resize=width:250/\"+property.firstImg.url}\n                                     alt={titleCase(property.address.address)+property.address.area ?  \", \"+titleCase(property.address.area) : '' + property.address.county ?  \", \"+titleCase(property.address.county) : ''}/>\n                                    ) : (\n                                    <img src={cdnPath(\"/images/no-photo.png\")} style={{width: 250, height: 188}}/>\n                                ):\"\"}\n                                <h3>{titleCase(property.address.address)}{property.address.area ?  (<as>, {titleCase(property.address.area)}</as>) : ''}{property.address.county ?  (<as>, {titleCase(property.address.county)}</as>) : ''} for rent</h3>\n                        </div></a>\n                    </li>\n                    )\n                })}\n                                                    </ul>\n                                                </div>\n                                                <div className=\"amenitiy-block\" style={{paddingTop:0}}>\n                                                    <div id=\"searchsection\" className={'bottomcrumbs row'}>\n                                                        <h2>Search more properties to rent</h2>\n                                                        <p>Chooes a link below to browse through more relavent properties to rent.</p>\n                                                        <br/>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-5 col-sm-5 col-xs-12\">\n                                                                {this.state.searchCrumbs.c1 ?\n                                                                    this.state.searchCrumbs.c1.map(function(crumb,i){\n                                                                        return (\n                                                                            <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.searchCrumbs.c2 ?\n                                                                    this.state.searchCrumbs.c2.map(function(crumb,i){\n                                                                        return (\n                                                                            <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-3 col-sm-3 col-xs-12\">\n                                                                {this.state.searchCrumbs.c3 ?\n                                                                    this.state.searchCrumbs.c3.map(function(crumb,i){\n                                                                        return (\n                                                                            <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n\n                                                    </div>\n                                                    {/*{ true ? (*/}\n                                                    <div className={'bottomcrumbs row'}>\n                                                        <h2>Property types to rent</h2>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-3 col-sm-3 col-xs-12\">\n                                                                {this.state.fCrumbs.c1 ?\n                                                                    this.state.fCrumbs.c1.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.fCrumbs.c2 ?\n                                                                    this.state.fCrumbs.c2.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-5 col-sm-5 col-xs-12\">\n                                                                {this.state.fCrumbs.c3 ?\n                                                                    this.state.fCrumbs.c3.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className={'bottomcrumbs row'}>\n                                                        <h2>{this.props.PD.address.county} neighbourhoods</h2>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.areaCrumbs.c1 ?\n                                                                    this.state.areaCrumbs.c1.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.areaCrumbs.c2 ?\n                                                                    this.state.areaCrumbs.c2.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.areaCrumbs.c3 ?\n                                                                    this.state.areaCrumbs.c3.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className={'bottomcrumbs row'}>\n                                                        <h2>Other counties to rent</h2>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.countyCrumbs.c1 ?\n                                                                    this.state.countyCrumbs.c1.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.countyCrumbs.c2 ?\n                                                                    this.state.countyCrumbs.c2.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.countyCrumbs.c3 ?\n                                                                    this.state.countyCrumbs.c3.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n\n                                                    </div>\n                                                     {/*) : \"\"}*/}\n                                                </div>\n\n                                 </div>\n                            ): \"\"}\n\n                        </div>\n                    </div>\n                </section>\n                <div id=\"apply-successful-popup\" style={{display: 'none'}} className={\"verification-div1 isApplicationSuccessful\"}>\n                    <div className=\"refund-div\">\n                        <h2 className=\"green-text\">Application Successful</h2>\n                    </div>\n                    <div className=\"profile-text\">\n                        <h3>Good Job!</h3>\n                        <p style={{padding: 0}}>Landlord is notified of your application and would contact you via email if successful.</p>\n\n                        { false ? \"\" :\n                            this.hasAllReqReferences ? \"\" : (\n\n                                <div className=\"\">\n                                    <hr/>\n                                    <h3>Improve your chances of securing this letting</h3>\n                                    <p className=\"color-text\" style={{textAlign:\"center\",margin:\"10px 0\"}}>Upload your references in your profile to have an higher chance over other applicants. Missing files are&nbsp;\n                                        {addCommaToEach(this.props.refListArr)}\n                                        &nbsp;<a href={FlowRouter.url(\"account/profile\")} onClick={this.pd_cap_aHandler} className=\"pd_cap_a \">Upload them now?</a>\n                                    </p>\n                                    <p><a href={FlowRouter.url(\"account/profile\")} style={{margin:'0 auto',width:\"200px\"}} className=\"blue-btn btns\" onClick={this.pd_cap_btnHandler}  type=\"button\">Upload references </a></p>\n                                </div>\n\n                            )\n                        }\n                        <hr/>\n                        <p style={{padding: 0}}><a href={this.currentURL+\"#relatedsection\"} onClick={this.cap_viewSimilarLettingsBtnHandler} className=\"transparent-btn btns\" style={{margin:'0 auto',width:\"200px\"}}>View Similar lettings</a></p>\n                    </div>\n                </div>\n                <div id=\"confirm-apply-pop\" style={{display: 'none'}} className={\"verification-div1 \"}>\n                    <div className=\"refund-div\">\n                        <h2>Confirm Apply</h2>\n                    </div>\n                    <div className=\"profile-text\">\n                        <h3>Landlords asking rent is {this.props.data.price +\" (\"+this.props.data.rentType+\")\"}</h3>\n                        <form className=\"signin-form\">\n                            <div className=\"form-border\" style={{padding: '20px 0'}}>\n                                <div className=\"styled-input underline\" style={{borderBottom: '1px solid #2169a8'}}>\n                                    <input className=\"bidPrice\" type=\"number\" placeholder={this.props.data.price} defaultValue={this.props.data.price} name=\"number\" id=\"bidPrice\" required min={this.props.priceRange.min} max={this.props.priceRange.max} />\n                                </div>\n                                <div className=\"styled-input underline\">\n                                    <textarea className=\"form-control bidMessage\" id=\"bidMessage\" rows={1} placeholder=\"You may enter a personal message to landlord if you wish.\" maxLength={500} value={this.state.personalMessage} onChange={this.handlePersonalMessageChange} style={{textAlign:\"center\"}}/>\n                                </div>\n                                {/*<div class=\"input-group date\">*/}\n                                {/*<span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></span>*/}\n                                {/*<input class=\"set-due-date form-control moveindate\" type=\"text\" id=\"moveindate\"/>*/}\n                                {/*</div>*/}\n                            </div>\n                        </form>\n                        <p className=\"color-text\" style={{marginTop: '20px', textAlign:\"center\"}}>We will submit all the references available in your profile. </p>\n                        { false ? \"\" :\n                        this.hasAllReqReferences ? \"\" : (\n\n                        <div className=\"radio-bg register\">\n                            <h3 style={{lineHeight: '22px', marginBottom: '10px'}}>Oops! You dont have all your references updated in your profile. </h3>\n                            <p className=\"color-text\" style={{textAlign:\"center\"}}>Missing files are&nbsp;\n                                {addCommaToEach(this.props.refListArr)}\n                                &nbsp;<a href={FlowRouter.url(\"account/profile\")} onClick={this.pd_cap_aHandler} className=\"pd_cap_a \">Upload them now?</a>\n                            </p>\n                            <p><a href={FlowRouter.url(\"account/profile\")} style={{margin:'0 auto',width:\"200px\"}} className=\"transparent-btn btns pd_cap_btn\" onClick={this.pd_cap_btnHandler}  type=\"button\">Upload references </a></p>\n                            <p>Your chances of getting the house will be more if you apply with all the references. To proceed anyways click Submit below.</p>\n                        </div>\n\n                        )\n                        }\n                        <ul>\n                            {this.state.isApplicationInProgress ? (\n                                <li><button className=\"transparent-btn  btns\" type=\"button\">Applying... </button></li>\n                            ) : (\n                                <li><button onClick={this.confirmApplyBtnHandler} className=\"blue-btn  btns confirmApplyBtn\" type=\"button\">Submit </button></li>\n                            )}\n                            <li><button onClick={this.cap_closePopupBtnHandler} style={{marginLeft: '10px'}} className=\"transparent-btn btns cap_closePopupBtn\" disabled={this.state.isApplicationInProgress} type=\"button\">Cancel</button></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderFullMain(){\n\n        if(Meteor.isClient){\n            setTimeout(function(){\n                $('#lettingDetailCarousel').carousel();\n                $('#lettingDetailCarousel .carousel-control.right').unbind('click').bind('click',function(){$('#lettingDetailCarousel').carousel('next')})\n                $('#lettingDetailCarousel .carousel-control.left').unbind('click').bind('click',function(){$('#lettingDetailCarousel').carousel('prev')})\n            },1000)\n        }\n\n        return (\n            <div className=\"property-details-page\" id={'props_list'}>\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n                    <section className=\"banner\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className=\"breadcrumb\">\n                                        <li className=\"breadcrumb-item\"><a href={FlowRouter.url('home')}>Home</a></li>\n                                        {this.props.data ?\n                                            this.props.data.bcrumbs.map(function (crumb, i) {\n                                                return (\n                                                    <li key={i} className=\"breadcrumb-item\"><a\n                                                        href={crumb.url}>{crumb.name}</a></li>\n                                                )\n                                            })\n                                            :\"\"}\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">This property</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </section>\n                {\n                    this.props.isSubsLoaded ?\n                        this.props.data ? this.renderMain() :\n                            (\n                                <section className=\"mar-top-20\">\n                                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                        <div className=\"filter-holder\">\n                                            <div className=\"mar-top-30\">\n                                                {this.props.alreadyLeased ? (\n                                                    <span>\n                                                    <strong>Property already leased. Your landlord would contact you if you are chosen as a tenant.</strong><br /><br />\n                                                    <button onClick={this.backBtnHandler} className=\"blue-btn btns backBtn\" type=\"button\">Try again</button>\n                                                </span>\n                                                ) : (\n                                                    <span>\n                                                    <strong>This property is not found. Please check your key and try again.</strong><br /><br />\n                                                    <button onClick={this.noPropBackBtnHandler} className=\"blue-btn btns noPropBackBtn\" type=\"button\">Try again</button>\n                                                </span>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </section>\n                            )\n                        :\n                        (\n                            <section className=\"mar-top-20 mar-btm-20 no-print\">\n                                <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                    <div className=\"filter-holder\">\n                                        <div className=\"mar-top-30\">\n                                            <div className={'h2-div'}>Loading...</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </section>\n                        )\n                }\n            </div>\n        )\n    }\n\n    render() {\n        const self = this;\n        if(Meteor.isClient && this.propsListHTML==\"\"){\n            this.propsListHTML = $('#props_list').html()\n        }\n        if(Meteor.isClient) {\n            this.isServerSSRReq = $('#isservercheckdiv').html()\n            if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n            else this.isServerSSRReq = false\n        }\n        // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n        return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded )  ? (\n                        this.renderFullMain()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n}\n\nexport default withTracker(() => {\n\n    var key = FlowRouter.getParam('key'); if(!key)return {data:false,alreadyLeased:false,isSubsLoaded:true};\n    if(key && !propertyKeyOfThisPage) propertyKeyOfThisPage = key;//This will init the var\n\n    const viewLettingSub = Meteor.subscribe(\"viewLetting\",key,function(){\n        if(ConfigSub.ready()  )Session.set('subscriptionsReady',true);//AreasSub.ready() &&  make areas sub not req\n    })\n    // const AreasSub = Meteor.subscribe('Areas',function(){\n    //     if(viewLettingSub.ready() && ConfigSub.ready()  )Session.set('subscriptionsReady',true);\n    // });\n    const ConfigSub = Meteor.subscribe('Config',function(){\n        if(viewLettingSub.ready() )Session.set('subscriptionsReady',true);\n    });\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !viewLettingSub.ready() || !ConfigSub.ready() ) {\n        return {data: false, alreadyLeased: false,isSubsLoaded:false};\n    }\n\n    var globalConfig = Collections.Config.findOne();\n\n    var deletedList = []\n    if(globalConfig){\n        deletedList = globalConfig.deletedList\n    }\n\n    if(deletedList.includes(key)){\n        return {data:false,alreadyLeased:false,isSubsLoaded:true};\n    }\n\n    var user = Meteor.user();\n    var priceRange = {min:0, max:10000}\n    var myBid = false;\n    var otherBids = false;\n    var PD = {}\n    var sliderImages = []\n\n    advancedCrumbs = function(countyParam,areaParam,propertyType){\n        let fCrumbs = [], tmpCrumbs = [], areaCrumbs = [], countyCrumbs = [];\n        if(propertyType)propertyType = propertyType.toLowerCase();\n\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        //Property Size\n        //Property Size - Property Type\n        //Property Size - Property Type - County\n        //Property Type - county\n        //Counties\n        //Areas\n        //Property Size - Property Type - area - County\n        //Property Size - area - County\n        //Property Type - area - county\n\n        fCrumbs.push({url: generateSlugURL({propertyType: 'studio'}), name: 'Studios'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 1}), name: '1-Beds'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 2}), name: '2-Beds'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3}), name: '3-Beds'})\n\n        tmpCrumbs.push({url: generateSlugURL({cheapSort: true, propertyType: 'house'}), name: 'Cheap Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'house'}), name: '1-Bed Houses'})//Property Size - Property Type\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'house'}), name: '2-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'house'}), name: '3-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({luxurySort: true, propertyType: 'house'}), name: 'Luxury Houses'})\n\n        if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n            url: generateSlugURL({cheapSort: true, propertyType: 'apartment'}),\n            name: 'Cheap Apartments'\n        })\n        fCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'apartment'}), name: '1-Bed Apartments'})//Property Size - Property Type\n        fCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'apartment'}), name: '2-Bed Apartments'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'apartment'}), name: '3-Bed Apartments'})\n        fCrumbs.push({\n            url: generateSlugURL({luxurySort: true, propertyType: 'apartment'}),\n            name: 'Luxury Apartments'\n        })\n\n        if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        //dublin-apartments\n        //Not doing dublin-houses due to less searches for Dublin apartments\n        var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n        for (var i = 0; i < staticCounties.length; i++) {\n            if (!staticCounties[i]) continue;\n            countyCrumbs.push({\n                url: generateSlugURL({county: staticCounties[i]}),\n                name: staticCounties[i] + ' Apartments'\n            })\n        }\n\n        if (countyParam) {\n            // var propertyType = curURL.propertyType;\n            // var county = curURL.county\n            // var area = curURL.area\n            // var maxRent = curURL.maxRent\n            // var country = curURL.country;\n            // var bedCount = curURL.bedCount;\n            // var luxurySort = curURL.luxurySort;\n            // var cheapSort = curURL.cheapSort;\n\n            //////////////////////////// WITH COUNTY\n            tmpCrumbs = [];\n            tmpCrumbs.push({\n                url: generateSlugURL({cheapSort: true, propertyType: 'house', county: countyParam}),\n                name: 'Cheap Houses for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType == 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n            fCrumbs.push({\n                url: generateSlugURL({cheapSort: true, propertyType: 'apartment', county: countyParam}),\n                name: 'Cheap Apartments for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType != 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n\n            fCrumbs.push({\n                url: generateSlugURL({propertyType: 'studio', county: countyParam}),\n                name: 'Studio for rent in county ' + titleCase(countyParam)\n            })\n\n            tmpCrumbs = [];\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 1, propertyType: 'house', county: countyParam}),\n                name: '1-Bed Houses for rent in county ' + titleCase(countyParam)\n            })//Property Size - Property Type\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 2, propertyType: 'house', county: countyParam}),\n                name: '2-Bed Houses for rent in county ' + titleCase(countyParam)\n            })\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 3, propertyType: 'house', county: countyParam}),\n                name: '3-Bed Houses for rent in county ' + titleCase(countyParam)\n            })\n            tmpCrumbs.push({\n                url: generateSlugURL({luxurySort: true, propertyType: 'house', county: countyParam}),\n                name: 'Luxury Houses for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType == 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 1, propertyType: 'apartment', county: countyParam}),\n                name: '1-Bed Apartments for rent in county ' + titleCase(countyParam)\n            })//Property Size - Property Type\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 2, propertyType: 'apartment', county: countyParam}),\n                name: '2-Bed Apartments for rent in county ' + titleCase(countyParam)\n            })\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 3, propertyType: 'apartment', county: countyParam}),\n                name: '3-Bed Apartments for rent in county ' + titleCase(countyParam)\n            })\n            fCrumbs.push({\n                url: generateSlugURL({luxurySort: true, propertyType: 'apartment', county: countyParam}),\n                name: 'Luxury Apartments for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType != 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n\n            if (areaParam) {\n                //////////////////////////// WITH AREA COUNTY\n                tmpCrumbs = [];\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        cheapSort: true,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Cheap Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType == 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        cheapSort: true,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Cheap Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType != 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n\n                fCrumbs.push({\n                    url: generateSlugURL({propertyType: 'studio', county: countyParam, area: areaParam}),\n                    name: 'Studio for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                tmpCrumbs = [];\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 1,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '1-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })//Property Size - Property Type\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 2,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '2-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 3,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '3-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        luxurySort: true,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Luxury Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType == 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 1,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '1-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })//Property Size - Property Type\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 2,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '2-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 3,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '3-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        luxurySort: true,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Luxury Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType != 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n            }\n\n            var distinctEntries = _.uniq(Collections.Areas.find({}, {//County: countyParam ; Dynamically load areas based on the subscription.\n                sort: {Area: 1}, fields: {Area: true}\n            }).fetch().map(function (x) {\n                return x.Area;\n            }), true);\n            areaCrumbs = []\n            for (var i = 0; i < distinctEntries.length; i++) {\n                if (!distinctEntries[i]) continue;\n                // if (distinctEntries[i] == areaParam) continue;//Don't show the same area in this list\n                areaCrumbs.push({\n                    url: generateSlugURL({county: countyParam, area: distinctEntries[i]}),\n                    name: distinctEntries[i] + ' Apartments'\n                })\n            }\n\n            // let ptypeString='';\n            // switch(propertyType){\n            //     case 'apartment': ptypeString = 'Apartments '; break;\n            //     case 'house': ptypeString = 'Houses '; break;\n            // }\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'Studio for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'1-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'2-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'3-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        }\n        return {\n            fCrumbs:fCrumbs,\n            areaCrumbs: areaCrumbs,\n            countyCrumbs:countyCrumbs\n        }\n    }\n\n\n    var data = Collections.Auctions.findOne({\"lettingAuctionCode\" : key}, { limit: 1 });\n\n    if(data){\n\n        data.applicationsReceivedCount = Collections.Bids.find({auctionId:data._id}).count();\n        PDret = Collections.Properties.find(data.propertyId).fetch();\n        PD = PDret[0];\n\n        PD.bedroomsCount=0\n        PD.ensuiteCount = 0;\n        PD.doubleBedCount = 0;\n        if(PD.bedrooms){\n            PD.bedroomsCount = PD.bedrooms.length;\n            for (var i = 0; i < PD.bedrooms.length; i++) {\n                if (PD.bedrooms[i][\"ensuite\"] ) {\n                    PD.ensuiteCount++;\n                }\n            if (PD.bedrooms[i][\"bedType\"] == 'double' ) {\n                PD.doubleBedCount++;\n            }\n        }\n        }\n\n        if(PD.contacts) {//Take the contact of activation not property\n            data.primaryContact = PD.contacts[0];\n        }else data.primaryContact = {};\n\n        tmp = [];\n        if(PD.amenities){\n            for ( var i=0; i< PD.amenities.length;i++){\n                var src = globalConfig.amenitiesLogos[PD.amenities[i]];\n                if(!src)src = globalConfig.amenitiesLogos[\"default\"]\n                tmp.push({name:PD.amenities[i], src: cdnPath(src) })\n            }\n        }\n        PD.amenitiesWithImgs = tmp;\n\n        if(PD.gallery){\n            for(var i=0;i<PD.gallery.length;i++){\n                let altText = 'Photo '+(i+1)+' of '+titleCase(PD.address.address)\n                if (PD.address.area) altText +=', '+titleCase(PD.address.area)\n                if (PD.address.county) altText +=', '+titleCase(PD.address.county)\n\n                // sliderImages.push(PD.gallery[i].url)\n                sliderImages.push({url:PD.gallery[i].url,altText:altText})\n            }\n        }\n\n        ////////// BREADCRUMBS\n        let bcrumbs = [];let slugTemp, searchCrumbs = [];\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        if(PD.address.county){\n            slugTemp = generateSlug({county:PD.address.county})\n            bcrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:titleCase(PD.address.county)})\n            searchCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'rent in '+titleCase(PD.address.county)})\n        }\n        if(PD.address.area && PD.address.county) {\n            slugTemp = generateSlug({county: PD.address.county, area:PD.address.area})\n            bcrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:titleCase(PD.address.area)})\n            searchCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'rent in '+titleCase(PD.address.area)+\" of county \"+titleCase(PD.address.county)})\n        }\n        if(PD.address.area && PD.address.county && PD.type) {\n            slugTemp = generateSlug({\n                county: PD.address.county,\n                area: PD.address.area,\n                propertyType: PD.type\n            })\n            bcrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:titleCase(PD.type)})\n            searchCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:''+titleCase(PD.type)+\" for rent in \"+titleCase(PD.address.area)+\" of county \"+titleCase(PD.address.county)})\n        }\n        data.bcrumbs = bcrumbs;\n        data.searchCrumbs = searchCrumbs.reverse();\n        ////////// END BREADCRUMBS\n        ////////// ADV BREADCRUMBS MORE LINKS\n        if(true) {\n            if(PD.address.county) {\n                AreasSub = Meteor.subscribe('Areas','','',PD.address.county,'','',function(){\n                    Session.set('subscriptionsReady2',true);\n                });\n            }\n            if(Meteor.isClient)Session.get('subscriptionsReady2');\n\n            var advC = advancedCrumbs(PD.address.county,PD.address.area,PD.type);\n            data.fCrumbs = advC.fCrumbs;\n            data.areaCrumbs = advC.areaCrumbs;\n            data.countyCrumbs = advC.countyCrumbs;\n        }\n        ////////// END ADV BREADCRUMBS\n        //////// RELATED PROPS\n        var notArr = [PD._id]\n        var filters = {\n            \"type\":PD.type,\n            \"address.county\":PD.address.county,\n            \"address.area\":PD.address.area,\n            \"auctionId\": {$exists:true, $gt: \"\" },\n            \"isArchived\":false,\n            \"_id\": { $not: { $in: notArr } }\n        }\n\n        data.relatedProps = []\n        var tmpRelated = Collections.Properties.find(filters,{\n            transform:function(doc){\n                doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                if(doc.gallery){\n                    if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                }\n                return doc;\n            },\n            limit:4}).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n        notArr = [PD._id]\n        for(var i=0;i<data.relatedProps.length;i++){\n            notArr.push(data.relatedProps[i]._id)\n        }\n        filters[\"_id\"] = { $not: { $in: notArr } };\n\n        if(data.relatedProps.length<4){\n            delete filters[\"address.area\"];\n            var tmpRelated = Collections.Properties.find(filters,{\n                transform:function(doc){\n                    doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                    if(doc.gallery){\n                        if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                    }\n                    return doc;\n                },\n                limit:4}).fetch();\n            data.relatedProps = data.relatedProps.concat(tmpRelated);\n        }\n        notArr = [PD._id]\n        for(var i=0;i<data.relatedProps.length;i++){\n            notArr.push(data.relatedProps[i]._id)\n        }filters[\"_id\"] = { $not: { $in: notArr } };\n\n        if(data.relatedProps.length<4){\n            delete filters[\"address.county\"]\n            var tmpRelated = Collections.Properties.find(filters,{\n                transform:function(doc){\n                    doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                    if(doc.gallery){\n                        if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                    }\n                    return doc;\n                },\n                limit:4}).fetch();\n            data.relatedProps = data.relatedProps.concat(tmpRelated);(tmpRelated);\n        }\n        notArr = [PD._id]\n        for(var i=0;i<data.relatedProps.length;i++){\n            notArr.push(data.relatedProps[i]._id)\n        }filters[\"_id\"] = { $not: { $in: notArr } };\n\n        if(data.relatedProps.length<4){\n            delete filters[\"type\"]\n            var tmpRelated = Collections.Properties.find(filters,{\n                transform:function(doc){\n                    doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                    if(doc.gallery){\n                        if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                    }\n                    return doc;\n                },\n                limit:4}).fetch();\n            data.relatedProps = data.relatedProps.concat(tmpRelated);(tmpRelated);\n        }\n        if(data.relatedProps.length>4){\n            data.relatedProps = data.relatedProps.slice(0,4);\n        }\n        ///////// END FILTERS\n\n        var min = data.price*0.7, max = data.price*1.5;// also used in propertyApplications.onRendered\n        priceRange = {min:min, max:max}\n\n        ///////// START MY BIG AND OTHER BIDS\n        if(user){\n            var ret = Collections.Bids.find({auctionId:data._id,userId:user._id, isArchived:false}, {limit: 1}).fetch();\n            myBid = ret[0];\n\n            var maxLen = 5;\n            var forTotCount = Collections.Bids.find({auctionId:data._id, isArchived:false}, {\n                limit: maxLen,\n                sort: { yourBid : -1 }\n            })\n            // debugger;\n            if(!forTotCount.count()){//No results, return\n                otherBids = {\n                    needed: false,\n                    arr: []\n                }\n            }else{\n                if(!myBid || !user)\n                    otherBids = {\n                        needed: true,\n                        arr: forTotCount.fetch()\n                    }\n                else{\n                    var weNeedOnSides = Math.floor( maxLen/2 )\n                    var needAbove = weNeedOnSides;\n                    var back = Collections.Bids.find({auctionId:data._id, userId:{$ne: user._id}, yourBid:{$lt:myBid.yourBid} ,isArchived:false}, {\n                        limit: maxLen - 1,\n                        sort: { yourBid : -1 }\n                    })\n                    var backCount = back.count();\n\n                    if(backCount<weNeedOnSides){ // if count isn't enough, then change back itself.\n                        back = Collections.Bids.find({auctionId: data._id, userId:{$ne: user._id}, yourBid:{$lte:myBid.yourBid} ,isArchived:false},         {\n                            limit: maxLen - 1,\n                            sort: { yourBid : -1 }\n                        })\n                    }\n                    backCount = back.count();\n                    if(backCount<weNeedOnSides){//if its still less, then update we needAbove value\n                        needAbove += weNeedOnSides-backCount;\n                    }\n\n                    var above = Collections.Bids.find({auctionId:data._id, userId:{$ne: user._id}, yourBid:{$gt:myBid.yourBid} ,isArchived:false}, {\n                        limit: maxLen - 1,\n                        sort: { yourBid : -1 }\n                    })\n                    var aboveCount = above.count();\n\n                    if(aboveCount<needAbove){ // if count isn't enough, then change back itself.\n                        above = Collections.Bids.find({auctionId:data._id, userId:{$ne: user._id}, yourBid:{$gte:myBid.yourBid} ,isArchived:false}, {\n                            limit: maxLen - 1,\n                            sort: { yourBid : -1 }\n                        })\n                    }\n                    aboveCount = above.count();\n\n                    var retAbove = above.fetch();\n                    var retBack = back.fetch();\n                    retAbove.push(myBid)\n\n                    otherBids = {\n                        needed: true,\n                        arr: retAbove.concat(retBack)\n                    };\n\n                }\n            }\n        }\n        ///////// START MY BIG AND OTHER BIDS\n    }\n\n    var isAgent = false;\n    // switch(data.createdByAgent){\n    //     case '':\n    //         isAgent = {\n    //             \"logourl\":Meteor.absoluteUrl()+'images/property-rental-agents/Bell-Property-Consultants.jpeg',\n    //             \"name\": 'Bell Property Consultants Ltd',\n    //             \"address1\":\"Harolds Cross, Dublin\",\n    //             \"style\":{height:\"100px\"}\n    //         }\n    // }\n\n    var alreadyLeased = false;\n    if(data){\n        if(data.isArchived)alreadyLeased=true;\n    }\n\n    var refListArr = [];\n    var hasAllReqReferences = false;\n    if(user)\n    if(user.profile)\n    if(user.profile.references) {\n        // if (!user.profile.references.hasResume) refListArr.push(\"Resume\");//Why do you need it?\n        if (!user.profile.references.hasLandlordRef) refListArr.push(\"Landlord reference\");\n        if (!user.profile.references.employerName) refListArr.push(\"Employer name\");\n        if (!user.profile.references.hasWorkRef) refListArr.push(\"Work reference\");\n        if (!user.profile.references.hasFinancialRef) refListArr.push(\"Financial reference\");\n        if (!user.profile.references.hasGovtID) refListArr.push(\"Government ID\");\n        if (!user.profile.references.hasPassport) refListArr.push(\"Passport\");\n        if (!user.profile.references.hasPPS) refListArr.push(\"PPS\");\n        try{\n            if(user.profile.references.hasResume && user.profile.references.hasLandlordRef && user.profile.references.hasGovtID && user.profile.references.hasWorkRef )hasAllReqReferences = true;\n        }catch(e){console.log(e)}\n    }\n\n\n\n    try {\n        var title = '';\n        title = PD.address.address + ', ' + PD.address.area;\n        if (PD.address.county) title += ', ' + PD.address.county;\n\n        var desc = '';\n        if(PD.type) desc += titleCase(PD.type)+ ' for rent at ';\n        desc += PD.address.address + ', ' + PD.address.area;\n        if (PD.address.county) desc += ', ' + PD.address.county+'. ';\n        desc += 'Its '+ (PD.furnished ? \"a furnished \" : \"an Unfurnished \")+ titleCase(PD.type)+\n            \" with \"+ (PD.bedroomsCount ? PD.bedroomsCount : 'no')+\" beds, \"+\n            (PD.baths ? PD.baths : 'no')+\" baths, \"+\n            (PD.ensuiteCount ? PD.ensuiteCount : \"no\" )+\" Ensuite and \" +\n            (PD.doubleBedCount ? PD.doubleBedCount : \"has no\" )+\" Double bed property. \"\n        desc += \"Apply for this \" + PD.type + \", view its images, details and much more.\";\n\n        // Apartment for rent in\n        //     Newbrook road, mullingar, co. westmeath, murrisk, mayo | SpotMyCrib\n        clearMeta();\n        let titleTmp = title + ' | SpotMyCrib'\n        if(titleTmp.length<=75)title = titleTmp;\n\n        DocHead.setTitle(title);\n        DocHead.addMeta({\n            name: \"description\",\n            content: desc\n        });\n\n        var socialDesc = \"Apply for this \" + PD.type + \", view its images, details and much more.\";\n        var socialTitle = '';\n        if(PD.bedroomsCount) socialTitle += PD.bedroomsCount+ ' Bed '\n        if(PD.type) socialTitle += PD.type+ ' available at '\n        socialTitle += title\n        socialTitle = '' + titleCase(socialTitle) + ' | SpotMyCrib'\n        DocHead.addMeta({property: \"og:title\", content: socialTitle});\n        DocHead.addMeta({property: \"og:description\", content: socialDesc});\n\n        {/*<link rel=\"canonical\" href=\"http://example.com/wordpress/seo-plugin/\" />*/}\n        if(FlowRouter.current().route.name == 'letting')\n        DocHead.addMeta({rel: \"canonical\", href: FlowRouter.url('rent',{slug:PD.slug,key:key}) });\n\n        DocHead.addMeta({property: \"og:type\", content: \"place\"});\n        DocHead.addMeta({property: \"og:url\", content: FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params) });\n        DocHead.addMeta({property: \"fb:app_id\", content: '309356899476430'})\n\n        try{DocHead.addMeta({property: \"og:image\", content: PD.gallery[0].url  }); }\n        catch (c){\n            //Putting this here is making FB take the first response from here. & its showing no image if if this meta is later updated. So better put it later after all rendering at a template level. For now lets not keep anywhere.\n            // DocHead.addMeta({name: \"og:image\", content: 'https://www.spotmycrib.ie/images/spot-my-crib-logo.png'  });\n        }\n\n    }catch(err){\n        clearMeta();\n        DocHead.setTitle(' Property not found | SpotMyCrib');\n        DocHead.addMeta({name: \"description\", content: \"\"});\n    }\n\n    return {\n        data: data,\n        alreadyLeased: alreadyLeased,\n        isAgent: isAgent,\n        user: user,\n        refListArr: refListArr,\n        priceRange: priceRange,\n        hasAllReqReferences: hasAllReqReferences,\n        myBid: myBid,\n        otherBids: otherBids,\n        PD: PD,\n        sliderImages: sliderImages,\n        isSubsLoaded:true\n    };\n})(LettingDetail);\n\nclass ImagesSlider extends Component {\n    constructor(props) {\n        super(props)\n        var current = FlowRouter.current();\n        this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n    }\n    componentDidMount(){\n        $(document).ready(function() {\n            // $('#lettingDetailCarousel').first().addClass('active');//not needed as bug of isActive helper not working is fixed.\n\n            $('#imagessection .item img').width('100%')\n            var w = $('#imagessection .item img').first().width()\n            var h = w/1.33;\n            if(h>250)$('#imagessection .item img').height(w/1.33)\n            setTimeout(function () {\n                $('#imagessection .item img').width('100%')\n                var w = $('#imagessection .item img').first().width()\n                var h = w/1.33;\n                if(h>250)$('#imagessection .item img').height()\n            },3000)\n\n            // $('#lettingDetailCarousel').carousel();\n            // $(\"#lettingDetailCarousel\").swiperight(function() {\n            //     $(this).carousel('prev');\n            // });\n            // $(\"#lettingDetailCarousel\").swipeleft(function() {\n            //     $(this).carousel('next');\n            // });\n        });\n    }\n    render() {\n        return (\n\n            <div id=\"lettingDetailCarousel\" className=\"carousel slide\" data-ride=\"carousel\">\n                <div className=\"carousel-inner\">\n                    {this.props.images ?\n                        this.props.images.map(function(image,i){\n                            return (\n                            <div key={i} className={'item '+ (i==0 ? 'active' : \"\")}>\n                                <img src={image.url} alt={image.altText} title={image.altText} className=\"img-responsive\"/>\n                            </div>\n                            )\n                        })\n                    :(\n                        <div className=\"item active\">\n                            <img src={cdnPath(\"/images/no-photo.png\")} alt={'Image not available'} title={'Image not available'} className=\"img-responsive\"/>\n                        </div>\n                    )}\n                </div>\n                {/* Left and right controls */}\n                <a className=\"left carousel-control\" href={\"javascript:void(0)\"} data-slide=\"prev\">\n                    <span className=\"glyphicon glyphicon-chevron-left\"/>\n                    <span className=\"sr-only\">Previous</span>\n                </a>\n                <a className=\"right carousel-control\" href={\"javascript:void(0)\"} data-slide=\"next\">\n                    <span className=\"glyphicon glyphicon-chevron-right\"/>\n                    <span className=\"sr-only\">Next</span>\n                </a>\n            </div>\n        );\n    }\n}\nclass AddThisReact extends Component {\n    constructor(props) {\n        super(props)\n        console.log('Add this started')\n    }\n    componentDidMount(){\n        console.log('Add this rendered');\n    }\n    render() {\n        return (\n            <div className=\"addThis\">\n                <div className=\"addthis_inline_share_toolbox\"></div>\n            </div>\n        );\n    }\n}\n// Error: Can't find npm module 'aws-sdk'. Did you forget to call 'Npm.depends' in package.js within the 'jns_flow-router-ssr' package?"]},"sourceType":"module","hash":"04146ed8eba6664b95cd17b49056a9bcb1dea9b2"}
