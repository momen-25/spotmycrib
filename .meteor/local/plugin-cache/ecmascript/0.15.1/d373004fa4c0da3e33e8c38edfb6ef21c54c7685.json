{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/BlogHome.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/reactui/pages/BlogHome.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/BlogHome.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/BlogHome.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/pages/BlogHome.jsx"}},"code":"var _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 0);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 2);\nvar MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  \"default\": function (v) {\n    MainLayoutFooter = v;\n  }\n}, 3);\nvar MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  \"default\": function (v) {\n    MainLayoutHeader = v;\n  }\n}, 4);\nvar Collections;\nmodule.link(\"../../api/collections.js\", {\n  Collections: function (v) {\n    Collections = v;\n  }\n}, 5);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\nvar countsCollection = null;\n\nfunction dateFormat(text) {\n  var date = new Date(text);\n  if (date.toString() == \"Invalid Date\") return 'N/A';\n  return date.toDateString();\n}\n\nvar Pagination = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Pagination, _Component);\n\n  function Pagination(props) {\n    return _Component.call(this, props) || this;\n  }\n\n  var _proto = Pagination.prototype;\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {// console.log(this.props)\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"nav\", null, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"pagination\"\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"page-item \" + self.props.pagination.prevPage.disabled\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"page-link\",\n        href: self.props.pagination.prevPage.href,\n        tabIndex: \"-1\",\n        onClick: self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)\n      }, self.props.pagination.prevPage.text)), self.props.pagination.pages.map(function (page, i) {\n        if (typeof page.current !== 'undefined' && page.current) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: i,\n            className: \"page-item active\"\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"page-link\",\n            href: page.href\n          }, page.text, \" \", /*#__PURE__*/React.createElement(\"span\", {\n            className: \"sr-only\"\n          }, \"(current)\")));\n        } else {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: i,\n            className: \"page-item\"\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"page-link\",\n            onClick: self.props.handleChoosePage.bind(self, page.text, self.props.parent),\n            href: page.href\n          }, page.text));\n        }\n      }), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"page-item \" + self.props.pagination.nextPage.disabled\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"page-link\",\n        href: self.props.pagination.nextPage.href,\n        onClick: self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)\n      }, self.props.pagination.nextPage.text))));\n    }\n\n    return render;\n  }();\n\n  return Pagination;\n}(Component);\n\nvar BlogHome = /*#__PURE__*/function (_Component2) {\n  _inheritsLoose(BlogHome, _Component2);\n\n  function BlogHome(props) {\n    var _this;\n\n    _this = _Component2.call(this, props) || this;\n    var pBlogs = props.blogs;\n    if (!pBlogs) pBlogs = [];\n    var pTotalCount = props.totalCount;\n    if (!pTotalCount) pTotalCount = 0;\n    var pPagination = props.pagination;\n    if (!pPagination) pPagination = 0;\n    _this.state = {\n      blogs: pBlogs,\n      totalCount: pTotalCount,\n      pagination: pPagination\n    };\n    _this.propsListHTML = '';\n    _this.isServerSSRReq = '';\n    return _this;\n  }\n\n  var _proto2 = BlogHome.prototype;\n\n  _proto2.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      this.setState({\n        blogs: nextProps.blogs,\n        totalCount: nextProps.totalCount,\n        pagination: nextProps.pagination\n      });\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto2.componentWillMount = function () {\n    function componentWillMount() {}\n\n    return componentWillMount;\n  }();\n\n  _proto2.componentDidMount = function () {\n    function componentDidMount() {\n      var self = this;\n      setTimeout(function () {\n        try {\n          jQuery(\"html,body\").animate({\n            scrollTop: 0\n          }, 250);\n        } catch (e) {\n          document.body.scrollTop = document.documentElement.scrollTop = 0;\n        }\n      }, 500);\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto2.componentDidUpdate = function () {\n    function componentDidUpdate() {}\n\n    return componentDidUpdate;\n  }();\n\n  _proto2.handleChoosePage = function () {\n    function handleChoosePage(page, component) {\n      if (typeof page == \"undefined\") return; // var data = getSlugData();\n      // var slug = generateSlug(data);\n      //\n      // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n      //\n      // component.setState({pagination: pagination()});\n    }\n\n    return handleChoosePage;\n  }();\n\n  _proto2.propGrid = function () {\n    function propGrid() {\n      var self = this;\n      var blogImage = '';\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, self.state.blogs.map(function (blog, i) {\n        if (blog.image) {\n          var tmp = blog.image.split('?');\n          blogImage = tmp[0] + \"?resize=200%2C140\";\n        } else {\n          blogImage = '';\n        }\n\n        return /*#__PURE__*/React.createElement(\"section\", {\n          key: i,\n          className: \"main-holder border-top mar-btm-10\",\n          id: true\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"act-box\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"background-white\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"logo-holder-div\",\n          style: {\n            padding: '10px 20px'\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"logo-holder\"\n        }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url('blogdetail', {\n            slug: blog.slug\n          })\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"pad-btm-0\",\n          dangerouslySetInnerHTML: {\n            __html: blog.title\n          }\n        }))))))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"apt-info1 background-white clearfix\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media\"\n        }, blogImage ? /*#__PURE__*/React.createElement(\"a\", {\n          className: \"pull-left\",\n          href: FlowRouter.url('blogdetail', {\n            slug: blog.slug\n          })\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"media-object\",\n          src: blogImage,\n          alt: blog.title\n        })) : /*#__PURE__*/React.createElement(\"img\", {\n          src: cdnPath(\"/images/no-photo.png\"),\n          alt: 'Image not available',\n          className: \"img-responsive\"\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media-body\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"text-left mar-btm-10\",\n          dangerouslySetInnerHTML: {\n            __html: blog.excerpt\n          }\n        }), /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"list-inline list-unstyled\"\n        }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"glyphicon glyphicon-calendar\"\n        }), \" \", dateFormat(blog.created), \" \")))))))));\n      }));\n    }\n\n    return propGrid;\n  }();\n\n  _proto2.mainAllPage = function () {\n    function mainAllPage() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"props_list\"\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"logo-below-div value-div\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder-div\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h1\", {\n        style: {\n          marginBottom: 10\n        }\n      }, \"Blog \\u2013 SpotMyCrib\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"h4-div\",\n        style: {\n          paddingBottom: 5\n        }\n      }, \"Property renting tips, management and much more\"))))))), self.state.totalCount == 0 && this.props.isSubsLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container text-center mar-top-20 pad-btm-30\"\n      }, /*#__PURE__*/React.createElement(\"strong\", null, \"No blogs found.\")) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n        className: \"paginationArea mar-top-20 \"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\"\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: 'mar-btm-20'\n      }, \"Found total \", self.state.totalCount ? self.state.totalCount : 'no', \" articles. Browse the latest property news, renting tips, management and much more. Use the navigation below to find more.\"), /*#__PURE__*/React.createElement(Pagination, {\n        pagination: self.state.pagination,\n        handleChoosePage: self.handleChoosePage,\n        parent: self\n      }))))) : \"\", Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"isservercheckdiv\"\n      }) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n        className: \"proplist-sec property-list\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, this.propGrid())) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n        className: \"paginationArea\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\"\n      }, /*#__PURE__*/React.createElement(Pagination, {\n        pagination: self.state.pagination,\n        handleChoosePage: self.handleChoosePage,\n        parent: self\n      }))))) : \"\");\n    }\n\n    return mainAllPage;\n  }();\n\n  _proto2.render = function () {\n    function render() {\n      var self = this;\n      var totalCount = 0;\n\n      if (Meteor.isClient && this.propsListHTML == \"\") {\n        this.propsListHTML = $('#props_list').html();\n      }\n\n      if (Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html();\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n      } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded && self.state.blogs ? this.mainAllPage() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: this.propsListHTML\n        }\n      }) : /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20 mar-btm-20 no-print\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container text-center mar-top-20 pad-btm-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-top-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'h2-div'\n      }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n    }\n\n    return render;\n  }();\n\n  return BlogHome;\n}(Component);\n\n;\nmodule.exportDefault(withTracker(function () {\n  function getPaginationData(totalResultsCount, currentPageNo, resultsPerPage) {\n    currentPageNo = parseInt(currentPageNo);\n    var pages = [],\n        prevPage = {},\n        nextPage = {};\n    var pgMin = currentPageNo - 4,\n        pgMax = currentPageNo + 5,\n        maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n\n    if (!Number.isInteger(currentPageNo)) {\n      return {\n        \"prevPage\": prevPage,\n        \"pages\": pages,\n        \"nextPage\": nextPage\n      };\n    }\n\n    if (pgMin < 1) pgMin = 1;\n    if (pgMax < 1) pgMax = 1;\n    if (maxPages < 1) maxPages = 1;\n    if (pgMin > maxPages) currentPageNo = maxPages;\n    var tmp = {};\n    var href = '';\n    var cRoute = FlowRouter.current().route.name,\n        cParams = FlowRouter.current().params,\n        cQueryParams = FlowRouter.current().queryParams;\n\n    for (var i = pgMin; i <= maxPages; i++) {\n      cParams.pageno = i;\n      tmp = {\n        \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n        \"text\": i\n      };\n\n      if (i == currentPageNo) {\n        tmp['href'] = 'javascript:void(0);';\n        tmp['current'] = true;\n      }\n\n      pages.push(tmp);\n    }\n\n    var prevPageNo = currentPageNo - 1,\n        nextPageNo = currentPageNo + 1;\n\n    if (prevPageNo < 1) {\n      prevPage['href'] = 'javascript:void(0)';\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = prevPageNo;\n      prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), prevPage['prevPageNo'] = prevPageNo;\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = '';\n    }\n\n    if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n    if (nextPageNo == currentPageNo) {\n      nextPage['href'] = 'javascript:void(0)';\n      nextPage['text'] = 'Next';\n      nextPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = nextPageNo;\n      nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), nextPage['text'] = 'Next';\n      nextPage['nextPageNo'] = nextPageNo;\n      nextPage['disabled'] = '';\n    }\n\n    return {\n      \"prevPage\": prevPage,\n      \"pages\": pages,\n      \"nextPage\": nextPage\n    };\n  }\n\n  var pageno = FlowRouter.getParam('pageno');\n  if (!pageno) pageno = 1;\n  var resperpage = 6; // var query = FlowRouter.current().queryParams;\n\n  var current = FlowRouter.current();\n  var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams);\n  var sortOptions = {\n    updatedAt: -1\n  };\n  var bBlogsSub = Meteor.subscribe(\"browseBlogs\", {\n    viewName: 'browseBlogs.view',\n    pageno: pageno,\n    resperpage: resperpage\n  }, function () {\n    if (bBlogsSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  });\n  Meteor.subscribe(\"total-blogs-count\", {\n    viewName: 'browseBlogs.view',\n    pageno: pageno,\n    resperpage: resperpage\n  });\n\n  if (Meteor.isServer) {\n    if (countsCollection == null) countsCollection = new Mongo.Collection('counts');\n\n    Counts.get = function () {\n      function countsGet(name) {\n        var count = countsCollection.findOne(name);\n        return count && count.count || 0;\n      }\n\n      return countsGet;\n    }();\n\n    Counts.has = function () {\n      function countsHas(name) {\n        return !!countsCollection.findOne(name);\n      }\n\n      return countsHas;\n    }();\n\n    totalCount = Counts.get(\"total-blogs-count\");\n  } else {\n    totalCount = Counts.get(\"total-blogs-count\");\n  } // Meteor.subscribe('userData');\n  // Meteor.subscribe('Config');\n\n\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  if (!bBlogsSub.ready()) {\n    return {\n      isSubsLoaded: false\n    };\n  }\n\n  return {\n    totalCount: totalCount,\n    pagination: getPaginationData(totalCount, pageno, 6),\n    blogs: Collections.Blogs.find().fetch(),\n    isSubsLoaded: true\n  };\n})(BlogHome));","map":{"version":3,"sources":["imports/reactui/pages/BlogHome.jsx"],"names":["_inheritsLoose","module","link","default","v","Meteor","React","Component","withTracker","MainLayoutFooter","MainLayoutHeader","Collections","isClient","Session","set","countsCollection","dateFormat","text","date","Date","toString","toDateString","Pagination","props","componentDidMount","render","self","pagination","prevPage","disabled","href","handleChoosePage","bind","prevPageNo","parent","pages","map","page","i","current","nextPage","nextPageNo","BlogHome","pBlogs","blogs","pTotalCount","totalCount","pPagination","state","propsListHTML","isServerSSRReq","componentWillReceiveProps","nextProps","setState","componentWillMount","setTimeout","jQuery","animate","scrollTop","e","document","body","documentElement","componentDidUpdate","component","propGrid","blogImage","blog","image","tmp","split","padding","FlowRouter","url","slug","__html","title","cdnPath","excerpt","created","mainAllPage","marginBottom","paddingBottom","isSubsLoaded","isServer","$","html","exportDefault","getPaginationData","totalResultsCount","currentPageNo","resultsPerPage","parseInt","pgMin","pgMax","maxPages","Math","ceil","Number","isInteger","cRoute","route","name","cParams","params","cQueryParams","queryParams","pageno","push","getParam","resperpage","currentURL","sortOptions","updatedAt","bBlogsSub","subscribe","viewName","ready","Mongo","Collection","Counts","get","countsGet","count","findOne","has","countsHas","Blogs","find","fetch"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\n\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nimport { Collections } from  '../../api/collections.js'\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nlet countsCollection = null;\nfunction dateFormat(text){\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n}\n\nclass Pagination extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        // console.log(this.props)\n    }\n    \n    render() {\n        const self = this;\n        return (\n        <nav>\n            <ul className=\"pagination\">\n                <li className={\"page-item \" +self.props.pagination.prevPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.prevPage.href} \n                    tabIndex=\"-1\"\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)}\n                    >{self.props.pagination.prevPage.text}\n                    </a>\n                </li>\n                {self.props.pagination.pages.map((page, i) => {\n                    if(typeof page.current !== 'undefined' && page.current) {\n                        return (\n                            <li key={i} className=\"page-item active\">\n                                <a className=\"page-link\" href={page.href}>{page.text} <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                        );\n                    } else {\n                        return (\n                           <li key={i} className=\"page-item\">\n                            <a \n                            className=\"page-link\" \n                            onClick={self.props.handleChoosePage.bind(self, page.text, self.props.parent)}\n                            href={page.href}\n                            >{page.text}\n                            </a>\n                           </li>\n                        );\n                    }\n                })}\n                <li className={\"page-item \" + self.props.pagination.nextPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.nextPage.href}\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)}\n                    >{self.props.pagination.nextPage.text}\n                    </a>\n                </li>\n            </ul>\n        </nav>\n        )\n    }\n}\n\nclass BlogHome extends Component {\n\n    constructor(props) {\n        super(props);\n\n        let pBlogs = props.blogs; if(!pBlogs)pBlogs = [];\n        let pTotalCount = props.totalCount; if(!pTotalCount)pTotalCount = 0;\n        let pPagination = props.pagination; if(!pPagination)pPagination = 0;\n        this.state = {\n            blogs: pBlogs,\n            totalCount: pTotalCount,\n            pagination: pPagination,\n        };\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            blogs: nextProps.blogs,\n            totalCount: nextProps.totalCount,\n            pagination: nextProps.pagination\n        });\n    }\n\n    componentWillMount() {}\n\n    componentDidMount() {\n        const self = this;\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n        },500)\n    }\n    componentDidUpdate() {}\n    handleChoosePage(page, component) {\n        if (typeof page == \"undefined\") return\n\n        // var data = getSlugData();\n        // var slug = generateSlug(data);\n        //\n        // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n        //\n        // component.setState({pagination: pagination()});\n    }\n\n    propGrid() {\n        const self = this;\n        let blogImage = '';\n        return (\n            <div className=\"row\">\n                {self.state.blogs.map((blog, i) => {\n                    if(blog.image){\n                        let tmp = blog.image.split('?');\n                        blogImage = tmp[0]+\"?resize=200%2C140\";\n                    }else{\n                        blogImage='';\n                    }\n                    return (\n                        <section key={i} className=\"main-holder border-top mar-btm-10\" id>\n                            <div className=\"container\">\n                                <div className=\"act-box\">\n                                    <div className=\"background-white\">\n                                        <div className=\"logo-holder-div\" style={{padding: '10px 20px'}}>\n                                            <div className=\"logo-holder\">\n                                                <ul>\n                                                    <li>\n                                                        <a href={FlowRouter.url('blogdetail', {slug: blog.slug})}>\n                                                            <h3 className=\"pad-btm-0\" dangerouslySetInnerHTML={{__html: blog.title}}></h3>\n                                                        </a>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"apt-info1 background-white clearfix\">\n                                        <div className=\"media\">\n                                            { blogImage ?\n                                                (\n                                                <a className=\"pull-left\" href={FlowRouter.url('blogdetail', {slug: blog.slug})}>\n                                                    <img className=\"media-object\" src={blogImage} alt={blog.title}/>\n                                                </a>\n                                                )\n                                                :\n                                                (\n                                                <img src={cdnPath(\"/images/no-photo.png\")}\n                                                alt={'Image not available'}\n                                                className=\"img-responsive\"/>\n                                                )\n                                            }\n\n                                            <div className=\"media-body\">\n                                                <div className=\"text-left mar-btm-10\" dangerouslySetInnerHTML={{__html: blog.excerpt}}></div>\n                                                {/*... <span className=\"read-more\"><a href={FlowRouter.url('blogdetail', {slug: blog.slug})}>Read More &raquo;</a></span>*/}\n                                                <ul className=\"list-inline list-unstyled\">\n                                                    <li><span><i className=\"glyphicon glyphicon-calendar\" /> {dateFormat(blog.created)} </span></li>\n                                                    {/*<li>|</li>*/}\n                                                    {/*<li>*/}\n                                                        {/*/!* Use Font Awesome http://fortawesome.github.io/Font-Awesome/ *!/*/}\n                                                        {/*<span><i className=\"fa fa-facebook-square\" /></span>*/}\n                                                        {/*<span><i className=\"fa fa-twitter-square\" /></span>*/}\n                                                        {/*<span><i className=\"fa fa-google-plus-square\" /></span>*/}\n                                                    {/*</li>*/}\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    );\n                })}\n            </div>\n        )\n    }\n    mainAllPage(){\n        const self = this;\n        return (\n            <div id=\"props_list\">\n                <section className=\"logo-below-div value-div\">\n                    <div className=\"container\">\n                        <div className=\"logo-holder-div\">\n                            <div className=\"logo-holder\">\n                                <ul>\n                                    <li>\n                                        <h1 style={{marginBottom: 10}}>Blog – SpotMyCrib</h1>\n                                        <div className=\"h4-div\" style={{paddingBottom: 5}}>Property renting tips, management and much more</div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                { self.state.totalCount == 0 && this.props.isSubsLoaded ? (\n                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                        <strong>\n                            No blogs found.\n                        </strong>\n                    </div>\n                ) : (\"\")}\n\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea mar-top-20 \">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <p className={'mar-btm-20'}>\n                                        Found total {self.state.totalCount ? self.state.totalCount : 'no'} articles. Browse the latest property news, renting tips, management and much more. Use the navigation below to find more.\n                                    </p>\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n\n                { self.state.totalCount > 0 ? (\n                <section className=\"proplist-sec property-list\">\n                    <div className=\"container\">\n                        {this.propGrid()}\n                    </div>\n                </section>\n                ) : (\"\")}\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n            </div>\n        )\n    }\n\n    render() {\n    const self = this;\n    let totalCount = 0;\n    if(Meteor.isClient && this.propsListHTML==\"\"){\n        this.propsListHTML = $('#props_list').html()\n    }\n    if(Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html()\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n        else this.isServerSSRReq = false\n    }\n    // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n    return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded && self.state.blogs )  ? (\n                        this.mainAllPage()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n};\n\nexport default withTracker(() => {\n    \n    function getPaginationData(totalResultsCount,currentPageNo,resultsPerPage) {\n        currentPageNo = parseInt(currentPageNo);\n        var pages = [], prevPage = {}, nextPage={};\n        var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage);\n        if(!Number.isInteger(currentPageNo)){\n            return {\n                \"prevPage\":prevPage,\n                \"pages\":pages,\n                \"nextPage\": nextPage\n            }\n        }\n        \n        if(pgMin<1)pgMin =1;\n        if(pgMax<1)pgMax =1;\n        if(maxPages<1)maxPages =1;\n        if(pgMin>maxPages)currentPageNo =maxPages;\n\n        let tmp={};let href = '';\n        let cRoute = FlowRouter.current().route.name, cParams = FlowRouter.current().params, cQueryParams = FlowRouter.current().queryParams;\n        for (var i=pgMin; i<=maxPages;i++){\n            cParams.pageno = i;\n            tmp = {\n                \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n                \"text\": i\n            }\n            if(i== currentPageNo) {\n                tmp['href'] = 'javascript:void(0);';\n                tmp['current'] = true;\n            }\n            pages.push(tmp)\n        }\n\n        var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n        \n        if(prevPageNo<1){\n            prevPage['href'] = 'javascript:void(0)';\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = prevPageNo;\n            prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n            prevPage['prevPageNo'] = prevPageNo;\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = '';\n        }\n\n        if(nextPageNo>maxPages) nextPageNo = maxPages;\n        if(nextPageNo == currentPageNo){\n            nextPage['href'] = 'javascript:void(0)';\n            nextPage['text'] = 'Next';\n            nextPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = nextPageNo;\n            nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n            nextPage['text'] = 'Next';\n            nextPage['nextPageNo'] = nextPageNo;\n            nextPage['disabled'] = '';\n        }\n\n        return {\n            \"prevPage\":prevPage,\n            \"pages\":pages,\n            \"nextPage\": nextPage\n        }\n    }\n\n    var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n    var resperpage = 6;\n    // var query = FlowRouter.current().queryParams;\n    var current = FlowRouter.current();\n    var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams)\n\n    var sortOptions = { updatedAt : -1 }\n\n    const bBlogsSub = Meteor.subscribe(\"browseBlogs\", {viewName: 'browseBlogs.view', pageno:pageno, resperpage:resperpage } ,function(){\n        if(bBlogsSub.ready() && Meteor.isClient)Session.set('subscriptionsReady',true);\n    });\n\n    Meteor.subscribe(\"total-blogs-count\", {viewName: 'browseBlogs.view', pageno:pageno, resperpage:resperpage});\n\n    if(Meteor.isServer){\n        if(countsCollection==null)countsCollection = new Mongo.Collection('counts');\n        Counts.get = function countsGet(name) {\n            const count = countsCollection.findOne(name);\n            return count && count.count || 0;\n        };\n        Counts.has = function countsHas(name) {\n            return !!countsCollection.findOne(name);\n        };\n\n        totalCount = Counts.get(\"total-blogs-count\");\n\n    }else{\n        totalCount = Counts.get(\"total-blogs-count\");\n    }\n\n    // Meteor.subscribe('userData');\n    // Meteor.subscribe('Config');\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !bBlogsSub.ready() ) {\n        return {\n            isSubsLoaded : false\n        }\n    }\n\n    return {\n        totalCount: totalCount,\n        pagination: getPaginationData(totalCount,pageno,6),\n        blogs: Collections.Blogs.find().fetch(),\n        isSubsLoaded : true\n    };\n})(BlogHome);"]},"sourceType":"module","hash":"d373004fa4c0da3e33e8c38edfb6ef21c54c7685"}
