{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/AdvertiseWithUs.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/reactui/pages/AdvertiseWithUs.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/AdvertiseWithUs.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/AdvertiseWithUs.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/pages/AdvertiseWithUs.jsx"}},"code":"var _assertThisInitialized;\n\nmodule.link(\"@babel/runtime/helpers/assertThisInitialized\", {\n  default: function (v) {\n    _assertThisInitialized = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar ReactDOM;\nmodule.link(\"react-dom\", {\n  \"default\": function (v) {\n    ReactDOM = v;\n  }\n}, 2);\nvar withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 3);\nvar MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  \"default\": function (v) {\n    MainLayoutFooter = v;\n  }\n}, 4);\nvar MainLayoutHeader, LoginFormHorizontalT;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  \"default\": function (v) {\n    MainLayoutHeader = v;\n  },\n  LoginFormHorizontalT: function (v) {\n    LoginFormHorizontalT = v;\n  }\n}, 5);\nvar Collections;\nmodule.link(\"../../api/collections\", {\n  Collections: function (v) {\n    Collections = v;\n  }\n}, 6);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n} // function getAreas(countySelected) {\n//     var distinctEntries = _.uniq(Collections.Areas.find({County:countySelected}, {\n//         sort: {Area: 1}, fields: {Area: true}\n//     }).fetch().map(function(x) {\n//         return x.Area;\n//     }), true);\n//     allareas = []\n//     for(var i=0;i< distinctEntries.length;i++){\n//         if(!distinctEntries[i])continue;\n//         allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n//     }\n//     return allareas;\n// }\n\n\nsearialisedAdvertiseForm = '';\n\nfunction saveToLocalStorage() {\n  searialisedAdvertiseForm = $('#advertiseWithUsFormCF').serializeArray();\n\n  if (localStorage) {\n    // localStorage.searialisedAdvertiseForm=searialisedAdvertiseForm// doesn' work as it saves as string, but we need to store as object\n    localStorage.advertisewithusFormData = {};\n    localStorage.advertisewithusFormData_address = $(\"input[name='address.address']\").val();\n    localStorage.advertisewithusFormData_price = $(\"input[name='price']\").val();\n    localStorage.advertisewithusFormData_county = $(\"select[name='address.county']\").val();\n    localStorage.advertisewithusFormData_area = $(\"select[name='address.area']\").val();\n    localStorage.advertisewithusFormData_type = $(\"select[name='type']\").val();\n    localStorage.advertisewithusFormData_furnished = $(\"select[name='furnished']\").val();\n    localStorage.advertisewithusFormData_baths = $(\"input[name='baths']\").val();\n    localStorage.advertisewithusFormData_numBedRoomCount = $(\"input[name='numBedRoomCount']\").val();\n  }\n}\n\nvar AdvertiseWithUs = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AdvertiseWithUs, _Component);\n\n  function AdvertiseWithUs(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.components = {\n      c1: AwsStep1,\n      c2: AwsStep2,\n      AwsStep1: AwsStep1,\n      AwsStep2: AwsStep2,\n      AwsStep3: AwsStep3\n    };\n    return _this;\n  }\n\n  var _proto = AdvertiseWithUs.prototype;\n\n  _proto.render = function () {\n    function render() {\n      var self = this;\n      var TagName = this.components[this.props.curStepComponent];\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"video-div\",\n        style: {\n          display: \"none\"\n        }\n      }, /*#__PURE__*/React.createElement(\"iframe\", {\n        width: \"560\",\n        height: \"315\",\n        src: \"https://www.youtube.com/embed/L689NIDwFdc?autoplay=1&rel=0\",\n        frameBorder: \"0\",\n        allowFullScreen: true\n      })), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20 mar-btm-20\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container background-white \"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder mar-top-20 pad-btm-20\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"autoFrm\"\n      }, /*#__PURE__*/React.createElement(TagName, null))))), /*#__PURE__*/React.createElement(\"footer\", {\n        className: \"footer-default\"\n      }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n    }\n\n    return render;\n  }();\n\n  return AdvertiseWithUs;\n}(Component);\n\nmodule.exportDefault(withTracker(function () {\n  if (Meteor.isClient) {\n    var pageno = FlowRouter.getParam('pageno');\n    if (!pageno) pageno = 1;\n    var loginFlowComplete = Session.get('loginFlowComplete');\n\n    if (pageno == 2 && loginFlowComplete) {\n      FlowRouter.go('advertisewithus', {\n        pageno: 3\n      });\n      Session.set('loginFlowComplete', undefined);\n      if (typeof fbq !== 'undefined') fbq('track', 'Lead');\n      if (typeof ga !== 'undefined') ga('send', 'event', 'AdvertiseWithUsPage', 'UserLoginCompleted', 'User login / signup');\n    }\n  }\n\n  return {};\n})(AdvertiseWithUs));\n\nvar AwsStep1 = /*#__PURE__*/function (_Component2) {\n  _inheritsLoose(AwsStep1, _Component2);\n\n  function AwsStep1() {\n    return _Component2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = AwsStep1.prototype;\n\n  _proto2.componentDidMount = function () {\n    function componentDidMount() {\n      setTimeout(function () {\n        try {\n          $.fancybox({\n            'padding': 0,\n            'href': '#video-div'\n          });\n        } catch (e) {}\n      }, 3000);\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto2.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Advertise your property to rent for FREE!\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"List your property to rent in SpotMyCrib. Let thousands of verified tenants apply for your letting. Choose if you are a landlord, agent or the current tenant looking for a replacement so you can move. \"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Enter the details of the property below and click submit.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(AdvertiseWithUsFormT, null));\n    }\n\n    return render;\n  }();\n\n  return AwsStep1;\n}(Component);\n\nvar AwsStep2 = /*#__PURE__*/function (_Component3) {\n  _inheritsLoose(AwsStep2, _Component3);\n\n  function AwsStep2(props) {\n    var _this2;\n\n    _this2 = _Component3.call(this, props) || this;\n    _this2.backBtnHandler = _this2.backBtnHandler.bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n\n  var _proto3 = AwsStep2.prototype;\n\n  _proto3.backBtnHandler = function () {\n    function backBtnHandler() {\n      FlowRouter.go('advertisewithus');\n    }\n\n    return backBtnHandler;\n  }();\n\n  _proto3.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Advertise your property to rent (step 2 of 3)\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        className: \"backBtn\",\n        onClick: this.backBtnHandler\n      }, \"<< Back to step 1\"), /*#__PURE__*/React.createElement(\"p\", null, \"Connect your advert to your account. Login now or sign up with your social account. \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(LoginFormHorizontalT, {\n        isLandLordMode: true\n      }));\n    }\n\n    return render;\n  }();\n\n  return AwsStep2;\n}(Component);\n\nvar AwsStep3 = /*#__PURE__*/function (_Component4) {\n  _inheritsLoose(AwsStep3, _Component4);\n\n  function AwsStep3(props) {\n    var _this3;\n\n    _this3 = _Component4.call(this, props) || this;\n    _this3.state = {\n      propertyId: '',\n      auctionId: '',\n      myPropertyLink: ''\n    };\n    _this3.backBtnHandler = _this3.backBtnHandler.bind(_assertThisInitialized(_this3));\n    _this3.addPropImagesHandler = _this3.addPropImagesHandler.bind(_assertThisInitialized(_this3));\n    return _this3;\n  }\n\n  var _proto4 = AwsStep3.prototype;\n\n  _proto4.backBtnHandler = function () {\n    function backBtnHandler() {\n      FlowRouter.go('advertisewithus');\n    }\n\n    return backBtnHandler;\n  }();\n\n  _proto4.addPropImagesHandler = function () {\n    function addPropImagesHandler() {\n      if (typeof ga !== 'undefined') ga('send', 'event', 'AdvertiseWithUsPage', 'addPropertyImagesBtnClick', 'AddPropertyImages button clicked.');\n      Session.set('OpenImageUploader', true);\n      Session.set('fromAdvertiseWithUsPage', true);\n      FlowRouter.go('account/editproperty', {\n        id: this.state.propertyId\n      });\n    }\n\n    return addPropImagesHandler;\n  }();\n\n  _proto4.myPropertyLink = function () {\n    function myPropertyLink() {\n      var propertyId = this.state.propertyId;\n      if (!propertyId) return '';\n      var auctionId = this.state.auctionId;\n      if (!auctionId) return '';\n      var prop = Collections.Properties.findOne(propertyId);\n      if (!prop) return '';\n      var auction = Collections.Auctions.findOne({\n        _id: auctionId\n      });\n      if (!auction) return '';\n      return FlowRouter.path('rent', {\n        slug: prop.slug,\n        key: auction.lettingAuctionCode\n      });\n    }\n\n    return myPropertyLink;\n  }();\n\n  _proto4.componentDidMount = function () {\n    function componentDidMount() {\n      if (Meteor.isClient) {\n        var user = Meteor.user();\n\n        if (!user) {\n          //\n          FlowRouter.go('advertisewithus', {\n            pageno: 2\n          });\n          return;\n        }\n\n        if (!searialisedAdvertiseForm) {\n          FlowRouter.go('advertisewithus');\n          return;\n        }\n\n        this.addPropertyCallback = function (error, propertyId) {\n          if (error) {\n            console.log(error);\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            var msg = 'An error occurred.';\n            if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n            tmp.push(msg);\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          }\n\n          this.setState({\n            propertyId: propertyId\n          });\n          Meteor.subscribe('editProperty', propertyId); //Can also be used for advertisewithus\n\n          this.addAdvertisementFormCallback = function (error, auctionId) {\n            if (error) {\n              console.log(error); //    validator.showErrors({\n              //         email: error.reason\n              //     });\n\n              var tmp = Session.get(\"showErrorDlg\");\n              if (!tmp) tmp = [];\n              var msg = 'An error occurred.';\n              if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n              tmp.push(msg);\n              Session.set(\"showErrorDlg\", tmp);\n              return;\n            }\n\n            console.log('addAdvertisement created successfully');\n            console.log(auctionId);\n            var templateInstance = this;\n            this.setState({\n              auctionId: auctionId\n            }, function () {\n              var propertyId = templateInstance.state.propertyId;\n              if (!propertyId) return '';\n              var auctionId = templateInstance.state.auctionId;\n              if (!auctionId) return '';\n              var prop = Collections.Properties.findOne({\n                _id: propertyId\n              });\n              if (!prop) return '';\n              var auction = Collections.Auctions.findOne({\n                _id: auctionId\n              });\n              if (!auction) return '';\n              var myPropertyLink = FlowRouter.url('rent', {\n                slug: prop.slug,\n                key: auction.lettingAuctionCode\n              });\n              this.setState({\n                myPropertyLink: myPropertyLink\n              });\n            });\n          };\n\n          this.addAdvertisementFormCallback = this.addAdvertisementFormCallback.bind(this);\n          Meteor.call('addAdvertisement', searialisedAdvertiseForm, propertyId, this.addAdvertisementFormCallback);\n        };\n\n        this.addPropertyCallback = this.addPropertyCallback.bind(this);\n        Meteor.call('addProperty', searialisedAdvertiseForm, this.addPropertyCallback);\n      }\n    }\n\n    return componentDidMount;\n  }() //todo: this is page is not developed. So finish it.\n  ;\n\n  _proto4.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Congratulations! Your property is now live.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        className: \"backBtn\",\n        onClick: this.backBtnHandler\n      }, \"<< Back to step 1\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          margin: '10px 0 10px 0px'\n        }\n      }, \"Choose add property images button below to add images to your advert to make it clear and attractive. Add description and choose amenities available by choosing edit option below. Choose preview below to view it, use the link from the preview window to share it with others. \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin-form cf-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-full-width\"\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btns blue-btn addPropImages\",\n        onClick: self.addPropImagesHandler\n      }, \"Add property images\"), self.state.propertyId ? /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('account/editproperty', {\n          id: self.state.propertyId\n        }),\n        className: \"btns transparent-btn mar-left-10\"\n      }, \"Edit property\") : \"\", /*#__PURE__*/React.createElement(\"a\", {\n        href: self.state.myPropertyLink,\n        target: \"_blank\",\n        className: \"btns blue-btn mar-left-10\"\n      }, \"Preview property\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-100\"\n      }))), /*#__PURE__*/React.createElement(\"h2\", null, \"Whats next?\"), /*#__PURE__*/React.createElement(\"p\", null, \"Visit \", /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('account/myProperties')\n      }, \"my properties\"), \" from \", /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('account/myProperties')\n      }, \"here\"), \" or from top menu to see the list of all your properties. Visit \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"green-text\"\n      }, \"view applications\"), \" from my properties to see list of all applications your property receive. .\"));\n    }\n\n    return render;\n  }();\n\n  return AwsStep3;\n}(Component);\n\nvar AdvertiseWithUsForm = /*#__PURE__*/function (_Component5) {\n  _inheritsLoose(AdvertiseWithUsForm, _Component5);\n\n  function AdvertiseWithUsForm(props) {\n    var _this4;\n\n    _this4 = _Component5.call(this, props) || this;\n    _this4.state = {\n      addPropertyFormSaving: false,\n      numBedRoomCount: 0,\n      numBedRoomCountArr: 0,\n      counties: props.counties,\n      areas: props.areas,\n      countySelected: props.countySelected,\n      propertyTypes: props.propertyTypes\n    };\n    _this4.countySelectedHandler = _this4.countySelectedHandler.bind(_assertThisInitialized(_this4));\n    _this4.areaSelectedHandler = _this4.areaSelectedHandler.bind(_assertThisInitialized(_this4));\n    _this4.propertyTypeHandler = _this4.propertyTypeHandler.bind(_assertThisInitialized(_this4));\n    return _this4;\n  }\n\n  var _proto5 = AdvertiseWithUsForm.prototype;\n\n  _proto5.countySelectedHandler = function () {\n    function countySelectedHandler(event) {\n      var countySelected = event.target.value;\n      this.setState({\n        countySelected: countySelected\n      });\n      if (Meteor.isClient) Session.set('countySelected', countySelected); // if(countySelected) this.setState({areas:getAreas(countySelected)})\n\n      setTimeout(function () {\n        $('.areaSelected').val(\"\");\n        saveToLocalStorage();\n      }, 250);\n    }\n\n    return countySelectedHandler;\n  }();\n\n  _proto5.areaSelectedHandler = function () {\n    function areaSelectedHandler(event) {\n      this.setState({\n        areaSelected: event.target.value\n      });\n      setTimeout(saveToLocalStorage, 250);\n    }\n\n    return areaSelectedHandler;\n  }();\n\n  _proto5.propertyTypeHandler = function () {\n    function propertyTypeHandler(event) {\n      this.setState({\n        propertyTypeSelected: event.target.value\n      });\n      setTimeout(saveToLocalStorage, 250);\n    }\n\n    return propertyTypeHandler;\n  }();\n\n  _proto5.handleSubmit = function () {\n    function handleSubmit(event) {\n      event.preventDefault();\n      this.setState({\n        addPropertyFormSaving: true\n      });\n      var instance = this;\n      setTimeout(function () {\n        instance.setState({\n          addPropertyFormSaving: false\n        });\n      }, 2000);\n      var address = ReactDOM.findDOMNode(this.refs.address).value.trim();\n      var price = ReactDOM.findDOMNode(this.refs.price).value.trim();\n      var county = ReactDOM.findDOMNode(this.refs.county).value.trim();\n    }\n\n    return handleSubmit;\n  }();\n\n  _proto5.updateNumBedRoomCount = function () {\n    function updateNumBedRoomCount(event) {\n      this.setState({\n        numBedRoomCount: event.target.value\n      });\n      var countArr = [];\n\n      for (var i = 0; i < event.target.value; i++) {\n        countArr.push({\n          'index': i + 1\n        });\n      }\n\n      this.setState({\n        numBedRoomCountArr: countArr\n      });\n    }\n\n    return updateNumBedRoomCount;\n  }();\n\n  _proto5.componentDidMount = function () {\n    function componentDidMount() {\n      // console.log(this.props)\n      var instance = this;\n\n      if (Meteor.isClient) {\n        var validator = $('#advertiseWithUsFormCF').validate({\n          submitHandler: function (event) {\n            // addPropertyFormSaving.set(true);//Not needed on this form.\n            console.log(\"You just submitted the 'addPropertyForm' form.\");\n            saveToLocalStorage();\n\n            if (instance.props.user) {\n              FlowRouter.go('advertisewithus', {\n                pageno: 3\n              });\n            } else {\n              FlowRouter.go('advertisewithus', {\n                pageno: 2\n              });\n            }\n          }\n        });\n      }\n\n      setTimeout(function () {\n        try {\n          jQuery(\"html,body\").animate({\n            scrollTop: 0\n          }, 250);\n        } catch (e) {\n          document.body.scrollTop = document.documentElement.scrollTop = 0;\n        }\n\n        instance.restoreLocalStorageSettings();\n      }, 500);\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto5.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      if (nextProps.propertyTypes.length) //update only if it has vals.\n        this.setState({\n          propertyTypes: nextProps.propertyTypes\n        });\n      if (nextProps.areas.length) //update only if it has vals.\n        this.setState({\n          areas: nextProps.areas\n        });\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto5.restoreLocalStorageSettings = function () {\n    function restoreLocalStorageSettings() {\n      var county = '';\n\n      if (localStorage) {\n        if (localStorage.advertisewithusFormData_county) {\n          county = localStorage.advertisewithusFormData_county;\n        } else if (localStorage.advertisewithusFormData_county === undefined) {\n          //Only for first time users\n          county = 'Dublin';\n        }\n\n        if (localStorage.advertisewithusFormData_type) {\n          this.setState({\n            propertyTypeSelected: localStorage.advertisewithusFormData_type\n          });\n        }\n      }\n\n      this.setState({\n        countySelected: county\n      });\n      if (Meteor.isClient) Session.set('countySelected', county); // if(county)this.setState({areas:getAreas(county)})\n\n      if (localStorage) if (localStorage.advertisewithusFormData_area) {\n        this.setState({\n          areaSelected: localStorage.advertisewithusFormData_area\n        });\n      }\n    }\n\n    return restoreLocalStorageSettings;\n  }();\n\n  _proto5.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        className: \"signin-form cf-1\",\n        id: \"advertiseWithUsFormCF\",\n        onSubmit: this.handleSubmit.bind(this)\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input \"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"address.address\",\n        id: \"address.address\",\n        required: true,\n        ref: \"address\"\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        id: \"address.address-error\",\n        className: \"error\",\n        htmlFor: \"address.address\"\n      }, \"This field is required.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", null, \"Name and Street *\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input \"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        required: true,\n        ref: \"price\"\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        id: \"address.address-error\",\n        className: \"error\",\n        htmlFor: \"address.address\"\n      }, \"This field is required.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", null, \"Rent *\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, \"County\"), /*#__PURE__*/React.createElement(\"select\", {\n        autoComplete: \"on\",\n        name: \"address.county\",\n        ref: \"county\",\n        required: true,\n        className: \"countySelected\",\n        onChange: this.countySelectedHandler,\n        value: this.state.countySelected\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"(Select One)\"), this.state.counties.map(function (c, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: c.value\n        }, c.label);\n      })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, \"Area *\"), /*#__PURE__*/React.createElement(\"select\", {\n        autoComplete: \"on\",\n        name: \"address.area\",\n        required: true,\n        className: \"areaSelected\",\n        onChange: this.areaSelectedHandler,\n        value: this.state.areaSelected\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"(Select One)\"), this.state.areas.map(function (c, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: c.value\n        }, c.label);\n      })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, \"Property type *\"), /*#__PURE__*/React.createElement(\"select\", {\n        autoComplete: \"on\",\n        name: \"type\",\n        ref: \"type\",\n        required: true,\n        className: \"\",\n        onChange: this.propertyTypeHandler,\n        value: this.state.propertyTypeSelected\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"(Select One)\"), this.state.propertyTypes.map(function (c, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: c.value\n        }, c.label);\n      })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, \"Furnished? *\"), /*#__PURE__*/React.createElement(\"select\", {\n        name: \"furnished\",\n        required: true,\n        autoComplete: \"on\",\n        ref: \"furnished\"\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"true\"\n      }, \"Yes\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"false\"\n      }, \"No\")), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input underline\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"baths\",\n        id: \"baths\",\n        required: true,\n        ref: \"baths\"\n      }), /*#__PURE__*/React.createElement(\"label\", null, \"Number of bathrooms\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input underline\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"numBedRoomCount\",\n        id: \"numBedRoomCount\",\n        required: true,\n        ref: \"numBedRoomCount\",\n        onChange: this.updateNumBedRoomCount.bind(this),\n        value: self.state.numBedRoomCount\n      }), /*#__PURE__*/React.createElement(\"label\", null, \"Number of bedrooms\"), /*#__PURE__*/React.createElement(\"span\", null)), self.state.numBedRoomCountArr ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-full-width\"\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"sep-label\"\n      }, \"Ensuite? \"), this.state.numBedRoomCountArr.map(function (arr, k) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: k,\n          className: \"styled-input-select styled-input-checkbox max-20\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"checkbox disabled\"\n        }, /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"checkbox\",\n          name: \"bedrooms.\" + arr.index + \".ensuite\"\n        }), \"Bedroom \", arr.index, \" Ensuite?\")), /*#__PURE__*/React.createElement(\"label\", null, \"Bed Type\"), /*#__PURE__*/React.createElement(\"select\", {\n          required: \"\",\n          autoComplete: \"\",\n          name: \"bedrooms.\" + arr.index + \".bedType\"\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"single\"\n        }, \"Single\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"double\"\n        }, \"Double\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"twin\"\n        }, \"Twin\")), /*#__PURE__*/React.createElement(\"span\", null));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-100\"\n      })) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-full-width\"\n      }, self.state.addPropertyFormSaving ? /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btns transparent-btn\"\n      }, \"Saving\") : /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btns blue-btn addPropertyFormSaveBtn\"\n      }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btns transparent-btn addPropertyFormCancelBtn mar-left-10\"\n      }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-100\"\n      })));\n    }\n\n    return render;\n  }();\n\n  return AdvertiseWithUsForm;\n}(Component);\n\nAdvertiseWithUsFormT = withTracker(function () {\n  var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n  var allareas = [];\n  var allcounties = [];\n  var countySelected = 'Dublin';\n  if (Meteor.isClient) if (Session.get('countySelected')) countySelected = Session.get('countySelected');\n\n  for (var i = 0; i < staticCounties.length; i++) {\n    if (!staticCounties[i]) continue;\n    allcounties.push({\n      label: staticCounties[i],\n      value: staticCounties[i]\n    });\n  }\n\n  var distinctEntries = _.uniq(Collections.Areas.find({}, {\n    //County:countySelected ; Dynamically load areas based on the subscription.\n    sort: {\n      Area: 1\n    },\n    fields: {\n      Area: true\n    }\n  }).fetch().map(function (x) {\n    return x.Area;\n  }), true);\n\n  allareas = [];\n\n  for (var i = 0; i < distinctEntries.length; i++) {\n    if (!distinctEntries[i]) continue;\n    allareas.push({\n      label: titleCase(distinctEntries[i]),\n      value: distinctEntries[i]\n    });\n  }\n\n  var Config = Collections.Config.find().fetch();\n  Config = Config[0];\n  var propertyTypes = [];\n  if (Config) for (var i = 0; i < Config.propertyType.length; i++) {\n    propertyTypes.push({\n      label: titleCase(Config.propertyType[i].name),\n      value: Config.propertyType[i].value\n    });\n  }\n  var AreasSub = Meteor.subscribe('Areas', '', '', countySelected, '', '', function () {\n    if (ConfigSub.ready()) Session.set('subscriptionsReady', true);\n  });\n  var ConfigSub = Meteor.subscribe('Config', function () {\n    if (AreasSub.ready()) Session.set('subscriptionsReady', true);\n  });\n  if (Meteor.isClient) Session.get('subscriptionsReady'); // Meteor.subscribe('Areas');\n  // Meteor.subscribe('Config');\n\n  Meteor.subscribe('userData');\n  return {\n    user: Meteor.user(),\n    counties: allcounties,\n    countySelected: countySelected,\n    areas: allareas,\n    propertyTypes: propertyTypes\n  };\n})(AdvertiseWithUsForm);","map":{"version":3,"sources":["imports/reactui/pages/AdvertiseWithUs.jsx"],"names":["_assertThisInitialized","module","link","default","v","_inheritsLoose","Meteor","React","Component","ReactDOM","withTracker","MainLayoutFooter","MainLayoutHeader","LoginFormHorizontalT","Collections","isClient","Session","set","titleCase","str","charAt","toUpperCase","toLowerCase","substring","searialisedAdvertiseForm","saveToLocalStorage","$","serializeArray","localStorage","advertisewithusFormData","advertisewithusFormData_address","val","advertisewithusFormData_price","advertisewithusFormData_county","advertisewithusFormData_area","advertisewithusFormData_type","advertisewithusFormData_furnished","advertisewithusFormData_baths","advertisewithusFormData_numBedRoomCount","AdvertiseWithUs","props","components","c1","AwsStep1","c2","AwsStep2","AwsStep3","render","self","TagName","curStepComponent","display","exportDefault","pageno","FlowRouter","getParam","loginFlowComplete","get","go","undefined","fbq","ga","componentDidMount","setTimeout","fancybox","e","backBtnHandler","bind","state","propertyId","auctionId","myPropertyLink","addPropImagesHandler","id","prop","Properties","findOne","auction","Auctions","_id","path","slug","key","lettingAuctionCode","user","addPropertyCallback","error","console","log","tmp","msg","reason","message","push","setState","subscribe","addAdvertisementFormCallback","templateInstance","url","call","margin","AdvertiseWithUsForm","addPropertyFormSaving","numBedRoomCount","numBedRoomCountArr","counties","areas","countySelected","propertyTypes","countySelectedHandler","areaSelectedHandler","propertyTypeHandler","event","target","value","areaSelected","propertyTypeSelected","handleSubmit","preventDefault","instance","address","findDOMNode","refs","trim","price","county","updateNumBedRoomCount","countArr","i","validator","validate","submitHandler","jQuery","animate","scrollTop","document","body","documentElement","restoreLocalStorageSettings","componentWillReceiveProps","nextProps","length","map","c","label","arr","k","index","AdvertiseWithUsFormT","staticCounties","allareas","allcounties","distinctEntries","_","uniq","Areas","find","sort","Area","fields","fetch","x","Config","propertyType","name","AreasSub","ConfigSub","ready"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader, {LoginFormHorizontalT}  from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n// function getAreas(countySelected) {\n//     var distinctEntries = _.uniq(Collections.Areas.find({County:countySelected}, {\n//         sort: {Area: 1}, fields: {Area: true}\n//     }).fetch().map(function(x) {\n//         return x.Area;\n//     }), true);\n//     allareas = []\n//     for(var i=0;i< distinctEntries.length;i++){\n//         if(!distinctEntries[i])continue;\n//         allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n//     }\n//     return allareas;\n// }\nsearialisedAdvertiseForm = '';\nfunction saveToLocalStorage(){\n    searialisedAdvertiseForm = $('#advertiseWithUsFormCF').serializeArray();\n    if (localStorage) {\n        // localStorage.searialisedAdvertiseForm=searialisedAdvertiseForm// doesn' work as it saves as string, but we need to store as object\n        localStorage.advertisewithusFormData={}\n        localStorage.advertisewithusFormData_address = $( \"input[name='address.address']\" ).val();\n        localStorage.advertisewithusFormData_price = $( \"input[name='price']\" ).val();\n        localStorage.advertisewithusFormData_county = $( \"select[name='address.county']\" ).val();\n        localStorage.advertisewithusFormData_area = $( \"select[name='address.area']\" ).val();\n        localStorage.advertisewithusFormData_type = $( \"select[name='type']\" ).val();\n        localStorage.advertisewithusFormData_furnished = $( \"select[name='furnished']\" ).val();\n        localStorage.advertisewithusFormData_baths = $( \"input[name='baths']\" ).val();\n        localStorage.advertisewithusFormData_numBedRoomCount = $( \"input[name='numBedRoomCount']\" ).val();\n    }\n}\nclass AdvertiseWithUs extends Component {\n\n    constructor(props){\n        super(props)\n        this.components = {\n            c1: AwsStep1,\n            c2: AwsStep2,\n            AwsStep1: AwsStep1,\n            AwsStep2: AwsStep2,\n            AwsStep3: AwsStep3\n        }\n    }\n\n    render(){\n        const self = this;\n        const TagName = this.components[this.props.curStepComponent];\n\n        return (\n        <div>\n            <MainLayoutHeader />\n            <div id=\"video-div\" style={{display: \"none\"}}>\n                <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/L689NIDwFdc?autoplay=1&rel=0\" frameBorder=\"0\" allowFullScreen></iframe>\n                {/* allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" */}\n            </div>\n            <section className=\"mar-top-20 mar-btm-20\">\n                <div className=\"container background-white \">\n                    <div className=\"filter-holder mar-top-20 pad-btm-20\">\n                        <div className=\"autoFrm\">\n                            <TagName />\n                        </div>\n                    </div>\n                </div>\n            </section>\n            <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n        </div>\n    )\n    }\n}\nexport default withTracker(() => {\n    if(Meteor.isClient){\n        var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n\n        var loginFlowComplete = Session.get('loginFlowComplete')\n        if(pageno == 2 && loginFlowComplete){\n            FlowRouter.go('advertisewithus',{pageno:3})\n            Session.set('loginFlowComplete', undefined);\n            if(typeof fbq !== 'undefined')fbq('track', 'Lead');\n            if(typeof ga !== 'undefined')ga('send', 'event', 'AdvertiseWithUsPage', 'UserLoginCompleted', 'User login / signup')\n        }\n    }\n\n    return {}\n})(AdvertiseWithUs);\nclass AwsStep1 extends Component {\n    componentDidMount(){\n        setTimeout(function(){\n            try{\n                $.fancybox({\n                    'padding': 0,\n                    'href':'#video-div'\n                })\n            }catch(e){}\n        },3000)\n    }\n    render(){\n        const self = this;\n        return (\n        <div>\n            <h1>Advertise your property to rent for FREE!</h1><br />\n            <p>List your property to rent in SpotMyCrib. Let thousands of verified tenants apply for your letting. Choose if you are a landlord, agent or the current tenant looking for a replacement so you can move. </p><br />\n            <p>Enter the details of the property below and click submit.<br /><br /><br /><br /></p>\n            <AdvertiseWithUsFormT/>\n        </div>\n        )\n    }\n}\nclass AwsStep2 extends Component {\n    constructor(props){\n        super(props);\n        this.backBtnHandler = this.backBtnHandler.bind(this);\n    }\n    backBtnHandler(){\n        FlowRouter.go('advertisewithus')\n    }\n    render(){\n        const self = this;\n        return (\n        <div>\n            <h1>Advertise your property to rent (step 2 of 3)</h1><br />\n            <a href=\"javascript:void(0)\" className=\"backBtn\" onClick={this.backBtnHandler}>&lt;&lt; Back to step 1</a>\n            <p>Connect your advert to your account. Login now or sign up with your social account. <br /><br /><br /><br /></p>\n\n            <LoginFormHorizontalT isLandLordMode={true}/>\n\n        </div>\n        )\n    }\n}\nclass AwsStep3 extends Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            propertyId:'',\n            auctionId:'',\n            myPropertyLink:'',\n        }\n        this.backBtnHandler = this.backBtnHandler.bind(this);\n        this.addPropImagesHandler = this.addPropImagesHandler.bind(this);\n    }\n    backBtnHandler(){\n        FlowRouter.go('advertisewithus')\n    }\n    addPropImagesHandler(){\n        if(typeof ga !== 'undefined')ga('send', 'event', 'AdvertiseWithUsPage', 'addPropertyImagesBtnClick', 'AddPropertyImages button clicked.');\n        Session.set('OpenImageUploader',true);\n        Session.set('fromAdvertiseWithUsPage',true);\n        FlowRouter.go('account/editproperty',{id:this.state.propertyId})\n    }\n    myPropertyLink(){\n        var propertyId = this.state.propertyId; if(!propertyId)return '';\n        var auctionId = this.state.auctionId; if(!auctionId)return '';\n        var prop = Collections.Properties.findOne(propertyId); if(!prop)return '';\n        var auction = Collections.Auctions.findOne({_id:auctionId}); if(!auction)return '';\n\n        return FlowRouter.path('rent',{slug:prop.slug,key:auction.lettingAuctionCode})\n    }\n    componentDidMount(){\n        if(Meteor.isClient){\n            var user = Meteor.user();\n            if(!user){//\n                FlowRouter.go('advertisewithus',{pageno:2})\n                return;\n            }\n            if(!searialisedAdvertiseForm){\n                FlowRouter.go('advertisewithus')\n                return;\n            }\n            this.addPropertyCallback = function (error, propertyId) {\n\n                if(error){\n                    console.log(error)\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    var msg = 'An error occurred.';\n                    if(error.reason)msg += ' '+error.reason+'.'\n                    else if(error.message)msg += ' '+error.message+'.'\n                    tmp.push(msg);\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                }\n                this.setState({propertyId:propertyId})\n                Meteor.subscribe('editProperty',propertyId)//Can also be used for advertisewithus\n                this.addAdvertisementFormCallback = function (error, auctionId) {\n                    if(error){\n                        console.log(error)\n                        //    validator.showErrors({\n                        //         email: error.reason\n                        //     });\n                        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                        var msg = 'An error occurred.';\n                        if(error.reason)msg += ' '+error.reason+'.'\n                        else if(error.message)msg += ' '+error.message+'.'\n                        tmp.push(msg);\n                        Session.set(\"showErrorDlg\",tmp)\n                        return;\n                    }\n                    console.log('addAdvertisement created successfully')\n                    console.log(auctionId);\n                    var templateInstance = this;\n                    this.setState({auctionId:auctionId},function () {\n                        var propertyId = templateInstance.state.propertyId; if(!propertyId)return '';\n                        var auctionId = templateInstance.state.auctionId; if(!auctionId)return '';\n                        var prop = Collections.Properties.findOne({_id:propertyId}); if(!prop)return '';\n                        var auction = Collections.Auctions.findOne({_id:auctionId}); if(!auction)return '';\n\n                        var myPropertyLink = FlowRouter.url('rent',{slug:prop.slug,key:auction.lettingAuctionCode})\n                        this.setState({myPropertyLink:myPropertyLink})\n                    })\n                }\n                this.addAdvertisementFormCallback = this.addAdvertisementFormCallback.bind(this)\n                Meteor.call('addAdvertisement',searialisedAdvertiseForm,propertyId,this.addAdvertisementFormCallback)\n            }\n            this.addPropertyCallback = this.addPropertyCallback.bind(this);\n            Meteor.call('addProperty',searialisedAdvertiseForm,this.addPropertyCallback)\n        }\n\n\n\n    }\n    //todo: this is page is not developed. So finish it.\n    render(){\n        const self = this;\n        return (\n        <div>\n            <h1>Congratulations! Your property is now live.</h1><br />\n            <a href=\"javascript:void(0)\" className=\"backBtn\" onClick={this.backBtnHandler}>&lt;&lt; Back to step 1</a>\n            {/*<h2>Add property images. </h2>*/}\n            <p style={{margin: '10px 0 10px 0px'}}>Choose add property images button below to add images to your advert to make it clear and attractive. Add description and choose amenities available by choosing edit option below. Choose preview below to view it, use the link from the preview window to share it with others. </p>\n            <div className=\"signin-form cf-1\">\n                <div className=\"clearfix\">\n                    <div className=\"styled-full-width\">\n                        <button className=\"btns blue-btn addPropImages\" onClick={self.addPropImagesHandler}>Add property images</button>\n                        {self.state.propertyId ? (\n                            <a href={FlowRouter.url('account/editproperty', {id:self.state.propertyId})} className=\"btns transparent-btn mar-left-10\">Edit property</a>\n                        ) : \"\"}\n                        <a href={self.state.myPropertyLink} target=\"_blank\" className=\"btns blue-btn mar-left-10\">Preview property</a>\n                    </div>\n                    <div className=\"w-100\" />\n                </div>\n            </div>\n            <h2>Whats next?</h2>\n            <p>Visit <a href={FlowRouter.url('account/myProperties')}>my properties</a> from <a href={FlowRouter.url('account/myProperties')}>here</a> or from top menu to see the list of all your properties. Visit <span className=\"green-text\">view applications</span> from my properties to see list of all applications your property receive. .</p>\n        </div>\n        )\n    }\n}\nclass AdvertiseWithUsForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            addPropertyFormSaving : false,\n            numBedRoomCount:0,\n            numBedRoomCountArr:0,\n            counties:props.counties,\n            areas:props.areas,\n            countySelected:props.countySelected,\n            propertyTypes:props.propertyTypes\n        };\n        this.countySelectedHandler = this.countySelectedHandler.bind(this);\n        this.areaSelectedHandler = this.areaSelectedHandler.bind(this);\n        this.propertyTypeHandler = this.propertyTypeHandler.bind(this);\n    }\n    countySelectedHandler(event){\n        var countySelected = event.target.value\n        this.setState({countySelected:countySelected})\n\n        if( Meteor.isClient )Session.set('countySelected', countySelected);\n        // if(countySelected) this.setState({areas:getAreas(countySelected)})\n\n        setTimeout(function(){\n            $('.areaSelected').val(\"\")\n            saveToLocalStorage();\n        },250)\n    }\n\n    areaSelectedHandler(event){\n        this.setState({areaSelected:event.target.value})\n        setTimeout(saveToLocalStorage,250)\n    }\n\n    propertyTypeHandler(event){\n        this.setState({propertyTypeSelected:event.target.value})\n        setTimeout(saveToLocalStorage,250)\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        this.setState({addPropertyFormSaving:true})\n        var instance = this;\n        setTimeout(function(){\n            instance.setState({addPropertyFormSaving:false})\n        },2000)\n        const address = ReactDOM.findDOMNode(this.refs.address).value.trim()\n        const price = ReactDOM.findDOMNode(this.refs.price).value.trim()\n        const county = ReactDOM.findDOMNode(this.refs.county).value.trim()\n    }\n\n    updateNumBedRoomCount(event){\n        this.setState({numBedRoomCount:event.target.value})\n        var countArr = [];\n        for (var i=0; i<event.target.value; i++){\n            countArr.push({'index':i+1});\n        }\n        this.setState({numBedRoomCountArr:countArr})\n    }\n\n    componentDidMount(){\n        // console.log(this.props)\n        var instance = this;\n        if(Meteor.isClient) {\n            var validator = $('#advertiseWithUsFormCF').validate({\n                submitHandler: function (event) {\n                    // addPropertyFormSaving.set(true);//Not needed on this form.\n                    console.log(\"You just submitted the 'addPropertyForm' form.\");\n                    saveToLocalStorage();\n                    if (instance.props.user) {\n                        FlowRouter.go('advertisewithus', {pageno: 3})\n                    }\n                    else {\n                        FlowRouter.go('advertisewithus', {pageno: 2})\n                    }\n\n                }\n            });\n        }\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n            instance.restoreLocalStorageSettings();\n        },500)\n    }\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.propertyTypes.length)//update only if it has vals.\n            this.setState({propertyTypes:nextProps.propertyTypes})\n        if(nextProps.areas.length)//update only if it has vals.\n            this.setState({areas:nextProps.areas})\n\n        \n    }\n    restoreLocalStorageSettings(){\n        var county = '';\n        if(localStorage) {\n            if (localStorage.advertisewithusFormData_county) {\n                county=localStorage.advertisewithusFormData_county;\n            }else if(localStorage.advertisewithusFormData_county===undefined){//Only for first time users\n                county = 'Dublin'\n            }\n            if (localStorage.advertisewithusFormData_type) {\n                this.setState({propertyTypeSelected:localStorage.advertisewithusFormData_type})\n            }\n        }\n        this.setState({countySelected:county})\n        if( Meteor.isClient )Session.set('countySelected', county);\n        // if(county)this.setState({areas:getAreas(county)})\n\n        if(localStorage)\n        if (localStorage.advertisewithusFormData_area) {\n            this.setState({areaSelected:localStorage.advertisewithusFormData_area})\n        }\n    }\n\n    render(){\n        const self = this;\n        return (\n        <form className=\"signin-form cf-1\" id=\"advertiseWithUsFormCF\" onSubmit={this.handleSubmit.bind(this)}>\n            <div className=\"clearfix\">\n                <div className=\"styled-input \">\n                    <input type=\"text\" name=\"address.address\" id=\"address.address\" required ref=\"address\"/>\n                    <label id=\"address.address-error\" className=\"error\" htmlFor=\"address.address\">This field is required.</label>\n                    <br />\n                    <label>Name and Street *</label>\n                    <span />\n                </div>\n                <div className=\"styled-input \">\n                    <input type=\"number\" name=\"price\" required ref=\"price\" />\n                    <label id=\"address.address-error\" className=\"error\" htmlFor=\"address.address\">This field is required.</label>\n                    <br />\n                    <label>Rent *</label>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>County</label>\n                    <select autoComplete=\"on\" name=\"address.county\" ref=\"county\" required className=\"countySelected\" onChange={this.countySelectedHandler} value={this.state.countySelected}>\n                        <option value={\"\"}>(Select One)</option>\n                        {this.state.counties.map(function(c,i){\n                            return (\n                                <option key={i} value={c.value} >{c.label}</option>\n                            )\n                        })}\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>Area *</label>\n                    <select autoComplete=\"on\" name=\"address.area\" required className=\"areaSelected\" onChange={this.areaSelectedHandler} value={this.state.areaSelected}>\n                        <option value={\"\"}>(Select One)</option>\n                        {this.state.areas.map(function(c,i){\n                            return (\n                                <option key={i} value={c.value} >{c.label}</option>\n                            )\n                        })}\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>Property type *</label>\n                    <select autoComplete=\"on\" name=\"type\" ref=\"type\" required className=\"\" onChange={this.propertyTypeHandler} value={this.state.propertyTypeSelected}>\n                        <option value={\"\"}>(Select One)</option>\n                        {this.state.propertyTypes.map(function(c,i){\n                            return (\n                                <option key={i} value={c.value} >{c.label}</option>\n                            )\n                        })}\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>Furnished? *</label>\n                    <select name=\"furnished\" required autoComplete=\"on\" ref=\"furnished\">\n                        <option value=\"true\">Yes</option>\n                        <option value=\"false\">No</option>\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input underline\">\n                    <input type=\"number\" name=\"baths\" id=\"baths\" required ref=\"baths\"/>\n                    <label>Number of bathrooms</label>\n                    <span />\n                </div>\n                <div className=\"styled-input underline\">\n                    <input type=\"number\" name=\"numBedRoomCount\" id=\"numBedRoomCount\" required ref=\"numBedRoomCount\" onChange={this.updateNumBedRoomCount.bind(this)} value={self.state.numBedRoomCount}/>\n                    <label>Number of bedrooms</label>\n                    <span />\n                </div>\n                { self.state.numBedRoomCountArr ? (\n                    <div>\n                        <div className=\"styled-full-width\">\n                            <label className=\"sep-label\">Ensuite? </label>\n                            {this.state.numBedRoomCountArr.map(function (arr,k) {\n                                return (\n                                    <div key={k} className=\"styled-input-select styled-input-checkbox max-20\">\n                                        <div className=\"checkbox disabled\">\n                                            <label><input type=\"checkbox\"\n                                                          name={\"bedrooms.\"+arr.index+\".ensuite\"}/>Bedroom {arr.index} Ensuite?</label>\n                                        </div>\n                                        <label>Bed Type</label>\n                                        <select required=\"\" autoComplete=\"\" name={\"bedrooms.\"+arr.index+\".bedType\"}>\n                                            <option value=\"single\">Single</option>\n                                            <option value=\"double\">Double</option>\n                                            <option value=\"twin\">Twin</option>\n                                        </select>\n                                        <span></span>\n                                    </div>\n                                )\n                            })}\n\n\n                        </div>\n                        <div className=\"w-100\"></div>\n                    </div>\n                ) : \"\"\n                }\n\n                <div className=\"styled-full-width\">\n                    {self.state.addPropertyFormSaving ? (\n                            <button type=\"button\" className=\"btns transparent-btn\">Saving</button>\n                        ) : (\n                        <button type=\"submit\" className=\"btns blue-btn addPropertyFormSaveBtn\">Save</button>\n                        )\n                    }\n                    <button type=\"button\" className=\"btns transparent-btn addPropertyFormCancelBtn mar-left-10\">Cancel</button>\n                </div>\n\n\n                <div className=\"w-100\" />\n            </div>\n        </form>\n    )}\n}\nAdvertiseWithUsFormT = withTracker(() => {\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    var allareas = [];\n    var allcounties = [];\n    var countySelected = 'Dublin';\n\n    if( Meteor.isClient )if(Session.get('countySelected'))countySelected = Session.get('countySelected')\n\n    for(var i=0;i< staticCounties.length;i++){\n        if(!staticCounties[i])continue;\n        allcounties.push({label: staticCounties[i], value: staticCounties[i] })\n    }\n    var distinctEntries = _.uniq(Collections.Areas.find({}, {//County:countySelected ; Dynamically load areas based on the subscription.\n        sort: {Area: 1}, fields: {Area: true}\n    }).fetch().map(function(x) {\n        return x.Area;\n    }), true);\n    allareas = []\n    for(var i=0;i< distinctEntries.length;i++){\n        if(!distinctEntries[i])continue;\n        allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n    }\n\n    var Config = Collections.Config.find().fetch();Config = Config[0];\n    var propertyTypes = []\n    if(Config)\n        for(var i=0;i< Config.propertyType.length;i++){\n            propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n        }\n\n    const AreasSub = Meteor.subscribe('Areas','','',countySelected,'','',function(){\n        if( ConfigSub.ready()  )Session.set('subscriptionsReady',true);\n    });\n    const ConfigSub = Meteor.subscribe('Config',function(){\n        if(AreasSub.ready() )Session.set('subscriptionsReady',true);\n    });\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    // Meteor.subscribe('Areas');\n    // Meteor.subscribe('Config');\n    Meteor.subscribe('userData')\n    return {\n        user: Meteor.user(),\n        counties: allcounties,\n        countySelected: countySelected,\n        areas: allareas,\n        propertyTypes: propertyTypes,\n    }\n})(AdvertiseWithUsForm);\n"]},"sourceType":"module","hash":"997e084ab6610534d845bea52d959a1aaabd7695"}
