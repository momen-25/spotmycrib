{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/layout/MainLayoutHeader.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/reactui/layout/MainLayoutHeader.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/layout/MainLayoutHeader.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/layout/MainLayoutHeader.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/layout/MainLayoutHeader.jsx"}},"code":"var _assertThisInitialized;\n\nmodule.link(\"@babel/runtime/helpers/assertThisInitialized\", {\n  default: function (v) {\n    _assertThisInitialized = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nmodule.export({\n  LoginFormHorizontalT: function () {\n    return LoginFormHorizontalT;\n  },\n  SocialLoginButtonsT: function () {\n    return SocialLoginButtonsT;\n  },\n  LoginPage: function () {\n    return LoginPage;\n  },\n  LoginPageHorizontal: function () {\n    return LoginPageHorizontal;\n  },\n  LoginFormT: function () {\n    return LoginFormT;\n  },\n  LoginFormMessages: function () {\n    return LoginFormMessages;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 2);\nvar LoginFormSignInView, LoginFormSignUpView, LoginFormSignUpViewLandlord, LoginFormResetPasswordView;\nmodule.link(\"./LoginFormViews.jsx\", {\n  LoginFormSignInView: function (v) {\n    LoginFormSignInView = v;\n  },\n  LoginFormSignUpView: function (v) {\n    LoginFormSignUpView = v;\n  },\n  LoginFormSignUpViewLandlord: function (v) {\n    LoginFormSignUpViewLandlord = v;\n  },\n  LoginFormResetPasswordView: function (v) {\n    LoginFormResetPasswordView = v;\n  }\n}, 3);\nemailAlerts = [// {\n//     heading: 'OH, HEY!',\n//     para: 'Get your dream place sooner without even searching for it! Sign up for our emails and we will send you the latest properties of your choice',\n//     yesButtonText: \"Awesome 🤘👍\"\n// },\n{\n  heading: 'Always First.',\n  para: 'Be the first to hear about the latest lettings in your area. Signup for our email alerts.',\n  yesButtonText: \"HELL YES!\"\n} // ,\n// {\n//     heading: 'Get Notified.',\n//     para: 'Get your rental soon by signing up for our email alerts. Be the first one to know when a letting is posted.',\n//     yesButtonText: \"Okays! Sign me up. :)\"\n// }\n];\nEMAIL_ALERT_VARIATION_count = 2; // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1, 2\n\nEMAIL_ALERT_VARIATION = 0; //Keeping only 1 variation.\n\nEMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION];\nisMobileMenuEventAttached = false;\n\nfunction delayedFunctions() {\n  // if(!isMobileMenuEventAttached) {\n  $(document).unbind('click').bind('click', function (e) {\n    if (!$('.xs-menu').hasClass('slide-right')) {\n      //Its not open\n      if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n        if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n        $('.xs-menu').addClass('slide-right');\n        return true;\n      } else return true;\n    } else {\n      //Its open\n      if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n        $('.xs-menu').removeClass('slide-right');\n        if (FlowRouter.current().route.name == 'home') setTimeout(function () {\n          if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n        }, 250);\n        return true;\n      }\n    }\n  }); // isMobileMenuEventAttached = true;\n  // }\n}\n\nfunction showLoginDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', false);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showSignupDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', true);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showLoginPopup() {\n  // let doesDivStillExists = $('#signin-div').html()\n  // if( doesDivStillExists != \"\" ){//To prevent home page dialogs\n  $.fancybox({\n    'padding': 0,\n    'href': '#signin-div',\n    afterClose: function (template) {\n      console.log(template); //template.showLoginDialog.set(false);\n\n      Session.set('isLandLordMode', false);\n      Session.set('showLoginDialog', false);\n      Session.set('showLoginSignupFancyBoxDialog', false);\n      Session.set('loginFromApplyNowBtn', false);\n    }\n  });\n}\n\nfunction emailValidation(email) {\n  email = email.trim();\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // Valid\n\n  if (re.test(email)) {\n    return true;\n  } // Invalid\n\n\n  return {\n    error: \"INVALID_EMAIL\",\n    reason: \"Please enter a valid email address in format pat@gmail.com\"\n  };\n}\n\nfunction decideAndShowCreateAlertPopup() {\n  // console.log(\"Apply decideAndShowCreateAlertPopup\")\n  var showAlertCreate = true;\n  var saidNo = parseInt(readCookie('emailAlertNoThanks'));\n\n  if (!saidNo) {\n    var c = parseInt(readCookie('emailAlertShowedCount'));\n    var on = parseInt(readCookie('emailAlertShowedOnTime'));\n    var tmp = (Date.now() - on) / 60000; // time in mins\n    // console.log('Time is: '+tmp);\n\n    if (c > 1) {\n      if (tmp < 2) showAlertCreate = false; //its not even 2mns since last popup show, so wait\n    }\n\n    if (c > 2) {\n      if (tmp < 2) showAlertCreate = false; //its not even 2mns since last popup show, so wait\n    }\n\n    if (c > 3) {\n      if (tmp < 3) showAlertCreate = false; //its not even 3mns since last popup show, so wait\n    }\n\n    if (c > 4) {\n      if (tmp < 6) showAlertCreate = false; //its not even 6mns since last popup show, so wait\n    }\n\n    if (c > 5) {\n      if (tmp < 12) showAlertCreate = false; //its not even 12mns since last popup show, so wait\n    }\n  }\n\n  var user = Meteor.user();\n\n  if (user) {\n    if (user.profile.emailAlertsActive || user.profile.emailAlertsNoThanks) showAlertCreate = false; // he already has alerts or he said no to them.\n  }\n\n  if (parseInt(readCookie('emailAlertAlreadyHasIt')) || parseInt(readCookie('emailAlertNoThanks'))) showAlertCreate = false; // He already has alerts or He already said no\n  //you don't need above fallback because this function is called only after 3-5 sec , by then user subscription must be loaded.\n  // console.log(\"decision: \"+showAlertCreate)\n\n  if (showAlertCreate) {\n    showCreateAlertPopup();\n  }\n}\n\nfunction showCreateAlertPopup() {\n  if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n    var c = parseInt(readCookie('emailAlertShowedCount'));\n    c = parseInt(c);\n    if (isNaN(c)) c = 1;else {\n      c++;\n    }\n    createCookie('emailAlertShowedCount', c, 5);\n    createCookie('emailAlertShowedOnTime', Date.now(), 5);\n    $.fancybox({\n      'padding': 0,\n      'href': '#create-alert-popup',\n      afterShow: function () {\n        $('#emailAlertUserEmailAddress').focus();\n        ga('send', 'event', 'emailAlert', 'Show Email Alert', 'Route name: ' + FlowRouter.current().route.name + ' Variation: ' + EMAIL_ALERT_VARIATION);\n      },\n      afterClose: function () {\n        Session.set('showCreateAlertPopup', false);\n      }\n    });\n  }\n}\n\nfunction showAddPropertyHeaderPopup() {\n  $.fancybox({\n    'padding': 0,\n    'href': '#addPropertyHeader-div',\n    afterClose: function (template) {\n      //console.log(template);\n      Session.set('showAddPropertyHeaderTemplate', false);\n      Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n    }\n  });\n}\n\nfunction createCookie(name, value, days) {\n  var expires = \"\";\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toUTCString();\n  }\n\n  document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1, c.length);\n    }\n\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n}\n\nfunction eraseCookie(name) {\n  createCookie(name, \"\", -1);\n}\n\nfunction loadFonts() {\n  (function () {\n    var wf = document.createElement('link');\n    wf.href = cdnPath('/fonts/Montserrat/stylesheet.css');\n    wf.rel = 'stylesheet';\n    wf.async = 'true'; //link doesnt support async\n\n    var s = document.getElementsByTagName('link')[0];\n    s.parentNode.insertBefore(wf, s);\n    Session.set('fontsLoaded', true); // var wf = document.createElement('script');\n    // wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';\n    // wf.type = 'text/javascript';\n    // wf.async = 'true';\n    // var s = document.getElementsByTagName('script')[0];\n    // s.parentNode.insertBefore(wf, s);\n  })();\n}\n\nvar MainLayoutHeader = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MainLayoutHeader, _Component);\n\n  function MainLayoutHeader(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this.state = {\n      emailAlertEmailAddress: _this.props.currentUser ? _this.props.currentUser.profile.email : \"\"\n    };\n    _this.emailAlertEmailAddressHandler = _this.emailAlertEmailAddressHandler.bind(_assertThisInitialized(_this));\n    _this.NeedsCreateAlertPopup = false;\n\n    if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n      _this.NeedsCreateAlertPopup = true; // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1\n\n      EMAIL_ALERT_VARIATION = 0;\n      EMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION];\n    }\n\n    return _this;\n  }\n\n  var _proto = MainLayoutHeader.prototype;\n\n  _proto.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      if (nextProps.currentUser && !this.state.emailAlertEmailAddress) //update only if it has vals and emailAlertEmailAddress is empty.\n        this.setState({\n          emailAlertEmailAddress: nextProps.currentUser.profile.email\n        });\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto.componentWillMount = function () {\n    function componentWillMount() {\n      if (Meteor.isClient) {\n        Session.set('showLoginDialog', false);\n        Session.set('showForgotForm', false);\n        Session.set('showLoginDialog', false);\n        Session.set('showLoginSignupFancyBoxDialog', false);\n        Session.set('showAddPropertyHeaderTemplate', false);\n        Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n        if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n      }\n\n      this.state = {\n        newAlertCreateForm: true,\n        newAlertCreatedSuccessfully: false\n      };\n      this.emailAlertCreateBtnHandler = this.emailAlertCreateBtnHandler.bind(this);\n      this.emailAlertNoThanksBtnHandler = this.emailAlertNoThanksBtnHandler.bind(this);\n    }\n\n    return componentWillMount;\n  }();\n\n  _proto.emailAlertCreateBtnHandler = function () {\n    function emailAlertCreateBtnHandler() {\n      console.log('emailAlertCreateBtnHandler');\n      var val = $('#emailAlertUserEmailAddress').val();\n      var validatedEmail = emailValidation(val);\n\n      if (validatedEmail !== true) {\n        alert('Invalid email, please enter a valid email address.');\n        $('#emailAlertUserEmailAddress').focus();\n        return;\n      }\n\n      this.subscribeToEmailAlert = function (error, result) {\n        if (error) {\n          console.log(error);\n          alert('Error: ' + error.reason);\n          $('#emailAlertUserEmailAddress').focus();\n          return;\n        } else {\n          createCookie('emailAlertAlreadyHasIt', 1, 365);\n          this.setState({\n            newAlertCreateForm: false,\n            newAlertCreatedSuccessfully: true\n          });\n          setTimeout(function () {\n            if ($) if ($.fancybox) $.fancybox.close();\n          }, 10000);\n        }\n      };\n\n      this.subscribeToEmailAlert = this.subscribeToEmailAlert.bind(this);\n      Meteor.call('subscribeToEmailAlert', val, this.subscribeToEmailAlert);\n      ga('send', 'event', 'emailAlert', 'Created Email Alert', 'Route name: ' + FlowRouter.current().route.name + ' Variation: ' + EMAIL_ALERT_VARIATION);\n    }\n\n    return emailAlertCreateBtnHandler;\n  }();\n\n  _proto.emailAlertNoThanksBtnHandler = function () {\n    function emailAlertNoThanksBtnHandler() {\n      console.log('emailAlertNoThanksBtnHandler');\n      createCookie('emailAlertNoThanks', 1, 365);\n\n      if (this.props.currentUser) {\n        Meteor.call('emailAlertsNoThanks');\n      }\n\n      if ($) if ($.fancybox) $.fancybox.close();\n    }\n\n    return emailAlertNoThanksBtnHandler;\n  }();\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      $.getScript(cdnPath('/js/bootstrap.min.js'), function () {// console.log(\"Bootstrap loaded\")\n      }); // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n      //     console.log(\"Filestack loaded\")\n      // });\n\n      $.getScript(cdnPath('/plugins/fancybox/js/jquery.fancybox.min.js'), function () {\n        // script should be loaded and do something with it.\n        $('.fancybox').fancybox({\n          scrolling: 'no',\n          helpers: {\n            overlay: {\n              locked: true\n            }\n          }\n        });\n      });\n\n      if (Meteor.isClient) {\n        var fontsLoaded = Session.get('fontsLoaded');\n\n        if (!fontsLoaded) {\n          //Below code is taken from https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\n          var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n          if (raf) raf(function () {\n            window.setTimeout(loadFonts, 0);\n          });else window.addEventListener('load', loadFonts);\n        }\n      }\n\n      setTimeout(delayedFunctions, 1500);\n\n      if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n        setTimeout(function () {\n          decideAndShowCreateAlertPopup();\n        }, 10000);\n        var runOnlyOnce = false;\n        $(document).off('scroll').on('scroll', function () {\n          try {\n            var addon = 50;\n            if (FlowRouter.current().route.name == 'b') addon = 300;\n\n            if ($(this).scrollTop() >= $('.subscribeTillPopop').position().top - addon && !runOnlyOnce) {\n              runOnlyOnce = true;\n              decideAndShowCreateAlertPopup();\n            }\n          } catch (e) {}\n        });\n      }\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.showLoginDialogClick = function () {\n    function showLoginDialogClick(event) {\n      showLoginDialog();\n    }\n\n    return showLoginDialogClick;\n  }();\n\n  _proto.showSignupDialogClick = function () {\n    function showSignupDialogClick(event) {\n      showSignupDialog();\n    }\n\n    return showSignupDialogClick;\n  }();\n\n  _proto.logoutBtnClick = function () {\n    function logoutBtnClick(event) {\n      Meteor.logout(function (err) {\n        if (err) {\n          throw new Meteor.Error(\"Logout failed\");\n        }\n      });\n    }\n\n    return logoutBtnClick;\n  }();\n\n  _proto.profileBtnClick = function () {\n    function profileBtnClick(event) {\n      FlowRouter.go('account/profile');\n    }\n\n    return profileBtnClick;\n  }();\n\n  _proto.cookieConsentBtnClick = function () {\n    function cookieConsentBtnClick(event) {\n      createCookie('cookieConsent', 1, 365);\n      $('.cookieConsentArea').remove();\n    }\n\n    return cookieConsentBtnClick;\n  }();\n\n  _proto.emailAlertEmailAddressHandler = function () {\n    function emailAlertEmailAddressHandler(event) {\n      this.setState({\n        emailAlertEmailAddress: event.target.value\n      });\n    }\n\n    return emailAlertEmailAddressHandler;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, this.props.showCookieConsent ? /*#__PURE__*/React.createElement(\"section\", {\n        className: \"cookieConsentArea\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cookieConsentArea-inner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"left-menu text-center\",\n        style: {\n          color: 'white'\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", null, \"  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  \", /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('cookiepolicy')\n      }, \" cookie policy \"), \".\", /*#__PURE__*/React.createElement(\"button\", {\n        className: \"green-btn btns cookieConsentBtn\",\n        onClick: self.cookieConsentBtnClick.bind(this),\n        type: \"button\",\n        style: {\n          marginLeft: 20\n        }\n      }, \"I understand\")))))) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n        className: \"header\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder-div\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"xs-menu-icon-master\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"xs-menu-icon\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"menu-xs sprite\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('home')\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/spot-my-crib-logo.png\"),\n        alt: \"SpotMyCrib\",\n        title: \"SpotMyCrib - Safe and easy rentals\",\n        className: \"logo-big\"\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/spotmycrib-logo-130.jpg\"),\n        alt: \"SpotMyCrib\",\n        title: \"SpotMyCrib - Safe and easy rentals\",\n        className: \"logo-xs\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"menu\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"hidden-xs\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('advertisewithus'),\n        className: \"btns green-btn addPropertyHeaderBtn\",\n        type: \"button\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-object-align-bottom\",\n        \"aria-hidden\": \"true\"\n      }), \" Advertise property\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n        className: \"login-menu hidden-xs\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('account/myProperties')\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-check\",\n        \"aria-hidden\": \"true\"\n      }), \" MY PROPERTIES\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n        className: \"login-menu hidden-xs\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('account/profile')\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-check\",\n        \"aria-hidden\": \"true\"\n      }), \" MY REFERENCES\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n        className: \"login-menu hidden-xs\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:void(0);\",\n        onClick: self.logoutBtnClick.bind(this),\n        className: \"logoutBtn\"\n      }, \"SIGN OUT\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"navbar-accounts\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.path('account/profile')\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"circular-icon profileBtn\",\n        src: this.props.getProfilePic,\n        width: \"40px\",\n        height: \"40px\"\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        id: \"logged-in-display-name profileBtn\"\n      }, this.props.displayName)))) : /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"oval logedout-menu\"\n      }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"right-border showLoginDialog\",\n        onClick: self.showLoginDialogClick.bind(this),\n        href: \"javascript:;\"\n      }, \"SIGN IN\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: self.showSignupDialogClick.bind(this),\n        className: \"showSignupDialog\"\n      }, \"SIGN UP\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"xs-menu visible-xs transition\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"xs-menu-close-icon text-right\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sprite xs-close\"\n      })), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"transition\"\n      }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('home')\n      }, \"HOME / SEARCH\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.path('account/profile')\n      }, \"MY REFERENCES\")) : \"\", /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('advertisewithus')\n      }, \"LIST PROPERTY\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.path('account/myProperties')\n      }, \"MY PROPERTIES\")) : \"\", /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('estateagent')\n      }, \"AGENTS/LANDLORDS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('howitworks')\n      }, \"HOW IT WORKS?\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('faqs')\n      }, \"FAQ\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('contactus')\n      }, \"CONTACT US\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('careers')\n      }, \"CAREERS\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:void(0);\",\n        onClick: self.logoutBtnClick.bind(this)\n      }, \"SIGN OUT\")) : \"\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"errorModel\",\n        className: \"alert alert-danger \",\n        style: {\n          display: 'none'\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"signin-div\",\n        className: \"signin1\",\n        style: {\n          display: 'none'\n        }\n      }, this.props.showLoginDialog ? /*#__PURE__*/React.createElement(LoginFormT, null) : \"\"), this.NeedsCreateAlertPopup ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"create-alert-popup\",\n        style: {\n          display: 'none'\n        },\n        className: \"verification-div1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"refund-div\"\n      }, this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully ? /*#__PURE__*/React.createElement(\"h2\", null, EMAILALERT.heading) : \"\", this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"green-text\"\n      }, \"Well Done! Alert Created.\") : \"\"), this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-text\"\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-text\",\n        style: {\n          textAlign: 'center',\n          margin: '10px 0px',\n          fontSize: '14px'\n        }\n      }, EMAILALERT.para), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"signin-form\",\n        action: \"javascript:void(0);\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-border\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter your email address\",\n        id: \"emailAlertUserEmailAddress\",\n        required: \"required\",\n        style: {\n          fontSize: '14px',\n          marginBottom: '10px !important',\n          borderBottom: 'none !important'\n        },\n        value: this.state.emailAlertEmailAddress,\n        onChange: this.emailAlertEmailAddressHandler\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signup-btn\"\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.emailAlertCreateBtnHandler,\n        className: \"green-btn btns\",\n        type: \"submit\",\n        style: {\n          width: '100%',\n          marginTop: '10px'\n        }\n      }, EMAILALERT.yesButtonText))), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        onClick: this.emailAlertNoThanksBtnHandler,\n        className: 'noThanks'\n      }, \"No thanks, I'm happy to search myself\")) : \"\", this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-text\"\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-text\",\n        style: {\n          textAlign: 'center',\n          margin: '10px 0px',\n          fontSize: '13px'\n        }\n      }, \"We will send you an email a day with new lettings. Be the first to apply for them. \"), /*#__PURE__*/React.createElement(\"iframe\", {\n        src: \"https://giphy.com/embed/fxsqOYnIMEefC\",\n        frameBorder: 0,\n        className: \"giphy-embed\",\n        allowFullScreen: true,\n        style: {\n          width: '80%'\n        }\n      })) : \"\", false ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-text\"\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"green-text\",\n        style: {\n          textAlign: 'center',\n          margin: '10px 0px',\n          color: 'black'\n        }\n      }, \"You will now be notified of the new lettings in Dundrum of County Dubin.\"), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-text mar-top-20\",\n        style: {\n          textAlign: 'center',\n          margin: '20px 0px 10px',\n\n          /* display: 'none', */\n          fontSize: '14px'\n        }\n      }, \"Your active alerts are\"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered\"\n      }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, \"County\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, \"Area\"), /*#__PURE__*/React.createElement(\"th\", null))), /*#__PURE__*/React.createElement(\"tbody\", {\n        style: {\n          color: '#8b8b8b',\n          fontSize: '14px'\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Dublin\"), /*#__PURE__*/React.createElement(\"td\", null, \"All Areas\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\"))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Limrick\"), /*#__PURE__*/React.createElement(\"td\", null, \"City Center North\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\"))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Limrick\"), /*#__PURE__*/React.createElement(\"td\", null, \"Madison square\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\")))))) : \"\") : \"\");\n    }\n\n    return render;\n  }();\n\n  return MainLayoutHeader;\n}(Component);\n\n;\nmodule.exportDefault(withTracker(function () {\n  var showCookieConsent = false;\n  var errorModel = false;\n  var showLoginDialog = false;\n\n  if (Meteor.isClient) {\n    if (Session.get('loginFlowComplete')) {\n      setTimeout(function () {\n        Session.set('loginFlowComplete', undefined);\n      }, 1000);\n    } ///////////////////// errorModel start\n\n\n    var tmp = Session.get(\"showErrorDlg\");\n    if (!tmp) tmp = [];\n    if (tmp) if (tmp.length) {\n      var timeoutVal = 0;\n      if (!$.fancybox) timeoutVal = 3000;\n      var tmpHTML = '';\n\n      for (var j = 0; j < tmp.length; j++) {\n        tmpHTML += '<p>' + tmp[j] + '</p>';\n      }\n\n      $('#errorModel').html(tmpHTML);\n      setTimeout(function () {\n        $.fancybox({\n          'padding': 0,\n          'href': '#errorModel',\n          // afterShow:function(template){\n          //     setTimeout(function () {\n          //         $.fancybox.close();\n          //     },3000)\n          // },\n          afterClose: function () {\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.shift();\n            Session.set(\"showErrorDlg\", tmp);\n          }\n        });\n      }, timeoutVal);\n    } ///////////////////// showLoginDialog start\n\n    if (Session.get('showLoginSignupFancyBoxDialog')) {\n      showLoginPopup();\n    } else {\n      if ($) if ($.fancybox) $.fancybox.close();\n    } ///////////////////// showCreateAlertPopup start\n\n\n    if (Session.get('showCreateAlertPopup')) {\n      showCreateAlertPopup();\n    } // else {//No need for any control over its closing.\n    //     if ($)\n    //         if ($.fancybox)\n    //             $.fancybox.close();\n    // }\n\n\n    showCookieConsent = !parseInt(readCookie('cookieConsent'));\n    errorModel = Session.get(\"showErrorDlg\");\n    showLoginDialog = Session.get(\"showLoginDialog\");\n  }\n\n  var user = Meteor.user(); ///////////////////// displayName start\n\n  var displayName = \"Guest\";\n\n  try {\n    if (user) {\n      if (user.profile && user.profile.name) {\n        displayName = user.profile.name;\n      }\n    }\n  } catch (e) {} ///////////////////// getProfilePic start\n\n\n  var getProfilePic = cdnPath(\"/images/user-img.png\");\n\n  try {\n    if (user.profile.picture) {\n      if (user.services.facebook) if (user.services.facebook.indexOf('?width=40') == -1) getProfilePic = user.profile.picture + \"?width=40\"; //@BCompatibility : adding ?width=40 to it\n\n      getProfilePic = user.profile.picture;\n    }\n  } catch (e) {}\n\n  return {\n    showCookieConsent: showCookieConsent,\n    currentUserId: Meteor.userId(),\n    errorModel: errorModel,\n    showLoginDialog: showLoginDialog,\n    displayName: displayName,\n    currentUser: Meteor.user()\n  };\n})(MainLayoutHeader));\n\nvar LoginFormMessages = /*#__PURE__*/function (_Component2) {\n  _inheritsLoose(LoginFormMessages, _Component2);\n\n  function LoginFormMessages() {\n    return _Component2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = LoginFormMessages.prototype;\n\n  _proto2.render = function () {\n    function render() {\n      return /*#__PURE__*/React.createElement(\"div\", null, this.props.messages ? /*#__PURE__*/React.createElement(\"div\", null, this.props.messages.info ? this.props.messages.info.map(function (item, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"changePwdAlertMsgs alert alert-info\",\n          role: \"alert\",\n          key: i\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-info-sign\",\n          \"aria-hidden\": \"true\"\n        }), \"\\xA0 \", item.reason);\n      }) : \"\", this.props.messages.warning ? this.props.messages.warning.map(function (item, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"changePwdAlertMsgs alert alert-warning\",\n          role: \"alert\",\n          key: i\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-warning-sign\",\n          \"aria-hidden\": \"true\"\n        }), \"\\xA0 \", item.reason);\n      }) : \"\", this.props.messages.success ? this.props.messages.success.map(function (item, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"changePwdAlertMsgs alert success\",\n          role: \"alert\",\n          key: i\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-ok\",\n          \"aria-hidden\": \"true\"\n        }), \"\\xA0 \", item.reason);\n      }) : \"\", this.props.messages.errors ? this.props.messages.errors.map(function (item, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"changePwdAlertMsgs alert alert-danger\",\n          role: \"alert\",\n          key: i\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"glyphicon glyphicon-exclamation-sign\",\n          \"aria-hidden\": \"true\"\n        }), \"\\xA0 \", item.reason);\n      }) : \"\") : \"\");\n    }\n\n    return render;\n  }();\n\n  return LoginFormMessages;\n}(Component);\n\n;\n\nvar LoginForm = /*#__PURE__*/function (_Component3) {\n  _inheritsLoose(LoginForm, _Component3);\n\n  function LoginForm(props) {\n    var _this2;\n\n    _this2 = _Component3.call(this, props) || this;\n    _this2.state = {\n      showForgotForm: props.showForgotForm ? true : false,\n      showSignupForm: props.showSignupForm ? true : false,\n      isLandLordMode: props.isLandLordMode ? true : false,\n      loginFromApplyNowBtn: props.loginFromApplyNowBtn ? true : false\n    };\n    return _this2;\n  }\n\n  var _proto3 = LoginForm.prototype;\n\n  _proto3.showForgotFormHandler = function () {\n    function showForgotFormHandler() {\n      this.setState({\n        showForgotForm: true\n      });\n      this.setState({\n        showSignupForm: false\n      });\n      this.setState({\n        isLandLordMode: false\n      });\n    }\n\n    return showForgotFormHandler;\n  }();\n\n  _proto3.showSignupFormHandler = function () {\n    function showSignupFormHandler() {\n      this.setState({\n        showForgotForm: false\n      });\n      this.setState({\n        showSignupForm: true\n      });\n      this.setState({\n        isLandLordMode: false\n      });\n    }\n\n    return showSignupFormHandler;\n  }();\n\n  _proto3.showSignInFormHandler = function () {\n    function showSignInFormHandler() {\n      this.setState({\n        showForgotForm: false\n      });\n      this.setState({\n        showSignupForm: false\n      });\n      this.setState({\n        isLandLordMode: false\n      });\n    }\n\n    return showSignInFormHandler;\n  }();\n\n  _proto3.showLandlordViewHandler = function () {\n    function showLandlordViewHandler() {\n      this.setState({\n        showForgotForm: false\n      });\n      this.setState({\n        showSignupForm: true\n      });\n      this.setState({\n        isLandLordMode: true\n      });\n    }\n\n    return showLandlordViewHandler;\n  }();\n\n  _proto3.render = function () {\n    function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loginForm\"\n      }, this.state.showForgotForm ? /*#__PURE__*/React.createElement(LoginFormResetPasswordView, {\n        onPage: false,\n        showSignInFormHandler: this.showSignInFormHandler.bind(this)\n      }) : this.state.showSignupForm ? this.state.isLandLordMode ? /*#__PURE__*/React.createElement(LoginFormSignUpViewLandlord, {\n        onPage: false,\n        showSignInFormHandler: this.showSignInFormHandler.bind(this)\n      }) : /*#__PURE__*/React.createElement(LoginFormSignUpView, {\n        loginFromApplyNowBtn: this.state.loginFromApplyNowBtn,\n        onPage: false,\n        showSignInFormHandler: this.showSignInFormHandler.bind(this)\n      }) : /*#__PURE__*/React.createElement(LoginFormSignInView, {\n        loginFromApplyNowBtn: this.state.loginFromApplyNowBtn,\n        onPage: false,\n        showSignupFormHandler: this.showSignupFormHandler.bind(this),\n        showForgotFormHandler: this.showForgotFormHandler.bind(this)\n      }));\n    }\n\n    return render;\n  }();\n\n  return LoginForm;\n}(Component);\n\n;\nmodule.runSetters(LoginFormT = withTracker(function () {\n  var ret = {};\n\n  if (Meteor.isClient) {\n    ret.showSignupForm = Session.get('showSignupForm');\n    ret.showForgotForm = Session.get('showForgotForm');\n    ret.isLandLordMode = Session.get('isLandLordMode');\n    ret.loginFromApplyNowBtn = Session.get('loginFromApplyNowBtn');\n  }\n\n  return ret;\n})(LoginForm));\n\nvar LoginPage = /*#__PURE__*/function (_Component4) {\n  _inheritsLoose(LoginPage, _Component4);\n\n  function LoginPage() {\n    return _Component4.apply(this, arguments) || this;\n  }\n\n  var _proto4 = LoginPage.prototype;\n\n  _proto4.render = function () {\n    function render() {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20 no-print\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head-border-bottom\"\n      }, /*#__PURE__*/React.createElement(LoginFormT, null)))));\n    }\n\n    return render;\n  }();\n\n  return LoginPage;\n}(Component);\n\n;\n\nvar SocialLoginButtons = /*#__PURE__*/function (_Component5) {\n  _inheritsLoose(SocialLoginButtons, _Component5);\n\n  function SocialLoginButtons() {\n    return _Component5.apply(this, arguments) || this;\n  }\n\n  var _proto5 = SocialLoginButtons.prototype;\n\n  _proto5.componentWillMount = function () {\n    function componentWillMount() {\n      if (Meteor.isClient) {\n        Session.set('loginFlowStart', true);\n        Session.set('loginFlowComplete', undefined);\n        delete Session.keys.loginFlowComplete;\n      }\n\n      this.state = {\n        errorMessages: {}\n      };\n      this.dontShow = true;\n      this.buttonForText = '';\n\n      switch (this.props.buttonFor) {\n        case 'login':\n          this.buttonForText = 'Login';\n          break;\n\n        case 'signup':\n          this.buttonForText = 'Signup';\n          break;\n\n        default:\n          this.buttonForText = 'Login / Signup';\n      }\n\n      this.handleFBLogin = this.handleFBLogin.bind(this);\n      this.handleTwitterLogin = this.handleTwitterLogin.bind(this);\n      this.handleGoogleLogin = this.handleGoogleLogin.bind(this);\n      this.handleLinkedInLogin = this.handleLinkedInLogin.bind(this);\n    }\n\n    return componentWillMount;\n  }();\n\n  _proto5.handleFBLogin = function () {\n    function handleFBLogin(event) {\n      this.setState({\n        errorMessages: {}\n      });\n\n      this.FBCallback = function (err) {\n        switch (this.props.buttonFor) {\n          case 'login':\n            fbq('track', 'FBUserLogin' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'FB Login ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          case 'signup':\n            fbq('track', 'FBUserSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'FB Signup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          default:\n            fbq('track', 'FBUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'FB LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n        }\n\n        if (err) {\n          console.log(err);\n          var msg = 'Connect with Facebook failed. ';\n          if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n            msg += err.reason + ' ';\n          } else if (err.message) msg += err.message + '. ';\n          msg += \"Please try again. Contact us if needed.\";\n          var errors = [];\n          errors.push({\n            \"error\": \"SOCIALLOGIN_FAIL\",\n            \"reason\": msg\n          });\n          this.setState({\n            errorMessages: {\n              errors: errors\n            }\n          });\n        } else {\n          if (this.props.usedInDlg) {\n            Session.set('showLoginSignupFancyBoxDialog', false);\n            Session.set('showForgotForm', false);\n            Session.set('showSignupForm', true);\n            Session.set('showLoginDialog', true);\n          }\n\n          Session.set('loginFlowComplete', true);\n          Session.set('loginFlowStart', undefined);\n          delete Session.keys.loginFlowStart;\n        }\n      };\n\n      this.FBCallback = this.FBCallback.bind(this);\n      Meteor.loginWithFacebook({}, this.FBCallback);\n    }\n\n    return handleFBLogin;\n  }();\n\n  _proto5.handleTwitterLogin = function () {\n    function handleTwitterLogin(event) {\n      this.setState({\n        errorMessages: {}\n      });\n\n      this.TwitterCallback = function (err) {\n        switch (this.props.buttonFor) {\n          case 'login':\n            fbq('track', 'TwitterUserLogin' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Login ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          case 'signup':\n            fbq('track', 'TwitterUserSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Signup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          default:\n            fbq('track', 'TwitterUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Twitter LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n        }\n\n        if (err) {\n          console.log(err);\n          var msg = 'Connect with Twitter failed. ';\n          if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n            msg += err.reason + ' ';\n          } else if (err.message) msg += err.message + '. ';\n          msg += \"Please try again. Contact us if needed.\";\n          var errors = [];\n          errors.push({\n            \"error\": \"SOCIALLOGIN_FAIL\",\n            \"reason\": msg\n          });\n          this.setState({\n            errorMessages: {\n              errors: errors\n            }\n          });\n        } else {\n          if (this.props.usedInDlg) {\n            Session.set('showLoginSignupFancyBoxDialog', false);\n            Session.set('showForgotForm', false);\n            Session.set('showSignupForm', true);\n            Session.set('showLoginDialog', true);\n          }\n\n          Session.set('loginFlowComplete', true);\n          Session.set('loginFlowStart', undefined);\n          delete Session.keys.loginFlowStart;\n        }\n      };\n\n      this.TwitterCallback = this.TwitterCallback.bind(this);\n      Meteor.loginWithTwitter({}, this.TwitterCallback);\n    }\n\n    return handleTwitterLogin;\n  }();\n\n  _proto5.handleGoogleLogin = function () {\n    function handleGoogleLogin(event) {\n      this.setState({\n        errorMessages: {}\n      });\n\n      this.GoogleCallback = function (err) {\n        switch (this.props.buttonFor) {\n          case 'login':\n            fbq('track', 'GoogleUserLogin' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Google Login ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          case 'signup':\n            fbq('track', 'GoogleUserSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Google Signup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          default:\n            fbq('track', 'GoogleUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Google LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n        }\n\n        if (err) {\n          console.log(err);\n          var msg = 'Connect with Google failed. ';\n          if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n            msg += err.reason + ' ';\n          } else if (err.message) msg += err.message + '. ';\n          msg += \"Please try again. Contact us if needed.\";\n          var errors = [];\n          errors.push({\n            \"error\": \"SOCIALLOGIN_FAIL\",\n            \"reason\": msg\n          });\n          this.setState({\n            errorMessages: {\n              errors: errors\n            }\n          });\n        } else {\n          if (this.props.usedInDlg) {\n            Session.set('showLoginSignupFancyBoxDialog', false);\n            Session.set('showForgotForm', false);\n            Session.set('showSignupForm', true);\n            Session.set('showLoginDialog', true);\n          }\n\n          Session.set('loginFlowComplete', true);\n          Session.set('loginFlowStart', undefined);\n          delete Session.keys.loginFlowStart;\n        }\n      };\n\n      this.GoogleCallback = this.GoogleCallback.bind(this);\n      Meteor.loginWithGoogle({}, this.GoogleCallback);\n    }\n\n    return handleGoogleLogin;\n  }();\n\n  _proto5.handleLinkedInLogin = function () {\n    function handleLinkedInLogin(event) {\n      this.setState({\n        errorMessages: {}\n      });\n\n      this.LinkedInCallback = function (err) {\n        switch (this.props.buttonFor) {\n          case 'login':\n            fbq('track', 'LinkedInUserLogin' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Login ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          case 'signup':\n            fbq('track', 'LinkedInUserSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Signup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n\n          default:\n            fbq('track', 'LinkedInUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n            break;\n        }\n\n        if (err) {\n          console.log(err);\n          var msg = 'Connect with LinkedIn failed. ';\n          if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n            msg += err.reason + ' ';\n          } else if (err.message) msg += err.message + '. ';\n          msg += \"Please try again. Contact us if needed.\";\n          var errors = [];\n          errors.push({\n            \"error\": \"SOCIALLOGIN_FAIL\",\n            \"reason\": msg\n          });\n          this.setState({\n            errorMessages: {\n              errors: errors\n            }\n          });\n        } else {\n          if (this.props.usedInDlg) {\n            Session.set('showLoginSignupFancyBoxDialog', false);\n            Session.set('showForgotForm', false);\n            Session.set('showSignupForm', true);\n            Session.set('showLoginDialog', true);\n          }\n\n          Session.set('loginFlowComplete', true);\n          Session.set('loginFlowStart', undefined);\n          delete Session.keys.loginFlowStart;\n        }\n      };\n\n      this.LinkedInCallback = this.LinkedInCallback.bind(this);\n      Meteor.loginWithLinkedIn({}, this.LinkedInCallback);\n    }\n\n    return handleLinkedInLogin;\n  }();\n\n  _proto5.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: self.handleFBLogin,\n        id: \"facebook-login\",\n        className: \"blue-btn btns social-button\",\n        \"data-max-rows\": \"1\",\n        \"data-size\": \"medium\",\n        \"data-show-faces\": \"false\",\n        \"data-auto-logout-link\": \"false\"\n      }, this.buttonForText, \" with Facebook\"), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: self.handleTwitterLogin,\n        id: \"twitter-login\",\n        style: {\n          marginTop: '10px'\n        },\n        className: \"blue-btn btns social-button\",\n        \"data-max-rows\": \"1\",\n        \"data-size\": \"medium\",\n        \"data-show-faces\": \"false\",\n        \"data-auto-logout-link\": \"false\"\n      }, this.buttonForText, \" with Twitter\"), /*#__PURE__*/React.createElement(\"div\", {\n        onClick: self.handleGoogleLogin,\n        id: \"google-login\",\n        style: {\n          marginTop: '10px'\n        },\n        className: \"blue-btn btns social-button\",\n        \"data-max-rows\": \"1\",\n        \"data-size\": \"medium\",\n        \"data-show-faces\": \"false\",\n        \"data-auto-logout-link\": \"false\"\n      }, this.buttonForText, \" with Google\"), this.dontShow ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n        onClick: self.handleLinkedInLogin,\n        id: \"linkedin-login\",\n        style: {\n          marginTop: '10px'\n        },\n        className: \"blue-btn btns social-button\",\n        \"data-max-rows\": \"1\",\n        \"data-size\": \"medium\",\n        \"data-show-faces\": \"false\",\n        \"data-auto-logout-link\": \"false\"\n      }, \"Login with LinkedIn\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(LoginFormMessages, {\n        messages: this.state.errorMessages\n      }), /*#__PURE__*/React.createElement(\"br\", null));\n    }\n\n    return render;\n  }();\n\n  return SocialLoginButtons;\n}(Component);\n\n;\nmodule.runSetters(SocialLoginButtonsT = withTracker(function () {\n  var ret = {};\n\n  if (Meteor.isClient) {\n    ret.showSignupForm = Session.get('showSignupForm');\n    ret.showForgotForm = Session.get('showForgotForm');\n  }\n\n  ret.user = Meteor.user();\n  return ret;\n})(SocialLoginButtons));\n\nvar LoginFormHorizontal = /*#__PURE__*/function (_Component6) {\n  _inheritsLoose(LoginFormHorizontal, _Component6);\n\n  function LoginFormHorizontal(props) {\n    var _this3;\n\n    _this3 = _Component6.call(this, props) || this;\n    _this3.state = {\n      showForgotForm: props.showForgotForm ? true : false,\n      isLandLordMode: props.isLandLordMode ? true : false\n    };\n    return _this3;\n  }\n\n  var _proto6 = LoginFormHorizontal.prototype;\n\n  _proto6.showForgotFormHandler = function () {\n    function showForgotFormHandler() {\n      this.setState({\n        showForgotForm: true\n      });\n    }\n\n    return showForgotFormHandler;\n  }();\n\n  _proto6.showSignInFormHandler = function () {\n    function showSignInFormHandler() {\n      this.setState({\n        showForgotForm: false\n      });\n    }\n\n    return showSignInFormHandler;\n  }();\n\n  _proto6.componentDidMount = function () {\n    function componentDidMount() {\n      if (this.props.user) Session.set('loginFlowComplete', true); //todo: check this\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto6.render = function () {\n    function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loginForm onpageSignin-form\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(SocialLoginButtonsT, null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row text-center\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6 col-sm-12\"\n      }, this.state.showForgotForm ? /*#__PURE__*/React.createElement(LoginFormResetPasswordView, {\n        onPage: true,\n        showSignInFormHandler: this.showSignInFormHandler.bind(this)\n      }) : /*#__PURE__*/React.createElement(LoginFormSignInView, {\n        onPage: true,\n        showForgotFormHandler: this.showForgotFormHandler.bind(this)\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6 col-sm-12\"\n      }, this.state.isLandLordMode ? /*#__PURE__*/React.createElement(LoginFormSignUpViewLandlord, {\n        onPage: true\n      }) : /*#__PURE__*/React.createElement(LoginFormSignUpView, {\n        onPage: true\n      }))));\n    }\n\n    return render;\n  }();\n\n  return LoginFormHorizontal;\n}(Component);\n\n;\nmodule.runSetters(LoginFormHorizontalT = withTracker(function () {\n  var ret = {};\n  ret.user = Meteor.user();\n  return ret;\n})(LoginFormHorizontal));\n\nvar LoginPageHorizontal = /*#__PURE__*/function (_Component7) {\n  _inheritsLoose(LoginPageHorizontal, _Component7);\n\n  function LoginPageHorizontal() {\n    return _Component7.apply(this, arguments) || this;\n  }\n\n  var _proto7 = LoginPageHorizontal.prototype;\n\n  _proto7.render = function () {\n    function render() {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head-border-bottom\"\n      }, /*#__PURE__*/React.createElement(LoginFormHorizontalT, null)))));\n    }\n\n    return render;\n  }();\n\n  return LoginPageHorizontal;\n}(Component);\n\n;","map":{"version":3,"sources":["imports/reactui/layout/MainLayoutHeader.jsx"],"names":["_assertThisInitialized","module","link","default","v","_inheritsLoose","export","LoginFormHorizontalT","SocialLoginButtonsT","LoginPage","LoginPageHorizontal","LoginFormT","LoginFormMessages","Meteor","React","Component","withTracker","LoginFormSignInView","LoginFormSignUpView","LoginFormSignUpViewLandlord","LoginFormResetPasswordView","emailAlerts","heading","para","yesButtonText","EMAIL_ALERT_VARIATION_count","EMAIL_ALERT_VARIATION","EMAILALERT","isMobileMenuEventAttached","delayedFunctions","$","document","unbind","bind","e","hasClass","target","closest","length","FlowRouter","current","route","name","addClass","removeClass","setTimeout","showLoginDialog","Session","set","showSignupDialog","showLoginPopup","fancybox","afterClose","template","console","log","emailValidation","email","trim","re","test","error","reason","decideAndShowCreateAlertPopup","showAlertCreate","saidNo","parseInt","readCookie","c","on","tmp","Date","now","user","profile","emailAlertsActive","emailAlertsNoThanks","showCreateAlertPopup","includes","isNaN","createCookie","afterShow","focus","ga","showAddPropertyHeaderPopup","value","days","expires","date","setTime","getTime","toUTCString","cookie","nameEQ","ca","split","i","charAt","substring","indexOf","eraseCookie","loadFonts","wf","createElement","href","cdnPath","rel","async","s","getElementsByTagName","parentNode","insertBefore","MainLayoutHeader","props","state","emailAlertEmailAddress","currentUser","emailAlertEmailAddressHandler","NeedsCreateAlertPopup","componentWillReceiveProps","nextProps","setState","componentWillMount","isClient","get","newAlertCreateForm","newAlertCreatedSuccessfully","emailAlertCreateBtnHandler","emailAlertNoThanksBtnHandler","val","validatedEmail","alert","subscribeToEmailAlert","result","close","call","componentDidMount","getScript","scrolling","helpers","overlay","locked","fontsLoaded","raf","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","addEventListener","runOnlyOnce","off","addon","scrollTop","position","top","showLoginDialogClick","event","showSignupDialogClick","logoutBtnClick","logout","err","Error","profileBtnClick","go","cookieConsentBtnClick","remove","render","self","showCookieConsent","color","url","marginLeft","currentUserId","path","getProfilePic","displayName","display","textAlign","margin","fontSize","marginBottom","borderBottom","width","marginTop","exportDefault","errorModel","undefined","timeoutVal","tmpHTML","j","html","shift","picture","services","facebook","userId","messages","info","map","item","warning","success","errors","LoginForm","showForgotForm","showSignupForm","isLandLordMode","loginFromApplyNowBtn","showForgotFormHandler","showSignupFormHandler","showSignInFormHandler","showLandlordViewHandler","ret","SocialLoginButtons","keys","loginFlowComplete","errorMessages","dontShow","buttonForText","buttonFor","handleFBLogin","handleTwitterLogin","handleGoogleLogin","handleLinkedInLogin","FBCallback","fbq","msg","errorType","message","push","usedInDlg","loginFlowStart","loginWithFacebook","TwitterCallback","loginWithTwitter","GoogleCallback","loginWithGoogle","LinkedInCallback","loginWithLinkedIn","LoginFormHorizontal"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport {LoginFormSignInView,LoginFormSignUpView,LoginFormSignUpViewLandlord,LoginFormResetPasswordView  } from './LoginFormViews.jsx'\n\nemailAlerts = [\n    // {\n    //     heading: 'OH, HEY!',\n    //     para: 'Get your dream place sooner without even searching for it! Sign up for our emails and we will send you the latest properties of your choice',\n    //     yesButtonText: \"Awesome 🤘👍\"\n    // },\n    {\n        heading: 'Always First.',\n        para: 'Be the first to hear about the latest lettings in your area. Signup for our email alerts.',\n        yesButtonText: \"HELL YES!\"\n    }\n    // ,\n    // {\n    //     heading: 'Get Notified.',\n    //     para: 'Get your rental soon by signing up for our email alerts. Be the first one to know when a letting is posted.',\n    //     yesButtonText: \"Okays! Sign me up. :)\"\n    // }\n]\nEMAIL_ALERT_VARIATION_count = 2;\n// EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1, 2\nEMAIL_ALERT_VARIATION = 0;//Keeping only 1 variation.\nEMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION]\nisMobileMenuEventAttached = false;\nfunction delayedFunctions() {\n    // if(!isMobileMenuEventAttached) {\n        $(document).unbind('click').bind('click',function (e) {\n            if (!$('.xs-menu').hasClass('slide-right')) {//Its not open\n                if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n                    if(FlowRouter.current().route.name=='home')\n                        $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n                    $('.xs-menu').addClass('slide-right');\n                    return true;\n                } else return true\n            } else {//Its open\n                if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n                    $('.xs-menu').removeClass('slide-right')\n                    if(FlowRouter.current().route.name=='home')\n                        setTimeout(function(){\n                            if(FlowRouter.current().route.name=='home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n                        },250);\n                    return true;\n                }\n            }\n        });\n        // isMobileMenuEventAttached = true;\n    // }\n\n}\nfunction showLoginDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',false)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showSignupDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',true)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showLoginPopup(){\n    // let doesDivStillExists = $('#signin-div').html()\n    // if( doesDivStillExists != \"\" ){//To prevent home page dialogs\n        $.fancybox({\n            'padding': 0,\n            'href': '#signin-div',\n            afterClose:function(template){\n                console.log(template);\n                //template.showLoginDialog.set(false);\n                Session.set('isLandLordMode',false)\n                Session.set('showLoginDialog',false)\n                Session.set('showLoginSignupFancyBoxDialog',false)\n                Session.set('loginFromApplyNowBtn',false)\n\n            }\n        })\n}\nfunction emailValidation(email) {\n\n    email = email.trim();\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    // Valid\n    if( re.test(email) ){\n        return true;\n    }\n\n    // Invalid\n    return {\n        error: \"INVALID_EMAIL\",\n        reason: \"Please enter a valid email address in format pat@gmail.com\",\n    };\n\n}\nfunction decideAndShowCreateAlertPopup(){\n    // console.log(\"Apply decideAndShowCreateAlertPopup\")\n    let showAlertCreate = true;\n    \n    let saidNo = parseInt(readCookie('emailAlertNoThanks')) ;\n    if(!saidNo){\n        let c = parseInt(readCookie('emailAlertShowedCount')) ;\n        let on = parseInt(readCookie('emailAlertShowedOnTime')) ;\n        let tmp = (Date.now() - on) / 60000 ;// time in mins\n        // console.log('Time is: '+tmp);\n        if(c > 1 ){\n            if( tmp < 2 )showAlertCreate = false; //its not even 2mns since last popup show, so wait\n        }\n        if(c > 2 ){\n            if( tmp < 2 )showAlertCreate = false; //its not even 2mns since last popup show, so wait\n        }\n        if(c > 3 ){\n            if( tmp < 3 )showAlertCreate = false; //its not even 3mns since last popup show, so wait\n        }\n        if(c > 4 ){\n            if( tmp < 6 )showAlertCreate = false; //its not even 6mns since last popup show, so wait\n        }\n        if(c > 5 ){\n            if( tmp < 12 )showAlertCreate = false; //its not even 12mns since last popup show, so wait\n        }\n    }\n    let user = Meteor.user();\n    if(user){\n        if(user.profile.emailAlertsActive || user.profile.emailAlertsNoThanks) showAlertCreate = false; // he already has alerts or he said no to them.\n    }\n    if(parseInt(readCookie('emailAlertAlreadyHasIt')) || parseInt(readCookie('emailAlertNoThanks')) ) showAlertCreate = false; // He already has alerts or He already said no\n    //you don't need above fallback because this function is called only after 3-5 sec , by then user subscription must be loaded.\n    // console.log(\"decision: \"+showAlertCreate)\n    if(showAlertCreate){\n        showCreateAlertPopup();\n    }\n}\nfunction showCreateAlertPopup(){\n    if ( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n    let c = parseInt(readCookie('emailAlertShowedCount')) ;\n    c= parseInt(c);\n    if(isNaN(c))c = 1;\n    else {\n        c++;\n    }\n    createCookie('emailAlertShowedCount',c,5)\n    createCookie('emailAlertShowedOnTime',Date.now(),5)\n\n    $.fancybox({\n        'padding': 0,\n        'href': '#create-alert-popup',\n        afterShow:function(){\n            $('#emailAlertUserEmailAddress').focus();\n            ga('send', 'event', 'emailAlert', 'Show Email Alert', 'Route name: '+FlowRouter.current().route.name+' Variation: '+EMAIL_ALERT_VARIATION);\n        },\n        afterClose:function(){\n            Session.set('showCreateAlertPopup',false)\n        }\n    })\n    }\n}\nfunction showAddPropertyHeaderPopup(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#addPropertyHeader-div',\n\n        afterClose:function(template){\n            //console.log(template);\n            Session.set('showAddPropertyHeaderTemplate',false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog',false)\n\n        }\n    })\n}\nfunction createCookie(name,value,days) {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\nfunction readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\nfunction eraseCookie(name) {\n    createCookie(name,\"\",-1);\n}\nfunction loadFonts(){\n    (function() {\n        var wf = document.createElement('link');\n        wf.href = cdnPath('/fonts/Montserrat/stylesheet.css');\n        wf.rel = 'stylesheet';\n        wf.async = 'true';//link doesnt support async\n        var s = document.getElementsByTagName('link')[0];\n        s.parentNode.insertBefore(wf, s);\n\n        Session.set('fontsLoaded',true);\n\n        // var wf = document.createElement('script');\n        // wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';\n        // wf.type = 'text/javascript';\n        // wf.async = 'true';\n        // var s = document.getElementsByTagName('script')[0];\n        // s.parentNode.insertBefore(wf, s);\n    })();\n}\n\nclass MainLayoutHeader extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            emailAlertEmailAddress : this.props.currentUser ? this.props.currentUser.profile.email : \"\"\n        };\n        this.emailAlertEmailAddressHandler = this.emailAlertEmailAddressHandler.bind(this);\n        this.NeedsCreateAlertPopup = false;\n        if( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n            this.NeedsCreateAlertPopup = true;\n            // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1\n            EMAIL_ALERT_VARIATION = 0;\n            EMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION]\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.currentUser && !this.state.emailAlertEmailAddress)//update only if it has vals and emailAlertEmailAddress is empty.\n            this.setState({emailAlertEmailAddress: nextProps.currentUser.profile.email })\n    }\n    componentWillMount(){\n        if(Meteor.isClient) {\n            Session.set('showLoginDialog', false)\n            Session.set('showForgotForm', false)\n            Session.set('showLoginDialog', false)\n            Session.set('showLoginSignupFancyBoxDialog', false)\n            Session.set('showAddPropertyHeaderTemplate', false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog', false)\n            if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n        }\n        this.state = {\n            newAlertCreateForm:true,\n            newAlertCreatedSuccessfully:false\n        }\n        this.emailAlertCreateBtnHandler = this.emailAlertCreateBtnHandler.bind(this)\n        this.emailAlertNoThanksBtnHandler = this.emailAlertNoThanksBtnHandler.bind(this)\n    }\n    emailAlertCreateBtnHandler(){\n        console.log('emailAlertCreateBtnHandler')\n        let val = $('#emailAlertUserEmailAddress').val();\n        let validatedEmail = emailValidation(val);\n        if(validatedEmail !== true){\n            alert('Invalid email, please enter a valid email address.');\n            $('#emailAlertUserEmailAddress').focus();\n            return;\n        }\n        this.subscribeToEmailAlert = function(error, result){\n            if(error){\n                console.log(error);\n                alert('Error: '+error.reason);\n                $('#emailAlertUserEmailAddress').focus();\n                return;\n            }else{\n                createCookie('emailAlertAlreadyHasIt',1,365)\n                this.setState({newAlertCreateForm:false,newAlertCreatedSuccessfully:true})\n                setTimeout(function () {\n                    if ($)\n                        if ($.fancybox)\n                            $.fancybox.close();\n                },10000)\n            }\n        }\n        this.subscribeToEmailAlert = this.subscribeToEmailAlert.bind(this);\n        Meteor.call('subscribeToEmailAlert',val,this.subscribeToEmailAlert);\n\n        ga('send', 'event', 'emailAlert', 'Created Email Alert', 'Route name: '+FlowRouter.current().route.name+' Variation: '+EMAIL_ALERT_VARIATION);\n    }\n    emailAlertNoThanksBtnHandler(){\n        console.log('emailAlertNoThanksBtnHandler')\n        createCookie('emailAlertNoThanks',1,365)\n        if(this.props.currentUser){\n            Meteor.call('emailAlertsNoThanks');\n        }\n        if ($)\n            if ($.fancybox)\n                $.fancybox.close();\n    }\n    componentDidMount(){\n        $.getScript(cdnPath('/js/bootstrap.min.js'), function(){\n            // console.log(\"Bootstrap loaded\")\n        });\n        // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n        //     console.log(\"Filestack loaded\")\n        // });\n\n        $.getScript(cdnPath('/plugins/fancybox/js/jquery.fancybox.min.js'), function(){\n            // script should be loaded and do something with it.\n            $('.fancybox').fancybox({\n                scrolling:'no',\n                helpers: {\n                    overlay: {\n                        locked: true\n                    }\n                }\n            })\n        });\n        if(Meteor.isClient){\n            var fontsLoaded = Session.get('fontsLoaded');\n            if(!fontsLoaded) {\n                //Below code is taken from https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\n                var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                    window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n                if (raf) raf(function() { window.setTimeout(loadFonts, 0); });\n                else window.addEventListener('load', loadFonts);\n            }\n        }\n        setTimeout(delayedFunctions,1500)\n        if( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n            setTimeout(function(){\n                decideAndShowCreateAlertPopup();\n            },10000)\n            var runOnlyOnce = false;\n            $(document).off('scroll').on('scroll', function() {\n                try{\n                    let addon = 50; if(FlowRouter.current().route.name == 'b')addon = 300;\n                    if($(this).scrollTop()>=($('.subscribeTillPopop').position().top - addon) && !runOnlyOnce ){\n                        runOnlyOnce = true;\n                        decideAndShowCreateAlertPopup();\n                    }\n                }catch(e){}\n            })\n        }\n    }\n\n    showLoginDialogClick(event){\n        showLoginDialog();\n    }\n    showSignupDialogClick(event){\n        showSignupDialog();\n    }\n    logoutBtnClick(event){\n        Meteor.logout(function(err){\n            if (err) {\n                throw new Meteor.Error(\"Logout failed\");\n            }\n        })\n    }\n    profileBtnClick(event){\n        FlowRouter.go('account/profile');\n    }\n    cookieConsentBtnClick(event){\n        createCookie('cookieConsent',1,365);\n        $('.cookieConsentArea').remove();\n    }\n    emailAlertEmailAddressHandler(event){\n        this.setState({emailAlertEmailAddress:event.target.value})\n    }\n\n    render() {\n        const self = this;\n        return (\n<div>\n    { this.props.showCookieConsent ?\n    <section className=\"cookieConsentArea\">\n        <div className=\"container\">\n            <div className=\"cookieConsentArea-inner\">\n                <div className=\"left-menu text-center\" style={{color: 'white'}}><p>  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  <a href={FlowRouter.url('cookiepolicy')}> cookie policy </a>.<button className=\"green-btn btns cookieConsentBtn\" onClick={self.cookieConsentBtnClick.bind(this)} type=\"button\" style={{marginLeft: 20}}>I understand</button></p>\n            </div>\n        </div>\n    </div>\n</section>\n: \"\"}\n<section className=\"header\">\n    <div className=\"container\">\n        <div className=\"logo-holder-div\">\n            <div className=\"xs-menu-icon-master\"><div className=\"xs-menu-icon\">\n                    <span className=\"menu-xs sprite\" />\n            </div></div>\n                <div className=\"logo-holder\">\n                    <a href={FlowRouter.url('home')}>\n                        <img src={cdnPath(\"/images/spot-my-crib-logo.png\")} alt=\"SpotMyCrib\" title=\"SpotMyCrib - Safe and easy rentals\" className=\"logo-big\" />\n                        <img src={cdnPath(\"/images/spotmycrib-logo-130.jpg\")} alt=\"SpotMyCrib\" title=\"SpotMyCrib - Safe and easy rentals\" className=\"logo-xs\" />\n                    </a>\n                </div>\n                <div className=\"menu\">\n                    <ul>\n                        <li className=\"hidden-xs\"><a href={FlowRouter.url('advertisewithus')} className=\"btns green-btn addPropertyHeaderBtn\" type=\"button\"><span className=\"glyphicon glyphicon-object-align-bottom\" aria-hidden=\"true\" /> Advertise property</a></li>\n                        \n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\">\n                                <a href={FlowRouter.url('account/myProperties')}>\n                                    <span className=\"glyphicon glyphicon-check\" aria-hidden=\"true\"/> MY PROPERTIES\n                                </a>\n                            </li>\n                            : \"\"}\n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\">\n                                <a href={FlowRouter.url('account/profile')}>\n                                    <span className=\"glyphicon glyphicon-check\" aria-hidden=\"true\"/> MY REFERENCES\n                                </a>\n                            </li>\n                        : \"\"}\n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\"><a href=\"javascript:void(0);\" onClick={self.logoutBtnClick.bind(this)} className=\"logoutBtn\">SIGN OUT</a></li>\n                        : \"\"}\n                        { this.props.currentUserId ?\n                            <li>\n                                <div className=\"navbar-accounts\">\n                                    <a href={FlowRouter.path('account/profile')}>\n                                        <img className=\"circular-icon profileBtn\" src={this.props.getProfilePic} width=\"40px\" height=\"40px\" />\n                                        <span id=\"logged-in-display-name profileBtn\">\n                                                        {this.props.displayName}\n                                        </span>\n                                    </a>\n                                </div>\n                            </li>\n                            :\n                            <ul className=\"oval logedout-menu\">\n                                <li><a className=\"right-border showLoginDialog\" onClick={self.showLoginDialogClick.bind(this)} href=\"javascript:;\">SIGN IN</a></li>\n                                <li><a href=\"javascript:;\" onClick={self.showSignupDialogClick.bind(this)} className=\"showSignupDialog\">SIGN UP</a></li>\n                            </ul>\n                        }\n                    </ul>\n                </div>\n                        <div className=\"xs-menu visible-xs transition\">\n                            <div className=\"xs-menu-close-icon text-right\">\n                                <span className=\"sprite xs-close\" />\n                                </div>\n                                <ul className=\"transition\">\n                                    <li><a href={FlowRouter.url('home')}>HOME / SEARCH</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href={FlowRouter.path('account/profile')}>MY REFERENCES</a></li>\n                                        : \"\"\n                                    }\n                                    <li><a href={FlowRouter.url('advertisewithus')}>LIST PROPERTY</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href={FlowRouter.path('account/myProperties')}>MY PROPERTIES</a></li>\n                                        : \"\"\n                                    }\n                                    <li><a href={FlowRouter.url('estateagent')}>AGENTS/LANDLORDS</a></li>\n                                    <li><a href={FlowRouter.url('howitworks')}>HOW IT WORKS?</a></li>\n                                    <li><a href={FlowRouter.url('faqs')}>FAQ</a></li>\n                                    <li><a href={FlowRouter.url('contactus')}>CONTACT US</a></li>\n                                    <li><a href={FlowRouter.url('careers')}>CAREERS</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href=\"javascript:void(0);\" onClick={self.logoutBtnClick.bind(this)}>SIGN OUT</a></li>\n                                        : \"\"\n                                    }\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n\n                <div id=\"errorModel\" className=\"alert alert-danger \" style={{display: 'none'}}></div>\n                <div id=\"signin-div\" className=\"signin1\" style={{display: 'none'}}>\n                    {this.props.showLoginDialog ? <LoginFormT/> : \"\" }\n                </div>\n    {this.NeedsCreateAlertPopup ? (\n                <div id=\"create-alert-popup\" style={{display: 'none'}} className={\"verification-div1\"}>\n                    <div className=\"refund-div\">\n                        {this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully  ? (<h2>{EMAILALERT.heading}</h2>) : \"\"}\n                        {this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? (<h2 className=\"green-text\">Well Done! Alert Created.</h2>) : \"\"}\n                    </div>\n                    {this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully  ? (\n                        <div className=\"profile-text\">\n                            <p className=\"color-text\"\n                               style={{textAlign: 'center', margin: '10px 0px', fontSize: '14px'}}>{EMAILALERT.para}</p>\n                            <hr/>\n                            <form className=\"signin-form\" action=\"javascript:void(0);\">\n\n                                <div className=\"form-border\">\n                                    <div className=\"styled-input\"><input type=\"text\"\n                                                                         placeholder=\"Enter your email address\" id=\"emailAlertUserEmailAddress\"\n                                                                         required=\"required\" style={{\n                                        fontSize: '14px',\n                                        marginBottom: '10px !important', borderBottom: 'none !important'\n                                    }} value={this.state.emailAlertEmailAddress} onChange={this.emailAlertEmailAddressHandler}/></div>\n                                </div>\n\n                                <div className=\"signup-btn\">\n                                    <button onClick={this.emailAlertCreateBtnHandler} className=\"green-btn btns\" type=\"submit\" style={{width: '100%', marginTop: '10px'}}>\n                                        {EMAILALERT.yesButtonText}\n                                    </button>\n                                </div>\n                            </form>\n                            <a href=\"javascript:void(0)\" onClick={this.emailAlertNoThanksBtnHandler} className={'noThanks'}>No thanks, I'm happy to search myself</a>\n                        </div>\n                    ) : \"\"}\n                    {this.state.newAlertCreatedSuccessfully  && !this.state.newAlertCreateForm ? (\n                        <div className=\"profile-text\">\n                            {/*<p style={{color: '#ccac4c', paddingBottom: 0}}>Well Done! </p>*/}\n                            <p className=\"color-text\" style={{textAlign: 'center', margin: '10px 0px', fontSize: '13px'}}>We will\n                                send you an email a day with new lettings. Be the first to apply for them. </p>\n                            <iframe src=\"https://giphy.com/embed/fxsqOYnIMEefC\" frameBorder={0} className=\"giphy-embed\"\n                                    allowFullScreen style={{width: '80%'}}/>\n                        </div>\n                    ) : \"\"}\n                    {false ? (\n                        <div className=\"profile-text\">\n                            <p className=\"green-text\" style={{textAlign: 'center', margin: '10px 0px', color: 'black'}}>\n                                You will now be notified of the new lettings in Dundrum of County Dubin.\n                            </p>\n                            <hr/>\n                            <p className=\"color-text mar-top-20\" style={{\n                                textAlign: 'center',\n                                margin: '20px 0px 10px', /* display: 'none', */\n                                fontSize: '14px'\n                            }}>Your active alerts are</p>\n                            <table className=\"table table-bordered\">\n                                <thead>\n                                <tr>\n                                    <th style={{textAlign: 'center'}}>County</th>\n                                    <th style={{textAlign: 'center'}}>Area</th>\n                                    <th/>\n                                </tr>\n                                </thead>\n                                <tbody style={{color: '#8b8b8b', fontSize: '14px'}}>\n                                <tr>\n                                    <td>Dublin</td>\n                                    <td>All Areas</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                <tr>\n                                    <td>Limrick</td>\n                                    <td>City Center North</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                <tr>\n                                    <td>Limrick</td>\n                                    <td>Madison square</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    ) : \"\"}\n                </div>\n    ) : \"\"}\n\n            </div>\n\n        );\n        }\n};\nexport default withTracker(() => {\n\n    var showCookieConsent = false;\n    var errorModel = false;\n    var showLoginDialog = false;\n    if(Meteor.isClient) {\n        if (Session.get('loginFlowComplete')) {\n            setTimeout(function () {\n                Session.set('loginFlowComplete', undefined);\n            }, 1000)\n        }\n\n        ///////////////////// errorModel start\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        if (tmp)\n            if (tmp.length) {\n                var timeoutVal = 0;\n                if (!$.fancybox) timeoutVal = 3000;\n                let tmpHTML = ''\n                for(let j=0;j<tmp.length;j++){\n                    tmpHTML += '<p>'+tmp[j]+'</p>'\n                }\n                $('#errorModel').html(tmpHTML);\n                setTimeout(function () {\n                    $.fancybox({\n                        'padding': 0,\n                        'href': '#errorModel',\n                        // afterShow:function(template){\n                        //     setTimeout(function () {\n                        //         $.fancybox.close();\n                        //     },3000)\n                        // },\n                        afterClose: function () {\n                            var tmp = Session.get(\"showErrorDlg\");\n                            if (!tmp) tmp = [];\n                            tmp.shift();\n                            Session.set(\"showErrorDlg\", tmp)\n                        }\n                    })\n                }, timeoutVal)\n\n            }\n        ///////////////////// showLoginDialog start\n        if (Session.get('showLoginSignupFancyBoxDialog')) {\n            showLoginPopup()\n        } else {\n            if ($)\n                if ($.fancybox)\n                    $.fancybox.close();\n        }\n        ///////////////////// showCreateAlertPopup start\n        if (Session.get('showCreateAlertPopup')) {\n            showCreateAlertPopup();\n        }\n        // else {//No need for any control over its closing.\n        //     if ($)\n        //         if ($.fancybox)\n        //             $.fancybox.close();\n        // }\n\n        showCookieConsent = !parseInt(readCookie('cookieConsent'))\n        errorModel= Session.get(\"showErrorDlg\")\n        showLoginDialog= Session.get(\"showLoginDialog\")\n    }\n\n    var user= Meteor.user();\n    ///////////////////// displayName start\n    var displayName = \"Guest\";\n    try{\n        if (user) {\n            if (user.profile && user.profile.name) {\n                displayName = user.profile.name;\n            }\n        }\n    }catch (e){}\n    ///////////////////// getProfilePic start\n    var getProfilePic = cdnPath(\"/images/user-img.png\");\n    try{\n        if (user.profile.picture)\n        {\n            if(user.services.facebook)\n                if(user.services.facebook.indexOf('?width=40')==-1)\n                    getProfilePic = user.profile.picture+\"?width=40\"; //@BCompatibility : adding ?width=40 to it\n\n            getProfilePic = user.profile.picture;\n        }\n    }catch (e){}\n\n\n    return {\n        showCookieConsent: showCookieConsent,\n        currentUserId: Meteor.userId(),\n        errorModel: errorModel,\n        showLoginDialog: showLoginDialog,\n        displayName: displayName,\n        currentUser: Meteor.user(),\n    };\n})(MainLayoutHeader);\n\nclass LoginFormMessages extends Component {\n    render() {\n        return (\n            <div>\n                { this.props.messages ?\n                    (\n                        <div>\n                        {this.props.messages.info ?\n                            this.props.messages.info.map((item, i) => {\n                                return (\n                                    <div className=\"changePwdAlertMsgs alert alert-info\" role=\"alert\" key={i}>\n                                        <span className=\"glyphicon glyphicon-info-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                    </div>\n                                )\n                            })\n                        :\"\"}\n                        {this.props.messages.warning ?\n                            this.props.messages.warning.map((item, i) => {\n                                return (\n                                <div className=\"changePwdAlertMsgs alert alert-warning\" role=\"alert\" key={i}>\n                                    <span className=\"glyphicon glyphicon-warning-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                </div>\n                                )\n                            })\n                        :\"\"}\n                            {this.props.messages.success ?\n                                this.props.messages.success.map((item, i) => {\n                                    return (\n                                        <div className=\"changePwdAlertMsgs alert success\" role=\"alert\" key={i}>\n                                            <span className=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                        </div>\n                                    )\n                                })\n                            :\"\"}\n                            {this.props.messages.errors ?\n                                this.props.messages.errors.map((item, i) => {\n                                    return (\n                                        <div className=\"changePwdAlertMsgs alert alert-danger\" role=\"alert\" key={i}>\n                                            <span className=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                        </div>\n                                    )\n                                })\n                            :\"\"}\n\n                        </div>\n                    )\n                :\"\"\n                }\n            </div>\n\n        );\n    }\n};\n\nclass LoginForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showForgotForm : props.showForgotForm ? true : false,\n            showSignupForm : props.showSignupForm ? true : false,\n            isLandLordMode : props.isLandLordMode ? true : false,\n            loginFromApplyNowBtn : props.loginFromApplyNowBtn ? true : false\n        }\n    }\n    showForgotFormHandler(){\n        this.setState({showForgotForm:true});\n        this.setState({showSignupForm:false});\n        this.setState({isLandLordMode:false});\n    }\n    showSignupFormHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:true});\n        this.setState({isLandLordMode:false});\n    }\n    showSignInFormHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:false});\n        this.setState({isLandLordMode:false});\n    }\n    showLandlordViewHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:true});\n        this.setState({isLandLordMode:true});\n    }\n    render() {\n        return (\n            <div className=\"loginForm\">\n                {\n                    this.state.showForgotForm ?\n                        <LoginFormResetPasswordView onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                    :\n                        this.state.showSignupForm ?\n                            this.state.isLandLordMode ?\n                                <LoginFormSignUpViewLandlord onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                            :\n                                <LoginFormSignUpView loginFromApplyNowBtn={this.state.loginFromApplyNowBtn} onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                        :\n                            <LoginFormSignInView loginFromApplyNowBtn={this.state.loginFromApplyNowBtn} onPage={false} showSignupFormHandler={this.showSignupFormHandler.bind(this)} showForgotFormHandler={this.showForgotFormHandler.bind(this)}/>\n\n                }\n            </div>\n        );\n    }\n};\nLoginFormT = withTracker(() => {\n    var ret = {}\n    if(Meteor.isClient){\n        ret.showSignupForm = Session.get('showSignupForm')\n        ret.showForgotForm = Session.get('showForgotForm')\n        ret.isLandLordMode = Session.get('isLandLordMode')\n        ret.loginFromApplyNowBtn = Session.get('loginFromApplyNowBtn')\n    }\n    return ret;\n})(LoginForm);\n\nclass LoginPage extends Component {\n    render() {\n        return (\n            <section className=\"mar-top-20 no-print\">\n                <div className=\"container\">\n                    <div className=\"filter-holder\">\n                        <div className=\"head-border-bottom\">\n                            <LoginFormT/>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n};\n\nclass SocialLoginButtons extends Component {\n    componentWillMount(){\n        if(Meteor.isClient){\n            Session.set('loginFlowStart',true)\n            Session.set('loginFlowComplete', undefined)\n            delete Session.keys.loginFlowComplete\n        }\n        this.state = {\n            errorMessages : {}\n        }\n        this.dontShow = true\n        this.buttonForText = '';\n        switch(this.props.buttonFor){\n            case 'login': this.buttonForText = 'Login';break;\n            case 'signup': this.buttonForText = 'Signup';break;\n            default: this.buttonForText = 'Login / Signup';\n        }\n        this.handleFBLogin = this.handleFBLogin.bind(this)\n        this.handleTwitterLogin = this.handleTwitterLogin.bind(this)\n        this.handleGoogleLogin = this.handleGoogleLogin.bind(this)\n        this.handleLinkedInLogin = this.handleLinkedInLogin.bind(this)\n    }\n\n    handleFBLogin(event) {\n        this.setState({errorMessages:{}})\n        this.FBCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'FBUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'FBUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'FBUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Facebook failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.FBCallback = this.FBCallback.bind(this)\n        Meteor.loginWithFacebook({}, this.FBCallback);\n    }\n\n    handleTwitterLogin(event) {\n        this.setState({errorMessages:{}})\n        this.TwitterCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'TwitterUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'TwitterUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'TwitterUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Twitter failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.TwitterCallback = this.TwitterCallback.bind(this)\n        Meteor.loginWithTwitter({}, this.TwitterCallback);\n    }\n\n    handleGoogleLogin(event) {\n        this.setState({errorMessages:{}})\n        this.GoogleCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'GoogleUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'GoogleUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'GoogleUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Google failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.GoogleCallback = this.GoogleCallback.bind(this)\n        Meteor.loginWithGoogle({}, this.GoogleCallback);\n    }\n\n    handleLinkedInLogin(event) {\n        this.setState({errorMessages:{}})\n        this.LinkedInCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'LinkedInUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'LinkedInUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'LinkedInUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with LinkedIn failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.LinkedInCallback = this.LinkedInCallback.bind(this)\n        Meteor.loginWithLinkedIn({}, this.LinkedInCallback);\n    }\n    \n    render() {\n        const self = this;\n        return (\n            <div>\n                <div onClick={self.handleFBLogin} id=\"facebook-login\" className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Facebook</div>\n                <div onClick={self.handleTwitterLogin} id=\"twitter-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Twitter</div>\n                <div onClick={self.handleGoogleLogin} id=\"google-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Google</div>\n                {this.dontShow ? \"\" :\n                <div onClick={self.handleLinkedInLogin} id=\"linkedin-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">Login with LinkedIn</div>\n                }\n\n                <br/>\n                <LoginFormMessages messages={this.state.errorMessages} />\n                <br/>\n            </div>\n        );\n    }\n};\nSocialLoginButtonsT = withTracker(() => {\n    var ret = {}\n    if(Meteor.isClient){\n        ret.showSignupForm = Session.get('showSignupForm')\n        ret.showForgotForm = Session.get('showForgotForm')\n    }\n    ret.user = Meteor.user()\n    return ret;\n})(SocialLoginButtons);\n\nclass LoginFormHorizontal extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showForgotForm : props.showForgotForm ? true : false,\n            isLandLordMode : props.isLandLordMode ? true : false\n        }\n    }\n    showForgotFormHandler(){\n        this.setState({showForgotForm:true});\n    }\n    showSignInFormHandler(){\n        this.setState({showForgotForm:false});\n    }\n    componentDidMount(){\n        if(this.props.user) Session.set('loginFlowComplete', true)//todo: check this\n    }\n    render() {\n        return (\n            <div className=\"loginForm onpageSignin-form\">\n                <div className=\"row\">\n                    <SocialLoginButtonsT/>\n                </div>\n                <div className=\"row text-center\">\n                    <div className=\"col-md-6 col-sm-12\">\n                        {\n                            this.state.showForgotForm ?\n                                <LoginFormResetPasswordView onPage={true} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                                :\n                                <LoginFormSignInView  onPage={true} showForgotFormHandler={this.showForgotFormHandler.bind(this)}/>\n                        }\n                    </div>\n                    <div className=\"col-md-6 col-sm-12\">\n                        {\n                            this.state.isLandLordMode ?\n                                <LoginFormSignUpViewLandlord onPage={true}/>\n                                :\n                                <LoginFormSignUpView  onPage={true}/>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n};\nLoginFormHorizontalT = withTracker(() => {\n    var ret = {}\n    ret.user = Meteor.user()\n    return ret;\n})(LoginFormHorizontal);\n\nclass LoginPageHorizontal extends Component {\n    render() {\n        return (\n        <section className=\"mar-top-20 mar-btm-20 no-print loginPageHorizontal\">\n            <div className=\"container\">\n                <div className=\"filter-holder\">\n                    <div className=\"head-border-bottom\">\n                        <LoginFormHorizontalT/>\n                    </div>\n                </div>\n            </div>\n        </section>\n            \n        );\n    }\n};\n\nexport {\n    LoginFormHorizontalT,\n    SocialLoginButtonsT,\n    LoginPage,\n    LoginPageHorizontal,\n    LoginFormT,\n    LoginFormMessages\n}"]},"sourceType":"module","hash":"4ec3acd86b7dcd4517649d980ad63943a687d944"}
