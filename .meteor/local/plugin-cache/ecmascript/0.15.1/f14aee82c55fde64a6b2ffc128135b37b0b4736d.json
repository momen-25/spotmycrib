{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/client/accounts/general.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/accounts/general.js","filename":"/home/momen/projects/spotmycrib-master/client/accounts/general.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/client/accounts/general.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/accounts/general.js"}},"code":"let Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 0);\nTemplate.loginForm.helpers({\n  showSignupForm: function () {\n    return Session.get('showSignupForm');\n  },\n  showForgotForm: function () {\n    return Session.get('showForgotForm');\n  },\n  isLandLordMode: function () {\n    return Session.get('isLandLordMode');\n  }\n});\nTemplate.socialLoginButtons.onCreated(function () {\n  Session.set('loginFlowStart', true);\n  Session.set('loginFlowComplete', undefined);\n  delete Session.keys.loginFlowComplete;\n  this.errorMessages = new ReactiveVar({});\n});\nTemplate.socialLoginButtons.helpers({\n  showSignupForm: function () {\n    return Session.get('showSignupForm');\n  },\n  showForgotForm: function () {\n    return Session.get('showForgotForm');\n  },\n  errorMessages: function () {\n    return Template.instance().errorMessages.get();\n  },\n  buttonForText: function () {\n    var buttonFor;\n    if (Template.instance().data) buttonFor = Template.instance().data.buttonFor;\n\n    switch (buttonFor) {\n      case 'login':\n        return 'Login';\n\n      case 'signup':\n        return 'Signup';\n\n      default:\n        return 'Login / Signup';\n    }\n  }\n});\nTemplate.socialLoginButtons.events({\n  'click #facebook-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithFacebook({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Facebook failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  },\n  'click #twitter-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithTwitter({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Twitter failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  },\n  'click #google-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithGoogle({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Google failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  },\n  'click #linkedin-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithLinkedIn({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with LinkedIn failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  }\n});\nTemplate.loginPageHorizontal.onCreated(function () {\n  var instance = this;\n  instance.isTempLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('userData');\n\n    if (instance.subscriptionsReady()) {\n      instance.isTempLoaded.set(true);\n    }\n  });\n});\nTemplate.loginPageHorizontal.helpers({\n  isTemplateLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  }\n});\nTemplate.loginFormHorizontal.helpers({\n  showForgotForm: function () {\n    return Session.get('showForgotForm');\n  },\n  isLandLordMode: function () {\n    var mode = '';\n    if (Template.instance().data) mode = Template.instance().data.isLandLordMode;\n    return mode; // return Session.get('isLandLordMode');\n  }\n});\nTemplate.loginFormHorizontal.onRendered(function () {\n  var user = Meteor.user(); //when u load this form if the user is alredy loggedin then throw an event.\n\n  if (user) Session.set('loginFlowComplete', true);\n});","map":{"version":3,"sources":["client/accounts/general.js"],"names":["Template","module","link","v","loginForm","helpers","showSignupForm","Session","get","showForgotForm","isLandLordMode","socialLoginButtons","onCreated","set","undefined","keys","loginFlowComplete","errorMessages","ReactiveVar","instance","buttonForText","buttonFor","data","events","event","templateInstance","Meteor","loginWithFacebook","err","console","log","msg","errorType","error","reason","message","errors","push","usedInDlg","loginFlowStart","loginWithTwitter","loginWithGoogle","loginWithLinkedIn","loginPageHorizontal","isTempLoaded","autorun","subscribe","subscriptionsReady","isTemplateLoaded","loginFormHorizontal","mode","onRendered","user"],"mappings":"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","sourcesContent":["import {Template} from \"meteor/templating\";\n\nTemplate.loginForm.helpers({\n    showSignupForm: function () {\n        return Session.get('showSignupForm');\n    },\n    showForgotForm: function () {\n        return Session.get('showForgotForm');\n    },\n    isLandLordMode: function () {\n        return Session.get('isLandLordMode');\n    }\n})\nTemplate.socialLoginButtons.onCreated(function(){\n    Session.set('loginFlowStart',true)\n    Session.set('loginFlowComplete', undefined)\n    delete Session.keys.loginFlowComplete\n    this.errorMessages = new ReactiveVar({});\n})\nTemplate.socialLoginButtons.helpers({\n    showSignupForm: function () {\n        return Session.get('showSignupForm');\n    },\n    showForgotForm: function () {\n        return Session.get('showForgotForm');\n    },\n    errorMessages:function () {\n        return Template.instance().errorMessages.get();\n    },\n    buttonForText:function () {\n        var buttonFor;\n        if(Template.instance().data) buttonFor =  Template.instance().data.buttonFor;\n        switch(buttonFor){\n            case 'login': return 'Login';\n            case 'signup': return 'Signup';\n            default: return 'Login / Signup';\n        }\n    }\n})\nTemplate.socialLoginButtons.events({\n    'click #facebook-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithFacebook({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Facebook failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    },\n    'click #twitter-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithTwitter({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Twitter failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    },\n    'click #google-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithGoogle({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Google failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    },\n    'click #linkedin-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithLinkedIn({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with LinkedIn failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    }\n});\nTemplate.loginPageHorizontal.onCreated(function(){\n    var instance = this;\n    instance.isTempLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n        instance.subscribe('userData');\n        if(instance.subscriptionsReady()){\n            instance.isTempLoaded.set(true)\n        }\n    })\n\n})\nTemplate.loginPageHorizontal.helpers({\n    isTemplateLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    }\n})\nTemplate.loginFormHorizontal.helpers({\n    showForgotForm:function () {\n        return Session.get('showForgotForm');\n    },\n    isLandLordMode: function () {\n        var mode = '';\n        if(Template.instance().data)mode = Template.instance().data.isLandLordMode;\n        return mode;\n        // return Session.get('isLandLordMode');\n    }\n})\nTemplate.loginFormHorizontal.onRendered(function(){\n    var user = Meteor.user();//when u load this form if the user is alredy loggedin then throw an event.\n    if(user) Session.set('loginFlowComplete', true)\n})\n"]},"sourceType":"module","hash":"f14aee82c55fde64a6b2ffc128135b37b0b4736d"}
