{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/server/cronjobs/cronjobs.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.linux.x86_64"},"sourceFileName":"server/cronjobs/cronjobs.js","filename":"/home/momen/projects/spotmycrib-master/server/cronjobs/cronjobs.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/server/cronjobs/cronjobs.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/cronjobs/cronjobs.js"}},"code":"let emailProcessors;\nmodule.link(\"./functions.js\", {\n  default(v) {\n    emailProcessors = v;\n  }\n\n}, 0);\n// SyncedCron.add({\n//   name    : 'CORN-E1',\n//   schedule: function(parser) {\n//     return parser.text('every 1 mins');\n//   },\n//   job     : function() {\n//     console.log('CORN-E1 executing ')\n//     deactivateProps();\n//     return true;\n//   }\n// });\n// SyncedCron.add({\n//   name    : 'CORN-E1',\n//   schedule: function(parser) {\n//     return parser.text('every 3 mins');\n//   },\n//   job     : function() {\n//     console.log('CORN-E1 executing ')\n//     emailProcessors.dailyPropAlerts()\n//     return true;\n//   }\n// });\nSyncedCron.add({\n  name: 'CORN-E15',\n  schedule: function (parser) {\n    return parser.text('every 15 mins');\n  },\n  job: function () {\n    console.log('CORN-E15 executing ');\n    emailProcessors.emailEnquiryReceived();\n\n    if (!Meteor.Development) {// importBlogs();//Disabling as migration to new wordpress has changed the import json format, so the old code doesnt work anymore. \n    }\n\n    return true;\n  }\n});\nSyncedCron.add({\n  name: 'CORN-E1D',\n  schedule: function (parser) {\n    return parser.text('every 1 day');\n  },\n  job: function () {\n    console.log('CORN-E1D executing '); // emailProcessors.reminderUploadReferences()\n\n    deactivateProps();\n    return true;\n  }\n});\nMeteor.startup(function () {\n  // deactivateProps();  \n  if (!process.env.MAIL_URL) console.log('Env URL is empty : ' + process.env.MAIL_URL);\n  if (!process.env.MAIL_URL) process.env.MAIL_URL = 'smtp://dev%40spotmycrib.ie:b399dbc946d2ef90dac4a1c3414d31dc-1d8af1f4-9c3055ea@smtp.mailgun.org:587';\n});\nSyncedCron.start(); // SyncedCron.add({\n//   name: 'Auctions are completed. Send mails to users who won aucitons.',\n//     schedule: function(parser) {//12 am of everyday\n//     // parser is a later.parse object\n//     //return parser.text('every 2 hours');\n//     //var gloablConfig = ReactionCore.Collections.Config.findOne()\n//     //return parser.recur().on(parseInt(gloablConfig.auctionEndDay)+1).month();\n//     return parser.text('at 12:00am every day');\n//   },\n//   job: function() {\n//     // sendAuctionWonMails();\n//     processRefunds();\n//     return true;\n//   }\n// });","map":{"version":3,"sources":["server/cronjobs/cronjobs.js"],"names":["emailProcessors","module","link","default","v","SyncedCron","add","name","schedule","parser","text","job","console","log","emailEnquiryReceived","Meteor","Development","deactivateProps","startup","process","env","MAIL_URL","start"],"mappings":"AAAA,IAAIA,eAAJ;AAAoBC,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACJ,IAAAA,eAAe,GAACI,CAAhB;AAAkB;;AAA9B,CAA7B,EAA6D,CAA7D;AAKpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,UAAU,CAACC,GAAX,CAAe;AACbC,EAAAA,IAAI,EAAM,UADG;AAEbC,EAAAA,QAAQ,EAAE,UAASC,MAAT,EAAiB;AACzB,WAAOA,MAAM,CAACC,IAAP,CAAY,eAAZ,CAAP;AACD,GAJY;AAKbC,EAAAA,GAAG,EAAO,YAAW;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAEAb,IAAAA,eAAe,CAACc,oBAAhB;;AACA,QAAG,CAACC,MAAM,CAACC,WAAX,EAAuB,CACrB;AACD;;AAED,WAAO,IAAP;AACD;AAdY,CAAf;AAgBAX,UAAU,CAACC,GAAX,CAAe;AACbC,EAAAA,IAAI,EAAM,UADG;AAEbC,EAAAA,QAAQ,EAAE,UAASC,MAAT,EAAiB;AACzB,WAAOA,MAAM,CAACC,IAAP,CAAY,aAAZ,CAAP;AACD,GAJY;AAKbC,EAAAA,GAAG,EAAO,YAAW;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EADmB,CAEnB;;AACAI,IAAAA,eAAe;AACf,WAAO,IAAP;AACD;AAVY,CAAf;AAYAF,MAAM,CAACG,OAAP,CAAe,YAAY;AACzB;AACA,MAAG,CAACC,OAAO,CAACC,GAAR,CAAYC,QAAhB,EAAyBT,OAAO,CAACC,GAAR,CAAY,wBAAwBM,OAAO,CAACC,GAAR,CAAYC,QAAhD;AACzB,MAAG,CAACF,OAAO,CAACC,GAAR,CAAYC,QAAhB,EAAyBF,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAuB,oGAAvB;AAC1B,CAJD;AAMAhB,UAAU,CAACiB,KAAX,G,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/**\n * Created by srikanth681 on 29/02/16.\n */\nimport emailProcessors from './functions.js'\n\n// SyncedCron.add({\n//   name    : 'CORN-E1',\n//   schedule: function(parser) {\n//     return parser.text('every 1 mins');\n//   },\n//   job     : function() {\n//     console.log('CORN-E1 executing ')\n//     deactivateProps();\n    \n//     return true;\n//   }\n// });\n// SyncedCron.add({\n//   name    : 'CORN-E1',\n//   schedule: function(parser) {\n//     return parser.text('every 3 mins');\n//   },\n//   job     : function() {\n//     console.log('CORN-E1 executing ')\n//     emailProcessors.dailyPropAlerts()\n//     return true;\n//   }\n// });\nSyncedCron.add({\n  name    : 'CORN-E15',\n  schedule: function(parser) {\n    return parser.text('every 15 mins');\n  },\n  job     : function() {\n    console.log('CORN-E15 executing ')\n\n    emailProcessors.emailEnquiryReceived()\n    if(!Meteor.Development){\n      // importBlogs();//Disabling as migration to new wordpress has changed the import json format, so the old code doesnt work anymore. \n    }\n\n    return true;\n  }\n});\nSyncedCron.add({\n  name    : 'CORN-E1D',\n  schedule: function(parser) {\n    return parser.text('every 1 day');\n  },\n  job     : function() {\n    console.log('CORN-E1D executing ')\n    // emailProcessors.reminderUploadReferences()\n    deactivateProps();\n    return true;\n  }\n});\nMeteor.startup(function () {\n  // deactivateProps();  \n  if(!process.env.MAIL_URL)console.log('Env URL is empty : ' + process.env.MAIL_URL)\n  if(!process.env.MAIL_URL)process.env.MAIL_URL = 'smtp://dev%40spotmycrib.ie:b399dbc946d2ef90dac4a1c3414d31dc-1d8af1f4-9c3055ea@smtp.mailgun.org:587';\n})\n\nSyncedCron.start();\n\n\n\n\n// SyncedCron.add({\n//   name: 'Auctions are completed. Send mails to users who won aucitons.',\n//     schedule: function(parser) {//12 am of everyday\n//     // parser is a later.parse object\n//     //return parser.text('every 2 hours');\n//     //var gloablConfig = ReactionCore.Collections.Config.findOne()\n//     //return parser.recur().on(parseInt(gloablConfig.auctionEndDay)+1).month();\n//     return parser.text('at 12:00am every day');\n//   },\n//   job: function() {\n//     // sendAuctionWonMails();\n//     processRefunds();\n//     return true;\n//   }\n// });"]},"sourceType":"module","hash":"7626618ca1cfd1339e591a858f9d84cbb5cd0bac"}
