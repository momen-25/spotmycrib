{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/Home.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/reactui/pages/Home.jsx","filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/Home.jsx","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/home/momen/projects/spotmycrib-master","root":"/home/momen/projects/spotmycrib-master","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/momen/projects/spotmycrib-master/imports/reactui/pages/Home.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/reactui/pages/Home.jsx"}},"code":"var _typeof;\n\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\n\nvar _assertThisInitialized;\n\nmodule.link(\"@babel/runtime/helpers/assertThisInitialized\", {\n  default: function (v) {\n    _assertThisInitialized = v;\n  }\n}, 1);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 2);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\nvar withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 2);\nvar MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  \"default\": function (v) {\n    MainLayoutFooter = v;\n  }\n}, 3);\nvar MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  \"default\": function (v) {\n    MainLayoutHeader = v;\n  }\n}, 4);\nvar Collections;\nmodule.link(\"../../api/collections\", {\n  Collections: function (v) {\n    Collections = v;\n  }\n}, 5);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction saveToLocalStorage() {\n  if (Meteor.isServer) return;\n\n  if (localStorage) {\n    // if($( \".countySelected\" ).val().toString().trim()) //It needs to work even all options are reset, i.e its empty.\n    localStorage.homePageMainFormData_county = $(\".countySelected\").val(); // if($( \".areaSelected\" ).val().toString().trim())//it needs to reset to empty\n\n    localStorage.homePageMainFormData_area = $(\".areaSelected\").val();\n    var tmp = $(\"input:radio[name=propertyType]:checked\").val();\n    if (tmp) localStorage.homePageMainFormData_propertyType = tmp;\n    localStorage.homePageMainFormData_maxRent = $('.maxRent').val();\n  }\n}\n\nfunction slugify(text) {\n  if (!text) return '';\n  var a = 'àáäâèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/,:;';\n  var b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  var p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '') // Replace spaces with \"\"\n  .replace(p, function (c) {\n    return b.charAt(a.indexOf(c));\n  }) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n\nfunction generateSlug(curURL) {\n  var propertyType = curURL.propertyType;\n  var county = curURL.county;\n  var area = curURL.area;\n  var maxRent = curURL.maxRent;\n  var country = curURL.country; // const territory = target.territory.value;\n\n  var slug = '';\n  var query = [];\n  if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n  if (county) county = county.replace(/\\s+/g, '_');\n  if (area) area = area.replace(/\\s+/g, '_');\n  if (country) country = country.replace(/\\s+/g, '_');\n  if (propertyType) slug = propertyType + \"-for-\";\n  slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n  slug += \"-in-\";\n  if (!county) area = '';\n  if (area) slug += area;\n  if (area && county) slug += \"-\";\n  if (county) slug += county;\n  if (country) slug += \"-\" + country;\n  var range = [{\n    cur: \"eur\",\n    min: 400,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  if (maxRent && maxRent != selectedCur.max) query[\"maxRent\"] = maxRent; // apartment-for-rent-in-dundrum-dublin-ireland\n  // apartment-for-rent-in-donnybroke-london-uk\n  // rent/apartment/dundrum/dublin\n  // rent/apartment/donnybroke/london/england/uk/\n\n  return [slugify(slug), query];\n}\n\nfunction chunkify(a, n, balanced) {\n  if (n < 2) return [a];\n  var len = a.length,\n      out = [],\n      i = 0,\n      size;\n\n  if (len % n === 0) {\n    size = Math.floor(len / n);\n\n    while (i < len) {\n      out.push(a.slice(i, i += size));\n    }\n  } else if (balanced) {\n    while (i < len) {\n      size = Math.ceil((len - i) / n--);\n      out.push(a.slice(i, i += size));\n    }\n  } else {\n    n--;\n    size = Math.floor(len / n);\n    if (len % size === 0) size--;\n\n    while (i < size * n) {\n      out.push(a.slice(i, i += size));\n    }\n\n    out.push(a.slice(size * n));\n  }\n\n  return out;\n}\n\nfunction generateSlug(curURL) {\n  var propertyType = curURL.propertyType;\n  var county = curURL.county;\n  var area = curURL.area;\n  var maxRent = curURL.maxRent;\n  var country = curURL.country;\n  var bedCount = curURL.bedCount;\n  var luxurySort = curURL.luxurySort;\n  var cheapSort = curURL.cheapSort; // const territory = target.territory.value;\n\n  var slug = '';\n  var query = {};\n  if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n  if (county) county = county.replace(/\\s+/g, '_');\n  if (area) area = area.replace(/\\s+/g, '_');\n  if (country) country = country.replace(/\\s+/g, '_');\n  if (propertyType) slug = propertyType + \"-for-\";\n  slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n  slug += \"-in-\";\n  if (!county) area = '';\n  if (area) slug += area;\n  if (area && county) slug += \"-\";\n  if (county) slug += county;\n  if (bedCount) query.bedCount = bedCount;\n  if (luxurySort) query.luxurySort = 1;\n  if (cheapSort) query.cheapSort = 1;\n  if (country) slug += \"-\" + country;else slug += \"-ireland\";\n  var range = [{\n    cur: \"eur\",\n    min: 400,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  if (maxRent && maxRent != selectedCur.max) query.maxRent = maxRent; // apartment-for-rent-in-dundrum-dublin-ireland\n  // apartment-for-rent-in-donnybroke-london-uk\n  // rent/apartment/dundrum/dublin\n  // rent/apartment/donnybroke/london/england/uk/\n\n  return [slugify(slug), query];\n}\n\nfunction generateSlugURL(curURL) {\n  var ret = generateSlug(curURL);\n  return FlowRouter.url('b', {\n    slug: ret[0]\n  }, ret[1]);\n}\n\nfunction fixImageSize() {\n  var avgW = 0;\n  $('.image-holder img').each(function () {\n    if (!avgW) avgW = $(this).width();else {\n      avgW += $(this).width();\n      avgW = avgW / 2;\n    }\n  });\n  if (!avgW) avgW = 250;\n  $('.image-holder img').width('100%');\n  $('.image-holder img').height(avgW * 0.7);\n}\n\nvar Home = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    var searchCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var fCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var areaCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var countyCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n\n    if (props.searchCrumbs) {\n      var chunks = chunkify(props.searchCrumbs, 3, true);\n      searchCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.fCrumbs) {\n      var chunks = chunkify(props.fCrumbs, 3, true);\n      fCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.areaCrumbs) {\n      var chunks = chunkify(props.areaCrumbs, 3, true);\n      areaCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.countyCrumbs) {\n      var chunks = chunkify(props.countyCrumbs, 3, true);\n      countyCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    _this.state = {\n      'searchCrumbs': searchCrumbs,\n      fCrumbs: fCrumbs,\n      areaCrumbs: areaCrumbs,\n      countyCrumbs: countyCrumbs\n    };\n    _this.searchCrumbsLoaded = false;\n    return _this;\n  }\n\n  var _proto = Home.prototype;\n\n  _proto.componentWillMount = function () {\n    function componentWillMount() {\n      if (Meteor.isClient) Session.set('showLoginInPlace', false); // console.log('In componentWillMount');\n    }\n\n    return componentWillMount;\n  }();\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      // console.log('In componentDidMount');\n      if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n        $('select').addClass('safariSelect'); //css('-moz-appearance','none');\n      }\n\n      $('.iamarenterbtn').click(function (e) {\n        e.preventDefault();\n        $('html,body').animate({\n          scrollTop: $(this.hash).offset().top\n        }, 500, function () {\n          $(\".bigsearchbox\").css({\n            border: '0 solid red',\n            'background-color': \"rgba(0, 0, 0, 0.8)\"\n          }).animate({\n            borderWidth: 2,\n            'background-color': \"rgba(0, 0, 0, 1)\"\n          }, 500, function () {\n            $(\".bigsearchbox\").animate({\n              borderWidth: 0,\n              'background-color': \"rgba(0, 0, 0, 0.8)\"\n            }, 500);\n          });\n        });\n      });\n\n      if (Meteor.isClient) {\n        setTimeout(function () {\n          if (window.location.hash) {\n            jQuery(\"html,body\").animate({\n              scrollTop: $(window.location.hash).offset().top\n            }, 250);\n          }\n        }, 2000);\n      }\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.componentDidUpdate = function () {\n    function componentDidUpdate() {}\n\n    return componentDidUpdate;\n  }();\n\n  _proto.crumbsUpdate = function () {\n    function crumbsUpdate() {\n      if (!this.searchCrumbsLoaded) {\n        var searchCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n        var fCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n        var areaCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n        var countyCrumbs = {\n          c1: [],\n          c2: [],\n          c3: []\n        };\n\n        if (this.props.searchCrumbs) {\n          var chunks = chunkify(this.props.searchCrumbs, 3, true);\n          searchCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n          this.searchCrumbsLoaded = true;\n        }\n\n        if (this.props.fCrumbs) {\n          var chunks = chunkify(this.props.fCrumbs, 3, true);\n          fCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n          this.searchCrumbsLoaded = true;\n        }\n\n        if (this.props.areaCrumbs) {\n          var chunks = chunkify(this.props.areaCrumbs, 3, true);\n          areaCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n          this.searchCrumbsLoaded = true;\n        }\n\n        if (this.props.countyCrumbs) {\n          var chunks = chunkify(this.props.countyCrumbs, 3, true);\n          countyCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n          this.searchCrumbsLoaded = true;\n        }\n\n        if (this.searchCrumbsLoaded) //Update the state only once; when its true\n          this.setState({\n            'searchCrumbs': searchCrumbs,\n            fCrumbs: fCrumbs,\n            areaCrumbs: areaCrumbs,\n            countyCrumbs: countyCrumbs\n          });\n      }\n    }\n\n    return crumbsUpdate;\n  }();\n\n  _proto.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      // console.log(nextProps)\n      // console.log(this)\n      // console.log('In componentWillReceiveProps');\n      this.crumbsUpdate();\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto.handleJoinNow = function () {\n    function handleJoinNow() {\n      Session.set('showForgotForm', false);\n      Session.set('isLandLordMode', true);\n      Session.set('showSignupForm', true);\n      Session.set('showLoginSignupFancyBoxDialog', true);\n      Session.set('showLoginDialog', true);\n    }\n\n    return handleJoinNow;\n  }();\n\n  _proto.handlePostYourProperty = function () {\n    function handlePostYourProperty(event) {\n      event.preventDefault();\n      var prevRoute = {\n        name: FlowRouter.current().route.name,\n        args: {\n          scrollTo: 0\n        },\n        instructions: {\n          openPostNewProp: true\n        }\n      };\n      Session.set('prevRoute', prevRoute);\n      FlowRouter.go('account/myProperties');\n    }\n\n    return handlePostYourProperty;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var self = this;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"index home\"\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"\",\n        id: \"searchform\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"index-main-banner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"index-bnr-cont\"\n      }, true ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"homeSliderParent\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"homeSlider\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"carousel-inner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item active\"\n      }, /*#__PURE__*/React.createElement(\"p\", null, \"Best properties to rent in Ireland. Find them, right here!\"))))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"home-banner\",\n        style: {\n          marginBottom: \"50px\"\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"btns green-btn \",\n        href: FlowRouter.url('estateagent'),\n        style: {\n          fontSize: '15px'\n        }\n      }, \"I'm a Landlord\"), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"btns transparent-btn iamarenterbtn\",\n        href: \"#searchform\"\n      }, \"I'm a Renter\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"box-places home-page-box-places bigsearchbox\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(HomePageMainFormT, null)))))))), /*#__PURE__*/React.createElement(HomePageLatestPropsT, null), true ? /*#__PURE__*/React.createElement(\"section\", {\n        id: \"homeLinks\",\n        className: \"sec-holder how-it-works\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"\",\n        className: \"mar-btm-30 amenities\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\",\n        style: {\n          paddingTop: 0\n        }\n      }, this.props.fCrumbs === undefined || this.props.fCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n        className: 'bottomcrumbs row'\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Browse properties to rent in top cities\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bottom-line\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.fCrumbs.c1 ? this.state.fCrumbs.c1.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.fCrumbs.c2 ? this.state.fCrumbs.c2.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.fCrumbs.c3 ? this.state.fCrumbs.c3.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\", /*#__PURE__*/React.createElement(\"a\", {\n        style: {\n          display: \"block\"\n        },\n        className: \"iamarenterbtn\",\n        href: \"#searchform\"\n      }, \"More\")))), this.props.countyCrumbs === undefined || this.props.countyCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n        className: 'bottomcrumbs row mar-top-30'\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bottom-line\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.countyCrumbs.c1 ? this.state.countyCrumbs.c1.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.countyCrumbs.c2 ? this.state.countyCrumbs.c2.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.countyCrumbs.c3 ? this.state.countyCrumbs.c3.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\", /*#__PURE__*/React.createElement(\"a\", {\n        style: {\n          display: \"block\"\n        },\n        className: \"iamarenterbtn\",\n        href: \"#searchform\"\n      }, \"More\")))))))))) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n        id: \"whatis\",\n        className: \"sec-holder how-it-works whatissmc\",\n        style: {\n          background: 'white'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"What is SpotMyCrib?\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bottom-line\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib is the safest platform to find your next rental home. It brings 100% verified landlords with genuine rentals to you. Just search for your ideal home, apply, get screened, e-sign your lease and pay rent online.\"), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#how-works\",\n        className: \"scroll1 transparent-btn btns \"\n      }, \"Know More\")))), /*#__PURE__*/React.createElement(\"section\", {\n        id: \"how-works\",\n        className: \"sec-holder how-it-works\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"How it works\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bottom-line\"\n      }), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"mar-top-30\"\n      }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"pad-btm-30\"\n      }, \"Search Property\"), /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/how-it-works/search-and-find-property-apartment-flat.png\"),\n        alt: \"Search and find your rental property\",\n        className: \"pad-btm-30\"\n      }), /*#__PURE__*/React.createElement(\"p\", null, \"Search and find an apartment/house you like from our \", /*#__PURE__*/React.createElement(\"a\", {\n        className: \"iamarenterbtn\",\n        href: FlowRouter.url('home') + '#searchform'\n      }, \"browse form\"), \". Or choose your county from our \", /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('home') + '#homeLinks'\n      }, \"county list\"), \".\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"pad-btm-30\"\n      }, \"Set Your Rent\"), /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/how-it-works/set-your-rent-apartment.png\"),\n        alt: \"Apply and set your rent for Apartment\",\n        className: \"pad-btm-30\"\n      }), /*#__PURE__*/React.createElement(\"p\", null, \"Make your offer for the house and click apply. Remember to upload all your references in your profile.\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"pad-btm-30\"\n      }, \"Confirm your Home\"), /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/how-it-works/confirm-your-rent-in-dublin.png\"),\n        alt: \"Confirm your rental\",\n        className: \"pad-btm-30\"\n      }), /*#__PURE__*/React.createElement(\"p\", null, \"Landlord chooses a tenant based on your references and your offer. If you are chosen, you would receive a confirmation email. \")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mar-top-30\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('faqs'),\n        className: \"transparent-btn btns \",\n        type: \"button\"\n      }, \"Learn more\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"pad-btm-30 visible-xs visible-sm\"\n      }, \"\\xA0\"))), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"sec-holder about-us\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"h1\", null, \"Manage all your lettings at one place\"), /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: \"10px\",\n          color: \"white\"\n        }\n      }, \"From finding tenants to verifying their social profiles\"), /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginTop: \"10px\",\n          color: \"white\"\n        }\n      }, \"From collecting rents to logging maintenance costs\"), /*#__PURE__*/React.createElement(\"div\", null, self.props.currentUserId ? /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#TODO\",\n        style: {\n          marginTop: \"10px\"\n        },\n        onClick: self.handlePostYourProperty,\n        className: \"pink-btn oval-btn postYourProperty\"\n      }, \"Post your property\") : /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:;\",\n        style: {\n          marginTop: \"10px\"\n        },\n        onClick: self.handleJoinNow,\n        className: \"pink-btn oval-btn joinNowBtn\"\n      }, \"Start Your Free 30-Day Trial\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n        className: \"footer-default\"\n      }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n    }\n\n    return render;\n  }();\n\n  return Home;\n}(Component);\n\n;\nmodule.exportDefault(withTracker(function () {\n  ////////// ADV BREADCRUMBS MORE LINKS\n  advancedCrumbs = function (propertyType) {\n    var fCrumbs = [],\n        tmpCrumbs = [],\n        areaCrumbs = [],\n        countyCrumbs = [];\n    if (propertyType) propertyType = propertyType.toLowerCase(); // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n    //Property Size\n    //Property Size - Property Type\n    //Property Size - Property Type - County\n    //Property Type - county\n    //Counties\n    //Areas\n    //Property Size - Property Type - area - County\n    //Property Size - area - County\n    //Property Type - area - county\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        propertyType: 'studio'\n      }),\n      name: 'Studios'\n    }); //Property Size\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1\n      }),\n      name: '1-Beds'\n    }); //Property Size\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2\n      }),\n      name: '2-Beds'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3\n      }),\n      name: '3-Beds'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        cheapSort: true,\n        propertyType: 'house'\n      }),\n      name: 'Cheap Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1,\n        propertyType: 'house'\n      }),\n      name: '1-Bed Houses'\n    }); //Property Size - Property Type\n\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2,\n        propertyType: 'house'\n      }),\n      name: '2-Bed Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3,\n        propertyType: 'house'\n      }),\n      name: '3-Bed Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        luxurySort: true,\n        propertyType: 'house'\n      }),\n      name: 'Luxury Houses'\n    });\n\n    if (propertyType == 'house') {\n      fCrumbs = fCrumbs.concat(tmpCrumbs);\n    }\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        cheapSort: true,\n        propertyType: 'apartment'\n      }),\n      name: 'Cheap Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1,\n        propertyType: 'apartment'\n      }),\n      name: '1-Bed Apartments'\n    }); //Property Size - Property Type\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2,\n        propertyType: 'apartment'\n      }),\n      name: '2-Bed Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3,\n        propertyType: 'apartment'\n      }),\n      name: '3-Bed Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        luxurySort: true,\n        propertyType: 'apartment'\n      }),\n      name: 'Luxury Apartments'\n    });\n\n    if (propertyType != 'house') {\n      fCrumbs = fCrumbs.concat(tmpCrumbs);\n    } //dublin-apartments\n    //Not doing dublin-houses due to less searches for Dublin apartments\n\n\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n    for (var i = 0; i < staticCounties.length; i++) {\n      if (!staticCounties[i]) continue;\n      countyCrumbs.push({\n        url: generateSlugURL({\n          county: staticCounties[i]\n        }),\n        name: staticCounties[i] + ' Apartments'\n      });\n    }\n\n    return {\n      fCrumbs: fCrumbs,\n      areaCrumbs: areaCrumbs,\n      countyCrumbs: countyCrumbs\n    };\n  };\n\n  var advC = {\n    fCrumbs: [],\n    areaCrumbs: [],\n    countyCrumbs: []\n  };\n\n  if (true) {\n    var propertyType = '';\n    if (Meteor.isClient) propertyType = Session.get('HPFpropertyTypeSelected');\n    if (!propertyType) propertyType = 'Apartment';\n    advC = advancedCrumbs(propertyType);\n  } ////////// END ADV BREADCRUMBS\n  // Meteor.subscribe('Areas')\n  // Meteor.subscribe('Config');\n\n\n  return {\n    currentUserId: Meteor.userId(),\n    fCrumbs: advC.fCrumbs,\n    areaCrumbs: advC.areaCrumbs,\n    countyCrumbs: advC.countyCrumbs\n  };\n})(Home));\n\nvar HomePageMainForm = /*#__PURE__*/function (_Component2) {\n  _inheritsLoose(HomePageMainForm, _Component2);\n\n  function HomePageMainForm(props) {\n    var _this2;\n\n    _this2 = _Component2.call(this, props) || this;\n    _this2.state = {\n      counties: props.counties,\n      areas: props.areas,\n      countySelected: props.countySelected\n    };\n    _this2.isLocalAlreadySet = false;\n    _this2.isLocalAreaAlreadySet = false;\n    _this2.countySelectedHandler = _this2.countySelectedHandler.bind(_assertThisInitialized(_this2));\n    _this2.areaSelectedHandler = _this2.areaSelectedHandler.bind(_assertThisInitialized(_this2));\n    _this2.propertyTypeHandler = _this2.propertyTypeHandler.bind(_assertThisInitialized(_this2));\n    _this2.maxRentHandler = _this2.maxRentHandler.bind(_assertThisInitialized(_this2));\n    _this2.localHistorySet = _this2.localHistorySet.bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n\n  var _proto2 = HomePageMainForm.prototype;\n\n  _proto2.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      // console.log(nextProps)\n      this.setState({\n        areas: nextProps.areas\n      });\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto2.localHistorySet = function () {\n    function localHistorySet() {\n      if (this.props.isSubsLoaded && this.isLocalAlreadySet && !this.isLocalAreaAlreadySet) {\n        if (localStorage.homePageMainFormData_area) {\n          this.setState({\n            areaSelected: localStorage.homePageMainFormData_area\n          });\n        }\n\n        this.isLocalAreaAlreadySet = true;\n      }\n\n      if (this.props.isSubsLoaded && !this.isLocalAlreadySet) {\n        var county = '';\n\n        if (localStorage) {\n          if (localStorage.homePageMainFormData_maxRent) {\n            $('.maxRent').val(localStorage.homePageMainFormData_maxRent);\n          }\n\n          if (localStorage.homePageMainFormData_county) {\n            county = localStorage.homePageMainFormData_county;\n          } else if (localStorage.homePageMainFormData_county === undefined) {\n            //Only for first time users\n            county = 'Dublin';\n          }\n\n          if (localStorage.homePageMainFormData_propertyType) {\n            var tmp = localStorage.homePageMainFormData_propertyType;\n            $('input:radio[name=propertyType]').removeAttr('checked');\n            $('input:radio[name=propertyType][value=\"' + tmp + '\"]').prop('checked', true);\n          }\n        }\n\n        this.setState({\n          countySelected: county\n        });\n        if (Meteor.isClient) Session.set('countySelected', county); // if(county)this.setState({areas:getAreas(county)})\n\n        this.isLocalAreaAlreadySet = false;\n        this.isLocalAlreadySet = true;\n      }\n    }\n\n    return localHistorySet;\n  }();\n\n  _proto2.componentDidMount = function () {\n    function componentDidMount() {\n      this.localHistorySet(); // setTimeout(function () {\n      //     $('.countySelected').val(county)\n      // },100)\n      // setTimeout(function () {\n      //     if (localStorage.homePageMainFormData_area) {\n      //         Session.set('areaRestored',localStorage.homePageMainFormData_area)\n      //         // setTimeout(function () {\n      //         //     $('.areaSelected').val(localStorage.homePageMainFormData_area)\n      //         // },100)\n      //     }\n      // },1000)\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto2.componentDidUpdate = function () {\n    function componentDidUpdate() {\n      this.localHistorySet();\n    }\n\n    return componentDidUpdate;\n  }();\n\n  _proto2.countySelectedHandler = function () {\n    function countySelectedHandler(event) {\n      var countySelected = event.target.value;\n      this.setState({\n        countySelected: countySelected\n      });\n      if (Meteor.isClient) Session.set('countySelected', countySelected); //if(countySelected) this.setState({areas:getAreas(countySelected)})\n\n      this.isLocalAreaAlreadySet = false;\n      if (localStorage) localStorage.homePageMainFormData_county = countySelected;\n    }\n\n    return countySelectedHandler;\n  }();\n\n  _proto2.areaSelectedHandler = function () {\n    function areaSelectedHandler(event) {\n      this.setState({\n        areaSelected: event.target.value\n      });\n      if (localStorage) localStorage.homePageMainFormData_area = event.target.value;\n    }\n\n    return areaSelectedHandler;\n  }();\n\n  _proto2.propertyTypeHandler = function () {\n    function propertyTypeHandler(event) {\n      if (localStorage) localStorage.homePageMainFormData_propertyType = event.target.value;\n    }\n\n    return propertyTypeHandler;\n  }();\n\n  _proto2.maxRentHandler = function () {\n    function maxRentHandler(event) {\n      if (localStorage) localStorage.homePageMainFormData_maxRent = event.target.value;\n    }\n\n    return maxRentHandler;\n  }();\n\n  _proto2.submitFormHandler = function () {\n    function submitFormHandler(event) {\n      event.preventDefault();\n      var target = event.target;\n      var key = target.propertykey.value;\n\n      if (key) {\n        if (key.length != 5) {\n          alert('Invalid property key! It should of 5 characters in length.');\n          return;\n        }\n\n        FlowRouter.go('letting', {\n          key: key.toUpperCase()\n        });\n        return;\n      } // const territory = target.territory.value;\n\n\n      var data = {\n        country: target.country.value,\n        county: target.countySelected.value == 'all' ? '' : target.countySelected.value,\n        area: target.areaSelected.value == 'all' ? '' : target.areaSelected.value,\n        maxRent: target.maxRent.value,\n        propertyType: target.propertyType.value\n      };\n      var slug = generateSlug(data);\n      FlowRouter.go('b', {\n        slug: slug[0]\n      }, slug[1]);\n    }\n\n    return submitFormHandler;\n  }();\n\n  _proto2.render = function () {\n    function render() {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        className: \"propertykey-form\",\n        onSubmit: this.submitFormHandler\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchformSec\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"country\",\n        defaultValue: \"ireland\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-text\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rd-details\"\n      }, false ? /*#__PURE__*/React.createElement(\"span\", null, \"I am looking for an\") : \"\", /*#__PURE__*/React.createElement(\"label\", {\n        className: \"account-type-label\",\n        htmlFor: \"rd1\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"on\",\n        className: \"account-type-radio propertyType\",\n        id: \"rd1\",\n        name: \"propertyType\",\n        defaultValue: \"apartment\",\n        type: \"radio\",\n        defaultChecked: true,\n        onChange: this.propertyTypeHandler\n      }), \"Apartment for rent\"), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"account-type-label\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"on\",\n        className: \"account-type-radio propertyType\",\n        name: \"propertyType\",\n        defaultValue: \"house\",\n        type: \"radio\",\n        onChange: this.propertyTypeHandler\n      }), \"House for rent\"), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"account-type-label\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"on\",\n        className: \"account-type-radio propertyType\",\n        name: \"propertyType\",\n        defaultValue: \"student\",\n        type: \"radio\",\n        onChange: this.propertyTypeHandler\n      }), \"Student Accommodation\"), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"account-type-label\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"on\",\n        className: \"account-type-radio propertyType\",\n        name: \"propertyType\",\n        defaultValue: \"share\",\n        type: \"radio\",\n        onChange: this.propertyTypeHandler\n      }), \"Share\"), false ? /*#__PURE__*/React.createElement(\"label\", {\n        className: \"account-type-label\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"on\",\n        className: \"account-type-radio propertyType\",\n        name: \"propertyType\",\n        defaultValue: \"holidayhomes\",\n        type: \"radio\",\n        onChange: this.propertyTypeHandler\n      }), \"Holiday Homes\") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin-form\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"frm-group clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        autoComplete: \"on\",\n        name: \"countySelected\",\n        className: \"countySelected\",\n        onChange: this.countySelectedHandler,\n        value: this.state.countySelected\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"Choose City/County\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"all\"\n      }, \"All\"), this.state.counties.map(function (c, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: c.value\n        }, c.label);\n      })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        autoComplete: \"on\",\n        name: \"areaSelected\",\n        className: \"areaSelected\",\n        onChange: this.areaSelectedHandler,\n        value: this.state.areaSelected\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"Choose Area\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"all\"\n      }, \"All\"), this.state.areas.map(function (c, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: c.value\n        }, c.label);\n      })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        autoComplete: \"on\",\n        name: \"maxRent\",\n        className: \"maxRent\",\n        onChange: this.maxRentHandler\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"Max Rent\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\"\n      }, \"Any\"), this.props.maxRent.map(function (c, i) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: i,\n          value: c.value\n        }, c.label);\n      })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input styled-input-select\"\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        autoComplete: \"on\",\n        type: \"text\",\n        className: \"form-control propertykey\",\n        name: \"propertykey\",\n        placeholder: \"Property KEY\"\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input-group-btn\",\n        style: {\n          zIndex: 0\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn white-btn\",\n        type: \"submit\",\n        style: {\n          width: '100%'\n        }\n      }, \"Find\")))))))));\n    }\n\n    return render;\n  }();\n\n  return HomePageMainForm;\n}(Component);\n\nHomePageMainFormT = withTracker(function () {\n  var countries = [{\n    label: \"Ireland\",\n    value: \"Ireland\"\n  }]; //Both capital\n\n  var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n  var allareas = [];\n  var allcounties = [];\n  var countySelected = 'Dublin';\n  if (Meteor.isClient) if (Session.get('countySelected')) countySelected = Session.get('countySelected');\n  var isSubsLoaded = false; // Meteor.subscribe('Config');\n\n  if (Meteor.isClient) if (Session.get('subscriptionsReady')) {\n    isSubsLoaded = true;\n  }\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  for (var i = 0; i < staticCounties.length; i++) {\n    if (!staticCounties[i]) continue;\n    allcounties.push({\n      label: staticCounties[i],\n      value: staticCounties[i]\n    });\n  } ////////////////////////START AREAS PROCESSING\n\n\n  var distinctEntries = _.uniq(Collections.Areas.find({}, {\n    //Dynamically load areas based on the subscription.\n    sort: {\n      Area: 1\n    },\n    fields: {\n      Area: true\n    }\n  }).fetch().map(function (x) {\n    return x.Area;\n  }), true);\n\n  allareas = [];\n\n  for (var i = 0; i < distinctEntries.length; i++) {\n    if (!distinctEntries[i]) continue;\n    allareas.push({\n      label: titleCase(distinctEntries[i]),\n      value: distinctEntries[i]\n    });\n  } ////////////////////////END AREAS PROCESSING\n\n\n  var range = [{\n    cur: \"eur\",\n    min: 400,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  var maxRent = [];\n\n  for (var i = selectedCur.min; i < selectedCur.max + 1; i = i + 50) {\n    maxRent.push({\n      label: i,\n      value: i\n    });\n  } // var Config = Collections.Config.find().fetch();Config = Config[0];\n\n\n  var propertyTypes = []; // if(Config)\n  // for(var i=0;i< Config.propertyType.length;i++){\n  //     propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n  // }\n\n  return {\n    // countries: countries,\n    counties: allcounties,\n    countySelected: countySelected,\n    areas: allareas,\n    maxRent: maxRent,\n    isSubsLoaded: isSubsLoaded // propertyTypes: propertyTypes,\n\n  };\n})(HomePageMainForm);\n\nvar HomePageLatestProps = /*#__PURE__*/function (_Component3) {\n  _inheritsLoose(HomePageLatestProps, _Component3);\n\n  function HomePageLatestProps(props) {\n    var _this3;\n\n    _this3 = _Component3.call(this, props) || this;\n    var pAuctions = props.auctions;\n    if (!pAuctions) pAuctions = [];\n    var pProperties = props.properties;\n    if (!pProperties) pProperties = [];\n    _this3.state = {\n      auctions: pAuctions,\n      properties: pProperties\n    };\n    _this3.propsListHTML = '';\n    _this3.isServerSSRReq = '';\n    return _this3;\n  }\n\n  var _proto3 = HomePageLatestProps.prototype;\n\n  _proto3.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      // console.log(nextProps)\n      this.setState({\n        auctions: nextProps.auctions,\n        properties: nextProps.properties\n      });\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  _proto3.componentWillMount = function () {\n    function componentWillMount() {}\n\n    return componentWillMount;\n  }();\n\n  _proto3.componentDidMount = function () {\n    function componentDidMount() {\n      var self = this; // console.log('In componentDidMount');\n      // console.log(this)\n\n      setTimeout(fixImageSize, 1000);\n      setTimeout(fixImageSize, 3000);\n      setTimeout(fixImageSize, 5000);\n      $(window).resize(fixImageSize);\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto3.componentDidUpdate = function () {\n    function componentDidUpdate() {\n      // console.log('In did update');\n      // console.log(this)\n      setTimeout(fixImageSize, 1000);\n      setTimeout(fixImageSize, 3000);\n      setTimeout(fixImageSize, 5000);\n    }\n\n    return componentDidUpdate;\n  }();\n\n  _proto3.propGrid = function () {\n    function propGrid() {\n      var _this4 = this;\n\n      var self = this;\n      var propType = '';\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        id: \"props_list\"\n      }, Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"isservercheckdiv\"\n      }) : \"\", self.state.auctions.map(function (auction, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          className: \"col-md-4 col-sm-6 img-hold-div\"\n        }, _this4.state.properties.map(function (property, a) {\n          if (auction.propertyId !== property._id) return false;\n          if (typeof property.gallery === 'undefined' || property.gallery.length == 0 || _typeof(property.gallery[0]) !== 'object') return false;\n          propType = '';\n\n          switch (property.type) {\n            case 'apartment':\n              propType = 'Apartment to rent';\n              break;\n\n            case 'house':\n              propType = 'House for rent';\n              break;\n\n            case 'student':\n              propType = 'Student Accommodation';\n              break;\n\n            case 'share':\n              propType = 'Flat Share';\n              break;\n\n            case 'holidayhomes':\n              propType = 'Holiday Home';\n              break;\n\n            case 'studio':\n              propType = 'Studio for rent';\n              break;\n          }\n\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: a,\n            className: \"proj-card\"\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"prop-img-hold\"\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n              slug: property.slug,\n              key: auction.lettingAuctionCode\n            }) : FlowRouter.url('letting', {\n              key: auction.lettingAuctionCode\n            })\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"image-holder\"\n          }, typeof property.gallery !== 'undefined' && property.gallery.length > 0 && _typeof(property.gallery[0]) === 'object' ? /*#__PURE__*/React.createElement(\"img\", {\n            className: \"img-responsive\",\n            src: property.gallery[0].url,\n            alt: 'Photo 1 of ' + titleCase(property.address.address) + (property.address.area ? \", \" + titleCase(property.address.area) : '') + (property.address.county ? \", \" + titleCase(property.address.county) : '')\n          }) : /*#__PURE__*/React.createElement(\"div\", {\n            className: \"item active\"\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: cdnPath(\"/images/no-photo.png\"),\n            alt: 'Image not available',\n            className: \"img-responsive\"\n          })), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"image-position\"\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            className: \"color-white\",\n            style: {\n              paddingBottom: \"2px\"\n            }\n          }, property.address.area ? titleCase(property.address.area) : '', property.address.county ? (property.address.area ? \", \" : \"\") + titleCase(property.address.county) : ''), propType ? /*#__PURE__*/React.createElement(\"h4\", {\n            style: {\n              paddingBottom: '4px'\n            }\n          }, propType) : '', /*#__PURE__*/React.createElement(\"h4\", null, property.bedCount ? property.bedCount : '1', \" Beds, \", property.baths ? property.baths : '1', \" Baths \"))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"bg-opacity\"\n          }))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"textbox-holder\",\n            style: {\n              margin: 0,\n              padding: 20,\n              height: 130\n            }\n          }, /*#__PURE__*/React.createElement(\"h4\", null, /*#__PURE__*/React.createElement(\"a\", {\n            href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n              slug: property.slug,\n              key: auction.lettingAuctionCode\n            }) : FlowRouter.url('letting', {\n              key: auction.lettingAuctionCode\n            })\n          }, titleCase(property.address.address), property.address.area ? \" \" + titleCase(property.address.area) : '')), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n            className: \"left-border\"\n          }, /*#__PURE__*/React.createElement(\"h4\", null, \"Rent\"), /*#__PURE__*/React.createElement(\"div\", {\n            className: 'h2-div'\n          }, \"\\u20AC\", /*#__PURE__*/React.createElement(\"span\", null, auction.price))), /*#__PURE__*/React.createElement(\"li\", {\n            className: \"pad-right-0\"\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"transparent-btn btns view-details\",\n            href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n              slug: property.slug,\n              key: auction.lettingAuctionCode\n            }) : FlowRouter.url('letting', {\n              key: auction.lettingAuctionCode\n            }),\n            type: \"button\",\n            id: \"enter-auction\"\n          }, \"view details\")))));\n        }));\n      }));\n    }\n\n    return propGrid;\n  }();\n\n  _proto3.render = function () {\n    function render() {\n      if (Meteor.isClient && this.propsListHTML == \"\") {\n        this.propsListHTML = $('#props_list').html();\n      }\n\n      if (Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html();\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n      } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"property-list\",\n        id: \"latestRentals\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, true ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"prop-wrap\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Latest Rentals\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bottom-line\"\n      })) : '', /*#__PURE__*/React.createElement(\"div\", {\n        className: \"auction\"\n      }, false ? /*#__PURE__*/React.createElement(\"h5\", null, \"Ends on endsDate\") : \"\", /*#__PURE__*/React.createElement(\"section\", null, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"proplist-sec\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row blogs\"\n      }, this.props.isSubsLoaded && this.state.auctions && this.state.properties ? this.propGrid() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: this.propsListHTML\n        }\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: 'h2-div',\n        style: {\n          textAlign: 'center'\n        }\n      }, \"Loading...\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pink-div col-xs-12 col-sm-12 col-md-12 col-lg-12\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('b', {\n          'slug': \"rent-in-ireland\"\n        }, {\n          'mostRecentSort': 1\n        }),\n        className: \"pink-btn oval-btn \"\n      }, \"View All\"))))))));\n    }\n\n    return render;\n  }();\n\n  return HomePageLatestProps;\n}(Component);\n\nHomePageLatestPropsT = withTracker(function () {\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n  return {\n    auctions: Collections.Auctions.find({}, {\n      sort: {\n        updatedAt: -1\n      }\n    }).fetch(),\n    properties: Collections.Properties.find().fetch(),\n    isSubsLoaded: true\n  };\n})(HomePageLatestProps);","map":{"version":3,"sources":["imports/reactui/pages/Home.jsx"],"names":["_typeof","module","link","default","v","_assertThisInitialized","_inheritsLoose","Meteor","React","Component","withTracker","MainLayoutFooter","MainLayoutHeader","Collections","isClient","Session","set","titleCase","str","charAt","toUpperCase","toLowerCase","substring","saveToLocalStorage","isServer","localStorage","homePageMainFormData_county","$","val","homePageMainFormData_area","tmp","homePageMainFormData_propertyType","homePageMainFormData_maxRent","slugify","text","a","b","p","RegExp","split","join","toString","replace","c","indexOf","generateSlug","curURL","propertyType","county","area","maxRent","country","slug","query","range","cur","min","max","selectedCur","chunkify","n","balanced","len","length","out","i","size","Math","floor","push","slice","ceil","bedCount","luxurySort","cheapSort","generateSlugURL","ret","FlowRouter","url","fixImageSize","avgW","each","width","height","Home","props","searchCrumbs","c1","c2","c3","fCrumbs","areaCrumbs","countyCrumbs","chunks","state","searchCrumbsLoaded","componentWillMount","componentDidMount","test","navigator","userAgent","addClass","click","e","preventDefault","animate","scrollTop","hash","offset","top","css","border","borderWidth","setTimeout","window","location","jQuery","componentDidUpdate","crumbsUpdate","setState","componentWillReceiveProps","nextProps","handleJoinNow","handlePostYourProperty","event","prevRoute","name","current","route","args","scrollTo","instructions","openPostNewProp","go","render","self","marginBottom","fontSize","paddingTop","undefined","map","crumb","display","background","cdnPath","marginTop","color","currentUserId","exportDefault","advancedCrumbs","tmpCrumbs","concat","staticCounties","advC","get","userId","HomePageMainForm","counties","areas","countySelected","isLocalAlreadySet","isLocalAreaAlreadySet","countySelectedHandler","bind","areaSelectedHandler","propertyTypeHandler","maxRentHandler","localHistorySet","isSubsLoaded","areaSelected","removeAttr","prop","target","value","submitFormHandler","key","propertykey","alert","data","label","zIndex","HomePageMainFormT","countries","allareas","allcounties","distinctEntries","_","uniq","Areas","find","sort","Area","fields","fetch","x","propertyTypes","HomePageLatestProps","pAuctions","auctions","pProperties","properties","propsListHTML","isServerSSRReq","resize","propGrid","propType","auction","property","propertyId","_id","gallery","type","lettingAuctionCode","address","paddingBottom","baths","margin","padding","price","html","__html","textAlign","HomePageLatestPropsT","Auctions","updatedAt","Properties"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction saveToLocalStorage(){\n    if(Meteor.isServer)return;\n    if (localStorage) {\n        // if($( \".countySelected\" ).val().toString().trim()) //It needs to work even all options are reset, i.e its empty.\n        localStorage.homePageMainFormData_county = $( \".countySelected\" ).val();\n        // if($( \".areaSelected\" ).val().toString().trim())//it needs to reset to empty\n        localStorage.homePageMainFormData_area = $( \".areaSelected\" ).val();\n        var tmp = $( \"input:radio[name=propertyType]:checked\" ).val();\n        if(tmp)localStorage.homePageMainFormData_propertyType = tmp\n        localStorage.homePageMainFormData_maxRent = $('.maxRent').val();\n    }\n}\nfunction slugify (text) {\n    if(!text)return '';\n    const a = 'àáäâèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '')           // Replace spaces with \"\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var maxRent = curURL.maxRent\n    var country = curURL.country;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query=[];\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(country)slug+=\"-\"+country\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    if(maxRent && maxRent!=selectedCur.max)query[\"maxRent\"] = maxRent;\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction chunkify(a, n, balanced) {\n\n    if (n < 2)\n        return [a];\n\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else if (balanced) {\n        while (i < len) {\n            size = Math.ceil((len - i) / n--);\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else {\n\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n            size--;\n        while (i < size * n) {\n            out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n\n    }\n\n    return out;\n}\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var maxRent = curURL.maxRent\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query={};\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(bedCount)query.bedCount = bedCount;\n    if(luxurySort)query.luxurySort = 1;\n    if(cheapSort)query.cheapSort = 1;\n\n    if(country)slug+=\"-\"+country\n    else slug+=\"-ireland\"\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    if(maxRent && maxRent!=selectedCur.max)query.maxRent = maxRent;\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction generateSlugURL(curURL){\n    var ret = generateSlug(curURL)\n    return FlowRouter.url('b',{slug:ret[0]},ret[1]);\n}\nfunction fixImageSize() {\n    var avgW=0;\n    $('.image-holder img').each(function(){\n\n        if(!avgW)avgW = $(this).width();\n        else {\n            avgW += $(this).width();\n            avgW =  avgW / 2;\n        }\n    })\n    if(!avgW)avgW = 250;\n    $('.image-holder img').width('100%');\n    $('.image-holder img').height(avgW*0.7);\n}\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.searchCrumbs){\n            var chunks = chunkify(props.searchCrumbs,3,true)\n            searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.fCrumbs){\n            var chunks = chunkify(props.fCrumbs,3,true)\n            fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.areaCrumbs){\n            var chunks = chunkify(props.areaCrumbs,3,true)\n            areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.countyCrumbs){\n            var chunks = chunkify(props.countyCrumbs,3,true)\n            countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        this.state = {\n            'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs\n        }\n        this.searchCrumbsLoaded = false;\n\n    }\n    componentWillMount(){\n        if(Meteor.isClient) Session.set('showLoginInPlace',false);\n        // console.log('In componentWillMount');\n    }\n\n    componentDidMount() {\n        // console.log('In componentDidMount');\n        if ( /^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n            $('select').addClass('safariSelect')//css('-moz-appearance','none');\n        }\n   \n        $('.iamarenterbtn').click(function (e) {\n            e.preventDefault();\n            $('html,body').animate({scrollTop: $(this.hash).offset().top }, 500,function(){\n                $(\".bigsearchbox\").css({border: '0 solid red','background-color':\"rgba(0, 0, 0, 0.8)\"}).animate({\n                    borderWidth: 2,\n                    'background-color':\"rgba(0, 0, 0, 1)\"\n                }, 500, function() {\n                    $(\".bigsearchbox\").animate({\n                        borderWidth: 0,\n                        'background-color':\"rgba(0, 0, 0, 0.8)\"\n                    }, 500);\n                });\n            })\n        });\n\n        if(Meteor.isClient) {\n            setTimeout(function(){\n                if(window.location.hash){\n                    jQuery(\"html,body\").animate({scrollTop: $(window.location.hash).offset().top }, 250);\n                }\n            },2000)\n        }\n    }\n    \n    componentDidUpdate() {\n    }\n\n    crumbsUpdate(){\n        if(!this.searchCrumbsLoaded){\n            var searchCrumbs = {c1:[],c2:[],c3:[]}\n            var fCrumbs = {c1:[],c2:[],c3:[]}\n            var areaCrumbs = {c1:[],c2:[],c3:[]}\n            var countyCrumbs = {c1:[],c2:[],c3:[]}\n            if(this.props.searchCrumbs){\n                var chunks = chunkify(this.props.searchCrumbs,3,true)\n                searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.fCrumbs){\n                var chunks = chunkify(this.props.fCrumbs,3,true)\n                fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.areaCrumbs){\n                var chunks = chunkify(this.props.areaCrumbs,3,true)\n                areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.countyCrumbs){\n                var chunks = chunkify(this.props.countyCrumbs,3,true)\n                countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.searchCrumbsLoaded)//Update the state only once; when its true\n                this.setState({'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs})\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        // console.log(this)\n        // console.log('In componentWillReceiveProps');\n        this.crumbsUpdate();\n    }\n\n    handleJoinNow() {\n        Session.set('showForgotForm',false)\n        Session.set('isLandLordMode',true)\n        Session.set('showSignupForm',true)\n        Session.set('showLoginSignupFancyBoxDialog',true)\n        Session.set('showLoginDialog',true)\n    }\n    \n    handlePostYourProperty(event) {\n        event.preventDefault();\n        var prevRoute = {name: FlowRouter.current().route.name,args:{scrollTo:0},instructions:{openPostNewProp:true} }\n        Session.set('prevRoute',prevRoute);\n        FlowRouter.go('account/myProperties')\n    }\n\n    render() {\n        const self = this;\n        return (\n        <div>\n            <MainLayoutHeader />\n            <div className=\"index home\">\n                <section className=\"\" id=\"searchform\">\n                    <div className=\"index-main-banner\">\n                        <div className=\"container\">\n                            <div className=\"index-bnr-cont\">\n                                \n                                { true ? (\n                                <div id=\"homeSliderParent\" >\n                                    <div id=\"homeSlider\">\n                                        <div className=\"carousel-inner\">\n                                            <div className=\"item active\">\n                                                <p>Best properties to rent in Ireland. Find them, right here!</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                ) : \"\"}\n                                <div className=\"home-banner\" style={{marginBottom: \"50px\"}}>\n                                    <a className=\"btns green-btn \" href={FlowRouter.url('estateagent')} style={{fontSize:'15px'}}>I'm a Landlord</a>\n                                    <a className=\"btns transparent-btn iamarenterbtn\" href=\"#searchform\">I'm a Renter</a>\n                                </div>\n                                <div className=\"box-places home-page-box-places bigsearchbox\">\n                                    <ul>\n                                        <li>\n                                            <HomePageMainFormT />\n                                        </li>\n                                    </ul>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <HomePageLatestPropsT />\n                {true ? (\n                <section id=\"homeLinks\" className=\"sec-holder how-it-works\">\n                    <div className=\"container\">\n\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div id=\"\" className=\"mar-btm-30 amenities\">\n\n                                    <div className=\"\" style={{paddingTop:0}}>\n                                        { this.props.fCrumbs === undefined || this.props.fCrumbs.length == 0 ? (\"\") : (\n                                            <div className={'bottomcrumbs row'}>\n                                                <h2>Browse properties to rent in top cities</h2>\n                                                <span className=\"bottom-line\"></span>\n                                                <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.fCrumbs.c1 ?\n                                                            this.state.fCrumbs.c1.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.fCrumbs.c2 ?\n                                                            this.state.fCrumbs.c2.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.fCrumbs.c3 ?\n                                                            this.state.fCrumbs.c3.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                        <a style={{display: \"block\"}} className=\"iamarenterbtn\" href=\"#searchform\">More</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )}\n                                        { this.props.countyCrumbs === undefined || this.props.countyCrumbs.length == 0  ? (\"\") : (\n                                            <div className={'bottomcrumbs row mar-top-30'}>\n                                                {/*<h2>Counties</h2>*/}\n                                                <span className=\"bottom-line\"></span>\n                                                <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.countyCrumbs.c1 ?\n                                                            this.state.countyCrumbs.c1.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.countyCrumbs.c2 ?\n                                                            this.state.countyCrumbs.c2.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.countyCrumbs.c3 ?\n                                                            this.state.countyCrumbs.c3.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                        <a style={{display: \"block\"}} className=\"iamarenterbtn\" href=\"#searchform\">More</a>\n                                                    </div>\n                                                </div>\n\n                                            </div>\n                                        )}\n                                    </div>\n\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </section>\n                ) : \"\"}\n                <section id=\"whatis\" className=\"sec-holder how-it-works whatissmc\" style={{background:'white'}}>\n                    <div className=\"container\">\n                        <h2>What is SpotMyCrib?</h2>\n                        <span className=\"bottom-line\"></span>\n                        <div className=\"container\">\n                            <p>SpotMyCrib is the safest platform to find your next rental home. It brings 100% verified landlords with genuine rentals to you. Just search for your ideal home, apply, get screened, e-sign your lease and pay rent online.</p>\n                            <a href=\"#how-works\" className=\"scroll1 transparent-btn btns \">Know More</a>\n                        </div>\n                    </div>\n                </section>\n                <section id=\"how-works\" className=\"sec-holder how-it-works\">\n                    <div className=\"container\">\n                        <h2>How it works</h2>\n                        <span className=\"bottom-line\"></span>\n                        <ul className=\"mar-top-30\">\n                            <li>\n                                <h6 className=\"pad-btm-30\">Search Property</h6>\n                                <img src={cdnPath(\"/images/how-it-works/search-and-find-property-apartment-flat.png\")} alt=\"Search and find your rental property\" className=\"pad-btm-30\" />\n                                <p>\n                                    Search and find an apartment/house you like from our <a className=\"iamarenterbtn\" href={FlowRouter.url('home')+'#searchform'}>browse form</a>.\nOr choose your county from our <a href={FlowRouter.url('home')+'#homeLinks'}>county list</a>.\n                                    </p>\n                            </li>\n                            <li>\n                                <h6 className=\"pad-btm-30\">Set Your Rent</h6>\n                                <img src={cdnPath(\"/images/how-it-works/set-your-rent-apartment.png\")} alt=\"Apply and set your rent for Apartment\"  className=\"pad-btm-30\"/>\n                                <p>Make your offer for the house and click apply. Remember to upload all your references in your profile.</p>\n                            </li>\n                            <li>\n                                <h6 className=\"pad-btm-30\">Confirm your Home</h6>\n                                <img src={cdnPath(\"/images/how-it-works/confirm-your-rent-in-dublin.png\")} alt=\"Confirm your rental\"  className=\"pad-btm-30\"/>\n                                <p>Landlord chooses a tenant based on your references and your offer. If you are chosen, you would receive a confirmation email. </p>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"container mar-top-30\">\n                        <a href={FlowRouter.url('faqs')} className=\"transparent-btn btns \" type=\"button\">Learn more</a>\n                        <span className=\"pad-btm-30 visible-xs visible-sm\">&nbsp;</span>\n                    </div>\n                </section>\n                <section className=\"sec-holder about-us\">\n                    <div className=\"container\">\n                        <h1>Manage all your lettings at one place</h1>\n                        <h3 style={{marginTop: \"10px\", color: \"white\"}}>From finding tenants to verifying their social profiles</h3>\n                        <h3 style={{marginTop: \"10px\", color: \"white\"}}>From collecting rents to logging maintenance costs</h3>\n                        <div>\n                        { self.props.currentUserId ?\n                            <a href=\"#TODO\" style={{marginTop: \"10px\"}} onClick={self.handlePostYourProperty} className=\"pink-btn oval-btn postYourProperty\">Post your property</a>\n                        :\n                            <a href=\"javascript:;\" style={{marginTop: \"10px\"}} onClick={self.handleJoinNow} className=\"pink-btn oval-btn joinNowBtn\">Start Your Free 30-Day Trial</a>\n                        }\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n        </div>\n        );\n    }\n};\n\n\nexport default withTracker(() => {\n    ////////// ADV BREADCRUMBS MORE LINKS\n    advancedCrumbs = function(propertyType){\n        let fCrumbs = [], tmpCrumbs = [], areaCrumbs = [], countyCrumbs = [];\n        if(propertyType)propertyType = propertyType.toLowerCase();\n\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        //Property Size\n        //Property Size - Property Type\n        //Property Size - Property Type - County\n        //Property Type - county\n        //Counties\n        //Areas\n        //Property Size - Property Type - area - County\n        //Property Size - area - County\n        //Property Type - area - county\n\n        fCrumbs.push({url: generateSlugURL({propertyType: 'studio'}), name: 'Studios'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 1}), name: '1-Beds'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 2}), name: '2-Beds'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3}), name: '3-Beds'})\n\n        tmpCrumbs.push({url: generateSlugURL({cheapSort: true, propertyType: 'house'}), name: 'Cheap Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'house'}), name: '1-Bed Houses'})//Property Size - Property Type\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'house'}), name: '2-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'house'}), name: '3-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({luxurySort: true, propertyType: 'house'}), name: 'Luxury Houses'})\n\n        if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n            url: generateSlugURL({cheapSort: true, propertyType: 'apartment'}),\n            name: 'Cheap Apartments'\n        })\n        fCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'apartment'}), name: '1-Bed Apartments'})//Property Size - Property Type\n        fCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'apartment'}), name: '2-Bed Apartments'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'apartment'}), name: '3-Bed Apartments'})\n        fCrumbs.push({\n            url: generateSlugURL({luxurySort: true, propertyType: 'apartment'}),\n            name: 'Luxury Apartments'\n        })\n\n        if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n//dublin-apartments\n        //Not doing dublin-houses due to less searches for Dublin apartments\n        var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n        for (var i = 0; i < staticCounties.length; i++) {\n            if (!staticCounties[i]) continue;\n            countyCrumbs.push({\n                url: generateSlugURL({county: staticCounties[i]}),\n                name: staticCounties[i] + ' Apartments'\n            })\n        }\n\n        return {\n            fCrumbs:fCrumbs,\n            areaCrumbs: areaCrumbs,\n            countyCrumbs:countyCrumbs\n        }\n    }\n    let advC = {fCrumbs:[],areaCrumbs:[],countyCrumbs:[]}\n    if(true) {\n        let propertyType = '';\n        if(Meteor.isClient)propertyType = Session.get('HPFpropertyTypeSelected');\n        if(!propertyType)propertyType = 'Apartment';\n        advC = advancedCrumbs(propertyType);\n    }\n    ////////// END ADV BREADCRUMBS\n\n    \n    // Meteor.subscribe('Areas')\n    // Meteor.subscribe('Config');\n\n  return {\n    currentUserId: Meteor.userId(),\n    fCrumbs : advC.fCrumbs,\n    areaCrumbs : advC.areaCrumbs,\n    countyCrumbs : advC.countyCrumbs\n  };\n})(Home);\n\nclass HomePageMainForm extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            counties:props.counties,\n            areas:props.areas,\n            countySelected:props.countySelected,\n        }\n        this.isLocalAlreadySet = false;\n        this.isLocalAreaAlreadySet = false;\n        this.countySelectedHandler = this.countySelectedHandler.bind(this);\n        this.areaSelectedHandler = this.areaSelectedHandler.bind(this);\n        this.propertyTypeHandler = this.propertyTypeHandler.bind(this);\n        this.maxRentHandler = this.maxRentHandler.bind(this);\n        this.localHistorySet = this.localHistorySet.bind(this);\n    }\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        this.setState({\n            areas: nextProps.areas\n        });\n    }\n    localHistorySet(){\n        if(this.props.isSubsLoaded && this.isLocalAlreadySet && !this.isLocalAreaAlreadySet){\n            if (localStorage.homePageMainFormData_area) {\n                this.setState({areaSelected:localStorage.homePageMainFormData_area})\n            }\n            this.isLocalAreaAlreadySet = true;\n        }\n        if(this.props.isSubsLoaded && !this.isLocalAlreadySet){\n            var county = '';\n            if(localStorage) {\n                if (localStorage.homePageMainFormData_maxRent) {\n                    $('.maxRent').val(localStorage.homePageMainFormData_maxRent);\n                }\n                if (localStorage.homePageMainFormData_county) {\n                    county=localStorage.homePageMainFormData_county;\n                }else if(localStorage.homePageMainFormData_county===undefined){//Only for first time users\n                    county = 'Dublin'\n                }\n                if (localStorage.homePageMainFormData_propertyType) {\n                    var tmp = localStorage.homePageMainFormData_propertyType\n                    $('input:radio[name=propertyType]').removeAttr('checked');\n                    $('input:radio[name=propertyType][value=\"'+tmp+'\"]').prop('checked', true)\n                }\n            }\n            this.setState({countySelected:county})\n            if( Meteor.isClient )Session.set('countySelected', county);\n            // if(county)this.setState({areas:getAreas(county)})\n            this.isLocalAreaAlreadySet = false;\n\n            this.isLocalAlreadySet = true;\n        }\n    }\n    componentDidMount(){\n        this.localHistorySet();\n        // setTimeout(function () {\n        //     $('.countySelected').val(county)\n        // },100)\n        // setTimeout(function () {\n        //     if (localStorage.homePageMainFormData_area) {\n        //         Session.set('areaRestored',localStorage.homePageMainFormData_area)\n        //         // setTimeout(function () {\n        //         //     $('.areaSelected').val(localStorage.homePageMainFormData_area)\n        //         // },100)\n        //     }\n        // },1000)\n    }\n    componentDidUpdate(){\n        this.localHistorySet();\n    }\n    countySelectedHandler(event){\n        var countySelected = event.target.value\n        this.setState({countySelected:countySelected})\n        if( Meteor.isClient )Session.set('countySelected', countySelected);\n\n        //if(countySelected) this.setState({areas:getAreas(countySelected)})\n        this.isLocalAreaAlreadySet = false;\n\n        if(localStorage)localStorage.homePageMainFormData_county = countySelected;\n    }\n    areaSelectedHandler(event){\n        this.setState({areaSelected:event.target.value})\n        if(localStorage)localStorage.homePageMainFormData_area = event.target.value;\n    }\n    propertyTypeHandler(event){\n        if(localStorage)localStorage.homePageMainFormData_propertyType = event.target.value;\n    }\n    maxRentHandler(event){\n        if(localStorage)localStorage.homePageMainFormData_maxRent = event.target.value;\n    }\n    submitFormHandler(event) {\n        event.preventDefault();\n        const target = event.target;\n        const key = target.propertykey.value;\n        if(key){\n            if(key.length!=5){\n                alert('Invalid property key! It should of 5 characters in length.');\n                return;\n            }\n            FlowRouter.go('letting',{key:key.toUpperCase()})\n            return;\n        }\n\n        // const territory = target.territory.value;\n\n        var data={\n            country:target.country.value,\n            county:target.countySelected.value == 'all' ? '' : target.countySelected.value,\n            area:target.areaSelected.value == 'all' ? '' : target.areaSelected.value,\n            maxRent:target.maxRent.value,\n            propertyType:target.propertyType.value,\n        }\n        var slug = generateSlug(data);\n        FlowRouter.go('b',{slug:slug[0]},slug[1])\n    }\n    render(){\n    return (\n<form className=\"propertykey-form\" onSubmit={this.submitFormHandler}>\n<div className=\"input-group\">\n{/*start */}\n<div className=\"searchformSec\">\n<input type=\"hidden\" name=\"country\" defaultValue=\"ireland\" />\n<div className=\"profile-text\">\n<div className=\"rd-details\">\n{ false ? (<span>I am looking for an</span>) : \"\"}\n<label className=\"account-type-label\" htmlFor=\"rd1\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" id=\"rd1\" name=\"propertyType\" defaultValue=\"apartment\" type=\"radio\" defaultChecked onChange={this.propertyTypeHandler} />\nApartment for rent\n</label>\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"house\" type=\"radio\" onChange={this.propertyTypeHandler} />\nHouse for rent\n</label>\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"student\" type=\"radio\" onChange={this.propertyTypeHandler} />\nStudent Accommodation\n</label>\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"share\" type=\"radio\" onChange={this.propertyTypeHandler} />\nShare\n</label>\n{ false ? (\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"holidayhomes\" type=\"radio\" onChange={this.propertyTypeHandler} />\nHoliday Homes\n</label>\n) : \"\"}\n</div>\n\n<div className=\"signin-form\">\n<div className=\"frm-group clearfix\">\n<div className=\"styled-input styled-input-select\">\n<select autoComplete=\"on\" name=\"countySelected\" className=\"countySelected\" onChange={this.countySelectedHandler} value={this.state.countySelected}>\n<option value={\"\"}>Choose City/County</option>\n<option value={\"all\"} >All</option>\n{this.state.counties.map(function(c,i){\n    return (\n        <option key={i} value={c.value} >{c.label}</option>\n        )\n})}\n</select>\n<span />\n</div>\n<div className=\"styled-input styled-input-select\">\n<select autoComplete=\"on\" name=\"areaSelected\" className=\"areaSelected\" onChange={this.areaSelectedHandler} value={this.state.areaSelected}>\n<option value={\"\"}>Choose Area</option>\n<option value={\"all\"}>All</option>\n    {this.state.areas.map(function(c,i){\n        return (\n            <option key={i} value={c.value} >{c.label}</option>\n        )\n    })}\n</select>\n<span />\n</div>\n<div className=\"styled-input styled-input-select\">\n<select autoComplete=\"on\" name=\"maxRent\" className=\"maxRent\" onChange={this.maxRentHandler}>\n<option value={\"\"}>Max Rent</option>\n<option value={\"\"}>Any</option>\n    {this.props.maxRent.map(function(c,i){\n        return (\n            <option key={i} value={c.value} >{c.label}</option>\n        )\n    })}\n</select>\n<span />\n</div>\n<div className=\"styled-input styled-input-select\">\n<input autoComplete=\"on\" type=\"text\" className=\"form-control propertykey\" name=\"propertykey\" placeholder=\"Property KEY\" />\n</div>\n<div className=\"styled-input\">\n<span className=\"input-group-btn\" style={{zIndex: 0}}>\n<button className=\"btn white-btn\" type=\"submit\" style={{width:'100%'}}>Find</button>\n</span>\n</div>\n</div>\n</div>\n\n</div>\n</div>\n</div>\n</form>\n\n    );\n    }\n}\nHomePageMainFormT = withTracker(() => {\n    var countries = [{label: \"Ireland\", value: \"Ireland\"}];//Both capital\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    var allareas = [];\n    var allcounties = [];\n    var countySelected = 'Dublin';\n\n    if( Meteor.isClient )if(Session.get('countySelected'))countySelected = Session.get('countySelected')\n    let isSubsLoaded = false;\n\n    // Meteor.subscribe('Config');\n    if( Meteor.isClient )\n    if( Session.get('subscriptionsReady') ) {\n        isSubsLoaded = true;\n    }\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n\n    for(var i=0;i< staticCounties.length;i++){\n        if(!staticCounties[i])continue;\n        allcounties.push({label: staticCounties[i], value: staticCounties[i] })\n    }\n    ////////////////////////START AREAS PROCESSING\n    var distinctEntries = _.uniq(Collections.Areas.find({}, {//Dynamically load areas based on the subscription.\n        sort: {Area: 1}, fields: {Area: true}\n    }).fetch().map(function(x) {\n        return x.Area;\n    }), true);\n    allareas = []\n    for(var i=0;i< distinctEntries.length;i++){\n        if(!distinctEntries[i])continue;\n        allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n    }\n    ////////////////////////END AREAS PROCESSING\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    var maxRent = []\n    for(var i=selectedCur.min;i<selectedCur.max+1;i=i+50){\n        maxRent.push({label: i, value: i })\n    }\n\n    // var Config = Collections.Config.find().fetch();Config = Config[0];\n    var propertyTypes = []\n    // if(Config)\n    // for(var i=0;i< Config.propertyType.length;i++){\n    //     propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n    // }\n\n    \n    return {\n        // countries: countries,\n        counties: allcounties,\n        countySelected: countySelected,\n        areas: allareas,\n        maxRent: maxRent,\n        isSubsLoaded:isSubsLoaded\n        // propertyTypes: propertyTypes,\n    };\n})(HomePageMainForm);\n\n\nclass HomePageLatestProps extends Component{\n    constructor(props) {\n        super(props);\n        let pAuctions = props.auctions; if(!pAuctions)pAuctions = [];\n        let pProperties = props.properties; if(!pProperties)pProperties = [];\n        this.state = {\n            auctions: pAuctions,\n            properties: pProperties\n        };\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        this.setState({\n            auctions: nextProps.auctions,\n            properties: nextProps.properties\n        });\n    }\n\n    componentWillMount() {}\n\n    componentDidMount() {\n        const self = this;\n        // console.log('In componentDidMount');\n        // console.log(this)\n\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        $(window).resize(fixImageSize);\n    }\n\n    componentDidUpdate() {\n        // console.log('In did update');\n        // console.log(this)\n\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n    }\n    propGrid() {\n        const self = this;\n        let propType = '';\n        return (\n            <div className=\"row\" id=\"props_list\">\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n                {self.state.auctions.map((auction, i) => {\n                    return (\n                        <div key={i} className=\"col-md-4 col-sm-6 img-hold-div\">\n                            {this.state.properties.map(function (property, a) {\n                                if (auction.propertyId !== property._id) return false\n                                if(typeof property.gallery === 'undefined' || property.gallery.length == 0 || typeof property.gallery[0] !== 'object') return false;\n                                propType = '';\n                                switch(property.type){\n                                    case 'apartment': propType = 'Apartment to rent'; break;\n                                        case 'house': propType = 'House for rent'; break;\n                                        case 'student': propType = 'Student Accommodation'; break;\n                                        case 'share': propType = 'Flat Share'; break;\n                                        case 'holidayhomes': propType = 'Holiday Home'; break;\n                                        case 'studio': propType = 'Studio for rent'; break;\n                                }\n                                return (\n                                    <div key={a} className=\"proj-card\">\n                                        <div className=\"prop-img-hold\">\n                                            <a href={\n                                                property.slug && auction.lettingAuctionCode ?\n                                                    FlowRouter.url('rent', {\n                                                        slug: property.slug,\n                                                        key: auction.lettingAuctionCode\n                                                    })\n                                                    :\n                                                    FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                            }>\n                                                <div className=\"image-holder\">\n                                                    {typeof property.gallery !== 'undefined' && property.gallery.length > 0 && typeof property.gallery[0] === 'object' ? (\n                                                        <img className=\"img-responsive\" src={property.gallery[0].url}\n                                                             alt={'Photo 1 of ' + titleCase(property.address.address) + (property.address.area ? \", \" + titleCase(property.address.area) : '') + (property.address.county ? \", \" + titleCase(property.address.county) : '')}/>\n                                                    ) : (\n                                                        <div className=\"item active\">\n                                                            <img src={cdnPath(\"/images/no-photo.png\")}\n                                                                 alt={'Image not available'}\n                                                                 className=\"img-responsive\"/>\n                                                        </div>\n                                                    )}\n                                                    <div className=\"image-position\">\n                                                        <h3 className=\"color-white\"\n                                                            style={{paddingBottom: \"2px\"}}>{property.address.area ? titleCase(property.address.area) : ''}{property.address.county ? (property.address.area ? \", \" : \"\") + titleCase(property.address.county) : ''}</h3>\n                                                        {/*<h4>{property.address.county ? titleCase(property.address.county) : ''} </h4>*/}\n                                                        {propType ? ( <h4 style={{paddingBottom:'4px'}}>{propType}</h4> ) : ''}\n                                                        <h4>{property.bedCount ? property.bedCount : '1'} Beds, {property.baths ? property.baths : '1'} Baths </h4>\n                                                    </div>\n\n                                                </div>\n                                                <div className=\"bg-opacity\"></div>\n                                            </a>\n                                        </div>\n                                        <div className=\"textbox-holder\" style={{margin: 0, padding: 20, height: 130}}>\n                                            <h4>\n                                                <a href={\n                                                    property.slug && auction.lettingAuctionCode ?\n                                                        FlowRouter.url('rent', {\n                                                            slug: property.slug,\n                                                            key: auction.lettingAuctionCode\n                                                        })\n                                                        :\n                                                        FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                                }>\n                                                    {titleCase(property.address.address)}\n                                                    {property.address.area ? \" \" + titleCase(property.address.area) : ''}\n                                                    {/*{property.address.county ? \" \"+titleCase(property.address.county) : ''}*/}\n                                                </a>\n                                            </h4>\n                                            <ul>\n                                                <li className=\"left-border\">\n                                                    <h4>Rent</h4>\n                                                    <div className={'h2-div'}>&euro;<span>{auction.price}</span></div>\n                                                </li>\n\n                                                <li className=\"pad-right-0\">\n                                                    <a\n                                                        className=\"transparent-btn btns view-details\"\n                                                        href={\n                                                            property.slug && auction.lettingAuctionCode ?\n                                                                FlowRouter.url('rent', {\n                                                                    slug: property.slug,\n                                                                    key: auction.lettingAuctionCode\n                                                                })\n                                                                :\n                                                                FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                                        }\n                                                        type=\"button\"\n                                                        id=\"enter-auction\">view details</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    );\n                })}\n            </div>\n        )\n    }\n    render(){\n\n        if(Meteor.isClient && this.propsListHTML==\"\"){\n            this.propsListHTML = $('#props_list').html()\n        }\n        if(Meteor.isClient) {\n            this.isServerSSRReq = $('#isservercheckdiv').html()\n            if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n            else this.isServerSSRReq = false\n        }\n        // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n    return (\n<section className=\"property-list\" id=\"latestRentals\">\n   <div className=\"container\">\n      {true ? (\n      <div className=\"prop-wrap\">\n         <h2>Latest Rentals</h2>\n         <span className=\"bottom-line\" />\n      </div>\n      ): ''}\n      <div className=\"auction\">\n        { false ? (<h5>Ends on endsDate</h5> ): \"\"}\n         <section>\n            <section className=\"proplist-sec\">\n               <div className=\"row blogs\">\n                  \n                  { (this.props.isSubsLoaded && this.state.auctions && this.state.properties )  ? (\n                        this.propGrid()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <div className={'h2-div'} style={{textAlign:'center'}}>Loading...</div>\n                )}\n\n                  <div className=\"pink-div col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                     <a href={FlowRouter.url('b',{'slug':\"rent-in-ireland\"},{'mostRecentSort':1})} className=\"pink-btn oval-btn \">View All</a>\n                  </div>\n               </div>\n            </section>\n         </section>\n      </div>\n   </div>\n</section>\n\n\n    );\n    }\n}\nHomePageLatestPropsT = withTracker(() => {\n\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n\n\n    return {\n        auctions: Collections.Auctions.find({},{sort:{updatedAt : -1}}).fetch(),\n        properties: Collections.Properties.find().fetch(),\n        isSubsLoaded : true\n    };\n})(HomePageLatestProps);\n"]},"sourceType":"module","hash":"c38114373c84bfe7582cf1cba963fe7f30360e1f"}
