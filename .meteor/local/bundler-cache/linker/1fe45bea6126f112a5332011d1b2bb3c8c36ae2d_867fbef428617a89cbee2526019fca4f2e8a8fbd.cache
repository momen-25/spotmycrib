[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nmoment = Package['momentjs:moment'].moment;\nSession = Package.session.Session;\nServiceConfiguration = Package['service-configuration'].ServiceConfiguration;\nSecurity = Package['ongoworks:security'].Security;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nHammer = Package['hammer:hammer'].Hammer;\nDocHead = Package['kadira:dochead'].DocHead;\nCollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;\nCounts = Package['tmeasday:publish-counts'].Counts;\nMeteorCamera = Package['perak:camera'].MeteorCamera;\nBlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;\nCDN = Package['nitrolabs:cdn'].CDN;\nanalytics = Package['okgrow:analytics'].analytics;\n_ = Package.underscore._;\nFastRender = Package['staringatlights:fast-render'].FastRender;\n__init_fast_render = Package['staringatlights:fast-render'].__init_fast_render;\nKadira = Package['montiapm:agent'].Kadira;\nMonti = Package['montiapm:agent'].Monti;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nFacebook = Package['facebook-oauth'].Facebook;\nTwitter = Package['twitter-oauth'].Twitter;\nGoogle = Package['google-oauth'].Google;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"accounts\":{\"forgot\":{\"template.forgot.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/forgot/template.forgot.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"loginFormResetPasswordView\");\nTemplate[\"loginFormResetPasswordView\"] = new Template(\"Template.loginFormResetPasswordView\", (function() {\n  var view = this;\n  return Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"showForm\"));\n  }, function() {\n    return [ HTML.Raw('\\n        <div class=\"refund-div\"><h2>We just emailed you a link</h2></div>\\n        '), HTML.DIV({\n      class: \"profile-text\"\n    }, HTML.Raw('\\n            <h5 class=\"no-capitalize\">Please check your email and click the secure link.</h5>\\n            <div class=\"signup-btn\">\\n                <button class=\"transparent-btn btns tryAgainBtn\">Try again</button>\\n            </div>\\n            <p></p>\\n            '), HTML.P({\n      class: \"color-text contactusBtn\"\n    }, \"If you donâ€™t see our email, check your spam folder or \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"contactus\");\n      }\n    }, \"Contact us\")), \"\\n\\n        \"), \"\\n        \" ];\n  }, function() {\n    return [ HTML.Raw('\\n\\n    <div class=\"refund-div\"><h2>Forgot password?</h2></div>\\n\\n    '), HTML.DIV({\n      class: \"profile-text\"\n    }, HTML.Raw('\\n        <h5 class=\"no-capitalize\">Enter your registered Email ID</h5>\\n\\n        '), HTML.FORM({\n      class: \"signin-form\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"form-border\"\n    }, \"\\n\\n                \", HTML.DIV({\n      class: function() {\n        return [ \"styled-input underline  \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\")) ];\n      }\n    }, \"\\n                    \", HTML.INPUT({\n      class: \"login-input-email\",\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"credentials\"), \"email\"));\n      },\n      type: \"email\",\n      name: \"email\",\n      required: \"\",\n      for: function() {\n        return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n      }\n    }), \"\\n                    \", HTML.LABEL({\n      for: function() {\n        return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n      }\n    }, \"EMAIL ID\"), HTML.Raw(\"\\n                    <span></span>\\n                  \"), Blaze.If(function() {\n      return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\"));\n    }, function() {\n      return [ \"\\n                      \", HTML.SPAN({\n        class: \"help-block\"\n      }, \"\\n                        \", Blaze.View(\"lookup:messages.errors.email\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\"));\n      }), \"\\n                      \"), \"\\n                  \" ];\n    }), \"\\n                \"), \"\\n            \"), \"\\n\\n            \", HTML.DIV({\n      class: \"signup-btn\"\n    }, \"\\n\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isLoading\"));\n    }, function() {\n      return HTML.Raw('\\n                    <button class=\"transparent-btn btns\">Loading...</button>\\n                ');\n    }, function() {\n      return HTML.Raw('\\n                    <button class=\"blue-btn btns\" type=\"Submit\" data-event-category=\"accounts\" data-event-action=\"reset-password\">Reset My Password</button>\\n                ');\n    }), HTML.Raw('\\n                <!--<p class=\"color-text\">Verification mail will be sent to the Email ID.</p>-->\\n              '), Blaze._TemplateWith(function() {\n      return {\n        messages: Spacebars.call(view.lookup(\"messages\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n    }), HTML.Raw('\\n                <h6><span style=\"color:#0c68a7\" data-event-category=\"accounts\" data-event-action=\"signIn\">Sign In</span></h6>\\n            ')), \"\\n        \"), \"\\n    \"), \"\\n    \" ];\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"forgot.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/forgot/forgot.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"../helpers.js\");\nmodule.link(\"../validation.js\");\nTemplate.loginFormResetPasswordView.events({\n  /**\n   * Submit the password reset form\n   * @param {Event} event - jQuery Event\n   * @param {Object} template - Blaze Template\n   * @return {void}\n   */\n  \"click .tryAgainBtn\": function () {\n    Template.instance().showForm.set(true);\n  },\n  \"click .contactusBtn\": function () {\n    if ($) if ($.fancybox) $.fancybox.close();\n  },\n  \"click [data-event-action=signIn]\": function (event, template) {\n    var isOnPage = false;\n    if (template.data) if (template.data.onPage) isOnPage = true;\n\n    if (!isOnPage) {\n      Session.set('showForgotForm', false);\n      Session.set('showSignupForm', false);\n      Session.set('showLoginSignupFancyBoxDialog', true);\n      Session.set('showLoginDialog', true);\n    } else {\n      Session.set('showForgotForm', false);\n    }\n  },\n  \"submit form\": (event, template) => {\n    event.preventDefault();\n    let emailAddress = template.$(\".login-input-email\").val().trim();\n    let validatedEmail = LoginFormValidation.email(emailAddress);\n    let templateInstance = Template.instance();\n    var errors = [];\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n        errors: errors\n      }); // prevent signup\n\n      templateInstance.isLoading.set(false);\n      return;\n    }\n\n    Accounts.forgotPassword({\n      email: emailAddress\n    }, error => {\n      templateInstance.isLoading.set(false); // Show some message confirming result\n\n      if (error) {\n        console.log(error);\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n        templateInstance.showForm.set(false);\n        templateInstance.formMessages.set({\n          info: [{\n            reason: \"Password reset mail sent.\"\n          }]\n        });\n      }\n    });\n  }\n});\n/**\n * loginFormResetPasswordView\n *\n */\n\nTemplate.loginFormResetPasswordView.onCreated(() => {\n  let template = Template.instance(); // template.uniqueId = Random.id();\n\n  template.formMessages = new ReactiveVar({});\n  template.showForm = new ReactiveVar(true);\n  template.isLoading = new ReactiveVar(true);\n});\nTemplate.loginFormResetPasswordView.onRendered(function () {\n  $('#signin-div').find('#email').focus();\n  $('.new-focus').click(function () {\n    $('#signin-div').find('#email').focus();\n  });\n  Template.instance().isLoading.set(false);\n});\nTemplate.loginFormResetPasswordView.helpers(LoginFormSharedHelpers);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"signIn\":{\"template.signIn.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/signIn/template.signIn.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"loginFormSignInView\");\nTemplate[\"loginFormSignInView\"] = new Template(\"Template.loginFormSignInView\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"refund-div\"><h2>Sign In</h2></div>\\n\\n    '), HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n        \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"onPage\"));\n  }, function() {\n    return [ \"\\n            \", Blaze._TemplateWith(function() {\n      return {\n        buttonFor: Spacebars.call(\"login\"),\n        usedInDlg: Spacebars.call(\"login\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"socialLoginButtons\"));\n    }), HTML.Raw('\\n            <div class=\"seperator\" style=\"margin: 0 0 30px 0px;\"><span></span></div>\\n        ') ];\n  }), HTML.Raw(\"\\n\\n\\n        <h5>Enter your email and password below</h5>\\n\\n        \"), HTML.FORM({\n    class: \"signin-form\"\n  }, HTML.Raw('<!--autocomplete=\"off\" -->\\n            '), HTML.DIV({\n    class: \"form-border\"\n  }, \"\\n\\n                \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input  \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\")) ];\n    }\n  }, \"\\n                    \", HTML.INPUT({\n    autocomplete: \"email\",\n    type: \"email\",\n    name: \"email\",\n    required: \"\",\n    for: function() {\n      return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    },\n    class: \"login-input-email\"\n  }), \"\\n                    \", HTML.LABEL({\n    for: function() {\n      return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"EMAIL ID\"), HTML.Raw(\"\\n                    <span></span>\\n                \")), \"\\n\\n                \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input underline \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\")) ];\n    }\n  }, \"\\n                    \", HTML.INPUT({\n    autocomplete: \"current-password\",\n    type: \"password\",\n    name: \"password\",\n    class: \" login-input-password\",\n    required: \"\",\n    for: function() {\n      return [ \"password-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }), \"\\n                    \", HTML.LABEL({\n    for: function() {\n      return [ \"password-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"PASSWORD\"), HTML.Raw(\"\\n                    <span></span>\\n                \")), \"\\n\\n\\n\\n            \"), \"\\n            \", Blaze._TemplateWith(function() {\n    return {\n      messages: Spacebars.call(view.lookup(\"messages\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n  }), \"\\n            \", HTML.DIV({\n    class: \"signup-btn\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLoading\"));\n  }, function() {\n    return HTML.Raw('\\n                <button class=\"transparent-btn btns\">Loading...</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                <button class=\"blue-btn btns\" type=\"submit\" data-event-action=\"submitSignInForm\">SIGN IN</button>\\n                ');\n  }), HTML.Raw('\\n                <h5 data-event-action=\"forgotPassword\">Forgot password?</h5>\\n                '), Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"onPage\"));\n  }, function() {\n    return HTML.Raw('\\n                <h6>Not registered? <span style=\"color:#0c68a7\" data-event-action=\"signUp\">Sign Up now</span></h6>\\n                ');\n  }), \"\\n            \"), HTML.Raw('\\n            <div class=\"form-group\">\\n\\n            </div>\\n\\n\\n        ')), \"\\n    \"), HTML.Raw('\\n\\n    <!--<div class=\"profile-text\">-->\\n        <!--&lt;!&ndash;{{#if loginFailedError}}&ndash;&gt;-->\\n        <!--&lt;!&ndash;<div class=\"alert alert-danger\" role=\"alert\" style=\"font-size: 13px;\">&ndash;&gt;-->\\n            <!--&lt;!&ndash;<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>&ndash;&gt;-->\\n            <!--&lt;!&ndash;Invalid email or password. Try again.&ndash;&gt;-->\\n        <!--&lt;!&ndash;</div>&ndash;&gt;-->\\n        <!--&lt;!&ndash;{{/if}}&ndash;&gt;-->\\n        <!---->\\n\\n    <!--</div>-->') ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"signIn.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/signIn/signIn.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"../helpers.js\");\nmodule.link(\"../validation.js\");\nTemplate.loginFormSignInView.onCreated(() => {\n  let template = Template.instance(); // template.uniqueId = Random.id();\n\n  template.formMessages = new ReactiveVar({});\n  template.loginFailedError = new ReactiveVar(false);\n  template.isLoading = new ReactiveVar(true);\n});\nTemplate.loginFormSignInView.onRendered(function () {\n  $('#signin-div').find('#email').focus();\n  $('.new-focus').click(function () {\n    $('#signin-div').find('#email').focus();\n  });\n  Template.instance().isLoading.set(false);\n});\nTemplate.loginFormSignInView.helpers(LoginFormSharedHelpers);\n/**\n * Events: Login form sign in view\n */\n\nTemplate.loginFormSignInView.events({\n  /**\n   * Submit sign in form\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"click [data-event-action=signUp]\": function (event, template) {\n    Session.set('showForgotForm', false);\n    Session.set('showSignupForm', true);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  },\n  \"click [data-event-action=forgotPassword]\": function (event, template) {\n    var isOnPage = false;\n    if (template.data) if (template.data.onPage) isOnPage = true;\n\n    if (!isOnPage) {\n      Session.set('showForgotForm', true);\n      Session.set('showSignupForm', false);\n      Session.set('showLoginSignupFancyBoxDialog', true);\n      Session.set('showLoginDialog', true);\n    } else {\n      Session.set('showForgotForm', true);\n    }\n  },\n  \"submit form\": (event, template) => {\n    console.log(\"jns\");\n    event.preventDefault();\n    let usernameInput = template.$(\".login-input-email\");\n    let passwordInput = template.$(\".login-input-password\");\n    let username = usernameInput.val().trim();\n    let password = passwordInput.val().trim();\n    let validatedEmail = LoginFormValidation.email(username);\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"exists\"\n    });\n    let templateInstance = Template.instance();\n    var errors = [];\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n    templateInstance.loginFailedError.set(false);\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n        errors: errors\n      }); // prevent signup\n\n      templateInstance.isLoading.set(false);\n      return;\n    }\n\n    Meteor.loginWithPassword(username, password, error => {\n      templateInstance.isLoading.set(false);\n\n      if (error) {\n        console.log(error);\n        templateInstance.loginFailedError.set(true);\n        debugger;\n\n        if (error.reason == 'User has no password set' || error.reason == 'User not found') {\n          Meteor.call('isSocialAccount', username, function (err1, result) {\n            if (err1) templateInstance.formMessages.set({\n              errors: [err1]\n            });else templateInstance.formMessages.set({\n              info: [result]\n            });\n          });\n        } // Show some error messages above the form fields\n\n\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n        var isOnPage = false;\n        if (templateInstance.data) if (templateInstance.data.onPage) isOnPage = true;\n\n        if (!isOnPage) {\n          $('#signin-div , .fancybox-overlay').hide();\n          Session.set('showLoginDialog', false);\n          Session.set('showSignupDialog', false);\n          Session.set('showLoginSignupFancyBoxDialog', false);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n        Meteor.call(\"userLoggedIn\");\n      }\n    });\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"signUp\":{\"template.signUp.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/signUp/template.signUp.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"loginFormSignUpView\");\nTemplate[\"loginFormSignUpView\"] = new Template(\"Template.loginFormSignUpView\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"refund-div\"><h2>Sign Up</h2></div>\\n\\n    '), HTML.DIV({\n    class: \"profile-text userSignup-div\"\n  }, \"\\n\\n        \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"onPage\"));\n  }, function() {\n    return [ \"\\n            \", Blaze._TemplateWith(function() {\n      return {\n        buttonFor: Spacebars.call(\"signup\"),\n        usedInDlg: Spacebars.call(\"signup\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"socialLoginButtons\"));\n    }), HTML.Raw('\\n            <div class=\"seperator\" style=\"margin: 0 0 30px 0px;\"><span></span></div>\\n        ') ];\n  }), HTML.Raw(\"\\n\\n        <h5>Enter your details below</h5>\\n\\n        \"), HTML.FORM({\n    class: \"signin-form\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"form-border\"\n  }, \"\\n\\n                \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"fullName\")) ];\n    }\n  }, \"\\n                    \", HTML.INPUT({\n    autocomplete: \"name\",\n    class: \"login-input-fullName\",\n    type: \"text\",\n    name: \"name\",\n    required: \"\",\n    for: function() {\n      return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    },\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"credentials\"), \"fullName\"));\n    }\n  }), HTML.Raw(\"<br>\\n                    \"), HTML.LABEL({\n    for: function() {\n      return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"FULL NAME\"), HTML.Raw(\"\\n                    <span></span>\\n                  \"), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"fullName\"));\n  }, function() {\n    return [ \"\\n                      \", HTML.SPAN({\n      class: \"help-block\"\n    }, \"\\n                        \", Blaze.View(\"lookup:messages.errors.fullName\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"fullName\"));\n    }), \"\\n                      \"), \"\\n                  \" ];\n  }), \"\\n                \"), \"\\n\\n                \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\")) ];\n    }\n  }, \"\\n                    \", HTML.INPUT({\n    autocomplete: \"email\",\n    class: \" login-input-email\",\n    type: \"email\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"credentials\"), \"email\"));\n    },\n    name: \"email\",\n    required: \"\",\n    for: function() {\n      return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }), \"\\n                    \", HTML.LABEL({\n    for: function() {\n      return [ \"email-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"EMAIL ID\"), HTML.Raw(\"\\n                    <span></span>\\n                  \"), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\"));\n  }, function() {\n    return [ \"\\n                      \", HTML.SPAN({\n      class: \"help-block\"\n    }, \"\\n                        \", Blaze.View(\"lookup:messages.errors.email\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"email\"));\n    }), \"\\n                      \"), \"\\n                  \" ];\n  }), \"\\n                \"), \"\\n\\n                \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\")) ];\n    }\n  }, \"\\n                    \", HTML.INPUT({\n    autocomplete: \"new-password\",\n    class: \"login-input-password\",\n    type: \"password\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"credentials\"), \"password\"));\n    },\n    name: \"password\",\n    required: \"\",\n    for: function() {\n      return [ \"password-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }), \"\\n                    \", HTML.LABEL({\n    for: function() {\n      return [ \"password-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"PASSWORD\"), HTML.Raw(\"\\n                    <span></span>\\n                  \"), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\"));\n  }, function() {\n    return [ \"\\n                      \", HTML.SPAN({\n      class: \"help-block\"\n    }, \"\\n                        \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.P(Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      })), \"\\n                        \" ];\n    }), \"\\n                      \"), \"\\n                  \" ];\n  }), \"\\n                \"), \"\\n\\n                \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"mobile\")) ];\n    }\n  }, \"\\n                    \", HTML.INPUT({\n    autocomplete: \"tel\",\n    class: \"login-input-mobile SignupFormMobileField\",\n    type: \"text\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"credentials\"), \"mobile\"));\n    },\n    name: \"mobile\",\n    for: function() {\n      return [ \"mobile-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }), \"\\n                    \", HTML.LABEL({\n    for: function() {\n      return [ \"mobile-\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"MOBILE\"), HTML.Raw(\"\\n                    <span></span>\\n                  \"), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"mobile\"));\n  }, function() {\n    return [ \"\\n                      \", HTML.SPAN({\n      class: \"help-block\",\n      style: \"background: #f9f9f9 !important;height: 36px;border-top: 1px solid rgb(68, 68, 68);\"\n    }, \"\\n                        \", Blaze.View(\"lookup:messages.errors.mobile\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"mobile\"));\n    }), \"\\n                      \"), \"\\n                  \" ];\n  }), \"\\n                \"), \"\\n            \"), \"\\n            \", Blaze._TemplateWith(function() {\n    return {\n      messages: Spacebars.call(view.lookup(\"messages\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n  }), \"\\n            \", HTML.DIV({\n    class: \"signup-btn\"\n  }, \"\\n\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLoading\"));\n  }, function() {\n    return HTML.Raw('\\n        <button class=\"transparent-btn btns\">Loading...</button>\\n');\n  }, function() {\n    return HTML.Raw('\\n                <button class=\"blue-btn btns\" type=\"Submit\" data-event-category=\"accounts\" data-event-action=\"register\">SIGN UP</button>\\n');\n  }), \"\\n                \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"onPage\"));\n  }, function() {\n    return HTML.Raw('\\n                    <p>Already have an account? <a href=\"javascript:;\"><span style=\"color:#0c67a6;\" data-event-category=\"accounts\" data-event-action=\"signIn\">Sign In</span></a></p>\\n                ');\n  }), \"\\n\\n            \"), \"\\n\\n\\n        \"), \"\\n\\n    \") ];\n}));\n\nTemplate.__checkName(\"loginFormSignUpViewLandlord\");\nTemplate[\"loginFormSignUpViewLandlord\"] = new Template(\"Template.loginFormSignUpViewLandlord\", (function() {\n  var view = this;\n  return [ HTML.Raw(\"<!--landLordSignup-->\\n    \\n    \\n    <!--Put your signup code here.-->\\n    \\n    \\n    \\n        \"), HTML.DIV({\n    class: \"landlordSignup-div signup-div\"\n  }, HTML.Raw('\\n    \\n     <div class=\"refund-div\"><h2>Landlord Join Now</h2> </div>\\n      '), HTML.DIV({\n    class: \"profile-text\"\n  }, HTML.Raw('\\n      \\t<div class=\"row\">\\n      \\t\\t<div class=\"col-md-12 rd-details\">\\n      \\t\\t\\t<span>I am a</span>\\n      \\t\\t\\t<label class=\"account-type-label\" for=\"rd1\">\\n                <input class=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\" checked=\"\">\\n                Landlord\\n              </label>\\n              <label class=\"account-type-label\">\\n                <input class=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\">\\n                Agent\\n              </label>\\n              <label class=\"account-type-label\">\\n                <input class=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\">\\n                Building Manager\\n              </label>\\n      \\t\\t\\t<label class=\"account-type-label\">\\n                <input class=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\">\\n                Tenant\\n              </label>\\n      \\t\\t</div>\\n      \\t</div>\\n          \\n              \\n          '), HTML.FORM({\n    class: \"signin-form\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"form-border\"\n  }, HTML.Raw('\\n           <div class=\"row frm-group\">\\n            <div class=\"col-sm-6\">\\n            <div class=\"styled-input\">\\n              <input autocomplete=\"name\" type=\"text\" name=\"name\" class=\"login-input-fullName\" required=\"\"><br>\\n              <label>FULL NAME</label>\\n              <span></span>\\n              </div>\\n            </div>\\n              <div class=\"col-sm-6\">\\n              \\t<div class=\"styled-input\">\\n              <input autocomplete=\"email\" type=\"email\" name=\"email\" class=\"login-input-email\" required=\"\">\\n              <label>EMAIL ID</label>\\n              <span></span> \\n              </div>\\n            </div>\\n              \\n              <div class=\"col-sm-6\">\\n              \\t<div class=\"styled-input\">\\n              <input autocomplete=\"new-password\" type=\"password\" name=\"password\" class=\"login-input-password\" required=\"\">\\n              <label>PASSWORD</label>\\n              <span></span> </div>\\n              </div>\\n\\n              <div class=\"col-sm-6\">\\n              \\t<div class=\"styled-input\">\\n              <input autocomplete=\"tel\" type=\"number\" name=\"mobile\" class=\"login-input-mobile SignupFormMobileField\" required=\"\">\\n              <label>MOBILE</label>\\n              <span></span> \\n              </div>\\n            </div>\\n          </div>\\n\\n                '), Blaze._TemplateWith(function() {\n    return {\n      messages: Spacebars.call(view.lookup(\"messages\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n  }), \"\\n\\n            \"), \"  \\n          \", HTML.DIV({\n    class: \"signup-btn\"\n  }, \"\\n          \\t\", HTML.DIV({\n    class: \"styled-input\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLoading\"));\n  }, function() {\n    return HTML.Raw('\\n                    <button class=\"transparent-btn btns\">Loading...</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                    <button class=\"blue-btn btns\" type=\"submit\">SIGN UP</button>\\n                ');\n  }), \"\\n          \"), \"\\n              \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"onPage\"));\n  }, function() {\n    return HTML.Raw('\\n                  <p style=\"padding-top:0;\">Already have an account? <a href=\"javascript:;\"><span style=\"color:#0c67a6;\" data-event-category=\"accounts\" data-event-action=\"signIn\">Sign In</span></a></p>\\n              ');\n  }), \"\\n           \"), \"\\n          \"), \"\\n           \\n      \"), \"\\n  \") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"signUp.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/signUp/signUp.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"../helpers.js\");\nmodule.link(\"../validation.js\");\nTemplate.loginFormSignUpView.onCreated(() => {\n  let template = Template.instance(); // template.uniqueId = Random.id();\n\n  template.formMessages = new ReactiveVar({});\n  template.type = \"signUp\";\n  template.isOTPverified = new ReactiveVar(false);\n  template.isLoading = new ReactiveVar(true);\n});\nTemplate.loginFormSignUpView.onRendered(function () {\n  // This is the new 1 line code I have added\n  this.$(\".SignupFormMobileField\").intlTelInput({\n    preferredCountries: [\"ie\", \"gb\", 'in']\n  });\n  $('#signin-div').find('#name').focus();\n  $('.new-focus').click(function () {\n    $('#signin-div').find('#name').focus();\n  });\n  Template.instance().isLoading.set(false);\n});\nTemplate.loginFormSignUpView.helpers(LoginFormSharedHelpers);\n/**\n * Events: Login form sign up view\n */\n\nTemplate.loginFormSignUpView.events({\n  /**\n   * Submit sign up form\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"click [data-event-action=signIn]\": function (event, template) {\n    Session.set('showForgotForm', false);\n    Session.set('showSignupForm', false);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  },\n  \"submit form\": function (event, template) {\n    event.preventDefault(); // var usernameInput = template.$(\".login-input--username\");\n\n    let emailInput = template.$(\".login-input-email\");\n    let passwordInput = template.$(\".login-input-password\");\n    let fullNameInput = template.$(\".login-input-fullName\");\n    let mobileInput = template.$(\".login-input-mobile\");\n    let email = emailInput.val().trim();\n    let password = passwordInput.val().trim();\n    let fullName = fullNameInput.val().trim();\n    let mobile = mobileInput.val().trim(); // mobile = mobileInput.intlTelInput(\"getNumber\");//not working\n    // mobileInput.val();\n\n    let validatedEmail = LoginFormValidation.email(email);\n    let validatedFullName = LoginFormValidation.username(fullName);\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"length\"\n    });\n    let validatedMobile = LoginFormValidation.mobile(mobile);\n    let templateInstance = Template.instance();\n    var errors = [];\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedFullName !== true) {\n      errors.push(validatedFullName);\n    }\n\n    if (validatedMobile !== true) {\n      errors.push(validatedMobile);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n        errors: errors\n      }); // prevent signup\n\n      templateInstance.isLoading.set(false);\n      return;\n    } //if(!templateInstance.isOTPverified.get()){\n    //  //Show OTP screen\n    //\n    //}\n\n\n    let newUserData = {\n      // username: username,\n      email: email,\n      password: password,\n      profile: {\n        name: fullName,\n        email: email,\n        mobile: mobile\n      }\n    };\n    Accounts.createUser(newUserData, function (error, result) {\n      templateInstance.isLoading.set(false);\n\n      if (error) {\n        // Show some error message\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n        var isOnPage = false;\n        if (templateInstance.data) if (templateInstance.data.onPage) isOnPage = true;\n\n        if (!isOnPage) {\n          $('#signin-div , .fancybox-overlay').hide();\n          Session.set('showLoginDialog', false);\n          Session.set('showSignupDialog', false);\n          Session.set('showLoginSignupFancyBoxDialog', false);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    }); //,\n    //name: fullName,\n    //  \"profile.mobile\" :[mobile]\n  }\n});\nTemplate.loginFormSignUpViewLandlord.onCreated(() => {\n  let template = Template.instance(); // template.uniqueId = Random.id();\n\n  template.formMessages = new ReactiveVar({});\n  template.type = \"signUp\";\n  template.isOTPverified = new ReactiveVar(false);\n  template.isLoading = new ReactiveVar(true);\n});\nTemplate.loginFormSignUpViewLandlord.onRendered(function () {\n  this.$(\".SignupFormMobileField\").intlTelInput({\n    preferredCountries: [\"ie\", \"gb\", 'in']\n  });\n  $('#signin-div').find('#name').focus();\n  $('.new-focus').click(function () {\n    $('#signin-div').find('#name').focus();\n  });\n  Template.instance().isLoading.set(false);\n});\nTemplate.loginFormSignUpViewLandlord.helpers(LoginFormSharedHelpers);\n/**\n * Events: Login form sign up view\n */\n\nTemplate.loginFormSignUpViewLandlord.events({\n  \"click [data-event-action=signIn]\": function (event, template) {\n    Session.set('showForgotForm', false);\n    Session.set('showSignupForm', false);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  },\n\n  /**\n   * Submit sign up form\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"submit form\": function (event, template) {\n    event.preventDefault(); // var usernameInput = template.$(\".login-input--username\");\n\n    let emailInput = template.$(\".login-input-email\");\n    let passwordInput = template.$(\".login-input-password\");\n    let fullNameInput = template.$(\".login-input-fullName\");\n    let mobileInput = template.$(\".login-input-mobile\");\n    let email = emailInput.val().trim();\n    let password = passwordInput.val().trim();\n    let fullName = fullNameInput.val().trim();\n    let mobile = mobileInput.val().trim();\n    let validatedEmail = LoginFormValidation.email(email);\n    let validatedFullName = LoginFormValidation.username(fullName);\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"length\"\n    });\n    let validatedMobile = LoginFormValidation.mobile(mobile);\n    let templateInstance = Template.instance();\n    var errors = [];\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedFullName !== true) {\n      errors.push(validatedFullName);\n    }\n\n    if (validatedMobile !== true) {\n      errors.push(validatedMobile);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n        errors: errors\n      }); // prevent signup\n\n      templateInstance.isLoading.set(false);\n      return;\n    } //if(!templateInstance.isOTPverified.get()){\n    //  //Show OTP screen\n    //\n    //}\n\n\n    let newUserData = {\n      // username: username,\n      email: email,\n      password: password,\n      profile: {\n        name: fullName,\n        email: email,\n        mobile: mobile\n      }\n    };\n    Accounts.createUser(newUserData, function (error, result) {\n      templateInstance.isLoading.set(false);\n\n      if (error) {\n        // Show some error message\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n        var isOnPage = false;\n        if (templateInstance.data) if (templateInstance.data.onPage) isOnPage = true;\n\n        if (!isOnPage) {\n          $('#signin-div , .fancybox-overlay').hide();\n          Session.set('showLoginDialog', false);\n          Session.set('showSignupDialog', false);\n          Session.set('showLoginSignupFancyBoxDialog', false);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    }); //,\n    //name: fullName,\n    //  \"profile.mobile\" :[mobile]\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"template.general.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/template.general.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"loginPageHorizontal\");\nTemplate[\"loginPageHorizontal\"] = new Template(\"Template.loginPageHorizontal\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n  }, \"\\n\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isTemplateLoaded\"));\n  }, function() {\n    return [ \"\\n            \", HTML.DIV({\n      class: \"container\"\n    }, \"\\n                \", HTML.DIV({\n      class: \"filter-holder\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"head-border-bottom\"\n    }, \"\\n                        \", Spacebars.include(view.lookupTemplate(\"loginFormHorizontal\")), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \" ];\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n        \" ];\n  }), \"\\n\\n    \");\n}));\n\nTemplate.__checkName(\"socialLoginButtons\");\nTemplate[\"socialLoginButtons\"] = new Template(\"Template.socialLoginButtons\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    id: \"facebook-login\",\n    class: \"blue-btn btns social-button\",\n    \"data-max-rows\": \"1\",\n    \"data-size\": \"medium\",\n    \"data-show-faces\": \"false\",\n    \"data-auto-logout-link\": \"false\"\n  }, Blaze.View(\"lookup:buttonForText\", function() {\n    return Spacebars.mustache(view.lookup(\"buttonForText\"));\n  }), \" with Facebook\"), HTML.Raw('\\n    <!--<div id=\"twitter-login\" style=\"margin-top: 10px;\" class=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{{buttonForText}} with Twitter</div>-->\\n    '), HTML.DIV({\n    id: \"google-login\",\n    style: \"margin-top: 10px;\",\n    class: \"blue-btn btns social-button\",\n    \"data-max-rows\": \"1\",\n    \"data-size\": \"medium\",\n    \"data-show-faces\": \"false\",\n    \"data-auto-logout-link\": \"false\"\n  }, Blaze.View(\"lookup:buttonForText\", function() {\n    return Spacebars.mustache(view.lookup(\"buttonForText\"));\n  }), \" with Google\"), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"dontShow\"));\n  }, function() {\n    return HTML.Raw('\\n        <!--Not properly working. will create a new user if there is not existing link.-->\\n        <div id=\"linkedin-login\" style=\"margin-top: 10px;\" class=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">Login with LinkedIn</div>\\n    ');\n  }), HTML.Raw(\"\\n\\n    <br>\\n    \"), Blaze._TemplateWith(function() {\n    return {\n      messages: Spacebars.call(view.lookup(\"errorMessages\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n  }), HTML.Raw(\"\\n    <br>\") ];\n}));\n\nTemplate.__checkName(\"loginFormHorizontal\");\nTemplate[\"loginFormHorizontal\"] = new Template(\"Template.loginFormHorizontal\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"loginForm onpageSignin-form\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n            \", Spacebars.include(view.lookupTemplate(\"socialLoginButtons\")), \"\\n        \"), \"\\n        \", HTML.DIV({\n    class: \"row text-center\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"col-md-6 col-sm-12\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showForgotForm\"));\n  }, function() {\n    return [ \"\\n                    \", Blaze._TemplateWith(function() {\n      return {\n        onPage: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"loginFormResetPasswordView\"));\n    }), \"\\n                \" ];\n  }, function() {\n    return [ \"\\n                    \", Blaze._TemplateWith(function() {\n      return {\n        onPage: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"loginFormSignInView\"));\n    }), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n            \", HTML.DIV({\n    class: \"col-md-6 col-sm-12\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLandLordMode\"));\n  }, function() {\n    return [ \"\\n                    \", Blaze._TemplateWith(function() {\n      return {\n        onPage: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"loginFormSignUpViewLandlord\"));\n    }), \"\\n                \" ];\n  }, function() {\n    return [ \"\\n                    \", Blaze._TemplateWith(function() {\n      return {\n        onPage: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"loginFormSignUpView\"));\n    }), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"loginPage\");\nTemplate[\"loginPage\"] = new Template(\"Template.loginPage\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: \"mar-top-20 no-print\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"filter-holder\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"head-border-bottom\"\n  }, \"\\n                    \", Spacebars.include(view.lookupTemplate(\"loginForm\")), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"loginForm\");\nTemplate[\"loginForm\"] = new Template(\"Template.loginForm\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"loginForm\"\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showForgotForm\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"loginFormResetPasswordView\")), \"\\n        \" ];\n  }, function() {\n    return [ \"\\n            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showSignupForm\"));\n    }, function() {\n      return [ \"\\n                \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"isLandLordMode\"));\n      }, function() {\n        return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"loginFormSignUpViewLandlord\")), \"\\n                \" ];\n      }, function() {\n        return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"loginFormSignUpView\")), \"\\n                \" ];\n      }), \"\\n            \" ];\n    }, function() {\n      return [ \"\\n                \", Spacebars.include(view.lookupTemplate(\"loginFormSignInView\")), \"\\n            \" ];\n    }), \"\\n        \" ];\n  }), \"\\n    \");\n}));\n\nTemplate.__checkName(\"loginFormMessages\");\nTemplate[\"loginFormMessages\"] = new Template(\"Template.loginFormMessages\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"info\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"info\"));\n    }, function() {\n      return [ \"\\n            \", HTML.DIV({\n        class: \"changePwdAlertMsgs alert alert-info\",\n        role: \"alert\"\n      }, HTML.Raw('\\n                <span class=\"glyphicon glyphicon-info-sign\" aria-hidden=\"true\"></span>&nbsp; '), Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      }), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"warning\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"warning\"));\n    }, function() {\n      return [ \"\\n            \", HTML.DIV({\n        class: \"changePwdAlertMsgs alert alert-warning\",\n        role: \"alert\"\n      }, HTML.Raw('\\n                <span class=\"glyphicon glyphicon-warning-sign\" aria-hidden=\"true\"></span>&nbsp; '), Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      }), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"success\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"success\"));\n    }, function() {\n      return [ \"\\n            \", HTML.DIV({\n        class: \"changePwdAlertMsgs alert alert-success\",\n        role: \"alert\"\n      }, HTML.Raw('\\n                <span class=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>&nbsp; '), Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      }), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\"));\n    }, function() {\n      return [ \"\\n            \", HTML.DIV({\n        class: \"changePwdAlertMsgs alert alert-danger\",\n        role: \"alert\"\n      }, HTML.Raw('\\n                <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>&nbsp; '), Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      }), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return false;\n  }, function() {\n    return HTML.Raw('\\n\\n\\n        <!--<div class=\"changePwdAlertMsgs\">-->\\n            <!--{{#each messages.alerts}}-->\\n        <!--<p class=\"color-text alerts\">{{reason}}</p>-->\\n            <!--{{/each}}-->\\n        <!--</div>-->\\n    ');\n  }) ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"countries.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/countries.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/**\n * Created by njanjanam on 25/12/2017.\n */\nif (Meteor.isClient) {\n  Countries = function () {\n    return [{\n      name: 'Afghanistan'\n    }, {\n      name: 'Albania'\n    }, {\n      name: 'Algeria'\n    }, {\n      name: 'Andorra'\n    }, {\n      name: 'Angola'\n    }, {\n      name: 'Antigua and Barbuda'\n    }, {\n      name: 'Argentina'\n    }, {\n      name: 'Armenia'\n    }, {\n      name: 'Aruba'\n    }, {\n      name: 'Australia'\n    }, {\n      name: 'Austria'\n    }, {\n      name: 'Azerbaijan'\n    }, {\n      name: 'Bahamas, The'\n    }, {\n      name: 'Bahrain'\n    }, {\n      name: 'Bangladesh'\n    }, {\n      name: 'Barbados'\n    }, {\n      name: 'Belarus'\n    }, {\n      name: 'Belgium'\n    }, {\n      name: 'Belize'\n    }, {\n      name: 'Benin'\n    }, {\n      name: 'Bhutan'\n    }, {\n      name: 'Bolivia'\n    }, {\n      name: 'Bosnia and Herzegovina'\n    }, {\n      name: 'Botswana'\n    }, {\n      name: 'Brazil'\n    }, {\n      name: 'Brunei'\n    }, {\n      name: 'Bulgaria'\n    }, {\n      name: 'Burkina Faso'\n    }, {\n      name: 'Burma'\n    }, {\n      name: 'Burundi'\n    }, {\n      name: 'Cambodia'\n    }, {\n      name: 'Cameroon'\n    }, {\n      name: 'Canada'\n    }, {\n      name: 'Cape Verde'\n    }, {\n      name: 'Central African Republic'\n    }, {\n      name: 'Chad'\n    }, {\n      name: 'Chile'\n    }, {\n      name: 'China'\n    }, {\n      name: 'Colombia'\n    }, {\n      name: 'Comoros'\n    }, {\n      name: 'Congo, Democratic Republic of the'\n    }, {\n      name: 'Congo, Republic of the'\n    }, {\n      name: 'Costa Rica'\n    }, {\n      name: 'Cote d\\'Ivoire'\n    }, {\n      name: 'Croatia'\n    }, {\n      name: 'Cuba'\n    }, {\n      name: 'Curacao'\n    }, {\n      name: 'Cyprus'\n    }, {\n      name: 'Czech Republic'\n    }, {\n      name: 'Denmark'\n    }, {\n      name: 'Djibouti'\n    }, {\n      name: 'Dominica'\n    }, {\n      name: 'Dominican Republic'\n    }, {\n      name: 'East Timor (see Timor-Leste)'\n    }, {\n      name: 'Ecuador'\n    }, {\n      name: 'Egypt'\n    }, {\n      name: 'El Salvador'\n    }, {\n      name: 'Equatorial Guinea'\n    }, {\n      name: 'Eritrea'\n    }, {\n      name: 'Estonia'\n    }, {\n      name: 'Ethiopia'\n    }, {\n      name: 'Fiji'\n    }, {\n      name: 'Finland'\n    }, {\n      name: 'France'\n    }, {\n      name: 'Gabon'\n    }, {\n      name: 'Gambia, The'\n    }, {\n      name: 'Georgia'\n    }, {\n      name: 'Germany'\n    }, {\n      name: 'Ghana'\n    }, {\n      name: 'Greece'\n    }, {\n      name: 'Grenada'\n    }, {\n      name: 'Guatemala'\n    }, {\n      name: 'Guinea'\n    }, {\n      name: 'Guinea-Bissau'\n    }, {\n      name: 'Guyana'\n    }, {\n      name: 'Haiti'\n    }, {\n      name: 'Holy See'\n    }, {\n      name: 'Honduras'\n    }, {\n      name: 'Hong Kong'\n    }, {\n      name: 'Hungary'\n    }, {\n      name: 'Iceland'\n    }, {\n      name: 'India'\n    }, {\n      name: 'Indonesia'\n    }, {\n      name: 'Iran'\n    }, {\n      name: 'Iraq'\n    }, {\n      name: 'Ireland'\n    }, {\n      name: 'Israel'\n    }, {\n      name: 'Italy'\n    }, {\n      name: 'Jamaica'\n    }, {\n      name: 'Japan'\n    }, {\n      name: 'Jordan'\n    }, {\n      name: 'Kazakhstan'\n    }, {\n      name: 'Kenya'\n    }, {\n      name: 'Kiribati'\n    }, {\n      name: 'Korea, North'\n    }, {\n      name: 'Korea, South'\n    }, {\n      name: 'Kosovo'\n    }, {\n      name: 'Kuwait'\n    }, {\n      name: 'Kyrgyzstan'\n    }, {\n      name: 'Laos'\n    }, {\n      name: 'Latvia'\n    }, {\n      name: 'Lebanon'\n    }, {\n      name: 'Lesotho'\n    }, {\n      name: 'Liberia'\n    }, {\n      name: 'Libya'\n    }, {\n      name: 'Liechtenstein'\n    }, {\n      name: 'Lithuania'\n    }, {\n      name: 'Luxembourg'\n    }, {\n      name: 'Macau'\n    }, {\n      name: 'Macedonia'\n    }, {\n      name: 'Madagascar'\n    }, {\n      name: 'Malawi'\n    }, {\n      name: 'Malaysia'\n    }, {\n      name: 'Maldives'\n    }, {\n      name: 'Mali'\n    }, {\n      name: 'Malta'\n    }, {\n      name: 'Marshall Islands'\n    }, {\n      name: 'Mauritania'\n    }, {\n      name: 'Mauritius'\n    }, {\n      name: 'Mexico'\n    }, {\n      name: 'Micronesia'\n    }, {\n      name: 'Moldova'\n    }, {\n      name: 'Monaco'\n    }, {\n      name: 'Mongolia'\n    }, {\n      name: 'Montenegro'\n    }, {\n      name: 'Morocco'\n    }, {\n      name: 'Mozambique'\n    }, {\n      name: 'Namibia'\n    }, {\n      name: 'Nauru'\n    }, {\n      name: 'Nepal'\n    }, {\n      name: 'Netherlands'\n    }, {\n      name: 'Netherlands Antilles'\n    }, {\n      name: 'New Zealand'\n    }, {\n      name: 'Nicaragua'\n    }, {\n      name: 'Niger'\n    }, {\n      name: 'Nigeria'\n    }, {\n      name: 'North Korea'\n    }, {\n      name: 'Norway'\n    }, {\n      name: 'Oman'\n    }, {\n      name: 'Pakistan'\n    }, {\n      name: 'Palau'\n    }, {\n      name: 'Palestinian Territories'\n    }, {\n      name: 'Panama'\n    }, {\n      name: 'Papua New Guinea'\n    }, {\n      name: 'Paraguay'\n    }, {\n      name: 'Peru'\n    }, {\n      name: 'Philippines'\n    }, {\n      name: 'Poland'\n    }, {\n      name: 'Portugal'\n    }, {\n      name: 'Qatar'\n    }, {\n      name: 'Romania'\n    }, {\n      name: 'Russia'\n    }, {\n      name: 'Rwanda'\n    }, {\n      name: 'Saint Kitts and Nevis'\n    }, {\n      name: 'Saint Lucia'\n    }, {\n      name: 'Saint Vincent and the Grenadines'\n    }, {\n      name: 'Samoa '\n    }, {\n      name: 'San Marino'\n    }, {\n      name: 'Sao Tome and Principe'\n    }, {\n      name: 'Saudi Arabia'\n    }, {\n      name: 'Senegal'\n    }, {\n      name: 'Serbia'\n    }, {\n      name: 'Seychelles'\n    }, {\n      name: 'Sierra Leone'\n    }, {\n      name: 'Singapore'\n    }, {\n      name: 'Sint Maarten'\n    }, {\n      name: 'Slovakia'\n    }, {\n      name: 'Slovenia'\n    }, {\n      name: 'Solomon Islands'\n    }, {\n      name: 'Somalia'\n    }, {\n      name: 'South Africa'\n    }, {\n      name: 'South Korea'\n    }, {\n      name: 'South Sudan'\n    }, {\n      name: 'Spain '\n    }, {\n      name: 'Sri Lanka'\n    }, {\n      name: 'Sudan'\n    }, {\n      name: 'Suriname'\n    }, {\n      name: 'Swaziland '\n    }, {\n      name: 'Sweden'\n    }, {\n      name: 'Switzerland'\n    }, {\n      name: 'Syria'\n    }, {\n      name: 'Taiwan'\n    }, {\n      name: 'Tajikistan'\n    }, {\n      name: 'Tanzania'\n    }, {\n      name: 'Thailand '\n    }, {\n      name: 'Timor-Leste'\n    }, {\n      name: 'Togo'\n    }, {\n      name: 'Tonga'\n    }, {\n      name: 'Trinidad and Tobago'\n    }, {\n      name: 'Tunisia'\n    }, {\n      name: 'Turkey'\n    }, {\n      name: 'Turkmenistan'\n    }, {\n      name: 'Tuvalu'\n    }, {\n      name: 'Uganda'\n    }, {\n      name: 'Ukraine'\n    }, {\n      name: 'United Arab Emirates'\n    }, {\n      name: 'United Kingdom'\n    }, {\n      name: 'United States'\n    }, {\n      name: 'Uruguay'\n    }, {\n      name: 'Uzbekistan'\n    }, {\n      name: 'Vanuatu'\n    }, {\n      name: 'Venezuela'\n    }, {\n      name: 'Vietnam'\n    }, {\n      name: 'Yemen'\n    }, {\n      name: 'Zambia'\n    }, {\n      name: 'Zimbabwe'\n    }];\n  };\n\n  UI.registerHelper('countries', function () {\n    return Countries();\n  }); //     {{#each countries}}\n  // <option value=\"{{name}}\">{{name}}</option>\n  //     {{/each}}\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"general.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/general.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 0);\nTemplate.loginForm.helpers({\n  showSignupForm: function () {\n    return Session.get('showSignupForm');\n  },\n  showForgotForm: function () {\n    return Session.get('showForgotForm');\n  },\n  isLandLordMode: function () {\n    return Session.get('isLandLordMode');\n  }\n});\nTemplate.socialLoginButtons.onCreated(function () {\n  Session.set('loginFlowStart', true);\n  Session.set('loginFlowComplete', undefined);\n  delete Session.keys.loginFlowComplete;\n  this.errorMessages = new ReactiveVar({});\n});\nTemplate.socialLoginButtons.helpers({\n  showSignupForm: function () {\n    return Session.get('showSignupForm');\n  },\n  showForgotForm: function () {\n    return Session.get('showForgotForm');\n  },\n  errorMessages: function () {\n    return Template.instance().errorMessages.get();\n  },\n  buttonForText: function () {\n    var buttonFor;\n    if (Template.instance().data) buttonFor = Template.instance().data.buttonFor;\n\n    switch (buttonFor) {\n      case 'login':\n        return 'Login';\n\n      case 'signup':\n        return 'Signup';\n\n      default:\n        return 'Login / Signup';\n    }\n  }\n});\nTemplate.socialLoginButtons.events({\n  'click #facebook-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithFacebook({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Facebook failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  },\n  'click #twitter-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithTwitter({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Twitter failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  },\n  'click #google-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithGoogle({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Google failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  },\n  'click #linkedin-login': function (event) {\n    let templateInstance = Template.instance();\n    templateInstance.errorMessages.set({});\n    Meteor.loginWithLinkedIn({}, function (err) {\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with LinkedIn failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        templateInstance.errorMessages.set({\n          errors: errors\n        });\n      } else {\n        if (templateInstance.data.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    });\n  }\n});\nTemplate.loginPageHorizontal.onCreated(function () {\n  var instance = this;\n  instance.isTempLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('userData');\n\n    if (instance.subscriptionsReady()) {\n      instance.isTempLoaded.set(true);\n    }\n  });\n});\nTemplate.loginPageHorizontal.helpers({\n  isTemplateLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  }\n});\nTemplate.loginFormHorizontal.helpers({\n  showForgotForm: function () {\n    return Session.get('showForgotForm');\n  },\n  isLandLordMode: function () {\n    var mode = '';\n    if (Template.instance().data) mode = Template.instance().data.isLandLordMode;\n    return mode; // return Session.get('isLandLordMode');\n  }\n});\nTemplate.loginFormHorizontal.onRendered(function () {\n  var user = Meteor.user(); //when u load this form if the user is alredy loggedin then throw an event.\n\n  if (user) Session.set('loginFlowComplete', true);\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"helpers.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/helpers.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nwindow.LoginFormSharedHelpers = {\n  showForm: function () {\n    return Template.instance().showForm.get();\n  },\n  isLoading: function () {\n    return Template.instance().isLoading.get();\n  },\n  loginFailedError: function () {\n    return Template.instance().loginFailedError.get();\n  },\n  messages: function () {\n    // console.log(Template.instance().formMessages.get())\n    return Template.instance().formMessages.get();\n  },\n\n  hasError(error) {\n    // True here means the field is valid\n    // We're checking if theres some other message to display\n    if (error !== true && typeof error !== \"undefined\") {\n      return \"has-error has-feedback\";\n    }\n\n    return false;\n  },\n\n  formErrors() {\n    return Template.instance().formErrors.get();\n  },\n\n  uniqueId: function () {\n    // return Template.instance().uniqueId;\n    return 1;\n  },\n\n  services() {\n    let serviceHelper = new ReactionServiceHelper();\n    return serviceHelper.services();\n  },\n\n  shouldShowSeperator() {\n    let serviceHelper = new ReactionServiceHelper();\n    let services = serviceHelper.services();\n\n    let enabledServices = _.where(services, {\n      enabled: true\n    });\n\n    return !!Package[\"accounts-password\"] && enabledServices.length > 0;\n  },\n\n  hasPasswordService() {\n    return !!Package[\"accounts-password\"];\n  }\n\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"validation.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/accounts/validation.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n$.validator.setDefaults({\n  rules: {\n    \"address.address\": {\n      required: true,\n      minlength: 2\n    },\n    \"contacts.0.phone\": {\n      required: false,\n      digits: true // minlength:10,\n      // maxlength:10\n\n    },\n    \"baths\": {\n      required: true,\n      range: [1, 100]\n    },\n    \"numBedRoomCount\": {\n      required: true,\n      range: [1, 100]\n    },\n    email: {\n      email: true\n    } // password: {\n    //     required: true,\n    //     minlength: 6\n    // }\n\n  },\n  messages: {\n    email: {\n      required: \"You must enter an email address.\",\n      email: \"You've entered an invalid email address.\"\n    },\n    password: {\n      required: \"You must enter a password.\",\n      minlength: \"Your password must be at least {0} characters.\"\n    }\n  }\n});\nwindow.LoginFormValidation = {\n  username: function (username) {\n    // Valid\n    if (username.length >= 3) {\n      return true;\n    } // Invalid\n\n\n    return {\n      \"error\": \"INVALID_USERNAME\",\n      \"reason\": \"Username must be at least 3 characters long\"\n    };\n  },\n  mobile: function (mobile, optional) {\n    mobile = mobile.trim(); // Valid\n\n    if (optional === true && mobile.length === 0) {\n      return true;\n    } else if (/^\\d{10}$/.test(mobile)) {\n      return true;\n    }\n\n    if (mobile.length === 0) {\n      //Removed 10 digit validation.\n      // Invalid\n      return {\n        error: \"INVALID_MOBILE\",\n        reason: \"Please enter a valid mobile number\" //\"Please enter a valid 10 digit mobile number in format 0891234567\"\n\n      };\n    }\n\n    return true;\n  },\n  email: function (email, optional) {\n    email = email.trim();\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // Valid\n\n    if (optional === true && email.length === 0) {\n      return true;\n    } else if (re.test(email)) {\n      return true;\n    } // Invalid\n\n\n    return {\n      error: \"INVALID_EMAIL\",\n      reason: \"Please enter a valid email address in format pat@gmail.com\"\n    };\n  },\n  password: function (password, options) {\n    // Must have one number and/or symbol\n    var validPasswordRegex = /^.*(?=.*[a-z])(?=.*[\\d\\W]).*$/;\n    options = options || {}; // Only check if a password has been entered at all.\n    // This is usefull for the login forms\n\n    if (options.validationLevel === 'exists') {\n      if (password.length > 0) {\n        return true;\n      } else {\n        return {\n          error: \"INVALID_PASSWORD\",\n          reason: \"Password is required\"\n        };\n      }\n    }\n\n    if (options.validationLevel === 'length') {\n      if (password.length < 6) {\n        return {\n          error: \"INVALID_PASSWORD\",\n          reason: \"Password must be at least 6 characters long\"\n        };\n      } else if (password.length > 30) {\n        return {\n          error: \"INVALID_PASSWORD\",\n          reason: \"Password must be less than 30 characters long\"\n        };\n      } else return true;\n    } // ---\n    // Validate the password pased on some rules\n    // This is useful for cases where a password needs to be created or updated.\n    //\n\n\n    if (password.length < 6) {\n      return {\n        error: \"INVALID_PASSWORD\",\n        reason: \"Password must be at least 6 characters long\"\n      };\n    }\n\n    if (password.match(validPasswordRegex) === null) {\n      return {\n        error: \"INVALID_PASSWORD\",\n        reason: \"Password must have one number and/or symbol\"\n      };\n    } // Otherwise the password is valid\n\n\n    return true;\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"template.main.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/template.main.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<!-- Google Tag Manager (noscript) -->\\n    <noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-NLVCPLK\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\\n    <!-- End Google Tag Manager (noscript) -->\\n    <noscript><div style=\"padding: 40px; font-size: 200%; text-align: center;\">This site requires JavaScript. Please enable it in your browser settings.</div></noscript>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"loading\");\nTemplate[\"loading\"] = new Template(\"Template.loading\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"container text-center mar-top-20 pad-btm-30\">\\n        <div class=\"filter-holder\">\\n            <div class=\"mar-top-30\">\\n                <h2>Loading...</h2>\\n            </div>\\n        </div>\\n    </div>');\n}));\n\nTemplate.__checkName(\"notFound\");\nTemplate[\"notFound\"] = new Template(\"Template.notFound\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"container text-center mar-top-20 pad-btm-30\">\\n        <div class=\"filter-holder\">\\n            <div class=\"mar-top-30\">\\n                <h2>Page Not Found</h2><br>\\n                <button class=\"blue-btn btns backBtn\" type=\"button\">Try again</button>\\n            </div>\\n        </div>\\n    </div>');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/**\n * Created by njanjanam on 05/04/2017.\n */\nTemplate.notFound.events({\n  \"click .backBtn\": function (event, template) {\n    var prevRoute = Session.get('prevRoute');\n\n    if (prevRoute) {\n      Router.go(prevRoute.name, prevRoute.args);\n      Session.set('prevRoute', false);\n\n      if (prevRoute.scrollTo) {\n        scrollTo(prevRoute.scrollTo, 0, 500);\n      }\n    } else {\n      history.go(-1);\n    }\n  }\n});\nTemplate.registerHelper(\"cdnPath\", function (url) {\n  return cdnPath(url);\n});\nTemplate.registerHelper(\"pathFor\", function (hash) {\n  try {\n    var params = {};\n    var query = {};\n    var route = '';\n    if (typeof hash === 'string' || hash instanceof String) route = hash;\n\n    if (hash.hash) {\n      if (hash.hash.route) {\n        route = hash.hash.route;\n        delete hash.hash.route;\n      }\n\n      if (hash.hash.query) {\n        query = hash.hash.query;\n        delete hash.hash.query;\n      }\n\n      if (hash.hash.data) {\n        params = hash.hash.data;\n        delete hash.hash.data;\n      } else {\n        params = hash.hash;\n      }\n    }\n\n    return FlowRouter.path(route, params, query); // return FlowRouter.path(pathDef, params, queryParams);\n  } catch (e) {\n    console.log(e);\n  }\n\n  return '';\n});\nTemplate.registerHelper(\"urlFor\", function (hash) {\n  try {\n    var params = {};\n    var query = {};\n    var route = '';\n    if (typeof hash === 'string' || hash instanceof String) route = hash;\n\n    if (hash.hash) {\n      if (hash.hash.route) {\n        route = hash.hash.route;\n        delete hash.hash.route;\n      }\n\n      if (hash.hash.query) {\n        query = hash.hash.query;\n        delete hash.hash.query;\n      }\n\n      if (hash.hash.data) {\n        params = hash.hash.data;\n        delete hash.hash.data;\n      } else {\n        params = hash.hash;\n      }\n    }\n\n    return FlowRouter.url(route, params, query);\n  } catch (e) {\n    console.log(e);\n  }\n\n  return '';\n});\nTemplate.registerHelper(\"hostname\", function () {\n  return Meteor.absoluteUrl();\n});\nTemplate.registerHelper(\"titleCase\", function (str) {\n  return titleCase(str);\n});\nTemplate.registerHelper(\"nlToBr\", function (str) {\n  if (!str) return '';\n  return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n});\nTemplate.registerHelper(\"arrLength\", function (arr) {\n  if (Array.isArray(arr)) return arr.length;else 0;\n});\nTemplate.registerHelper(\"dontShow\", function () {\n  return false;\n});\nUI.registerHelper(\"getProfilePic\", function () {\n  var user = Meteor.user(); // debugger;\n  // if(user.services)\n  // if(user.services.twitter)\n  // if(user.services.twitter.profile_image_url){\n  //     return user.services.twitter.profile_image_url;\n  // }\n\n  if (user.profile.picture) {\n    try {\n      if (user.services.facebook) if (user.services.facebook.indexOf('?width=40') == -1) return user.profile.picture + \"?width=40\"; //@BCompatibility : adding ?width=40 to it\n    } catch (e) {}\n\n    return user.profile.picture;\n  }\n\n  return \"/images/user-img.png\";\n});\nUI.registerHelper(\"addCommaToEach\", function (arr) {\n  if (!arr) return '';\n  return arr.join(', ');\n});\nTemplate.registerHelper(\"objectToPairs\", function (object) {\n  return _.map(object, function (value, key) {\n    return {\n      key: key,\n      value: value\n    };\n  });\n});\nUI.registerHelper(\"dateFormat\", function (text) {\n  var date = new Date(text);\n  if (date.toString() == \"Invalid Date\") return 'N/A';\n  return date.toDateString();\n});\nUI.registerHelper(\"dateTimeFormat\", function (text) {\n  var date = new Date(text);\n  if (date.toString() == \"Invalid Date\") return 'N/A';\n  return date.toDateString() + ' ' + date.toLocaleTimeString();\n});\nUI.registerHelper(\"possessionDate\", function (inputDate) {\n  var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  var monthNames = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUNE\", \"JULY\", \"AUG\", \"SEPT\", \"OCT\", \"NOV\", \"DEC\"];\n  var date = new Date(inputDate);\n  var day = date.getDate();\n  var monthIndex = date.getMonth();\n  var year = date.getFullYear(); //return date.toDateString();\n\n  return monthNames[monthIndex] + ' ' + year;\n});\nTemplate.registerHelper(\"displayName\", function () {\n  try {\n    const user = Meteor.user();\n\n    if (user) {\n      if (user.profile && user.profile.name) {\n        return user.profile.name;\n      }\n    }\n  } catch (e) {}\n\n  return \"Guest\";\n});\nTemplate.registerHelper(\"fName\", function (displayUser) {\n  const user = displayUser || Meteor.user();\n\n  if (user && user.profile && user.profile.name) {\n    return user.profile.name.split(\" \")[0];\n  } else if (user && user.username) {\n    return user.username.name.split(\" \")[0];\n  }\n\n  if (user && user.services) {\n    const username = function () {\n      switch (false) {\n        case !user.services.twitter:\n          return user.services.twitter.first_name;\n\n        case !user.services.google:\n          return user.services.google.given_name;\n\n        case !user.services.facebook:\n          return user.services.facebook.first_name;\n\n        case !user.services.instagram:\n          return user.services.instagram.first_name;\n\n        case !user.services.pinterest:\n          return user.services.pinterest.first_name;\n\n        default:\n          return i18n.t(\"accountsUI.guest\") || \"Guest\";\n      }\n    }();\n\n    return username;\n  }\n\n  return i18n.t(\"accountsUI.signIn\") || \"Sign in\";\n});\nTemplate.registerHelper(\"numDifferentiation\", function (val) {\n  if (isNaN(val)) return 0;\n  val = parseInt(val);\n  if (val >= 1000000000) val = (val / 1000000000).toFixed(2) + ' Billion';else if (val >= 1000000) val = (val / 1000000).toFixed(2) + ' Million';else if (val >= 1000) val = val.toFixed(2);else val = val.toFixed(0);\n  return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n});\n\nisLoggedOn = function () {\n  if (Meteor.userId()) {\n    return true;\n  }\n\n  return false;\n};\n\nscrollTo = function (ele, adjustment, delay) {\n  setTimeout(function () {\n    if ($(ele).length) {\n      var to = $(ele).first().offset().top + adjustment;\n      if (to < 0) to = 0;\n      $('html, body').animate({\n        scrollTop: to\n      }, 500);\n    }\n  }, delay);\n};\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"imports\":{\"ui\":{\"layout\":{\"footer.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/footer.html                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.footer.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.footer.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/template.footer.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"footerExtended\");\nTemplate[\"footerExtended\"] = new Template(\"Template.footerExtended\", (function() {\n  var view = this;\n  return [ HTML.Raw(\"<!-- footer -->\\n    \"), HTML.SECTION({\n    class: \"footer-div\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"col-md-9 col-sm-12 col-xs-12 foot-menu\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"col-md-3 col-sm-3 col-xs-12 foot-logo\"\n  }, \"\\n                        \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"home\");\n    }\n  }, HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/spot-my-crib-logo.png\");\n    },\n    height: \"32px\",\n    alt: \"\"\n  })), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"col-md-9 col-sm-9 col-xs-12 pad0\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"col-md-4 col-sm-4 col-xs-12\"\n  }, \"\\n                            \", HTML.UL(HTML.Raw('\\n                                <li><h6 class=\"pad-bot-2\">TENANTS</h6></li>\\n                                '), HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"RouteB\"), \"rent-in-dublin-ireland\");\n    }\n  }, \"Rent in Dublin\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"RouteB\"), \"rent-in-cork-ireland\");\n    }\n  }, \"Rent in Cork\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"RouteB\"), \"rent-in-kildare-ireland\");\n    }\n  }, \"Rent in Kildare\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"RouteB\"), \"rent-in-galway-ireland\");\n    }\n  }, \"Rent in Galway\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"RouteB\"), \"rent-in-meath-ireland\");\n    }\n  }, \"Rent in Meath\")), HTML.Raw(\"\\n                                <!--<li><a href=\\\"{{urlFor 'privacy'}}\\\">Student Accomodiation</a></li>-->\\n                                <!--<li><a href=\\\"{{urlFor 'cookiepolicy'}}\\\">Apartment Sharing</a></li>-->\\n                                <!--<li><a href=\\\"{{urlFor 'cookiepolicy'}}\\\">Holiday Homes</a></li>-->\\n                            \")), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n    class: \"col-md-4 col-sm-4 col-xs-12\"\n  }, \"\\n                            \", HTML.UL(HTML.Raw('\\n                                <!--<h6>SpotMyCrib</h6>-->\\n                                <li><h6 class=\"pad-bot-2\">LANDLORS</h6></li>\\n                                '), HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"advertisewithus\");\n    }\n  }, \"List My Property\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"estateagent\");\n    }\n  }, \"Estate Agents/Landlords\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"howitworks\");\n    }\n  }, \"How it Works?\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"faqs\");\n    }\n  }, \"FAQs\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"contactus\");\n    }\n  }, \"Contact Us\")), HTML.Raw('\\n\\n                                <!--<li><a id=\"video1\" style=\"cursor: pointer;\">How it Works?</a></li>-->\\n                            ')), \"\\n                        \"), HTML.Raw('\\n                        <!--<div class=\"col-md-4 col-sm-4 col-xs-12\">-->\\n                        <!--<ul>-->\\n                        <!--&lt;!&ndash;<h6>SpotMyCrib</h6>&ndash;&gt;-->\\n                        <!--<li><h6 class=\"pad-bot-2\">COMPANY</h6></li>-->\\n                        <!--<li><a href=\"{{urlFor \\'about\\'}}\">About Us</a></li>-->\\n                        <!--&lt;!&ndash;<li><a href=\"{{urlFor \\'howitworks\\'}}\" >How it Works?</a></li>&ndash;&gt;-->\\n                        <!--&lt;!&ndash;<li><a href=\"{{urlFor \\'estateagent\\'}}\">Estate Agents/Landlords</a></li>&ndash;&gt;-->\\n                        <!--&lt;!&ndash;<li><a href=\"{{urlFor \\'faqs\\'}}\">FAQs</a></li>&ndash;&gt;-->\\n                        <!--<li><a href=\"{{urlFor \\'contactus\\'}}\">Contact Us</a></li>-->\\n\\n                        <!--&lt;!&ndash;<li><a id=\"video1\" style=\"cursor: pointer;\">How it Works?</a></li>&ndash;&gt;-->\\n                        <!--</ul>-->\\n                        <!--</div>-->\\n                        '), HTML.DIV({\n    class: \"col-md-4 col-sm-4 col-xs-12\"\n  }, \"\\n                            \", HTML.UL(HTML.Raw('\\n                                <!--<ul class=\"new-footer\">-->\\n                                <li><h6 class=\"pad-bot-2\">SPOTMYCRIB</h6></li>\\n                                <!--<li><h6 class=\"pad-bot-2\">LEGAL</h6></li>-->\\n                                '), HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"about\");\n    }\n  }, \"About Us\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"bloghome\");\n    }\n  }, \"Blog\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"careers\");\n    }\n  }, \"Careers\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"gdpr\");\n    }\n  }, \"Data Protection / EU GDPR\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"terms\");\n    }\n  }, \"Legal\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"privacy\");\n    }\n  }, \"Privacy Policy\")), \"\\n                                \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"urlFor\"), \"cookiepolicy\");\n    }\n  }, \"Cookie Policy\")), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.DIV({\n    class: \"col-md-3 col-sm-12 col-xs-12 social-icon\"\n  }, HTML.Raw('\\n                    <!--<div class=\"col-md-5 col-sm-12 col-xs-12 padding0\">-->\\n                    <!--&lt;!&ndash;<ul class=\"toll-free\">&ndash;&gt;-->\\n                    <!--&lt;!&ndash;<li><a href=\"tel:+353892213737\">&ndash;&gt;-->\\n                    <!--&lt;!&ndash;<div class=\"pull-left menu-padding\"><img src=\"/images/call-icon.png\" /></div>&ndash;&gt;-->\\n                    <!--&lt;!&ndash;<div class=\"pull-right\">&ndash;&gt;-->\\n                    <!--&lt;!&ndash;<h4 class=\"text-left\">CALL US</h4>&ndash;&gt;-->\\n                    <!--&lt;!&ndash;<h5 style=\"line-height: 15px;\">+353 892213737</h5>&ndash;&gt;-->\\n                    <!--&lt;!&ndash;</div></a>&ndash;&gt;-->\\n                    <!--&lt;!&ndash;</li>&ndash;&gt;-->\\n                    <!--&lt;!&ndash;</ul>&ndash;&gt;-->\\n                    <!--</div>-->\\n                    '), HTML.DIV({\n    class: \"col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n                        \", HTML.UL(\"\\n                            \", HTML.LI(HTML.A({\n    href: \"https://www.facebook.com/SpotMyCrib/\",\n    target: \"_blank\"\n  }, HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/facebook-icon.png\");\n    },\n    alt: \"\"\n  }))), \"\\n                            \", HTML.LI(HTML.A({\n    href: \"https://twitter.com/SpotMyCrib\",\n    target: \"_blank\"\n  }, HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/twitter-icon.png\");\n    },\n    alt: \"\"\n  }))), \"\\n                            \", HTML.LI(HTML.A({\n    href: \"https://www.linkedin.com/company/11223356/\",\n    target: \"_blank\"\n  }, HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/linkedin-icon.png\");\n    },\n    alt: \"\"\n  }))), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw('\\n    <section class=\"copyright\" style=\"display:none;\">\\n        <div class=\"container\">\\n            <ul class=\"footer-left visible-md\">\\n                <!--<li>Copyright &copy; 2017 SpotMyCrib. All rights reserved. </li>-->\\n                <li>SpotMyCrib. </li>\\n            </ul>\\n            <!--<ul class=\"footer-right\">-->\\n            <!--<li><a href=\"{{urlFor \\'privacy\\'}}\" >Privacy Policy</a></li>-->\\n            <!--<li><a href=\"{{urlFor \\'terms\\'}}\">Terms and Conditions</a></li>-->\\n            <!--</ul>-->\\n            <ul class=\"footer-left hidden-md\">\\n                <li>SpotMyCrib. </li>\\n            </ul>\\n        </div>\\n    </section>\\n    <!-- footer -->\\n\\n    <!-- video -->\\n    <div id=\"video-div1\" style=\"display:none;\">\\n        <iframe width=\"560\" height=\"315\" src=\"\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\\n    </div>\\n    <!-- video -->') ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"header.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/header.html                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.header.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.header.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/template.header.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"headerExtended\");\nTemplate[\"headerExtended\"] = new Template(\"Template.headerExtended\", (function() {\n  var view = this;\n  return [ Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showCookieConsent\"));\n  }, function() {\n    return [ \"\\n        \", HTML.SECTION({\n      class: \"scroll-menu-div cookieConsentArea\",\n      style: \"\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"container\"\n    }, \"\\n\\n                \", HTML.DIV({\n      class: \"scroll-menu\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"left-menu text-center\",\n      style: \"color: white;\"\n    }, HTML.P(\"  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"cookiepolicy\");\n      },\n      class: \"\"\n    }, \" cookie policy \"), HTML.Raw('.<button class=\"green-btn btns cookieConsentBtn\" type=\"button\" style=\"\\n    margin-left: 20px;\\n\">I understand</button>')), \"\\n\\n                    \"), \"\\n\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \" ];\n  }), HTML.Raw(\"\\n    <!-- Header -->\\n    \"), HTML.SECTION({\n    class: \"header\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, HTML.Raw('\\n                <div class=\"xs-menu-icon-master\">\\n                <div class=\"xs-menu-icon\">\\n                    <span class=\"menu-xs sprite\"></span>\\n                </div>\\n                </div>\\n\\n                '), HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                    \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"home\");\n    }\n  }, \"\\n                        \", HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/spot-my-crib-logo.png\");\n    },\n    alt: \"\",\n    class: \"logo-big\"\n  }), \"\\n                        \", HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/spotmycrib-logo-130.jpg\");\n    },\n    alt: \"\",\n    class: \"logo-xs\"\n  }), \"\\n                    \"), \"\\n                \"), \"\\n                \", HTML.DIV({\n    class: \"menu\"\n  }, \"\\n\\n                    \", HTML.UL(HTML.Raw('\\n                        <!--<li><a href=\"tel:+353892213737\"><div class=\"pull-left menu-padding\"><img src=\"/images/call-icon.png\" /></div>-->\\n                        <!--<div class=\"pull-right hidden-xs hidden-sm\">-->\\n                        <!--<h4 class=\"text-left\">CALL US</h4>-->\\n                        <!--<h5>+353 892213737</h5>-->\\n                        <!--</div></a>-->\\n                        <!--</li>-->\\n                        <!--<li class=\"right-border hidden-xs\"><a href=\"{{pathFor \\'about\\'}}\">ABOUT US</a></li>-->\\n                        <!--<li class=\"right-border hidden-xs\"><a href=\"{{pathFor \\'faqs\\'}}\">FAQ</a></li>-->\\n                        <!--<li class=\"hidden-xs\"><a href=\"{{pathFor \\'contactus\\'}}\">CONTACT US</a></li>-->\\n                        <li class=\"hidden-xs\"><button class=\"btns green-btn addPropertyHeaderBtn\" type=\"button\"><span class=\"glyphicon glyphicon-object-align-bottom\" aria-hidden=\"true\"></span> Advertise property</button></li>\\n                        '), Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                            \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"isAgentRole\"));\n    }, function() {\n      return [ \"\\n                                \", HTML.LI({\n        class: \"login-menu hidden-xs\"\n      }, HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/mybids\");\n        }\n      }, \"MY BIDS\")), \"\\n                            \" ];\n    }), \"\\n                            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isAgentRole\"));\n    }, function() {\n      return [ \"\\n                                \", HTML.LI({\n        class: \"login-menu hidden-xs\"\n      }, HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/myProperties\");\n        }\n      }, HTML.Raw('<span class=\"glyphicon glyphicon-object-align-bottom\" aria-hidden=\"true\"></span> MY PROPERTIES'))), \"\\n                            \" ];\n    }), \"\\n                            \", HTML.LI({\n      class: \"login-menu hidden-xs\"\n    }, HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/profile\");\n      }\n    }, HTML.Raw('<span class=\"glyphicon glyphicon-check\" aria-hidden=\"true\"></span> MY REFERENCES'))), HTML.Raw('\\n                            <li class=\"login-menu hidden-xs\"><a href=\"javascript:void(0);\" class=\"logoutBtn\">SIGN OUT</a></li>\\n                            '), HTML.LI(\"\\n                                \", HTML.DIV({\n      class: \"navbar-accounts\"\n    }, \"\\n                                    \", HTML.DIV({\n      class: \"dropdown\",\n      role: \"menu\"\n    }, \"\\n                                        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n                                            \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/profile\");\n        }\n      }, \"\\n                                                \", HTML.IMG({\n        class: \"circular-icon profileBtn\",\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"getProfilePic\"));\n        },\n        width: \"40px\",\n        height: \"40px\"\n      }), \"\\n                                                \", HTML.SPAN({\n        id: \"logged-in-display-name profileBtn\"\n      }, \" \", Blaze.View(\"lookup:displayName\", function() {\n        return Spacebars.mustache(view.lookup(\"displayName\"));\n      }), HTML.Raw('\\n                                                    <!--<b class=\"caret\"></b>-->\\n                                                ')), \"\\n                                            \"), \"\\n                                            \", Blaze.If(function() {\n        return false;\n      }, function() {\n        return [ \"\\n                                            \", HTML.DIV({\n          class: \"dropdown-toggle\",\n          \"data-toggle\": \"dropdown\",\n          \"data-hover\": \"dropdown\",\n          \"data-delay\": \"1000\",\n          id: \"avatardropdown\"\n        }, \"\\n\\n                                                \", HTML.IMG({\n          class: \"circular-icon profileBtn\",\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"getProfilePic\"));\n          },\n          width: \"40px\",\n          height: \"40px\"\n        }), \"\\n                                                \", HTML.SPAN({\n          id: \"logged-in-display-name profileBtn\"\n        }, \" \", Blaze.View(\"lookup:displayName\", function() {\n          return Spacebars.mustache(view.lookup(\"displayName\"));\n        }), HTML.Raw('\\n                                                    <!--<b class=\"caret\"></b>-->\\n                                                ')), HTML.Raw('\\n                                                <!--<div class=\"btn btn-primary btn-block logoutBtn\" id=\"\">Sign Out</div>-->\\n                                            ')), HTML.Raw('\\n                                            <div class=\"dropdown-menu pull-right\" role=\"menu\" aria-labelledby=\"avatardropdown\">\\n                                                <div class=\"user-accounts-dropdown\">\\n                                                    <div class=\"user-accounts-dropdown-content\">\\n\\n                                                    </div>\\n                                                    <div class=\"btn btn-primary btn-block profileBtn\"><span class=\"glyphicon glyphicon-cog\" aria-hidden=\"true\"></span> Settings</div>\\n                                                    <div class=\"btn btn-primary btn-block logoutBtn\" id=\"logout\">Sign Out</div>\\n                                                </div>\\n                                            </div>\\n                                            ') ];\n      }), \"\\n                                        \" ];\n    }, function() {\n      return [ \"\\n                                            \", HTML.DIV({\n        class: \"accounts-dropdown\",\n        \"data-event-category\": \"accounts\",\n        \"data-event-action\": \"accounts-dropdown-click\"\n      }, HTML.Raw('\\n                                                <div class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-hover=\"dropdown\" data-delay=\"1000\">\\n                                                    <span data-i18n=\"accountsUI.signIn\">Sign In</span><b class=\"caret\"></b></div>\\n                                                '), HTML.DIV({\n        class: \"accounts-dialog accounts-layout dropdown-menu pull-right\"\n      }, \"\\n                                                    \", Spacebars.include(view.lookupTemplate(\"loginForm\")), \"\\n                                                \"), \"\\n                                            \"), \"\\n                                        \" ];\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n\\n                        \" ];\n  }, function() {\n    return HTML.Raw('\\n                            <ul class=\"oval logedout-menu\">\\n                                <li><a class=\"right-border showLoginDialog\" href=\"javascript:;\">SIGN IN</a></li>\\n                                <li><a href=\"javascript:;\" class=\"showSignupDialog\">SIGN UP</a></li>\\n                                    <!--{{#if showLoginDialog}}-->\\n                                <!--<span class=\"closeLoginDialog\" style=\"position: relative;top: 33px;right: -37px;z-index: 3500;cursor: pointer;\"><i class=\"fa fa-times\"></i></span>-->\\n                                <!--<div class=\"accounts-dialog accounts-layout dropdown-menu pull-right\"-->\\n                                <!--style=\"display:block;    top: 55px;right: 25px;\">-->\\n                                <!--{{> loginForm}}-->\\n                                <!--</div>-->\\n                                    <!--{{/if}}-->\\n                            </ul>\\n                        ');\n  }), \"\\n                    \"), \"\\n                \"), \"\\n                \", HTML.DIV({\n    class: \"xs-menu visible-xs transition\"\n  }, HTML.Raw('\\n                    <div class=\"xs-menu-close-icon text-right\">\\n                        <span class=\"sprite xs-close\"></span>\\n                    </div>\\n                    '), HTML.UL({\n    class: \"transition\"\n  }, \"\\n                        \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"home\");\n    }\n  }, \"HOME / SEARCH\")), \"\\n                        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                            \", HTML.LI(HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/profile\");\n      }\n    }, \"MY REFERENCES\")), \"\\n                        \" ];\n  }), \"\\n                        \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"advertisewithus\");\n    }\n  }, \"LIST PROPERTY\")), \"\\n                        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                            \", HTML.LI(HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/myProperties\");\n      }\n    }, \"MY PROPERTIES\")), \"\\n                        \" ];\n  }), \"\\n                        \", Blaze.If(function() {\n    return false;\n  }, function() {\n    return [ \"\\n                            \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"isAgentRole\"));\n    }, function() {\n      return HTML.Raw('\\n                                <!--<li><a href=\"{{pathFor \"account/mybids\"}}\">MY BIDS</a></li>-->\\n                            ');\n    }), \"\\n                            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isAgentRole\"));\n    }, function() {\n      return [ \"\\n                                \", HTML.LI(HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/myProperties\");\n        }\n      }, \"MY PROPERTIES\")), \"\\n                            \" ];\n    }), \"\\n                            \", HTML.LI(HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"account/profile\");\n      }\n    }, \"MY PROFILE\")), \"\\n                        \" ];\n  }), \"\\n                        \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"estateagent\");\n    }\n  }, \"AGENTS/LANDLORDS\")), \"\\n                        \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"howitworks\");\n    }\n  }, \"HOW IT WORKS?\")), \"\\n                        \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"faqs\");\n    }\n  }, \"FAQ\")), HTML.Raw(\"\\n                        <!--<li><a href=\\\"{{pathFor 'about'}}\\\">ABOUT US</a></li>-->\\n                        \"), HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"contactus\");\n    }\n  }, \"CONTACT US\")), \"\\n                        \", HTML.LI(HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"careers\");\n    }\n  }, \"CAREERS\")), \"\\n                        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return HTML.Raw('\\n                            <li><a href=\"javascript:void(0);\" class=\"logoutBtn\">SIGN OUT</a></li>\\n                        ');\n  }), \"\\n\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n\\n\\n    \"), \"\\n\\n    \", Blaze.View(\"lookup:loginFlowCompleteManager\", function() {\n    return Spacebars.mustache(view.lookup(\"loginFlowCompleteManager\"));\n  }), \"\\n    \", HTML.DIV({\n    id: \"errorModel\",\n    class: \"alert alert-danger \",\n    style: \"display:none;\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"errorModel\"));\n  }, function() {\n    return HTML.P(Blaze.View(\"lookup:.\", function() {\n      return Spacebars.mustache(view.lookup(\".\"));\n    }));\n  }), \"\\n    \"), \"\\n    \", HTML.DIV({\n    id: \"signin-div\",\n    class: \"signin1\",\n    style: \"display:none;\"\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showLoginDialog\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"loginForm\")), \"\\n        \" ];\n  }), \"\\n    \"), \"\\n    \", HTML.DIV({\n    id: \"addPropertyHeader-div\",\n    class: \"signin1\",\n    style: \"display:none;\"\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showAddPropertyHeaderTemplate\"));\n  }, function() {\n    return [ \"\\n            \", HTML.SECTION({\n      class: \"mar-top-20 no-print\"\n    }, \"\\n                \", HTML.DIV({\n      class: \"container\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"filter-holder\"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"head-border-bottom\"\n    }, HTML.Raw('\\n\\n                            <div class=\"refund-div\">\\n                                <h2 style=\"text-align:center;font-weight:bold;\">List Your Rental For Free</h2>\\n                            </div>\\n                            '), HTML.DIV({\n      style: \"margin-top:25px;\"\n    }, \"\\n                                \", Spacebars.include(view.lookupTemplate(\"addPropertyHeaderTemplate\")), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n\\n            \"), \"\\n        \" ];\n  }), \"\\n    \"), HTML.Raw(\"\\n\\n    <!-- <noscript><iframe src=\\\"//www.googletagmanager.com/ns.html?id=GTM-KQSCJ4\\\"\\n            height=\\\"0\\\" width=\\\"0\\\" style=\\\"display:none;visibility:hidden\\\"></iframe></noscript>\\n            <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n              new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n              j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n              '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n                })(window,document,'script','dataLayer','GTM-KQSCJ4');</script> -->\") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"layout.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/layout.html                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.layout.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.layout.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/template.layout.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"reactLayout\");\nTemplate[\"reactLayout\"] = new Template(\"Template.reactLayout\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"headerExtended\")), \"\\n    \", HTML.MAIN({\n    role: \"main\",\n    id: \"main\"\n  }, \"\\n        \", Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"templateName\")),\n      data: Spacebars.call(view.lookup(\"dataContext\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  }), \"\\n    \"), \"\\n    \", HTML.FOOTER({\n    class: \"footer-default\"\n  }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"footerExtended\")), \"\\n    \") ];\n}));\n\nTemplate.__checkName(\"reactPlainLayout\");\nTemplate[\"reactPlainLayout\"] = new Template(\"Template.reactPlainLayout\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"templateName\")),\n      data: Spacebars.call(view.lookup(\"dataContext\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  });\n}));\n\nTemplate.__checkName(\"printExtended\");\nTemplate[\"printExtended\"] = new Template(\"Template.printExtended\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"yield\")), HTML.Raw(\"<!---->\") ];\n}));\n\nTemplate.__checkName(\"plainLayout\");\nTemplate[\"plainLayout\"] = new Template(\"Template.plainLayout\", (function() {\n  var view = this;\n  return Spacebars.include(view.lookupTemplate(\"yield\"));\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"footer.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/footer.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 0);\nmodule.link(\"./footer.html\");\nTemplate.footerExtended.helpers({\n  RouteB: function (slug) {\n    return FlowRouter.url('b', {\n      slug: slug\n    });\n  } // customSocialSettings: function() {\n  //   return {\n  //     placement: 'footer',\n  //     faClass: 'square',\n  //     faSize: 'fa-3x',\n  //     appsOrder: ['facebook', 'twitter', 'pinterest', 'googleplus']\n  //   };\n  // }\n\n}); // Template.footerExtended.replaces(\"layoutFooter\");\n// Template.footerExtended.onRendered(function(){\n//  $(\"#video1\").click(function () {\n//     $.fancybox({\n//       'padding': 0,\n//       'href': '#video-div1',\n//     });\n//   });\n//  });\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"header.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/header.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 0);\nmodule.link(\"./header.html\");\nTemplate.headerExtended.onRendered(function () {\n  $.getScript(cdnPath('/js/bootstrap.js'), function () {// console.log(\"Bootstrap loaded\")\n  }); // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n  //     console.log(\"Filestack loaded\")\n  // });\n\n  $.getScript('plugins/fancybox/js/jquery.fancybox.js', function () {\n    // script should be loaded and do something with it.\n    $('.fancybox').fancybox({\n      scrolling: 'no',\n      helpers: {\n        overlay: {\n          locked: true\n        }\n      }\n    });\n  });\n  setTimeout(delayedFunctions, 1500);\n});\nisMobileMenuEventAttached = false;\n\nfunction delayedFunctions() {\n  // $('.xs-menu-icon').click(function(){\n  //     $('.xs-menu').addClass('slide-right');\n  // });\n  // $('.xs-menu-close-icon, .xs-menu a').click(function(){\n  //     $('.xs-menu').removeClass('slide-right');\n  // });\n  // if(!isMobileMenuEventAttached) {\n  $(document).unbind('click').bind('click', function (e) {\n    if (!$('.xs-menu').hasClass('slide-right')) {\n      //Its not open\n      if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n        if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n        $('.xs-menu').addClass('slide-right');\n        return true;\n      } else return true;\n    } else {\n      //Its open\n      if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n        $('.xs-menu').removeClass('slide-right');\n        if (FlowRouter.current().route.name == 'home') setTimeout(function () {\n          if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n        }, 250);\n        return true;\n      }\n    }\n  }); // isMobileMenuEventAttached = true;\n  // }\n}\n\nTemplate.headerExtended.onCreated(function () {\n  Session.set('showLoginDialog', false);\n  Session.set('showForgotForm', false);\n  Session.set('showLoginDialog', false);\n  Session.set('showLoginSignupFancyBoxDialog', false);\n  Session.set('showAddPropertyHeaderTemplate', false);\n  Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n  if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n});\nTemplate.headerExtended.helpers({\n  loginFlowCompleteManager: function () {\n    if (Session.get('loginFlowComplete')) {\n      setTimeout(function () {\n        Session.set('loginFlowComplete', undefined);\n      }, 1000);\n    }\n  },\n  errorModel: function () {\n    var tmp = Session.get(\"showErrorDlg\");\n    if (!tmp) tmp = [];\n    if (tmp) if (tmp.length) {\n      var timeoutVal = 0;\n      if (!$.fancybox) timeoutVal = 3000;\n      setTimeout(function () {\n        $.fancybox({\n          'padding': 0,\n          'href': '#errorModel',\n          // afterShow:function(template){\n          //     setTimeout(function () {\n          //         $.fancybox.close();\n          //     },3000)\n          // },\n          afterClose: function () {\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.shift();\n            Session.set(\"showErrorDlg\", tmp);\n          }\n        });\n      }, timeoutVal);\n    }\n    return Session.get(\"showErrorDlg\");\n  },\n  showAddPropertyHeaderTemplate: function () {\n    if (Session.get('showAddPropertyHeaderFancyBoxDialog')) {\n      showAddPropertyHeaderPopup();\n    } else {\n      if ($) if ($.fancybox) $.fancybox.close();\n    }\n\n    return Session.get('showAddPropertyHeaderTemplate');\n  },\n  showLoginDialog: function () {\n    //Reason to create this method is for the lazyloading of signIn and signUp templates\n    if (Session.get('showLoginSignupFancyBoxDialog')) {\n      showLoginPopup();\n    } else {\n      if ($) if ($.fancybox) $.fancybox.close();\n    }\n\n    return Session.get('showLoginDialog');\n  },\n  isAgentRole: function () {\n    var user = Meteor.user();\n    if (!user) return false;\n\n    if (user.profile.role == 'agent') {\n      return true;\n    }\n\n    return false;\n  },\n  showCookieConsent: function () {\n    return !parseInt(readCookie('cookieConsent')); // var userConfig = Session.get('userConfig');\n    // if(!userConfig) return false;\n    // return userConfig.cookieConsent;\n  }\n});\nTemplate.headerExtended.events({\n  \"click .showLoginDialog\": function (event, template) {\n    showLoginDialog();\n  },\n  \"click .showSignupDialog\": function (event, template) {\n    showSignupDialog();\n  },\n  \"click .logoutBtn\": function () {\n    Meteor.logout(function (err) {\n      if (err) {\n        throw new Meteor.Error(\"Logout failed\");\n      }\n    });\n  },\n  \"click .addPropertyHeaderBtn\": function () {\n    FlowRouter.go('advertisewithus');\n    console.log(\"added add property form\"); // Session.set('showAddPropertyHeaderTemplate',true)\n    //        Session.set('showAddPropertyHeaderFancyBoxDialog',true)\n  },\n  \"click .profileBtn\": function () {\n    FlowRouter.go('account/profile');\n  },\n  \"click .cookieConsentBtn\": function () {\n    createCookie('cookieConsent', 1, 365);\n    $('.cookieConsentArea').remove(); // var userConfig = Session.get('userConfig');\n    //\n    // if(!userConfig){\n    //     Session.set('userConfig',{cookieConsent:1})\n    // }else if(!userConfig.cookieConsent){\n    //     Session.set('userConfig',{cookieConsent:1})\n    // }\n  }\n});\n\nfunction showLoginDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', false);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showSignupDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', true);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showLoginPopup() {\n  $.fancybox({\n    'padding': 0,\n    'href': '#signin-div',\n    afterClose: function (template) {\n      console.log(template); //template.showLoginDialog.set(false);\n\n      Session.set('isLandLordMode', false);\n      Session.set('showLoginDialog', false);\n      Session.set('showLoginSignupFancyBoxDialog', false);\n    }\n  });\n}\n\nfunction showAddPropertyHeaderPopup() {\n  $.fancybox({\n    'padding': 0,\n    'href': '#addPropertyHeader-div',\n    afterClose: function (template) {\n      //console.log(template);\n      Session.set('showAddPropertyHeaderTemplate', false);\n      Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n    }\n  });\n}\n\nfunction createCookie(name, value, days) {\n  var expires = \"\";\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toUTCString();\n  }\n\n  document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n}\n\nfunction eraseCookie(name) {\n  createCookie(name, \"\", -1);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"layout.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layout/layout.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./layout.html\");\nmodule.link(\"./header.js\");\nmodule.link(\"./footer.js\");\n\nif (Meteor.isClient) {\n  Meteor.startup(function () {\n    Blaze._allowJavascriptUrls();\n  });\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"templates\":{\"editProperty.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/editProperty.html                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.editProperty.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.editProperty.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.editProperty.js                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"editProperty\");\nTemplate[\"editProperty\"] = new Template(\"Template.editProperty\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"propertyFound\"));\n      }, function() {\n        return [ \"\\n    \", HTML.SECTION({\n          class: \"unitspage-holder\"\n        }, \"\\n        \", HTML.SECTION({\n          class: \"logo-below-div\"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"logo-holder-div\"\n        }, \"\\n                    \", HTML.DIV({\n          class: \"logo-holder\"\n        }, \"\\n                        \", HTML.UL(\"\\n                            \", HTML.LI(HTML.SPAN({\n          class: \"backBtn\",\n          style: \"cursor: pointer;\"\n        }, HTML.IMG({\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/back-arrow.png\");\n          }\n        }))), \"\\n                            \", HTML.LI({\n          class: \"longTitle\"\n        }, HTML.H3(Blaze.View(\"lookup:propertyData.address.address\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"address\"));\n        }), \" \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n        }, function() {\n          return [ \", \", Blaze.View(\"lookup:propertyData.address.area\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n          }), \" \" ];\n        }), Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n        }, function() {\n          return [ \", \", Blaze.View(\"lookup:propertyData.address.county\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n          }), \" \" ];\n        }), \" \"), \"\\n                            \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"auction\"));\n        }, function() {\n          return [ \"\\n                                \", HTML.H4(\"PROPERTY KEY : \", Blaze.View(\"lookup:propertyData.auction.lettingAuctionCode\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"auction\", \"lettingAuctionCode\"));\n          }), \"\\n                                    \", HTML.SPAN({\n            class: \"auction-number pad-left-15\"\n          }, HTML.A({\n            target: \"_blank\",\n            href: function() {\n              return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n                route: \"letting\",\n                key: Spacebars.dot(view.lookup(\"propertyData\"), \"auction\", \"lettingAuctionCode\")\n              }));\n            },\n            class: \"viewListing\",\n            style: \"font-size:11px;\"\n          }, \"VIEW ADVERT\")), HTML.Raw('\\n                                    <span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\"><i class=\"glyphicon glyphicon-thumbs-up\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i> SHARE</a></span>\\n                                ')), \"\\n                            \" ];\n        }), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n          class: \"menu\"\n        }, \"\\n                        \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"auctionId\"));\n        }, function() {\n          return HTML.Raw('\\n                            <button class=\"transparent-btn btns deactivatePropertyBtn\" type=\"button\"><span class=\"glyphicon glyphicon-off\" aria-hidden=\"true\"></span> Deactivate</button>\\n                        ');\n        }), HTML.Raw('\\n                            <button class=\"transparent-btn btns archivePropertyBtn\" type=\"button\"><span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span> Archive</button>\\n\\n                    ')), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n\\n\\n        \", HTML.SECTION({\n          class: \"mar-top-20 \"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"filter-holder\"\n        }, \"\\n                    \", HTML.DIV({\n          class: \"head-border-bottom\"\n        }, \"\\n                        \", HTML.DIV({\n          class: \"apt-info1 background-white clearfix showEditAuctionForm autoFrm\"\n        }, \"\\n                            \", Spacebars.include(view.lookupTemplate(\"editPropertyForm\")), \"\\n\\n\\n                        \"), \"\\n\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), HTML.Raw('\\n\\n        <div class=\"verification-div1\" id=\"propertyLinkDlg\" style=\"display:none;\">\\n            <div class=\"refund-div\"><h2>Share Property</h2></div>\\n            <div class=\"profile-text text-left\">\\n                <p class=\"no-capitalize\">Please use this email to use in daft.ie, rent.ie etc ads.</p>\\n\\n                <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                    <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                        <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"agentPropertyEmailField\" id=\"agentPropertyEmailField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                    </div>\\n                    <button type=\"submit\" class=\"btn btn-primary col-sm-2 copyEmailBtn\">Copy</button>\\n                </form>\\n\\n                <p class=\"no-capitalize mar-top-15\">Please use this link to share in facebook, twitter etc. </p>\\n\\n                <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                    <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                        <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"propertyLinkField\" id=\"propertyLinkField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                    </div>\\n                    <button type=\"submit\" class=\"btn btn-primary col-sm-2 copyLinkBtn\">Copy</button>\\n                </form>\\n\\n                <form class=\"signin-form\">\\n\\n                    <div class=\"signup-btn\">\\n                        <button class=\"transparent-btn btns cancelBtn\" type=\"button\">CLOSE</button>\\n                    </div>\\n\\n                </form>\\n\\n            </div>\\n\\n        </div>\\n        '), HTML.DIV({\n          id: \"conf-dactivate-pop\",\n          class: \"confPopup\",\n          style: \"display:none;\"\n        }, HTML.Raw('\\n\\n            <div class=\"refund-div\"><h2>Confirm Deactivate?</h2></div>\\n            '), HTML.DIV({\n          class: \"profile-text\"\n        }, HTML.Raw(\"\\n                <h3>Are sure you want to deactivate ?</h3>\\n                \"), Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n        }, function() {\n          return [ HTML.P(\"This property has \", Blaze.View(\"lookup:propertyData.applicationsActiveCount\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n          }), \" active applications. You will not be able to choose any application if deactivated. \"), \"\\n                \" ];\n        }, function() {\n          return HTML.Raw(\"\\n                    <p></p>\\n                \");\n        }), \"\\n\\n                \", HTML.UL(\"\\n                    \", HTML.LI(HTML.BUTTON({\n          class: \"transparent-btn btns deactivateConfirmBtn\",\n          type: \"button\"\n        }, Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"deactivateInProgress\"));\n        }, function() {\n          return \"Deactivating...\";\n        }, function() {\n          return \"Deactivate\";\n        }))), HTML.Raw('\\n                    <li><button class=\"blue-btn btns closePopupBtn\" type=\"button\">Cancel</button></li>\\n                ')), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n          id: \"conf-archive-pop\",\n          class: \"confPopup\",\n          style: \"display:none;\"\n        }, HTML.Raw('\\n\\n            <div class=\"refund-div\"><h2>Confirm Archive?</h2></div>\\n            '), HTML.DIV({\n          class: \"profile-text\"\n        }, HTML.Raw(\"\\n                <h3>Are sure you want to archive? </h3>\\n                \"), Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n        }, function() {\n          return [ HTML.P(\"This property has \", Blaze.View(\"lookup:propertyData.applicationsActiveCount\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n          }), \" active applications. You will not be able to choose any application if deactivated. \"), \"\\n                \" ];\n        }, function() {\n          return HTML.Raw(\"\\n                    <p></p>\\n                \");\n        }), HTML.Raw(\"\\n                <p>Please note that archiving will also deactivate it and will disable all the applications received on it.</p>\\n\\n                \"), HTML.UL(\"\\n                    \", HTML.LI(HTML.BUTTON({\n          class: \"transparent-btn btns archiveConfirmBtn\",\n          type: \"button\"\n        }, Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"archiveInProgress\"));\n        }, function() {\n          return \"Archiving...\";\n        }, function() {\n          return \"Archive\";\n        }))), HTML.Raw('\\n                    <li><button class=\"blue-btn btns closePopupBtn\" type=\"button\">Cancel</button></li>\\n                ')), \"\\n            \"), \"\\n        \"), \"\\n\\n    \"), \"\\n\" ];\n      }, function() {\n        return HTML.Raw('\\n    <section class=\"mar-top-20 \">\\n        <div class=\"container text-center mar-top-20 pad-btm-30\">\\n            <div class=\"filter-holder\">\\n                <div class=\"mar-top-30\">\\n                        <strong>This property is not found. Please try again.</strong><br><br>\\n                        <button class=\"blue-btn btns backBtn\" type=\"button\">Try again</button>\\n                </div>\\n            </div>\\n        </div>\\n    </section>\\n');\n      }), \"\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"imageEditView\");\nTemplate[\"imageEditView\"] = new Template(\"Template.imageEditView\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"row\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"images\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"imgEditTag\")), \"\\n        \" ];\n  }), \"\\n\\n    \");\n}));\n\nTemplate.__checkName(\"imgEditTag\");\nTemplate[\"imgEditTag\"] = new Template(\"Template.imgEditTag\", (function() {\n  var view = this;\n  return [ HTML.Raw('<!--<div class=\"col-sm-3 col-xs-6\">-->\\n        '), HTML.DIV({\n    class: \"thumbnail\"\n  }, HTML.Raw('\\n            <div class=\"frow\">\\n                <a href=\"javascript:void(0)\" class=\"editImgBtn\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span> Edit</a>\\n                <a href=\"javascript:void(0)\" class=\"deleteImgBtn\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span> Delete</a>\\n            </div>\\n            '), HTML.DIV({\n    class: \"secrow\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"handle\"));\n  }, function() {\n    return [ \"\\n                    \", HTML.IMG({\n      src: function() {\n        return [ \"https://process.filestackapi.com/resize=width:250/\", Spacebars.mustache(view.lookup(\"handle\")) ];\n      },\n      alt: \"\",\n      class: \"img-responsive\"\n    }), \"\\n                \" ];\n  }, function() {\n    return [ \"\\n                    \", HTML.IMG({\n      src: function() {\n        return [ \"https://process.filestackapi.com/AIPACLEs7ShGwwPh6fMTxz/resize=width:250/\", Spacebars.mustache(view.lookup(\"url\")) ];\n      },\n      alt: \"\",\n      class: \"img-responsive\"\n    }), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), HTML.Raw(\"\\n    <!--</div>-->\") ];\n}));\n\nTemplate.__checkName(\"oldAddPropertyFormData\");\nTemplate[\"oldAddPropertyFormData\"] = new Template(\"Template.oldAddPropertyFormData\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Collections.Properties\"),\n      id: Spacebars.call(\"editPropertiesForm\"),\n      type: Spacebars.call(\"update\"),\n      doc: Spacebars.call(view.lookup(\"propertyData\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"autoForm\"), function() {\n      return [ \"\\n        \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"afFieldNames\"));\n      }, function() {\n        return [ \"\\n            \", Blaze.Unless(function() {\n          return Spacebars.dataMustache(view.lookup(\"inIgnoreList\"), Spacebars.dot(view.lookup(\".\"), \"name\"));\n        }, function() {\n          return [ \"\\n                \", Blaze._TemplateWith(function() {\n            return {\n              name: Spacebars.call(Spacebars.dot(view.lookup(\".\"), \"name\")),\n              options: Spacebars.call(view.lookup(\"afOptionsFromSchema\"))\n            };\n          }, function() {\n            return Spacebars.include(view.lookupTemplate(\"afQuickField\"));\n          }), \"\\n            \" ];\n        }), \"\\n        \" ];\n      }), HTML.Raw('\\n\\n        <div class=\"form-group\">\\n            <label for=\"selectPropertyImages\">Property images</label>\\n            <input type=\"file\" multiple=\"true\" class=\"selectPropertyImages\" id=\"selectPropertyImages\">\\n            <!--<p class=\"help-block\">Example block-level help text here.</p>-->\\n        </div>\\n        '), Spacebars.include(view.lookupTemplate(\"imageEditView\")), HTML.Raw('\\n\\n        <ul class=\"bid-button-div pull-left\">\\n            <li>\\n                <button type=\"submit\" class=\"btns green-btn color-white \">Save</button>\\n            </li>\\n            <li>\\n                <button class=\"transparent-btn btns backBtn\" type=\"button\">Cancel</button>\\n            </li>\\n        </ul>\\n    ') ];\n    });\n  }), HTML.Raw(\"\\n    <br><br><br><br>\\n    <h2>Activation details</h2>\\n    <br>\\n    \"), Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"auction\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._TemplateWith(function() {\n      return {\n        collection: Spacebars.call(\"Collections.Auctions\"),\n        id: Spacebars.call(\"editAuctionsForm\"),\n        type: Spacebars.call(\"update\"),\n        doc: Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"auction\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"autoForm\"), function() {\n        return [ \"\\n            \", Blaze.Each(function() {\n          return Spacebars.call(view.lookup(\"afFieldNames\"));\n        }, function() {\n          return [ \"\\n                \", Blaze.Unless(function() {\n            return Spacebars.dataMustache(view.lookup(\"inIgnoreList\"), Spacebars.dot(view.lookup(\".\"), \"name\"));\n          }, function() {\n            return [ \"\\n                    \", Blaze._TemplateWith(function() {\n              return {\n                name: Spacebars.call(Spacebars.dot(view.lookup(\".\"), \"name\")),\n                options: Spacebars.call(view.lookup(\"afOptionsFromSchema\"))\n              };\n            }, function() {\n              return Spacebars.include(view.lookupTemplate(\"afQuickField\"));\n            }), \"\\n                \" ];\n          }), \"\\n            \" ];\n        }), HTML.Raw('\\n\\n            <ul class=\"bid-button-div pull-left\">\\n                <li>\\n                    <button type=\"submit\" class=\"btns green-btn color-white \">Save</button>\\n                </li>\\n                <li>\\n                    <button class=\"transparent-btn btns backBtn\" type=\"button\">Cancel</button>\\n                </li>\\n            </ul>\\n        ') ];\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return HTML.Raw('\\n        <p class=\"pull-left\">This property is not active yet. Activate it first from My Properties page.</p>\\n        <br>\\n        <button class=\"transparent-btn btns backBtn\" type=\"button\">Activate</button>\\n    ');\n  }) ];\n}));\n\nTemplate.__checkName(\"editPropertyForm\");\nTemplate[\"editPropertyForm\"] = new Template(\"Template.editPropertyForm\", (function() {\n  var view = this;\n  return HTML.FORM({\n    class: \"signin-form cf-1\",\n    id: \"editPropertyFormCF\"\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"auction\"));\n  }, function() {\n    return [ HTML.Raw('\\n            <h2 style=\"margin-bottom: 30px\">Edit Advertisement</h2>\\n        <input type=\"hidden\" name=\"advertiseFormActive\" value=\"yes\">\\n        <input type=\"hidden\" name=\"currency\" value=\"eur\">\\n        '), HTML.INPUT({\n      type: \"hidden\",\n      name: \"propertyId\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"_id\"));\n      }\n    }), \"\\n        \", HTML.DIV({\n      class: \"clearfix\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"styled-input \"\n    }, \"\\n                \", HTML.INPUT({\n      type: \"text\",\n      name: \"price\",\n      id: \"rent\",\n      required: \"\",\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"auction\", \"price\"));\n      }\n    }), HTML.Raw('\\n                <label id=\"rent\" class=\"error\" for=\"rent\">This field is required.</label>\\n                <br>\\n                <label>Rent *</label>\\n                <span></span>\\n            ')), \"\\n\\n            \", HTML.DIV({\n      class: \"styled-input \"\n    }, \"\\n                \", HTML.INPUT({\n      type: \"text\",\n      name: \"readyFrom\",\n      id: \"readyFrom\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"dateTimeFormat\"), Spacebars.dot(view.lookup(\"data\"), \"auction\", \"readyFrom\"));\n      }\n    }), HTML.Raw('\\n                <label class=\"\" for=\"rent\"></label>\\n                <br>\\n                <label>Ready to move in from?</label>\\n                <span></span>\\n            ')), \"\\n\\n            \", HTML.DIV({\n      class: \"styled-input styled-input-select\"\n    }, HTML.Raw(\"\\n                <label>Lease until?</label>\\n                \"), HTML.SELECT({\n      name: \"lease\",\n      autocomplete: \"\"\n    }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"leaseUntil\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.OPTION(HTML.Attrs({\n        value: function() {\n          return Spacebars.mustache(view.lookup(\".\"));\n        }\n      }, function() {\n        return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"auction\", \"lease\"), view.lookup(\".\"));\n      }), Blaze.View(\"lookup:.\", function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      })), \"\\n                    \" ];\n    }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n      class: \"styled-input styled-input-select\"\n    }, HTML.Raw(\"\\n                <label>Rent type</label>\\n                \"), HTML.SELECT({\n      name: \"rentType\",\n      autocomplete: \"\"\n    }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), HTML.OPTION(HTML.Attrs({\n      value: \"weekly\"\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"auction\", \"rentType\"), \"weekly\");\n    }), \"Weekly\"), \"\\n                    \", HTML.OPTION(HTML.Attrs({\n      value: \"monthly\"\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"auction\", \"rentType\"), \"monthly\");\n    }), \"Monthly\"), \"\\n                    \", HTML.OPTION(HTML.Attrs({\n      value: \"other\"\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"auction\", \"rentType\"), \"other\");\n    }), \"Other\"), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n\\n            '), HTML.DIV({\n      class: \"sep-section\"\n    }, HTML.Raw('\\n                <label class=\"sep-label\">Contact person for this advertisement</label>\\n                '), HTML.DIV({\n      class: \"styled-input underline\"\n    }, \"\\n                    \", HTML.INPUT({\n      type: \"text\",\n      name: \"advertContacts.0.name\",\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"advertisementContact\"), \"name\"));\n      }\n    }), HTML.Raw(\"\\n                    <label>Name</label>\\n                    <span></span>\\n                \")), \"\\n                \", HTML.DIV({\n      class: \"styled-input underline\"\n    }, \"\\n                    \", HTML.INPUT({\n      type: \"text\",\n      name: \"advertContacts.0.phone\",\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"advertisementContact\"), \"phone\"));\n      }\n    }), HTML.Raw(\"\\n                    <label>Mobile</label>\\n                    <span></span>\\n                \")), \"\\n                \", HTML.DIV({\n      class: \"styled-input underline\"\n    }, \"\\n                    \", HTML.INPUT({\n      type: \"email\",\n      name: \"advertContacts.0.email\",\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"advertisementContact\"), \"email\"));\n      }\n    }), HTML.Raw(\"\\n                    <label>Email</label>\\n                    <span></span>\\n                \")), \"\\n            \"), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n\\n\\n            '), HTML.DIV({\n      class: \"styled-full-width\"\n    }, \"\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"editPropertyFormSaving\"));\n    }, function() {\n      return HTML.Raw('\\n                    <button type=\"button\" class=\"btns transparent-btn\">Saving</button>\\n                ');\n    }, function() {\n      return HTML.Raw('\\n                    <button type=\"submit\" class=\"btns blue-btn editPropertyFormSaveBtn\">Save</button>\\n                ');\n    }), HTML.Raw('\\n                <!--<button type=\"button\" class=\"btns blue-btn addPropertyFormSaveActivateBtn\">Save and Activate</button>-->\\n                <button type=\"button\" class=\"btns transparent-btn editPropertyFormCancelBtn\">Cancel</button>\\n            ')), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n        ')), \"\\n            \" ];\n  }, function() {\n    return HTML.Raw('\\n            <h2 style=\"margin-bottom: 30px\">Edit Advertisement</h2>\\n            <p>This property is not advertised. <a href=\"javascript:void(0)\" class=\"backBtn\">Visit</a> previous page to advertise. </p>\\n        ');\n  }), HTML.Raw('\\n\\n        <h2 style=\"margin-bottom: 30px\">Edit Property</h2>\\n\\n        '), HTML.DIV({\n    class: \"clearfix\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"styled-input \"\n  }, \"\\n                \", HTML.INPUT({\n    type: \"text\",\n    name: \"address.address\",\n    id: \"address.address\",\n    required: \"\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"address\", \"address\"));\n    }\n  }), HTML.Raw('\\n                <label id=\"address.address-error\" class=\"error\" for=\"address.address\">This field is required.</label>\\n                <br>\\n                <label>Name and Street *</label>\\n                <span></span>\\n            ')), \"\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Country</label>\\n                \"), HTML.SELECT({\n    name: \"address.country\",\n    required: \"\",\n    autocomplete: \"\"\n  }, \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"countries\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION(HTML.Attrs({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"address\", \"country\"), view.lookup(\"value\"));\n    }), Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>County</label>\\n                \"), HTML.SELECT({\n    name: \"address.county\",\n    required: \"\",\n    autocomplete: \"\",\n    class: \"countySelected\"\n  }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"counties\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION(HTML.Attrs({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"address\", \"county\"), view.lookup(\"value\"));\n    }), Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Area *</label>\\n                \"), HTML.SELECT({\n    name: \"address.area\",\n    required: \"\",\n    autocomplete: \"\",\n    class: \"\"\n  }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"areas\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION(HTML.Attrs({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"address\", \"area\"), view.lookup(\"value\"));\n    }), Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Property type *</label>\\n                \"), HTML.SELECT({\n    name: \"type\",\n    required: \"\",\n    autocomplete: \"\"\n  }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"propertyTypes\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION(HTML.Attrs({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"isEqualSelect\"), Spacebars.dot(view.lookup(\"data\"), \"type\"), view.lookup(\"value\"));\n    }), Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Furnished? *</label>\\n                \"), HTML.SELECT({\n    name: \"furnished\",\n    required: \"\",\n    autocomplete: \"\"\n  }, \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.dataMustache(view.lookup(\"furnishedOptions\"), Spacebars.dot(view.lookup(\"data\"), \"furnished\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION(HTML.Attrs({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, function() {\n      return Spacebars.attrMustache(view.lookup(\"selected\"));\n    }), Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                \", HTML.INPUT({\n    type: \"number\",\n    name: \"baths\",\n    id: \"baths\",\n    required: \"\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"baths\"));\n    }\n  }), HTML.Raw(\"\\n                <label>Number of bathrooms</label>\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                \", HTML.INPUT({\n    type: \"number\",\n    name: \"numBedRoomCount\",\n    id: \"numBedRoomCount\",\n    required: \"\",\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"arrLength\"), Spacebars.dot(view.lookup(\"data\"), \"bedrooms\"));\n    }\n  }), HTML.Raw(\"\\n                <label>Number of bedrooms</label>\\n                <span></span>\\n            \")), \"\\n\\n            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"numBedRoomCount\"));\n  }, function() {\n    return [ \"\\n                \", HTML.DIV({\n      class: \"styled-full-width\"\n    }, HTML.Raw('\\n                    <label class=\"sep-label\">Ensuite? </label>\\n\\n                    '), Blaze.Each(function() {\n      return Spacebars.dataMustache(view.lookup(\"ensuiteLoop\"), view.lookup(\"numBedRoomCount\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.DIV({\n        class: \"styled-input-select styled-input-checkbox max-20\"\n      }, \"\\n                            \", HTML.DIV({\n        class: function() {\n          return [ \"checkbox \", Blaze.Unless(function() {\n            return Spacebars.dataMustache(view.lookup(\"ensuiteLoopCheckbox\"), view.lookup(\"@index\"));\n          }, function() {\n            return \"disabled\";\n          }) ];\n        }\n      }, \"\\n                                \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n        type: \"checkbox\",\n        name: function() {\n          return [ \"bedrooms.\", Spacebars.mustache(view.lookup(\"@index\")), \".ensuite\" ];\n        }\n      }, function() {\n        return Spacebars.attrMustache(view.lookup(\"ensuiteLoopCheckbox\"), view.lookup(\"@index\"));\n      })), \"Bedroom \", Blaze.View(\"lookup:i\", function() {\n        return Spacebars.mustache(view.lookup(\"i\"));\n      }), \" Ensuite?\"), \"\\n                            \"), HTML.Raw(\"\\n                            <label>Bed Type</label>\\n                            \"), HTML.SELECT({\n        required: \"\",\n        autocomplete: \"\",\n        name: function() {\n          return [ \"bedrooms.\", Spacebars.mustache(view.lookup(\"@index\")), \".bedType\" ];\n        }\n      }, \"\\n                                \", Blaze.Each(function() {\n        return Spacebars.dataMustache(view.lookup(\"ensuiteLoopBedTypeOptions\"), view.lookup(\"@index\"));\n      }, function() {\n        return [ \"\\n                                    \", HTML.OPTION(HTML.Attrs({\n          value: function() {\n            return Spacebars.mustache(view.lookup(\"value\"));\n          },\n          jns: \"\",\n          nha: \"\"\n        }, function() {\n          return Spacebars.attrMustache(view.lookup(\"sel\"));\n        }), Blaze.View(\"lookup:label\", function() {\n          return Spacebars.mustache(view.lookup(\"label\"));\n        })), \"\\n                                \" ];\n      }), \"\\n                            \"), HTML.Raw(\"\\n                            <span></span>\\n                        \")), \"\\n                    \" ];\n    }), \"\\n\\n                \"), HTML.Raw('<div class=\"w-100\"></div>\\n            ') ];\n  }), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-full-width\"\n  }, HTML.Raw('\\n                <label class=\"cf-title\">About</label><br>\\n                '), HTML.TEXTAREA({\n    name: \"about\",\n    class: \"styled-input-textarea autoGrowTA\",\n    placeholder: \"Enter any additional info about this letting.\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"about\"));\n    }\n  }), \"\\n\\n            \"), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n\\n            '), HTML.DIV({\n    class: \"styled-full-width styled-input-checkbox\"\n  }, HTML.Raw('\\n                <label class=\"cf-title\">Amenities</label><br>\\n                '), HTML.DIV({\n    class: \"cb-subsec\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Parking\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Parking\");\n  })), \"Parking\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Club House\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Club House\");\n  })), \"Club House\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Swimming Pool\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Swimming Pool\");\n  })), \"Swimming Pool\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Mini Theater\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Mini Theater\");\n  })), \"Mini Theater\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Gym\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Gym\");\n  })), \"Gym\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Meditation Hall\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Meditation Hall\");\n  })), \"Meditation Hall\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Cable Television\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Cable Television\");\n  })), \"Cable Television\"), \"\\n                    \"), \"\\n                \"), \"\\n                \", HTML.DIV({\n    class: \"cb-subsec\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Dishwasher\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Dishwasher\");\n  })), \"Dishwasher\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Garden / Patio / Balcony\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Garden / Patio / Balcony\");\n  })), \"Garden / Patio / Balcony\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Internet\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Internet\");\n  })), \"Internet\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Serviced Property\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Serviced Property\");\n  })), \"Serviced Property\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Washing Machine\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Washing Machine\");\n  })), \"Washing Machine\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Central Heating\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Central Heating\");\n  })), \"Central Heating\"), \"\\n                    \"), \"\\n                \"), \"\\n                \", HTML.DIV({\n    class: \"cb-subsec\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Dryer\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Dryer\");\n  })), \"Dryer\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"House Alarm\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"House Alarm\");\n  })), \"House Alarm\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Microwave\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Microwave\");\n  })), \"Microwave\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Pets Allowed\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Pets Allowed\");\n  })), \"Pets Allowed\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Smoking\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Smoking\");\n  })), \"Smoking\"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    class: \"checkbox disabled\"\n  }, \"\\n                        \", HTML.LABEL(HTML.INPUT(HTML.Attrs({\n    type: \"checkbox\",\n    name: \"amenities\",\n    value: \"Wheelchair Access\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"hasAmenityCheckbox\"), \"Wheelchair Access\");\n  })), \"Wheelchair Access\"), \"\\n                    \"), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n\\n            '), HTML.DIV({\n    class: \"sep-section\"\n  }, HTML.Raw('\\n                <label class=\"sep-label\">Contact details of the property owner if any</label>\\n                '), HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                    \", HTML.INPUT({\n    type: \"text\",\n    name: \"contacts.0.name\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyContact\"), \"name\"));\n    }\n  }), HTML.Raw('\\n                    <label>Owners Name <i title=\"This info will not be displayed to users. It confidential and will be used only for record purpose.\">(Private)</i></label>\\n                    <span></span>\\n                ')), \"\\n                \", HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                    \", HTML.INPUT({\n    type: \"text\",\n    name: \"contacts.0.phone\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyContact\"), \"phone\"));\n    }\n  }), HTML.Raw('\\n                    <label>Owners Mobile <i title=\"This info will not be displayed to users. It confidential and will be used only for record purpose.\">(Private)</i></label>\\n                    <span></span>\\n                ')), \"\\n                \", HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                    \", HTML.INPUT({\n    type: \"email\",\n    name: \"contacts.0.email\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyContact\"), \"email\"));\n    }\n  }), HTML.Raw('\\n                    <label>Owners Email <i title=\"This info will not be displayed to users. It confidential and will be used only for record purpose.\">(Private)</i></label>\\n                    <span></span>\\n                ')), \"\\n            \"), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n\\n\\n            <div class=\"styled-full-width\">\\n                <button class=\"btns blue-btn openFileUploader\">Add Images</button>\\n                <!--<label for=\"selectPropertyImages\">Property images</label>-->\\n                <!--<input type=\"file\" multiple=\"true\" class=\"selectPropertyImages\"  id=\"selectPropertyImages\"/>-->\\n                <!--<p class=\"help-block\">Example block-level help text here.</p>-->\\n            </div>\\n\\n            <div class=\"w-100\"></div>\\n\\n\\n            '), Spacebars.include(view.lookupTemplate(\"imageEditView\")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-full-width\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"editPropertyFormSaving\"));\n  }, function() {\n    return HTML.Raw('\\n                    <button type=\"button\" class=\"btns transparent-btn\">Saving</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                    <button type=\"submit\" class=\"btns blue-btn editPropertyFormSaveBtn\">Save</button>\\n                ');\n  }), HTML.Raw('\\n                <!--<button type=\"button\" class=\"btns blue-btn addPropertyFormSaveActivateBtn\">Save and Activate</button>-->\\n                <button type=\"button\" class=\"btns transparent-btn editPropertyFormCancelBtn\">Cancel</button>\\n            ')), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n        ')), \"\\n    \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"imageView.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/imageView.html                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.imageView.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.imageView.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.imageView.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"imageView\");\nTemplate[\"imageView\"] = new Template(\"Template.imageView\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"row\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"images\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"imgTag\")), \"\\n        \" ];\n  }), \"\\n\\n    \");\n}));\n\nTemplate.__checkName(\"imgTag\");\nTemplate[\"imgTag\"] = new Template(\"Template.imgTag\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"col-sm-3 col-xs-6\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"thumbnail\"\n  }, HTML.Raw('\\n            <div class=\"frow\">\\n                <a href=\"javascript:void(0)\" class=\"editImgBtn\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span> Edit</a>\\n                <a href=\"javascript:void(0)\" class=\"deleteImgBtn\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span> Delete</a>\\n            </div>\\n            '), HTML.DIV({\n    class: \"secrow\"\n  }, \"\\n                \", HTML.IMG({\n    src: function() {\n      return [ \"https://process.filestackapi.com/resize=width:250/\", Spacebars.mustache(view.lookup(\"handle\")) ];\n    },\n    alt: \"\",\n    class: \"img-responsive\"\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"imgTagOld\");\nTemplate[\"imgTagOld\"] = new Template(\"Template.imgTagOld\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"col-sm-3 col-xs-6\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"thumbnail\"\n  }, HTML.Raw('\\n            <div class=\"frow\">\\n                <a href=\"javascript:void(0)\" class=\"editImgBtn\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span> Edit</a>\\n                <a href=\"javascript:void(0)\" class=\"deleteImgBtn\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span> Delete</a>\\n            </div>\\n            '), HTML.DIV({\n    class: \"secrow\"\n  }, \"\\n                \", HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"secure_url\"));\n    },\n    alt: \"\",\n    class: \"img-responsive\"\n  }), \"\\n            \"), \"\\n            \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"loaded\"));\n  }, function() {\n    return [ \"\\n                \", HTML.DIV({\n      class: \"caption\"\n    }, \"\\n                    \", HTML.P(Blaze.View(\"lookup:percent_uploaded\", function() {\n      return Spacebars.mustache(view.lookup(\"percent_uploaded\"));\n    }), \" %\"), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n        \"), \"\\n    \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"lettingprintview.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/lettingprintview.html                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.lettingprintview.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.lettingprintview.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.lettingprintview.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"lettingprintview\");\nTemplate[\"lettingprintview\"] = new Template(\"Template.lettingprintview\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n    \", HTML.SECTION({\n        class: \"mar-top-20 no-print\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"container\"\n      }, \"\\n                \", HTML.DIV({\n        class: \"filter-holder\"\n      }, \"\\n                    \", HTML.DIV({\n        class: \"head-border-bottom\"\n      }, \"\\n                        \", HTML.DIV({\n        class: \"purva\"\n      }, HTML.Raw('\\n                            <!--<img src=\"/images/property-list/thumbnail/purva-small-img.png\" alt=\"\" />-->\\n                            '), HTML.H1(\"Your KEY: \", Blaze.View(\"lookup:data.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"lettingAuctionCode\"));\n      })), \"\\n\\n                            \", HTML.ADDRESS({\n        class: \"mar-top-15\"\n      }, \"\\n                                \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"address\"));\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"area\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n          return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"area\"));\n        }), \" \" ];\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"county\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n          return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"county\"));\n        }), \" \" ];\n      }), \"\\n                            \"), \"\\n\\n                            \", HTML.UL({\n        style: \"margin-left: 20px;\"\n      }, \"\\n                                \", HTML.LI(\"\\n                                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Rent</span> :  '), Blaze.View(\"lookup:data.price\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"price\"));\n      })), \"\\n                                \"), \"\\n                                \", HTML.LI(\"\\n                                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Type</span> :  '), Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"type\"));\n      })), \"\\n                                \"), \"\\n                                \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"furnished\"));\n      }, function() {\n        return HTML.Raw(\"\\n                                    <li>\\n                                        <p>Furnished </p>\\n                                    </li>\\n                                \");\n      }, function() {\n        return HTML.Raw(\"\\n                                    <li>\\n                                        <p>Unfurnished </p>\\n                                    </li>\\n                                \");\n      }), \"\\n                                \", HTML.LI(\"\\n                                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Beds</span> :  '), Blaze.View(\"lookup:data.PD.bedroomsCount\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"bedroomsCount\"));\n      })), \"\\n                                \"), \"\\n                                \", HTML.LI(\"\\n                                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Baths</span> :  '), Blaze.View(\"lookup:data.PD.baths\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"baths\"));\n      })), \"\\n                                \"), \"\\n\\n                            \"), HTML.Raw(\"\\n                            <h3>Please follow below steps to apply for this property.&nbsp;</h3>\\n                            \"), HTML.UL({\n        style: \"margin-left: 20px;\"\n      }, HTML.Raw(\"\\n                                <li>\\n                                    <p>Open www.spotmycrib.ie in your laptop.</p>\\n                                </li>\\n                                \"), HTML.LI(\"\\n                                    \", HTML.P(\"Type \", HTML.STRONG(Blaze.View(\"lookup:data.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"lettingAuctionCode\"));\n      })), \" key into key area and hit find.\"), \"\\n                                \"), HTML.Raw('\\n                                <li>\\n                                    <p>Click apply.</p>\\n                                    <ul style=\"margin-left: 20px;\">\\n                                        <li>\\n                                            <p>If asked, login with your Facebook/Twitter/Google.</p>\\n                                        </li>\\n                                    </ul>\\n                                </li>\\n                                <li>\\n                                    <p>Enter your offer for the property and click submit.</p>\\n                                </li>\\n                                <li>\\n                                    <p>Upload your references in your profile.</p>\\n                                </li>\\n\\n\\n\\n                            ')), HTML.Raw('\\n\\n                            <div style=\"padding: 10px;margin: 10px 0;background-color: #fafafa;\">\\n                                <h3 style=\"padding: 10px 0;\">Privacy</h3>\\n                                <p>\\n                                    We at SpotMyCrib respect your privacy and will not share your personal data with anyone except your landlord &#47; agent. It will only be shown as a supporting documents for your application.\\n                                </p><br>\\n                            </div>\\n\\n                        ')), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \", HTML.DIV({\n        class: \"head-border-bottom show-only-on-print\"\n      }, \"\\n        \", HTML.DIV({\n        class: \"purva\"\n      }, HTML.Raw('\\n            <!--<img src=\"/images/property-list/thumbnail/purva-small-img.png\" alt=\"\" />-->\\n            '), HTML.H1(\"Your KEY: \", Blaze.View(\"lookup:data.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"lettingAuctionCode\"));\n      })), \"\\n\\n            \", HTML.ADDRESS({\n        class: \"mar-top-15\"\n      }, \"\\n                \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"address\"));\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"area\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n          return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"area\"));\n        }), \" \" ];\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"county\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n          return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"address\", \"county\"));\n        }), \" \" ];\n      }), \"\\n            \"), \"\\n\\n            \", HTML.UL({\n        style: \"margin-left: 20px;\"\n      }, \"\\n                \", HTML.LI(\"\\n                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Rent</span> :  '), Blaze.View(\"lookup:data.price\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"price\"));\n      })), \"\\n                \"), \"\\n                \", HTML.LI(\"\\n                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Type</span> :  '), Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"data\"), \"PD\", \"type\"));\n      })), \"\\n                \"), \"\\n                \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"furnished\"));\n      }, function() {\n        return HTML.Raw(\"\\n                    <li>\\n                        <p>Furnished </p>\\n                    </li>\\n                \");\n      }, function() {\n        return HTML.Raw(\"\\n                    <li>\\n                        <p>Unfurnished </p>\\n                    </li>\\n                \");\n      }), \"\\n                \", HTML.LI(\"\\n                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Beds</span> :  '), Blaze.View(\"lookup:data.PD.bedroomsCount\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"bedroomsCount\"));\n      })), \"\\n                \"), \"\\n                \", HTML.LI(\"\\n                    \", HTML.P(HTML.Raw('<span style=\"color:#b3b3b3;\">Baths</span> :  '), Blaze.View(\"lookup:data.PD.baths\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"PD\", \"baths\"));\n      })), \"\\n                \"), \"\\n\\n            \"), HTML.Raw(\"\\n            <h3>Please follow below steps to apply for this property.&nbsp;</h3>\\n            \"), HTML.UL({\n        style: \"margin-left: 20px;\"\n      }, HTML.Raw(\"\\n                <li>\\n                    <p>Open www.spotmycrib.ie in your laptop.</p>\\n                </li>\\n                \"), HTML.LI(\"\\n                    \", HTML.P(\"Type \", HTML.STRONG(Blaze.View(\"lookup:data.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"lettingAuctionCode\"));\n      })), \" key into key area and hit find.\"), \"\\n                \"), HTML.Raw('\\n                <li>\\n                    <p>Click apply.</p>\\n                    <ul style=\"margin-left: 20px;\">\\n                        <li>\\n                            <p>If asked, login with your Facebook/Twitter/Google.</p>\\n                        </li>\\n                    </ul>\\n                </li>\\n                <li>\\n                    <p>Enter your offer for the property and click submit.</p>\\n                </li>\\n                <li>\\n                    <p>Upload your references in your profile.</p>\\n                </li>\\n\\n\\n\\n            ')), HTML.Raw('\\n\\n            <div style=\"padding: 10px;margin: 10px 0;background-color: #fafafa;\">\\n                <h3 style=\"padding: 10px 0;\">Privacy</h3>\\n                <p>\\n                    We at SpotMyCrib respect your privacy and your personal data will not be shared with anyone landlord. It will only be shown as a supporting documents for your application.\\n                </p><br>\\n            </div>\\n\\n        ')), \"\\n    \"), \"\\n\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"myProperties.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/myProperties.html                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.myProperties.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.myProperties.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.myProperties.js                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"myProperties\");\nTemplate[\"myProperties\"] = new Template(\"Template.myProperties\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"unitspage-holder\"\n      }, \"\\n        \", HTML.SECTION({\n        class: \"logo-below-div\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"container\"\n      }, \"\\n                \", HTML.DIV({\n        class: \"logo-holder-div\"\n      }, \"\\n                    \", HTML.DIV({\n        class: \"logo-holder\"\n      }, \"\\n                        \", HTML.UL(HTML.Raw('\\n                            <!--<li><span class=\"backBtn\" style=\"cursor: pointer;\"><img src=\"{{cdnPath \\'/images/back-arrow.png\\'}}\"></span></li>-->\\n                            '), HTML.LI(HTML.Raw(\"<h3>MY PROPERTIES</h3>\\n                                \"), HTML.H4(\"Total : \", Blaze.View(\"lookup:data.totalResultsCount\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"totalResultsCount\"));\n      }), \" \"), HTML.Raw('\\n                                <!--<h4 style=\"\">Showing 3 of 14 (<a href=\"javascript:void(0)\" style=\"color:#18bc9c\">Edit filters</a>)</h4>-->\\n                            ')), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n        class: \"menu\"\n      }, \"\\n                        \", HTML.UL(HTML.Raw('\\n                            <!--<li class=\"left-border\">-->\\n                                <!--<h4>Filters (<a href=\"javascript:void(0)\" style=\"color: #18bc9c;\">Edit</a>)</h4>-->\\n                                <!--<h3 class=\"pad-btm-0 text-center\">2</h3>-->\\n                            <!--</li>-->\\n                            '), HTML.LI({\n        class: \"left-border\"\n      }, HTML.Raw(\"\\n                                <h4>ACTIVE PROPERTIES</h4>\\n                                \"), HTML.H3({\n        class: \"pad-btm-0 text-center\"\n      }, Blaze.View(\"lookup:agentStats.activeAuctions\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"agentStats\"), \"activeAuctions\"));\n      })), \"\\n                            \"), \"\\n                            \", HTML.LI({\n        class: \"left-border\"\n      }, HTML.Raw(\"\\n                                <h4>APPLICATIONS RECEIVED</h4>\\n                                \"), HTML.H3({\n        class: \"pad-btm-0 text-center\"\n      }, Blaze.View(\"lookup:agentStats.totalBidsReceived\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"agentStats\"), \"totalBidsReceived\"));\n      })), \"\\n                            \"), \"\\n                            \", HTML.LI({\n        class: \"left-border  text-left\"\n      }, HTML.Raw(\"\\n                                <h4>EST. PROFIT</h4>\\n                                \"), HTML.H3({\n        class: \"pad-btm-0 text-center\"\n      }, HTML.Raw(\"&euro; \"), Blaze.View(\"lookup:agentStats.bidProfit\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"agentStats\"), \"bidProfit\"));\n      })), \"\\n                            \"), \"\\n                            \", HTML.LI({\n        class: \"addPropertyBtnLi\"\n      }, \"\\n\", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showAddProperty\"));\n      }, function() {\n        return HTML.Raw('<button class=\"transparent-btn btns addPropertyBtn\" type=\"button\">HIDE</button>');\n      }, function() {\n        return HTML.Raw('\\n                                <button class=\"green-btn btns addPropertyBtn\" type=\"button\"><span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span> ADD PROPERTY</button>\\n');\n      }), \"\\n                            \"), \"\\n\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showAddProperty\"));\n      }, function() {\n        return [ \"\\n        \", HTML.SECTION({\n          class: \"mar-top-20 \"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container background-white\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"filter-holder mar-top-20\"\n        }, \"\\n                    \", HTML.DIV({\n          class: \"autoFrm\"\n        }, HTML.Raw(\"\\n                        <h3>Add Property Form</h3>\\n                        <p>Enter the details of the property below and click submit.<br><br></p>\\n\\n                        \"), Spacebars.include(view.lookupTemplate(\"addPropertyForm\")), \"\\n\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n\\n        \" ];\n      }), \"\\n\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showFilters\"));\n      }, function() {\n        return [ HTML.Raw(\"\\n        <!-- units property div -->\\n        \"), HTML.SECTION({\n          class: \"mar-top-20 xs-filter\"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container\"\n        }, HTML.Raw('\\n                <!--  <div class=\"head-border-bottom\"><h2>Choose Your Home</h2></div> -->\\n                <!-- filter section -->\\n                '), HTML.DIV({\n          class: \"filter-holder\"\n        }, HTML.Raw('\\n                    <span class=\"visible-xs filter-close fancybox-close\"></span>\\n                    '), HTML.DIV({\n          class: \"head-border-bottom\"\n        }, \"\\n                        \", HTML.UL({\n          class: \"new-filter\"\n        }, \"\\n                            \", HTML.LI(HTML.DIV({\n          class: \"pad-bot-15\"\n        }, HTML.Raw('\\n                                <h4 class=\"color-grey text-left\"><label> Home type</label></h4>\\n                                '), HTML.SELECT({\n          id: \"myselect\",\n          class: \"form-control filterUnitType\"\n        }, HTML.Raw('\\n                                    <option value=\"any\">Any</option>\\n                                    '), Blaze.Each(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"projectData\"), \"filter\", \"homeType\"));\n        }, function() {\n          return [ \"\\n                                        \", HTML.OPTION({\n            value: function() {\n              return Spacebars.mustache(view.lookup(\".\"));\n            }\n          }, Blaze.View(\"lookup:.\", function() {\n            return Spacebars.mustache(view.lookup(\".\"));\n          })), \"\\n                                    \" ];\n        }), \"\\n                                \"), \"\\n                            \"), \"\\n                            \"), \"\\n                            \", HTML.LI(\"\\n                                \", HTML.DIV({\n          class: \"pad-bot-15\"\n        }, HTML.Raw('\\n                                    <h4 class=\"color-grey text-left\"><label> Facing</label></h4>\\n                                    '), HTML.SELECT({\n          id: \"myselect2\",\n          class: \"form-control filterUnitFacing\"\n        }, HTML.Raw('\\n                                        <option value=\"any\">Any</option>\\n                                        '), Blaze.Each(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"projectData\"), \"filter\", \"facing\"));\n        }, function() {\n          return [ \"\\n                                            \", HTML.OPTION({\n            value: function() {\n              return Spacebars.mustache(view.lookup(\".\"));\n            }\n          }, Blaze.View(\"lookup:.\", function() {\n            return Spacebars.mustache(view.lookup(\".\"));\n          })), \"\\n                                        \" ];\n        }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.LI(\"\\n                                \", HTML.DIV({\n          class: \"input-field\"\n        }, HTML.Raw('\\n                                    <h4 class=\"color-grey text-uppercase text-left pad-btm-30\">Floor level</h4>\\n                                    '), HTML.DIV({\n          class: \"range-holder\"\n        }, \"\\n                                        \", HTML.DIV({\n          class: \"range-value-holder clearfix\"\n        }, \"\\n                                            \", HTML.DIV({\n          class: \"left value pull-left\"\n        }, \"\\n                                                \", HTML.P({\n          class: \"filterS1l\"\n        }, Blaze.View(\"lookup:projectData.filter.floor.0\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"projectData\"), \"filter\", \"floor\", \"0\"));\n        })), \"\\n                                            \"), \"\\n                                            \", HTML.DIV({\n          class: \"right value pull-right\"\n        }, \"\\n                                                \", HTML.P({\n          class: \"filterS1h\"\n        }, Blaze.View(\"lookup:projectData.filter.floor.1\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"projectData\"), \"filter\", \"floor\", \"1\"));\n        })), \"\\n                                            \"), \"\\n                                        \"), HTML.Raw('\\n                                        <div id=\"range-input\"></div>\\n                                        '), HTML.DIV({\n          class: \"input-select-new\"\n        }, HTML.Raw('\\n                                            <select id=\"input-select\"></select>\\n                                            '), HTML.SPAN({\n          class: \"cross-new\"\n        }, HTML.IMG({\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/clear-cross-btn.png\");\n          },\n          class: \"close-icon\"\n        })), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n          class: \"input-new\"\n        }, HTML.Raw('\\n                                            <input type=\"number\" min=\"3\" max=\"25\" step=\"1\" id=\"input-number\">'), HTML.SPAN({\n          class: \"cross-new1\"\n        }, HTML.IMG({\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/clear-cross-btn.png\");\n          },\n          class: \"close-icon\"\n        })), \"\\n                                        \"), \"\\n\\n                                    \"), \"\\n                                \"), \"\\n\\n                            \"), \"\\n                            \", HTML.LI(\"\\n                                \", HTML.DIV({\n          class: \"input-field\"\n        }, HTML.Raw('\\n                                    <h4 class=\"color-grey text-uppercase text-left pad-btm-30\">Rent range</h4>\\n                                    '), HTML.DIV({\n          class: \"range-holder\"\n        }, \"\\n                                        \", HTML.DIV({\n          class: \"range-value-holder clearfix\"\n        }, \"\\n                                            \", HTML.DIV({\n          class: \"left value pull-left\"\n        }, \"\\n                                                \", HTML.P({\n          class: \"filterS2l\"\n        }, Blaze.View(\"lookup:numDifferentiation\", function() {\n          return Spacebars.mustache(view.lookup(\"numDifferentiation\"), Spacebars.dot(view.lookup(\"projectData\"), \"filter\", \"priceRange\", \"0\"));\n        })), \"\\n                                            \"), \"\\n                                            \", HTML.DIV({\n          class: \"right value pull-right\"\n        }, \"\\n                                                \", HTML.P({\n          class: \"filterS2h\"\n        }, Blaze.View(\"lookup:numDifferentiation\", function() {\n          return Spacebars.mustache(view.lookup(\"numDifferentiation\"), Spacebars.dot(view.lookup(\"projectData\"), \"filter\", \"priceRange\", \"1\"));\n        })), \"\\n                                            \"), \"\\n                                        \"), HTML.Raw('\\n                                        <div id=\"range-input1\"></div>\\n                                        '), HTML.DIV({\n          class: \"input-select-new1\"\n        }, HTML.Raw('\\n                                            <select id=\"input-select1\"></select>'), HTML.SPAN({\n          class: \"cross-new2\"\n        }, HTML.IMG({\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/clear-cross-btn.png\");\n          },\n          class: \"close-icon\"\n        })), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n          class: \"input-new1\"\n        }, HTML.Raw('\\n                                            <input type=\"number\" min=\"67.45\" max=\"97.45\" step=\"1\" id=\"input-number1\">'), HTML.SPAN({\n          class: \"cross-new3\"\n        }, HTML.IMG({\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/clear-cross-btn.png\");\n          },\n          class: \"close-icon\"\n        })), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), HTML.Raw(\"\\n                    <!-- filter section -->\\n                    <!--  for clear div section -->\\n                    \"), HTML.DIV({\n          class: \"clear-all-div clearfix hidden-xs\"\n        }, \"\\n                        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"filters\"));\n        }, function() {\n          return [ \"\\n                            \", HTML.UL({\n            class: \"for-left-side\"\n          }, \"\\n                                \", Blaze.Each(function() {\n            return Spacebars.dataMustache(view.lookup(\"objectToPairs\"), Spacebars.dot(view.lookup(\"filters\"), \"data\"));\n          }, function() {\n            return [ \"\\n                                    \", HTML.LI({\n              class: \"list1\"\n            }, HTML.H5({\n              key: function() {\n                return Spacebars.mustache(view.lookup(\"key\"));\n              }\n            }, Blaze.View(\"lookup:key\", function() {\n              return Spacebars.mustache(view.lookup(\"key\"));\n            }), \"\\n                                        \", Blaze.Each(function() {\n              return Spacebars.call(view.lookup(\"value\"));\n            }, function() {\n              return [ \"\\n                                            \", HTML.SPAN({\n                val: function() {\n                  return Spacebars.mustache(view.lookup(\".\"));\n                }\n              }, Blaze.View(\"lookup:.\", function() {\n                return Spacebars.mustache(view.lookup(\".\"));\n              }), \" \", HTML.A({\n                href: \"javascript:void(0)\"\n              }, HTML.IMG({\n                src: function() {\n                  return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/clear-cross-btn.png\");\n                },\n                class: \"clearFilterBtn\"\n              })), HTML.Raw(\"&nbsp;\\n                    \")), \"\\n                                        \" ];\n            }), \"\\n                                    \")), \"\\n                                \" ];\n          }), \"\\n                            \"), \"\\n                            \", HTML.UL({\n            class: \"for-right-side\"\n          }, \"\\n                                \", Blaze.If(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"filters\"), \"count\"));\n          }, function() {\n            return HTML.Raw('\\n                                    <li><button class=\"transparent-btn btns clearFilters\" type=\"button\">CLEAR ALL</button></li>\\n                                ');\n          }), \"\\n                            \"), \"\\n                        \" ];\n        }, function() {\n          return \"\\n\\n                        \";\n        }), HTML.Raw('\\n                        <!--<ul class=\"for-left-side\">-->\\n                        <!--<li class=\"list1\"><h5><span>2 BHK <a><img src=\"{{cdnPath \\'/images/clear-cross-btn.png\\'}}\"></a></span></h5></li>-->\\n                        <!--&lt;!&ndash; <li><h5>Floor<span>2 to 15 <a><img src=\"{{cdnPath \\'/images/clear-cross-btn.png\\'}}\"></a></span></h5></li> &ndash;&gt;-->\\n                        <!--<li  class=\"list2\"><h5><span>East<a><img src=\"{{cdnPath \\'/images/clear-cross-btn.png\\'}}\"></a></span></h5></li>-->\\n                        <!--</ul>-->\\n                        <!--<ul class=\"for-right-side\">-->\\n                        <!--<li><button class=\"transparent-btn btns for-hide clearFilters\" type=\"button\">CLEAR ALL</button></li>-->\\n                        <!--</ul>-->\\n                    ')), HTML.Raw('\\n                    <div class=\"text-center mar-top-15 mar-btm-20 visible-xs\">\\n                        <button class=\"blue-btn btns filterCloseBtn\" type=\"button\">Close</button>\\n                    </div>\\n                ')), HTML.Raw(\"\\n                <!--  for clear div section -->\\n            \")), \"\\n        \"), HTML.Raw('\\n        <section class=\"text-center visible-xs xs-filter-btn\">\\n            <a id=\"filter-slide\" class=\"green-btn\">Filter</a>\\n        </section>\\n        ') ];\n      }, function() {\n        return HTML.Raw('\\n            <section class=\"mar-top-20 \">\\n                &nbsp;\\n            </section>\\n        ');\n      }), \"\\n    \"), \"\\n\\n    \", HTML.SECTION({\n        class: \"paginationArea\"\n      }, \"\\n        \", HTML.DIV({\n        class: \"container\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"row\"\n      }, \"\\n                \", HTML.DIV({\n        class: \"col-md-12\"\n      }, \"\\n                \", Blaze._TemplateWith(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"pagination\"));\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"pagination\"));\n      }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n\\n    \", Blaze.Each(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"results\"));\n      }, function() {\n        return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"propertyList\")), \"\\n    \" ];\n      }), \"\\n\\n    \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showDemoProp\"));\n      }, function() {\n        return [ \"\\n        \", Blaze.Each(function() {\n          return Spacebars.call(view.lookup(\"demoProperty\"));\n        }, function() {\n          return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"propertyList\")), \"\\n        \" ];\n        }), \"\\n    \" ];\n      }), \"\\n\\n\\n    \", HTML.SECTION({\n        class: \"paginationArea\"\n      }, \"\\n        \", HTML.DIV({\n        class: \"container\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"row\"\n      }, \"\\n                \", HTML.DIV({\n        class: \"col-md-12\"\n      }, \"\\n                    \", Blaze._TemplateWith(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"pagination\"));\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"pagination\"));\n      }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw('\\n\\n\\n\\n    <div class=\"verification-div1\" id=\"propertyLinkDlg\" style=\"display:none;\">\\n        <div class=\"refund-div\"><h2>Share Property</h2></div>\\n        <div class=\"profile-text text-left\">\\n            <p class=\"no-capitalize\">Please use this email to use in daft.ie, rent.ie etc ads.</p>\\n\\n            <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"agentPropertyEmailField\" id=\"agentPropertyEmailField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                </div>\\n                <button class=\"btn btn-primary col-sm-2 copyEmailBtn\">Copy</button>\\n            </form>\\n\\n            <p class=\"no-capitalize mar-top-15\">Please use this link to share in facebook, twitter etc. </p>\\n\\n            <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"propertyLinkField\" id=\"propertyLinkField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                </div>\\n                <button class=\"btn btn-primary col-sm-2 copyLinkBtn\">Copy</button>\\n            </form>\\n\\n            <form class=\"signin-form\">\\n\\n                <div class=\"signup-btn\">\\n                    <button class=\"transparent-btn btns cancelBtn\" type=\"button\">CLOSE</button>\\n                </div>\\n\\n            </form>\\n\\n        </div>\\n\\n    </div>\\n') ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"propertyList\");\nTemplate[\"propertyList\"] = new Template(\"Template.propertyList\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: \"main-holder border-top\",\n    id: function() {\n      return [ \"property_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"expanded\"));\n  }, function() {\n    return \"\";\n  }, function() {\n    return [ \"\\n            \", HTML.SECTION({\n      class: \"border-top act-div\"\n    }, \"\\n                \", HTML.DIV({\n      class: \"container\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"act-box\"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"background-white\"\n    }, \"\\n                            \", HTML.DIV({\n      class: \"logo-holder-div\"\n    }, \"\\n                                \", HTML.DIV({\n      class: \"logo-holder\"\n    }, \"\\n                                    \", HTML.UL(\"\\n                                        \", HTML.LI(\"\\n                                            \", HTML.H3({\n      class: \"pad-btm-0\"\n    }, Blaze.View(\"lookup:titleCase\", function() {\n      return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"address\"));\n    }), Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"address\"), \"area\"));\n    }, function() {\n      return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"area\"));\n      }), \" \" ];\n    }), Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"address\"), \"county\"));\n    }, function() {\n      return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"county\"));\n      }), \" \" ];\n    }), HTML.Raw(' <span class=\"auction-number pad-left-10\"><a href=\"javascript:void(0)\" class=\"managePropertyLink\" style=\"font-size:11px;\">MANAGE</a></span>')), \"\\n                                            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">LETTING CODE </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \":  \", Blaze.View(\"lookup:auction.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lettingAuctionCode\"));\n      }))), \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">VIEWS </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \": \", Blaze.View(\"lookup:auction.views\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"views\"));\n      }))), \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">APPLICATIONS </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \": \", Blaze.View(\"lookup:auction.bids\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"bids\"));\n      }))), \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.A({\n        target: \"_blank\",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n            route: \"letting\",\n            key: Spacebars.dot(view.lookup(\"auction\"), \"lettingAuctionCode\")\n          }));\n        },\n        class: \"viewListing\",\n        style: \"font-size:11px;\"\n      }, \"VIEW ADVERT\")), HTML.Raw('\\n<span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\"><i class=\"glyphicon glyphicon-thumbs-up\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i> SHARE</a></span>\\n                                            ') ];\n    }), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n\\n                                \", HTML.DIV({\n      class: \"menu\"\n    }, \"\\n                                    \", HTML.UL({\n      class: \"pull-right\",\n      style: \"list-style-type: none;\"\n    }, \"\\n            \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n                                        \", HTML.LI(\"\\n                                            \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showAddAuctionForm\"));\n      }, function() {\n        return HTML.Raw('\\n                                                <button class=\"btns transparent-btn hideAddAuctionForm\" type=\"button\">Cancel</button>\\n                                            ');\n      }, function() {\n        return HTML.Raw('\\n                                                <button class=\"btns blue-btn color-white ActivateBtn\" type=\"button\">Advertise</button>\\n                                                ');\n      }), \"\\n\\n                                        \"), \"\\n            \" ];\n    }), \"\\n                                        \", HTML.LI({\n      class: \"see-more-li\"\n    }, \"\\n                                            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"expanded\"));\n    }, function() {\n      return [ \"\\n                                                \", HTML.P({\n        class: \"see_more_btn\"\n      }, \"See less\", HTML.SPAN({\n        style: \"margin-left:8px;\"\n      }, HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/accord-top-arrow.png\");\n        }\n      }))), \"\\n                                            \" ];\n    }, function() {\n      return [ \"\\n                                                \", HTML.P({\n        class: \"see_more_btn\"\n      }, \"See more\", HTML.SPAN({\n        style: \"margin-left:8px;\"\n      }, HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/accord-bottom-arrow.png\");\n        }\n      }))), \"\\n                                            \" ];\n    }), \"\\n\\n                                            \", HTML.P({\n      class: \"showEditPropertyForm\"\n    }, HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"showEditPropertyForm\"));\n      },\n      style: \"color: #0c68a7\"\n    }, HTML.Raw('Edit <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>'))), \"\\n\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n\\n\\n                            \"), HTML.Raw('\\n\\n\\n                            <!--<div class=\"see-more-btn1\"></div>-->\\n\\n\\n\\n\\n                        ')), \"\\n\\n                        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showAddAuctionForm\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.DIV({\n        class: \"apt-info apt-info1 background-white clearfix showAddAuctionForm autoFrm\"\n      }, \"\\n                                \", Spacebars.include(view.lookupTemplate(\"advertiseForm\")), HTML.Raw(\"\\n                                <br><br>\\n                            \")), \"\\n                        \" ];\n    }), HTML.Raw(\"\\n\\n                        <!--act-box-->\\n                        \"), Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.DIV({\n        class: function() {\n          return [ \"apt-info apt-info1 text-center background-white clearfix property_auction_\", Spacebars.mustache(view.lookup(\"auctionId\")) ];\n        }\n      }, \"\\n                                Loading...\\n                            \"), \"\\n                        \" ];\n    }), \"\\n                        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auction\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.DIV({\n        class: function() {\n          return [ \"apt-info apt-info1 background-white clearfix property_auction_\", Spacebars.mustache(view.lookup(\"auctionId\")) ];\n        }\n      }, \"\\n                                \", HTML.UL({\n        class: \"superbuilt-div\"\n      }, \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Rent</h5>\\n                                        \"), HTML.H6(HTML.Raw(\"&euro; \"), Blaze.View(\"lookup:auction.price\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"price\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Lease</h5>\\n                                        \"), HTML.H6(\"  \", Blaze.View(\"lookup:auction.lease\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lease\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Rent Type</h5>\\n                                        \"), HTML.H6(\" \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"auction\"), \"rentType\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Ready From</h5>\\n                                        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, Blaze.View(\"lookup:dateFormat\", function() {\n        return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"readyFrom\"));\n      }), \" \"), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Activated On</h5>\\n                                        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, Blaze.View(\"lookup:dateFormat\", function() {\n        return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"createdAt\"));\n      }), \" \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.UL({\n        class: \"bid-button-div left-line pull-right\"\n      }, \"\\n                                    \", HTML.LI(\"\\n                                        \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"urlFor\"), Spacebars.kw({\n            route: \"lettingprintview\",\n            key: view.lookup(\"lettingprintviewData\")\n          }));\n        },\n        target: \"_blank\",\n        class: \"transparent-btn btns printView\"\n      }, \"Print KEY\"), \"\\n                                    \"), HTML.Raw('\\n                                    <li>\\n                                        <button class=\"green-btn btns viewApplications\">View Applications</button>\\n                                    </li>\\n                                ')), \"\\n\\n\\n                            \"), \"\\n                        \" ];\n    }), HTML.Raw(\"\\n                        <!--act-box-->\\n                    \")), \"\\n                \"), \"\\n            \"), \"\\n        \" ];\n  }), \"\\n\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"expanded\"));\n  }, function() {\n    return [ HTML.Raw(\"\\n            <!--hide-accord-->\\n            \"), HTML.SECTION({\n      class: function() {\n        return Spacebars.mustache(view.lookup(\"showMyBidsClass\"));\n      }\n    }, \"\\n                \", HTML.DIV({\n      class: \"container\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"act-box\"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"background-white\"\n    }, \"\\n                            \", HTML.DIV({\n      class: \"logo-holder-div\"\n    }, \"\\n                                \", HTML.DIV({\n      class: \"logo-holder\"\n    }, \"\\n                                    \", HTML.UL(\"\\n                                        \", HTML.LI(\"\\n                                            \", HTML.H3({\n      class: \"pad-btm-0\"\n    }, Blaze.View(\"lookup:titleCase\", function() {\n      return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"address\"));\n    }), Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"address\"), \"area\"));\n    }, function() {\n      return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"area\"));\n      }), \" \" ];\n    }), Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"address\"), \"county\"));\n    }, function() {\n      return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"county\"));\n      }), \" \" ];\n    }), HTML.Raw(' <span class=\"auction-number pad-left-10\"><a href=\"javascript:void(0)\" class=\"managePropertyLink\" style=\"font-size:11px;\">MANAGE</a></span>')), \"\\n            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n\", HTML.SPAN({\n        class: \"auction-number\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">AUCTION CODE </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \":  \", Blaze.View(\"lookup:auction.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lettingAuctionCode\"));\n      }))), \"\\n\", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">VIEWS </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \": \", Blaze.View(\"lookup:auction.views\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"views\"));\n      }))), \"\\n\", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">APPLICATIONS </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \": \", Blaze.View(\"lookup:auction.bids\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"bids\"));\n      }))), \"\\n\", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.A({\n        target: \"_blank\",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n            route: \"letting\",\n            key: Spacebars.dot(view.lookup(\"auction\"), \"lettingAuctionCode\")\n          }));\n        },\n        class: \"viewListing\",\n        style: \"font-size:11px;\"\n      }, \"VIEW ADVERT\")), HTML.Raw('\\n<span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\"><i class=\"glyphicon glyphicon-thumbs-up\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i> SHARE</a></span>\\n<!--<span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"viewApplications\">(view)</a></span>-->\\n            ') ];\n    }), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n\\n                            \"), \"\\n                        \"), \"\\n                        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.DIV({\n        class: \"apt-info apt-info1 background-white clearfix\"\n      }, \"\\n                                \", HTML.UL({\n        class: \"superbuilt-div\"\n      }, \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Rent</h5>\\n                                        \"), HTML.H6(HTML.Raw(\"&euro; \"), Blaze.View(\"lookup:auction.price\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"price\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Lease</h5>\\n                                        \"), HTML.H6(\"  \", Blaze.View(\"lookup:auction.lease\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lease\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Rent Type</h5>\\n                                        \"), HTML.H6(\" \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"auction\"), \"rentType\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Ready From</h5>\\n                                        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, Blaze.View(\"lookup:dateFormat\", function() {\n        return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"readyFrom\"));\n      }), \" \"), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Activated On</h5>\\n                                        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, Blaze.View(\"lookup:dateFormat\", function() {\n        return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"createdAt\"));\n      }), \" \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.UL({\n        class: \"bid-button-div left-line pull-right\"\n      }, \"\\n                                    \", HTML.LI(\"\\n                                        \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"urlFor\"), Spacebars.kw({\n            route: \"lettingprintview\",\n            data: view.lookup(\"lettingprintviewData\")\n          }));\n        },\n        target: \"_blank\",\n        class: \"transparent-btn btns printView\"\n      }, \"Print Tokens\"), \"\\n                                    \"), HTML.Raw('\\n                                    <li>\\n                                        <button class=\"green-btn btns viewApplications\">View Applications</button>\\n                                    </li>\\n                                ')), \"\\n\\n\\n                            \"), \"\\n                        \" ];\n    }), \"\\n                        \", HTML.DIV({\n      class: \"apt-info background-white\"\n    }, \"\\n                            \", HTML.DIV({\n      class: \"box-bdr\"\n    }, \"\\n                                \", HTML.DIV({\n      class: \" box-inner\"\n    }, \"\\n                                    \", HTML.DIV({\n      class: \"clearfix accord-open-border background-halfwhite\"\n    }, \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Type</h5>\\n                                            \"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, Blaze.View(\"lookup:type\", function() {\n      return Spacebars.mustache(view.lookup(\"type\"));\n    })), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Beds</h5>\\n                                            \"), HTML.H6(\"  \", Blaze.View(\"lookup:bedroomsCount\", function() {\n      return Spacebars.mustache(view.lookup(\"bedroomsCount\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Baths</h5>\\n                                            \"), HTML.H6(\"  \", Blaze.View(\"lookup:baths\", function() {\n      return Spacebars.mustache(view.lookup(\"baths\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Furnished</h5>\\n                                            \"), HTML.H6(\"  \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"furnished\"));\n    }, function() {\n      return \"Yes\";\n    }, function() {\n      return \"No\";\n    })), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Added On</h5>\\n                                            \"), HTML.H6(\" \", Blaze.View(\"lookup:dateFormat\", function() {\n      return Spacebars.mustache(view.lookup(\"dateFormat\"), view.lookup(\"createdAt\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Edited On</h5>\\n                                            \"), HTML.H6(\" \", Blaze.View(\"lookup:dateFormat\", function() {\n      return Spacebars.mustache(view.lookup(\"dateFormat\"), view.lookup(\"updatedAt\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", HTML.DIV({\n      class: \"clearfix accord-open-border background-halfwhite\"\n    }, \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-2 col-sm-2\"\n    }, HTML.Raw(\"\\n                                            <h5>Images</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"gallery\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.View(\"lookup:gallery.length\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"gallery\"), \"length\"));\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    0\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-3 col-xs-6 col-sm-3\"\n    }, HTML.Raw(\"\\n                                            <h5>Bedrooms</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"bedrooms\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.Each(function() {\n        return Spacebars.dataMustache(view.lookup(\"objectToPairs\"), view.lookup(\"bedrooms\"));\n      }, function() {\n        return [ Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"key\"));\n        }, function() {\n          return \", \";\n        }), Blaze.View(\"lookup:value.bedType\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"value\"), \"bedType\"));\n        }), \" \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"value\"), \"ensuite\"));\n        }, function() {\n          return \"(Ensuite)\";\n        }) ];\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    N/A\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-3 col-xs-6 col-sm-3 \"\n    }, HTML.Raw(\"\\n                                            <h5>Amenities</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"amenities\"));\n    }, function() {\n      return [ \"\\n                                                \", Blaze.View(\"lookup:addCommaToEach\", function() {\n        return Spacebars.mustache(view.lookup(\"addCommaToEach\"), view.lookup(\"amenities\"));\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    N/A\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), HTML.Raw('\\n                                        <!--<div class=\"col-md-3 col-xs-6 col-sm-3\">-->\\n                                            <!--<h5></h5>-->\\n                                            <!--<h6>-->\\n                                                <!--<a href=\"http://www.google.com/maps/place/{{address.geoCodeLat}},{{address.geoCodeLong}}\" target=\"_blank\">-->\\n                                                    <!--<span style=\"margin-right:8px;vertical-align:middle;\" class=\"glyphicon glyphicon-map-marker\" ></span><span style=\"vertical-align:middle;\" class=\"color-blue\">Location</span>-->\\n                                                <!--</a>-->\\n                                            <!--</h6>-->\\n                                        <!--</div>-->\\n                                        '), HTML.DIV({\n      class: \"col-md-3 col-xs-6 col-sm-3\"\n    }, HTML.Raw(\"\\n                                            <h5>BER</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"BER\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.View(\"lookup:addCommaToEach\", function() {\n        return Spacebars.mustache(view.lookup(\"addCommaToEach\"), view.lookup(\"BER\"));\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    N/A\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"contacts\"));\n    }, function() {\n      return [ \"\\n                                    \", HTML.DIV({\n        class: \"clearfix accord-open-border background-halfwhite\"\n      }, \"\\n                                        \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"contacts\"));\n      }, function() {\n        return [ \"\\n                                        \", HTML.DIV({\n          class: \"col-md-3 col-xs-6 col-sm-3 \"\n        }, HTML.Raw(\"\\n                                            <h5>Contact details of the property owner</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.View(\"lookup:name\", function() {\n          return Spacebars.mustache(view.lookup(\"name\"));\n        }), \"\\n                                                \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"phone\"));\n        }, function() {\n          return [ \" (\", Blaze.View(\"lookup:phone\", function() {\n            return Spacebars.mustache(view.lookup(\"phone\"));\n          }), HTML.Raw(\")<br>\") ];\n        }), \"\\n                                                \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"email\"));\n        }, function() {\n          return Blaze.View(\"lookup:email\", function() {\n            return Spacebars.mustache(view.lookup(\"email\"));\n          });\n        }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \" ];\n      }), \"\\n\\n                                    \"), \"\\n                                    \" ];\n    }), \"\\n                                    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n                                    \", HTML.DIV({\n        class: \"clearfix accord-open-border background-halfwhite\"\n      }, \"\\n                                        \", Blaze.Each(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"auction\"), \"contacts\"));\n      }, function() {\n        return [ \"\\n                                        \", HTML.DIV({\n          class: \"col-md-3 col-xs-6 col-sm-3 \"\n        }, HTML.Raw(\"\\n                                            <h5>Contact persons for this advert</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.View(\"lookup:name\", function() {\n          return Spacebars.mustache(view.lookup(\"name\"));\n        }), \"\\n                                                \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"phone\"));\n        }, function() {\n          return [ \" (\", Blaze.View(\"lookup:phone\", function() {\n            return Spacebars.mustache(view.lookup(\"phone\"));\n          }), HTML.Raw(\")<br>\") ];\n        }), \"\\n                                                \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"email\"));\n        }, function() {\n          return Blaze.View(\"lookup:email\", function() {\n            return Spacebars.mustache(view.lookup(\"email\"));\n          });\n        }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \" ];\n      }), \"\\n\\n                                    \"), \"\\n                                    \" ];\n    }), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"clearfix accord-open-border accord-top-border background-halfwhite\"\n    }, \"\\n                                    \", HTML.P({\n      class: \"accor-padd\"\n    }, Blaze.View(\"lookup:nlToBr\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"nlToBr\"), view.lookup(\"about\")));\n    })), \"\\n                                \"), \"\\n\\n                            \"), \"\\n                            \", HTML.DIV({\n      class: \"see-more-btn1 see_more_btn\"\n    }, \"\\n                                \", HTML.P(\"See less\", HTML.SPAN({\n      style: \"margin-left:8px;\"\n    }, HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/accord-top-arrow.png\");\n      }\n    }))), \"\\n                                \", HTML.P({\n      class: \"showEditPropertyForm\"\n    }, HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"showEditPropertyForm\"));\n      },\n      style: \"color: #0c68a7\"\n    }, HTML.Raw('Edit <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>'))), \"\\n                            \"), \"\\n                        \"), HTML.Raw(\"<!--act-box-->\\n                    \")), \"\\n                \"), \"\\n            \"), \"\\n\\n        \" ];\n  }), \"\\n    \");\n}));\n\nTemplate.__checkName(\"advertiseForm\");\nTemplate[\"advertiseForm\"] = new Template(\"Template.advertiseForm\", (function() {\n  var view = this;\n  return [ HTML.Raw('<h3>Advertise Form</h3>\\n    <p style=\"text-align: left;margin-bottom: 20px;\">Enter the rent details of the property below and click submit.<br><br></p>\\n\\n    '), HTML.FORM({\n    class: \"signin-form cf-1\",\n    id: \"advertiseFormCF\"\n  }, HTML.Raw('\\n\\n        <input type=\"hidden\" name=\"currency\" value=\"eur\">\\n        '), HTML.INPUT({\n    type: \"hidden\",\n    name: \"propertyId\",\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"_id\"));\n    }\n  }), \"\\n        \", HTML.DIV({\n    class: \"clearfix\"\n  }, HTML.Raw('\\n            <div class=\"styled-input \">\\n                <input type=\"text\" name=\"price\" id=\"rent\" required=\"\">\\n                <label id=\"rent\" class=\"error\" for=\"rent\">This field is required.</label>\\n                <br>\\n                <label>Rent *</label>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"styled-input \">\\n                <input type=\"text\" name=\"readyFrom\" id=\"readyFrom\">\\n                <label class=\"\" for=\"rent\"></label>\\n                <br>\\n                <label>Ready to move in from?</label>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"styled-input styled-input-select\">\\n                <label>Lease until?</label>\\n                <select name=\"lease\" autocomplete=\"\">\\n\\n\\n\\n                        <option value=\"\">(Select One)</option>\\n\\n\\n\\n                        <option value=\"1 month\">1 month</option>\\n\\n\\n\\n                        <option value=\"2 months\">2 months</option>\\n\\n\\n\\n                        <option value=\"3 months\">3 months</option>\\n\\n\\n\\n                        <option value=\"4 months\">4 months</option>\\n\\n\\n\\n                        <option value=\"5  months\">5  months</option>\\n\\n\\n\\n                        <option value=\"6 months\">6 months</option>\\n\\n\\n\\n                        <option value=\"7 months\">7 months</option>\\n\\n\\n\\n                        <option value=\"8 months\">8 months</option>\\n\\n\\n\\n                        <option value=\"9 months\">9 months</option>\\n\\n\\n\\n                        <option value=\"10 months\">10 months</option>\\n\\n\\n\\n                        <option value=\"11 months\">11 months</option>\\n\\n\\n\\n                        <option value=\"1 year\">1 year</option>\\n\\n\\n\\n                        <option value=\"More than a year\">More than a year</option>\\n\\n\\n\\n                </select>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"styled-input styled-input-select\">\\n                <label>Rent type</label>\\n                <select name=\"rentType\" autocomplete=\"\">\\n                    <option value=\"\">(Select One)</option>\\n                    <option value=\"weekly\">Weekly</option>\\n                    <option value=\"monthly\">Monthly</option>\\n                    <option value=\"other\">Other</option>\\n                </select>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"w-100\"></div>\\n\\n            <div class=\"sep-section\">\\n                <label class=\"sep-label\">Contact person for this advertisement</label>\\n                <div class=\"styled-input underline\">\\n                    <input type=\"text\" name=\"contacts.0.name\">\\n                    <label>Name</label>\\n                    <span></span>\\n                </div>\\n                <div class=\"styled-input underline\">\\n                    <input type=\"text\" name=\"contacts.0.phone\">\\n                    <label>Mobile</label>\\n                    <span></span>\\n                </div>\\n                <div class=\"styled-input underline\">\\n                    <input type=\"email\" name=\"contacts.0.email\">\\n                    <label>Email</label>\\n                    <span></span>\\n                </div>\\n            </div>\\n\\n            <div class=\"w-100\"></div>\\n\\n\\n            '), HTML.DIV({\n    class: \"styled-full-width\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"advertiseFormSaving\"));\n  }, function() {\n    return HTML.Raw('\\n                    <button type=\"button\" class=\"btns transparent-btn\">Saving</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                    <button type=\"submit\" class=\"btns blue-btn\">Save</button>\\n                ');\n  }), HTML.Raw('\\n                <button type=\"button\" class=\"btns transparent-btn advertiseFormCancelBtn\">Cancel</button>\\n            ')), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n        ')), \"\\n    \") ];\n}));\n\nTemplate.__checkName(\"addPropertyForm\");\nTemplate[\"addPropertyForm\"] = new Template(\"Template.addPropertyForm\", (function() {\n  var view = this;\n  return HTML.FORM({\n    class: \"signin-form cf-1\",\n    id: \"addPropertyFormCF\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"clearfix\"\n  }, \"\\n\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSA\"));\n  }, function() {\n    return HTML.Raw('\\n            <div class=\"styled-full-width\">\\n                <label class=\"cf-title\">Importer</label><br>\\n                <input type=\"text\" name=\"url\" class=\"styled-input-textarea url text-left\" style=\"text-align:left;\" placeholder=\"Enter any url\">\\n            </div>\\n\\n           <input type=\"hidden\" name=\"isImported\" value=\"true\">\\n');\n  }), HTML.Raw('\\n            <div class=\"w-100\"></div>\\n\\n            <div class=\"styled-input \">\\n                <input type=\"text\" name=\"address.address\" id=\"address.address\" required=\"\">\\n                <label id=\"address.address-error\" class=\"error\" for=\"address.address\">This field is required.</label>\\n                <br>\\n                <label>Name and Street *</label>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"styled-input \">\\n                <input type=\"text\" name=\"price\">\\n                <!--<label id=\"address.address-error\" class=\"error\" for=\"address.address\">This field is required.</label>-->\\n                <br>\\n                <label>Rent *</label>\\n                <span></span>\\n            </div>\\n\\n            '), HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Country</label>\\n                \"), HTML.SELECT({\n    name: \"address.country\",\n    required: \"\",\n    autocomplete: \"\",\n    class: \"\"\n  }, \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"countries\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION({\n      value: function() {\n        return [ Spacebars.mustache(view.lookup(\"value\")), \" \", Spacebars.mustache(view.lookup(\"selected\")) ];\n      }\n    }, Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>County</label>\\n                \"), HTML.SELECT({\n    name: \"address.county\",\n    required: \"\",\n    autocomplete: \"\",\n    class: \"countySelected\"\n  }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"counties\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Area *</label>\\n                \"), HTML.SELECT({\n    name: \"address.area\",\n    required: \"\",\n    autocomplete: \"\",\n    class: \"\"\n  }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"areas\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-input styled-input-select\"\n  }, HTML.Raw(\"\\n                <label>Property type *</label>\\n                \"), HTML.SELECT({\n    name: \"type\",\n    required: \"\",\n    autocomplete: \"\"\n  }, HTML.Raw('\\n                    <option value=\"\">(Select One)</option>\\n                    '), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"propertyTypes\"));\n  }, function() {\n    return [ \"\\n                        \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"value\"));\n      }\n    }, Blaze.View(\"lookup:label\", function() {\n      return Spacebars.mustache(view.lookup(\"label\"));\n    })), \"\\n                    \" ];\n  }), \"\\n                \"), HTML.Raw(\"\\n                <span></span>\\n            \")), HTML.Raw('\\n\\n\\n            <div class=\"styled-input styled-input-select\">\\n                <label>Furnished? *</label>\\n                <select name=\"furnished\" required=\"\" autocomplete=\"\">\\n                    <option value=\"true\">Yes</option>\\n                    <option value=\"false\">No</option>\\n                </select>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"styled-input underline\">\\n                <input type=\"number\" name=\"baths\" id=\"baths\" required=\"\">\\n                <label>Number of bathrooms</label>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"styled-input underline\">\\n                <input type=\"number\" name=\"numBedRoomCount\" id=\"numBedRoomCount\" required=\"\">\\n                <label>Number of bedrooms</label>\\n                <span></span>\\n            </div>\\n\\n            '), Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"numBedRoomCount\"));\n  }, function() {\n    return [ \"\\n            \", HTML.DIV({\n      class: \"styled-full-width\"\n    }, HTML.Raw('\\n                <label class=\"sep-label\">Ensuite? </label>\\n\\n                '), Blaze.Each(function() {\n      return Spacebars.dataMustache(view.lookup(\"ensuiteLoop\"), view.lookup(\"numBedRoomCount\"));\n    }, function() {\n      return [ \"\\n                \", HTML.DIV({\n        class: \"styled-input-select styled-input-checkbox max-20\"\n      }, \"\\n                    \", HTML.DIV({\n        class: \"checkbox disabled\"\n      }, \"\\n                        \", HTML.LABEL(HTML.INPUT({\n        type: \"checkbox\",\n        name: function() {\n          return [ \"bedrooms.\", Spacebars.mustache(view.lookup(\"@index\")), \".ensuite\" ];\n        }\n      }), \"Bedroom \", Blaze.View(\"lookup:i\", function() {\n        return Spacebars.mustache(view.lookup(\"i\"));\n      }), \" Ensuite?\"), \"\\n                    \"), HTML.Raw(\"\\n                    <label>Bed Type</label>\\n                    \"), HTML.SELECT({\n        required: \"\",\n        autocomplete: \"\",\n        name: function() {\n          return [ \"bedrooms.\", Spacebars.mustache(view.lookup(\"@index\")), \".bedType\" ];\n        }\n      }, HTML.Raw('\\n                        <option value=\"single\">Single</option>\\n                        <option value=\"double\">Double</option>\\n                        <option value=\"twin\">Twin</option>\\n                    ')), HTML.Raw(\"\\n                    <span></span>\\n                \")), \"\\n            \" ];\n    }), \"\\n\\n            \"), HTML.Raw('<div class=\"w-100\"></div>\\n            ') ];\n  }), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-full-width\"\n  }, HTML.Raw('\\n                <label class=\"cf-title\">About</label><br>\\n                '), HTML.TEXTAREA({\n    name: \"about\",\n    class: \"styled-input-textarea autoGrowTA\",\n    placeholder: \"Enter any additional info about this letting.\"\n  }), \"\\n\\n            \"), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n\\n            <div class=\"styled-full-width styled-input-checkbox\">\\n                <label class=\"cf-title\">Amenities</label><br>\\n                <div class=\"cb-subsec\">\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Parking\">Parking</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Club House\">Club House</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Swimming Pool\">Swimming Pool</label>\\n                    </div>\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Mini Theater\">Mini Theater</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Gym\">Gym</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Meditation Hall\">Meditation Hall</label>\\n                    </div>\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Cable Television\">Cable Television</label>\\n                    </div>\\n                </div>\\n                <div class=\"cb-subsec\">\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Dishwasher\">Dishwasher</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Garden / Patio / Balcony\">Garden / Patio / Balcony</label>\\n                    </div>\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Internet\">Internet</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Serviced Property\">Serviced Property</label>\\n                    </div>\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Washing Machine\">Washing Machine</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Central Heating\">Central Heating</label>\\n                    </div>\\n                </div>\\n                <div class=\"cb-subsec\">\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Dryer\">Dryer</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"House Alarm\">House Alarm</label>\\n                    </div>\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Microwave\">Microwave</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Pets Allowed\">Pets Allowed</label>\\n                    </div>\\n                    <div class=\"checkbox\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Smoking \">Smoking</label>\\n                    </div>\\n                    <div class=\"checkbox disabled\">\\n                        <label><input type=\"checkbox\" name=\"amenities\" value=\"Wheelchair Access\">Wheelchair Access</label>\\n                    </div>\\n                </div>\\n                <span></span>\\n            </div>\\n\\n            <div class=\"w-100\"></div>\\n\\n            <div class=\"sep-section\">\\n                <label class=\"sep-label\">Contact details of the property owner if any</label>\\n                <div class=\"styled-input underline\">\\n                    <input type=\"text\" name=\"contacts.0.name\">\\n                    <label>Owners Name <i title=\"This info will not be displayed to users. It confidential and will be used only for record purpose.\">(Private)</i></label>\\n                    <span></span>\\n                </div>\\n                <div class=\"styled-input underline\">\\n                    <input type=\"text\" name=\"contacts.0.phone\">\\n                    <label>Owners Mobile <i title=\"This info will not be displayed to users. It confidential and will be used only for record purpose.\">(Private)</i></label>\\n                    <span></span>\\n                </div>\\n                <div class=\"styled-input underline\">\\n                    <input type=\"email\" name=\"contacts.0.email\">\\n                    <label>Owners Email <i title=\"This info will not be displayed to users. It confidential and will be used only for record purpose.\">(Private)</i></label>\\n                    <span></span>\\n                </div>\\n            </div>\\n\\n            <div class=\"w-100\"></div>\\n\\n\\n            <div class=\"styled-full-width\">\\n                <button class=\"btns blue-btn openFileUploader\">Add Images</button>\\n                <!--<label for=\"selectPropertyImages\">Property images</label>-->\\n                <!--<input type=\"file\" multiple=\"true\" class=\"selectPropertyImages\"  id=\"selectPropertyImages\"/>-->\\n                <!--<p class=\"help-block\">Example block-level help text here.</p>-->\\n            </div>\\n\\n            <div class=\"w-100\"></div>\\n\\n\\n            '), Spacebars.include(view.lookupTemplate(\"imageView\")), \"\\n\\n            \", HTML.DIV({\n    class: \"styled-full-width\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"addPropertyFormSaving\"));\n  }, function() {\n    return HTML.Raw('\\n                    <button type=\"button\" class=\"btns transparent-btn\">Saving</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                    <button type=\"submit\" class=\"btns blue-btn addPropertyFormSaveBtn\">Save</button>\\n                ');\n  }), HTML.Raw('\\n                <button type=\"button\" class=\"btns blue-btn addPropertyFormSaveAdvertiseBtn\">Save and Advertise</button>\\n                <button type=\"button\" class=\"btns transparent-btn addPropertyFormCancelBtn\">Cancel</button>\\n            ')), HTML.Raw('\\n\\n            <div class=\"w-100\"></div>\\n        ')), \"\\n    \");\n}));\n\nTemplate.__checkName(\"addPropertyForm1\");\nTemplate[\"addPropertyForm1\"] = new Template(\"Template.addPropertyForm1\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Collections.Properties\"),\n      id: Spacebars.call(\"insertPropertiesForm\"),\n      type: Spacebars.call(\"insert\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"autoForm\"), function() {\n      return [ \"\\n        \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"afFieldNames\"));\n      }, function() {\n        return [ \"\\n            \", Blaze._TemplateWith(function() {\n          return {\n            name: Spacebars.call(Spacebars.dot(view.lookup(\".\"), \"name\")),\n            options: Spacebars.call(view.lookup(\"afOptionsFromSchema\"))\n          };\n        }, function() {\n          return Spacebars.include(view.lookupTemplate(\"afQuickField\"));\n        }), \"\\n        \" ];\n      }), HTML.Raw('\\n\\n        <div class=\"form-group\">\\n            <label for=\"selectPropertyImages\">Property images</label>\\n            <input type=\"file\" multiple=\"true\" class=\"selectPropertyImages\" id=\"selectPropertyImages\">\\n            <!--<p class=\"help-block\">Example block-level help text here.</p>-->\\n        </div>\\n\\n        '), Spacebars.include(view.lookupTemplate(\"imageView\")), HTML.Raw('\\n\\n\\n        <button type=\"submit\" class=\"btns blue-btn addPropertyFormSaveBtn\">Save</button>\\n        <button type=\"button\" class=\"btns transparent-btn addPropertyFormCancelBtn\">Cancel</button>\\n\\n    ') ];\n    });\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"pagination.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/pagination.html                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.pagination.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.pagination.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.pagination.js                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"pagination\");\nTemplate[\"pagination\"] = new Template(\"Template.pagination\", (function() {\n  var view = this;\n  return HTML.NAV(\"\\n        \", Blaze.If(function() {\n    return false;\n  }, function() {\n    return [ \"\\n        \", HTML.UL({\n      class: \"pagination\"\n    }, \"\\n            \", HTML.LI(\"\\n                \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"prevPage\"), \"href\"));\n      },\n      \"aria-label\": function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"prevPage\"), \"text\"));\n      }\n    }, HTML.Raw('\\n                    <span aria-hidden=\"true\">&laquo;</span>\\n                ')), \"\\n            \"), \"\\n            \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"pages\"));\n    }, function() {\n      return [ \"\\n                \", HTML.LI(HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"href\"));\n        }\n      }, Blaze.View(\"lookup:text\", function() {\n        return Spacebars.mustache(view.lookup(\"text\"));\n      }))), \"\\n            \" ];\n    }), HTML.Raw('\\n            <!--<li><a href=\"javascript:void(0)\">2</a></li>-->\\n            <!--<li><a href=\"javascript:void(0)\">3</a></li>-->\\n            <!--<li><a href=\"javascript:void(0)\">4</a></li>-->\\n            <!--<li><a href=\"javascript:void(0)\">5</a></li>-->\\n            '), HTML.LI(\"\\n                \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"nextPage\"), \"href\"));\n      },\n      \"aria-label\": function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"nextPage\"), \"text\"));\n      }\n    }, HTML.Raw('\\n                    <span aria-hidden=\"true\">&raquo;</span>\\n                ')), \"\\n            \"), \"\\n        \"), \"\\n        \" ];\n  }), \"\\n        \", HTML.UL({\n    class: \"pagination\"\n  }, \"\\n            \", HTML.LI({\n    class: function() {\n      return [ \"page-item \", Spacebars.mustache(Spacebars.dot(view.lookup(\"prevPage\"), \"disabled\")) ];\n    }\n  }, \"\\n                \", HTML.A({\n    class: \"page-link\",\n    href: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"prevPage\"), \"href\"));\n    },\n    tabindex: \"-1\"\n  }, Blaze.View(\"lookup:prevPage.text\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"prevPage\"), \"text\"));\n  })), \"\\n            \"), \"\\n            \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"pages\"));\n  }, function() {\n    return [ \"\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"current\"));\n    }, function() {\n      return [ \"\\n                    \", HTML.LI({\n        class: \"page-item active\"\n      }, \"\\n                        \", HTML.A({\n        class: \"page-link\",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"href\"));\n        }\n      }, Blaze.View(\"lookup:text\", function() {\n        return Spacebars.mustache(view.lookup(\"text\"));\n      }), HTML.Raw(' <span class=\"sr-only\">(current)</span>')), \"\\n                    \"), \"\\n                \" ];\n    }, function() {\n      return [ \"\\n                    \", HTML.LI({\n        class: \"page-item\"\n      }, HTML.A({\n        class: \"page-link\",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"href\"));\n        }\n      }, Blaze.View(\"lookup:text\", function() {\n        return Spacebars.mustache(view.lookup(\"text\"));\n      }))), \"\\n                \" ];\n    }), \"\\n            \" ];\n  }), \"\\n            \", HTML.LI({\n    class: function() {\n      return [ \"page-item \", Spacebars.mustache(Spacebars.dot(view.lookup(\"nextPage\"), \"disabled\")) ];\n    }\n  }, \"\\n                \", HTML.A({\n    class: \"page-link\",\n    href: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"nextPage\"), \"href\"));\n    }\n  }, Blaze.View(\"lookup:nextPage.text\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"nextPage\"), \"text\"));\n  })), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"profile.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/profile.html                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.profile.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.profile.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.profile.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"profile\");\nTemplate[\"profile\"] = new Template(\"Template.profile\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n    \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"currentUser\"));\n      }, function() {\n        return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"userProfile\")), \"\\n    \" ];\n      }, function() {\n        return \"\\n\\n    \";\n      }), \"\\n\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"accountProfileExtended\");\nTemplate[\"accountProfileExtended\"] = new Template(\"Template.accountProfileExtended\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"userProfile\")), \"\\n    \" ];\n  }, function() {\n    return \"\\n\\n    \";\n  });\n}));\n\nTemplate.__checkName(\"userProfile\");\nTemplate[\"userProfile\"] = new Template(\"Template.userProfile\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    class: \"profile-page\"\n  }, \"\\n        \", HTML.SECTION({\n    class: \"logo-below-div\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                        \", HTML.UL(\"\\n                            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"backBtnNeeded\"));\n  }, function() {\n    return HTML.LI(HTML.SPAN({\n      class: \"backBtn\",\n      style: \"cursor: pointer;\"\n    }, HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/back-arrow.png\");\n      }\n    })));\n  }), \"\\n                            \", HTML.LI(\"\\n                                \", HTML.H2(\"\\n                                    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"displayName\"));\n  }, function() {\n    return [ Blaze.View(\"lookup:displayName\", function() {\n      return Spacebars.mustache(view.lookup(\"displayName\"));\n    }), HTML.Raw(\"&#39;s Profile\\n                                            \") ];\n  }, function() {\n    return \"My Profile\\n                                    \";\n  }), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"backBtnNeeded\"));\n  }, function() {\n    return HTML.Raw('\\n                        <div class=\"menu\">\\n                            <ul>\\n                                <li class=\"text-center\">\\n                                    <button class=\"blue-btn btns backBtn\" type=\"button\" style=\"margin-bottom: 5px;\">\\n                                        Back to Property\\n                                    </button>\\n\\n                                </li>\\n                            </ul>\\n                        </div>\\n                    ');\n  }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n\\n        \", HTML.SECTION({\n    class: \"myprofile-info mar-top-20 mar-btm-30 pad-btm-20\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"text-center\"\n  }, HTML.Raw('\\n                    <!--<h2 class=\"text-center\">{{displayName}}</h2>-->\\n                    <p class=\"text-center\">Wouldn\\'t it be great if landlords find you? Make your profile public now to find house faster. Its safe and quick. </p>\\n                    '), HTML.H3({\n    class: function() {\n      return [ \"text-center \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"isPublic\"));\n      }, function() {\n        return \"green-text\";\n      }, function() {\n        return \"text-warning\";\n      }) ];\n    }\n  }, HTML.SELECT({\n    class: \"togglePublicProfileSetting\"\n  }, HTML.OPTION(HTML.Attrs({\n    value: \"yes\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"isPublicProfileSelectYes\"));\n  }), \"Yes\"), HTML.OPTION(HTML.Attrs({\n    value: \"no\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"isPublicProfileSelectNo\"));\n  }), \"No\")), \"\\n                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"isPublic\"));\n  }, function() {\n    return \"Landlords can find and invite me for house viewings.\\n                        \";\n  }, function() {\n    return \"Landlords can't find me.\";\n  }), \"\\n                    \"), \"\\n\", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"isPublic\"));\n  }, function() {\n    return [ \"\\n                    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"username\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.FORM({\n        class: \"profileurl-form\"\n      }, \"\\n                            \", HTML.DIV({\n        class: \"input-group\"\n      }, \"\\n                                \", HTML.INPUT({\n        type: \"text\",\n        value: function() {\n          return [ \"https://www.spotmycrib.ie/tenant/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"username\")) ];\n        },\n        class: \"form-control profileLinkField\",\n        name: \"profileLinkField\",\n        id: \"profileLinkField\",\n        style: \"\"\n      }), HTML.Raw('\\n                                <span class=\"input-group-btn\">\\n                                <button class=\"btns transparent-btn profileLinkCopyBtn\" type=\"button\">Copy</button>\\n                            </span>\\n                            ')), \"\\n                        \"), \"\\n                    \" ];\n    }), \"\\n\" ];\n  }), \"\\n                \"), \"\\n                \", HTML.DIV({\n    class: \"background-white mar-top-20 pad-btm-30\"\n  }, HTML.Raw('\\n                    <div class=\"padding30\">\\n\\n                    </div>\\n                    '), HTML.DIV({\n    class: \"grey-box \"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"text-center\"\n  }, HTML.Raw(\"<h3>Profile completion</h3>\\n                            \"), HTML.DIV({\n    class: \"progress\",\n    style: \"height: 21px;margin: 0 auto;margin-bottom: 10px;\"\n  }, \"\\n                                \", HTML.DIV({\n    class: function() {\n      return [ \"progress-bar \", Spacebars.mustache(Spacebars.dot(view.lookup(\"progress\"), \"css\")) ];\n    },\n    role: \"progressbar\",\n    \"aria-valuenow\": \"60\",\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    style: function() {\n      return [ \"width: \", Spacebars.mustache(Spacebars.dot(view.lookup(\"progress\"), \"percent\")), \";height: 21px;line-height: 21px;\" ];\n    }\n  }, \"\\n                                    \", Blaze.View(\"lookup:progress.percent\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"progress\"), \"percent\"));\n  }), \"\\n                                \"), \"\\n                            \"), HTML.Raw(\"\\n\\n                            <p> Complete profiles are given preference. </p>\\n\\n                            \"), Blaze.Each(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"progress\"), \"issues\"));\n  }, function() {\n    return [ \"\\n                                \", HTML.P(Blaze.View(\"lookup:.\", function() {\n      return Spacebars.mustache(view.lookup(\".\"));\n    })), \"\\n                            \" ];\n  }), \"\\n\\n                        \"), \"\\n\\n                        \", HTML.FORM({\n    action: \"\"\n  }, \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap mar-btm-20\"\n  }, HTML.Raw(\"\\n                                <label>\\n                                    Email\\n                                </label>\\n                                \"), HTML.DIV({\n    class: \"inp-hold\"\n  }, \"\\n                                    \", HTML.INPUT({\n    type: \"email\",\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userEmail\"));\n    },\n    class: \"form-control\"\n  }), \"\\n                                    \", HTML.SPAN({\n    class: \"overlay-text\",\n    placeholder: \"abc@gmail.com\"\n  }, Blaze.View(\"lookup:data.userEmail\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userEmail\"));\n  })), HTML.Raw('\\n                                    <!--<span class=\"color-green green-bdr-btm change-clk change-click change-text\">Change</span>-->\\n                                    <!--<button class=\"color-green green-bdr-btm change-clk save-btn transition\" type=\"button\">Save</button>-->\\n                                    <!--<div class=\"cancel-div transition\"><button class=\"color-green green-bdr-btm cancel-clk\" type=\"button\">Cancel</button></div>-->\\n                                ')), \"\\n                            \"), HTML.Raw('\\n                                <!--{{#if data.userEmailVerified}}{{else}}-->\\n                            <!--<div class=\"inp-wrap mar-btm-20\">-->\\n                            <!--<div class=\"request-hold hideen-div\">-->\\n                            <!--<h5>Email not verified?</h5>-->\\n                            <!--<span class=\"color-blue blue-bdr-btm request-clk sendEmailVerification\">Send verification link</span>-->\\n                            <!--<span class=\"sent-req color-grey transition\"><span class=\"fa-check fa color-green pad-right-10\"></span>Request Sent</span>-->\\n\\n                            <!--</div>-->\\n                            <!--</div>-->\\n                                <!--{{/if}}-->\\n                            '), HTML.DIV({\n    class: \"inp-wrap mar-btm-20\"\n  }, HTML.Raw('\\n                                <label>\\n                                    Mobile\\n                                </label>\\n                                <div class=\"alert alert-success mobileValidationErrors\" style=\"\">\\n\\n                                </div>\\n                                '), HTML.DIV({\n    class: \"inp-hold\"\n  }, \"\\n                                    \", HTML.INPUT({\n    type: \"text\",\n    placeholder: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"mobile\"));\n    },\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"mobile\"));\n    },\n    class: \"form-control db-data changeMobileValue\"\n  }), \"\\n                                    \", HTML.SPAN({\n    class: \"overlay-text\"\n  }, Blaze.View(\"lookup:data.userData.profile.mobile\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"mobile\"));\n  })), HTML.Raw('\\n                                    <span class=\"color-blue blue-bdr-btm change-clk change-click change-text\">Change</span>\\n                                    <button class=\"color-blue blue-bdr-btm change-clk save-btn transition changeMobileConfirmation\" type=\"button\">Save</button>\\n                                    <div class=\"cancel-div transition\"><button class=\"color-blue blue-bdr-btm cancel-clk\" type=\"button\">Cancel</button></div>\\n                                ')), \"\\n                            \"), \"\\n                            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasPasswordSetReqCompleted\"));\n  }, function() {\n    return [ \"\\n                            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"hasPasswordSet\"));\n    }, function() {\n      return HTML.Raw('\\n                                <div class=\"inp-wrap request-hold mar-btm-20 change-pwd-link\">\\n                                    <h5>Change password?</h5>\\n                                    <button class=\"changepass1 changePwdBtn\" type=\"button\">Change Password</button>\\n                                </div>\\n                            ');\n    }, function() {\n      return HTML.Raw('\\n                                <div class=\"inp-wrap request-hold mar-btm-20 change-pwd-link\">\\n                                    <h5>Set password</h5>\\n                                    <button class=\"changepass1 setPwdBtn\" type=\"button\">Set Password</button>\\n                                </div>\\n                            ');\n    }), \"\\n                            \" ];\n  }), \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap request-hold mar-btm-20 change-pwd-link\"\n  }, \"\\n                                \", HTML.H5(Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\"));\n  }, function() {\n    return HTML.Raw('<span class=\"green-text\">Connected to Facebook</span>');\n  }, function() {\n    return \"Link with Facebook\";\n  })), \"\\n                                \", Blaze.Unless(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"facebook\"));\n  }, function() {\n    return HTML.Raw('<button class=\"changepass1 linkWithFacebookBtn\" type=\"button\">Link with Facebook</button>');\n  }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap request-hold mar-btm-20 change-pwd-link\"\n  }, \"\\n                                \", HTML.H5(Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"twitter\"));\n  }, function() {\n    return HTML.Raw('<span class=\"green-text\">Connected to Twitter</span>');\n  }, function() {\n    return \"Link with Twitter\";\n  })), \"\\n                                \", Blaze.Unless(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"twitter\"));\n  }, function() {\n    return HTML.Raw('<button class=\"changepass1 linkWithTwitterBtn\" type=\"button\">Link with Twitter</button>');\n  }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap request-hold mar-btm-20 change-pwd-link\"\n  }, \"\\n                                \", HTML.H5(Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"linkedin\"));\n  }, function() {\n    return HTML.Raw('<span class=\"green-text\">Connected to LinkedIn</span>');\n  }, function() {\n    return \"Link with LinkedIn\";\n  })), \"\\n                                \", Blaze.Unless(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"linkedin\"));\n  }, function() {\n    return HTML.Raw('<button class=\"changepass1 linkWithLinkedInBtn\" type=\"button\">Link with LinkedIn</button>');\n  }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap request-hold mar-btm-20 change-pwd-link\"\n  }, \"\\n                                \", HTML.H5(Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"google\"));\n  }, function() {\n    return HTML.Raw('<span class=\"green-text\">Connected to Google</span>');\n  }, function() {\n    return \"Link with Google\";\n  })), \"\\n                                \", Blaze.Unless(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"currentUser\"), \"services\", \"google\"));\n  }, function() {\n    return HTML.Raw('<button class=\"changepass1 linkWithGoogleBtn\" type=\"button\">Link with Google</button>');\n  }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap mar-btm-20\"\n  }, HTML.Raw(\"\\n                                <label>\\n                                    Employer name\\n                                </label>\\n                                \"), HTML.DIV({\n    class: \"inp-hold\"\n  }, \"\\n                                    \", HTML.INPUT({\n    type: \"text\",\n    placeholder: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerName\"));\n    },\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerName\"));\n    },\n    class: \"form-control db-data changeEmployerNameValue\"\n  }), \"\\n                                    \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerName\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.SPAN({\n      class: \"overlay-text\",\n      placeholder: \"\"\n    }, Blaze.View(\"lookup:data.userData.profile.references.employerName\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerName\"));\n    })), \"\\n                                    \" ];\n  }, function() {\n    return HTML.Raw('\\n                                        <span class=\"overlay-text\" placeholder=\"\"> ? </span>\\n                                    ');\n  }), HTML.Raw('\\n                                    <span class=\"color-blue blue-bdr-btm change-clk change-click change-text\">Update</span>\\n                                    <button class=\"color-blue blue-bdr-btm change-clk save-btn transition changeEmployerNameConfirmation\" type=\"button\">Save</button>\\n                                    <div class=\"cancel-div transition\"><button class=\"color-blue green-bdr-btm cancel-clk\" type=\"button\">Cancel</button></div>\\n                                ')), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"inp-wrap mar-btm-20\"\n  }, \"\\n                                \", HTML.LABEL({\n    title: \"This information will not be shared with anyone, it will only be used to calculate your profile completion score. \"\n  }, \"\\n                                    Monthly take home salary (private) \", HTML.A({\n    href: \"javascript:void(0);\",\n    class: \"privacyTermsMore_btn\"\n  }, Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"privacyTermsMore\"));\n  }, function() {\n    return \"less\";\n  }, function() {\n    return \"more\";\n  })), \"\\n                                    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"privacyTermsMore\"));\n  }, function() {\n    return [ HTML.Raw(\"\\n                                        <br>\"), HTML.SPAN(\"This information will not be shared with anyone, it will only be used to calculate your profile completion score. \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"privacy\");\n      }\n    }, \"Privacy\")) ];\n  }), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n    class: \"inp-hold\"\n  }, \"\\n                                    \", HTML.INPUT({\n    type: \"text\",\n    placeholder: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerTakeHome\"));\n    },\n    value: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerTakeHome\"));\n    },\n    class: \"form-control db-data changeEmployerTakeHomeValue\"\n  }), \"\\n                                    \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerTakeHome\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.SPAN({\n      class: \"overlay-text\",\n      placeholder: \"\"\n    }, Blaze.View(\"lookup:data.userData.profile.references.employerTakeHome\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"employerTakeHome\"));\n    })), \"\\n                                    \" ];\n  }, function() {\n    return HTML.Raw('\\n                                        <span class=\"overlay-text\" placeholder=\"\"> ? </span>\\n                                    ');\n  }), HTML.Raw('\\n                                    <span class=\"color-blue blue-bdr-btm change-clk change-click change-text\">Update</span>\\n                                    <button class=\"color-blue blue-bdr-btm change-clk save-btn transition changeEmployerTakeHomeConfirmation\" type=\"button\">Save</button>\\n                                    <div class=\"cancel-div transition\"><button class=\"color-blue green-bdr-btm cancel-clk\" type=\"button\">Cancel</button></div>\\n                                ')), \"\\n                            \"), \"\\n\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Passport\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasPassport\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"passport\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Work Reference\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasWorkRef\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"workRef\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Landlord Reference\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasLandlordRef\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"landlordRef\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"PPS\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasPPS\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"PPS\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Financial Reference\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasFinancialRef\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"financialRef\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Government ID\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasGovtID\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"govtID\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n                            \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Resume\"),\n      hasIt: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"hasResume\")),\n      link: Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"userData\", \"profile\", \"references\", \"resume\", \"url\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"fileUploadArea\"));\n  }), \"\\n\\n\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), HTML.Raw(\"\\n\\n    <!-- change password  -->\\n    \"), HTML.DIV({\n    id: \"changepass-dlg\",\n    class: \"changepass-div\",\n    style: \"display:none;\"\n  }, HTML.Raw('\\n        <div class=\"refund-div\"><h2>Change Password</h2></div>\\n        '), HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n            \", Spacebars.include(view.lookupTemplate(\"loginFormChangePassword\")), \"\\n        \"), \"\\n    \"), HTML.Raw(\"\\n    <!-- </div> -->\\n\\n    \"), HTML.DIV({\n    id: \"setpass-dlg\",\n    class: \"changepass-div\",\n    style: \"display:none;\"\n  }, HTML.Raw('\\n        <div class=\"refund-div\"><h2>Set Password</h2></div>\\n        '), HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n            \", Spacebars.include(view.lookupTemplate(\"loginFormSetPassword\")), \"\\n        \"), \"\\n    \"), \"\\n\\n    \", Blaze.View(\"lookup:showHideFileDlg\", function() {\n    return Spacebars.mustache(view.lookup(\"showHideFileDlg\"));\n  }), \"\\n    \", HTML.DIV({\n    id: \"fileupload-dlg\",\n    class: \"fileupload-dlg\",\n    style: \"display:none;\"\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showFileTemplate\"));\n  }, function() {\n    return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"fileUploadDlgTemplate\")), \"\\n        \" ];\n  }), \"\\n    \") ];\n}));\n\nTemplate.__checkName(\"loginFormSetPassword\");\nTemplate[\"loginFormSetPassword\"] = new Template(\"Template.loginFormSetPassword\", (function() {\n  var view = this;\n  return HTML.FORM(\"\\n\\n        \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password1\")) ];\n    }\n  }, \"\\n            \", HTML.INPUT({\n    type: \"password\",\n    name: \"name\",\n    required: \"\",\n    for: function() {\n      return [ \"currentPassword_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    },\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"password1\"));\n    },\n    class: \"newpwd login-input--password1 show-pwd\"\n  }), HTML.Raw(\"<br>\\n            \"), HTML.LABEL({\n    for: function() {\n      return [ \"currentPassword_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"ENTER NEW PASSWORD\"), HTML.Raw('<label class=\"eyebtn\"><img src=\"/images/pass-eye.png\"></label>\\n            <span></span>\\n            '), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password1\"));\n  }, function() {\n    return [ \"\\n                \", HTML.SPAN({\n      class: \"help-block\",\n      style: \"position: relative;background: none !important;min-height:30px;\"\n    }, \"\\n                    \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password1\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.P(Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      })), \"\\n                    \" ];\n    }), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n        \"), \"\\n\\n\\n        \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password2\")) ];\n    }\n  }, \"\\n            \", HTML.INPUT({\n    type: \"password\",\n    name: \"email\",\n    required: \"\",\n    for: function() {\n      return [ \"password_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    },\n    class: \"newpwdconfirm login-input--password2\",\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"password2\"));\n    }\n  }), \"\\n            \", HTML.LABEL({\n    for: function() {\n      return [ \"password_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"CONFIRM NEW PASSWORD\"), HTML.Raw(\"\\n            <span></span>\\n            \"), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password2\"));\n  }, function() {\n    return [ \"\\n                \", HTML.SPAN({\n      class: \"help-block\",\n      style: \"position: relative;background: none !important;min-height:30px;\"\n    }, \"\\n                    \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password2\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.P(Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      })), \"\\n                    \" ];\n    }), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n        \"), HTML.Raw('\\n\\n        <!--<div class=\"styled-input\">-->\\n        <!--<input type=\"password\" name=\"phone\" id=\"phone\" onKeyPress=\"return isNumberKey(event);\" required/>-->\\n        <!--<label>CONFIRM NEW PASSWORD</label>-->\\n        <!--<span></span> </div>-->\\n\\n        <!--<p class=\"color-text\">Passwords do not match!!</p>-->\\n        '), Blaze._TemplateWith(function() {\n    return {\n      messages: Spacebars.call(view.lookup(\"messages\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n  }), \"\\n        \", HTML.UL(HTML.Raw('\\n            <li><button class=\"transparent-btn btns noBtn\" type=\"button\" data-event-category=\"accounts\" data-event-action=\"change-password-cancel\">CANCEL</button></li>\\n            '), HTML.LI(\"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLoading\"));\n  }, function() {\n    return HTML.Raw('\\n                    <button class=\"transparent-btn btns\">Loading...</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                    <button class=\"blue-btn btns\" type=\"Submit\" data-event-category=\"accounts\" data-event-action=\"change-password\">APPLY</button>\\n                ');\n  }), \"\\n            \"), \"\\n        \"), \"\\n\\n    \");\n}));\n\nTemplate.__checkName(\"loginFormChangePassword\");\nTemplate[\"loginFormChangePassword\"] = new Template(\"Template.loginFormChangePassword\", (function() {\n  var view = this;\n  return HTML.FORM(\"\\n\\n        \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"oldPassword\")) ];\n    }\n  }, \"\\n            \", HTML.INPUT({\n    type: \"password\",\n    name: \"name\",\n    required: \"\",\n    for: function() {\n      return [ \"currentPassword_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    },\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"oldPassword\"));\n    },\n    class: \"oldpwd login-input--oldPassword show-pwd\"\n  }), HTML.Raw(\"<br>\\n            \"), HTML.LABEL({\n    for: function() {\n      return [ \"currentPassword_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"ENTER CURRENT PASSWORD\"), HTML.Raw('<label class=\"eyebtn\"><img src=\"/images/pass-eye.png\"></label>\\n            <span></span>\\n            '), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"oldPassword\"));\n  }, function() {\n    return [ \"\\n                \", HTML.SPAN({\n      class: \"help-block\",\n      style: \"position: relative;background: none !important;min-height:30px;\"\n    }, \"\\n                    \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"oldPassword\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.P(Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      })), \"\\n                    \" ];\n    }), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n        \"), \"\\n\\n\\n        \", HTML.DIV({\n    class: function() {\n      return [ \"styled-input \", Spacebars.mustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\")) ];\n    }\n  }, \"\\n            \", HTML.INPUT({\n    type: \"password\",\n    name: \"email\",\n    required: \"\",\n    for: function() {\n      return [ \"password_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    },\n    class: \"newpwd login-input--password\",\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"password\"));\n    }\n  }), \"\\n            \", HTML.LABEL({\n    for: function() {\n      return [ \"password_\", Spacebars.mustache(view.lookup(\"uniqueId\")) ];\n    }\n  }, \"ENTER NEW PASSWORD\"), HTML.Raw(\"\\n            <span></span>\\n            \"), Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"hasError\"), Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\"));\n  }, function() {\n    return [ \"\\n                \", HTML.SPAN({\n      class: \"help-block\",\n      style: \"position: relative;background: none !important;min-height:30px;\"\n    }, \"\\n                    \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"messages\"), \"errors\", \"password\"));\n    }, function() {\n      return [ \"\\n                        \", HTML.P(Blaze.View(\"lookup:reason\", function() {\n        return Spacebars.mustache(view.lookup(\"reason\"));\n      })), \"\\n                    \" ];\n    }), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n        \"), HTML.Raw('\\n\\n        <!--<div class=\"styled-input\">-->\\n        <!--<input type=\"password\" name=\"phone\" id=\"phone\" onKeyPress=\"return isNumberKey(event);\" required/>-->\\n        <!--<label>CONFIRM NEW PASSWORD</label>-->\\n        <!--<span></span> </div>-->\\n\\n        <!--<p class=\"color-text\">Passwords do not match!!</p>-->\\n        '), Blaze._TemplateWith(function() {\n    return {\n      messages: Spacebars.call(view.lookup(\"messages\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginFormMessages\"));\n  }), \"\\n        \", HTML.UL(HTML.Raw('\\n            <li><button class=\"transparent-btn btns noBtn\" type=\"button\" data-event-category=\"accounts\" data-event-action=\"change-password-cancel\">CANCEL</button></li>\\n            '), HTML.LI(\"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLoading\"));\n  }, function() {\n    return HTML.Raw('\\n                    <button class=\"transparent-btn btns\">Loading...</button>\\n                ');\n  }, function() {\n    return HTML.Raw('\\n                    <button class=\"blue-btn btns\" type=\"Submit\" data-event-category=\"accounts\" data-event-action=\"change-password\">APPLY</button>\\n                ');\n  }), \"\\n\\n            \"), \"\\n        \"), \"\\n\\n    \");\n}));\n\nTemplate.__checkName(\"fileUploadArea\");\nTemplate[\"fileUploadArea\"] = new Template(\"Template.fileUploadArea\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"inp-wrap request-hold mar-btm-20 change-pwd-link profileFileUploadArea\"\n  }, \"\\n        \", HTML.SPAN({\n    class: \"col-md-4  col-xs-12\",\n    style: \"padding-left: 0;\"\n  }, HTML.H5(Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  }))), \"\\n        \", HTML.SPAN({\n    class: \"col-md-4  col-xs-6\"\n  }, \"\\n            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasIt\"));\n  }, function() {\n    return [ \"\\n                \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"link\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \"\\n            \" ];\n  }, function() {\n    return [ \"\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"uploading\"));\n    }, function() {\n      return HTML.Raw('\\n                    <p class=\"\">Uploading...</p>\\n                ');\n    }, function() {\n      return [ \"\\n                    \", HTML.P({\n        class: \"\"\n      }, \"Please upload your \", Blaze.View(\"lookup:title\", function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      })), \"\\n                \" ];\n    }), \"\\n            \" ];\n  }), \"\\n        \"), \"\\n        \", HTML.SPAN({\n    class: \"col-md-3 col-xs-6\"\n  }, HTML.Raw('\\n        <!--<label >-->\\n            <!--<span class=\"btns {{#if hasIt}} transparent-btn {{else}}{{/if}} blue-btn\">{{#if hasIt}}Update{{else}}Upload{{/if}}</span>-->\\n            <!--<input type=\"file\" cate=\"{{title}}\" class=\"uploadBtn\" accept=\"{{validFileExtensions}}\">-->\\n        <!--</label>-->\\n            '), HTML.A({\n    class: function() {\n      return [ \"showUploadDlg btns \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"hasIt\"));\n      }, function() {\n        return \" transparent-btn \";\n      }, function() {\n        return null;\n      }), \" blue-btn\" ];\n    }\n  }, Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasIt\"));\n  }, function() {\n    return \"Update\";\n  }, function() {\n    return \"Upload\";\n  })), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"fileUploadDlgTemplate\");\nTemplate[\"fileUploadDlgTemplate\"] = new Template(\"Template.fileUploadDlgTemplate\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    class: \"refund-div\"\n  }, HTML.H2(Blaze.View(\"lookup:dlgTitle\", function() {\n    return Spacebars.mustache(view.lookup(\"dlgTitle\"));\n  }))), \"\\n    \", HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n\\n        \", HTML.DIV({\n    class: \"step1\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"hidden-xs\"\n  }, HTML.Raw('\\n                <div class=\"blue-btn btns showCamera\" style=\"display: inline;\">Take a picture from Camera</div>\\n                '), HTML.LABEL({\n    style: \"display: inline;\"\n  }, \"\\n                    \", HTML.DIV({\n    style: \"margin-top: 10px;\",\n    class: function() {\n      return [ \"btns \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"hasIt\"));\n      }, function() {\n        return \" transparent-btn \";\n      }, function() {\n        return \" blue-btn \";\n      }), \" \" ];\n    }\n  }, Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasIt\"));\n  }, function() {\n    return \"Update\";\n  }, function() {\n    return \"Upload\";\n  }), \" from photos / files\"), \"\\n                \", HTML.INPUT({\n    type: \"file\",\n    cate: function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    },\n    class: \"uploadBtn\",\n    accept: function() {\n      return Spacebars.mustache(view.lookup(\"validFileExtensions\"));\n    }\n  }), \"\\n                \"), \"\\n            \"), \"\\n\\n            \", HTML.DIV({\n    class: \"visible-xs\"\n  }, HTML.Raw('\\n                <div class=\"blue-btn btns showCamera\">Take a picture from Camera</div>\\n                '), HTML.LABEL({\n    class: \"mar-top-5\"\n  }, \"\\n                    \", HTML.DIV({\n    style: \"margin-top: 10px;\",\n    class: function() {\n      return [ \"btns \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"hasIt\"));\n      }, function() {\n        return \" transparent-btn \";\n      }, function() {\n        return \" blue-btn \";\n      }), \" \" ];\n    }\n  }, Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasIt\"));\n  }, function() {\n    return \"Update\";\n  }, function() {\n    return \"Upload\";\n  }), \" from photos / files\"), \"\\n                \", HTML.INPUT({\n    type: \"file\",\n    cate: function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    },\n    class: \"uploadBtn\",\n    accept: function() {\n      return Spacebars.mustache(view.lookup(\"validFileExtensions\"));\n    }\n  }), \"\\n                \"), \"\\n            \"), \"\\n\\n            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"uploading\"));\n  }, function() {\n    return HTML.Raw('\\n                <div class=\"radio-bg register uploadingMessageArea\">\\n                    <p class=\"color-text \">Uploading...</p>\\n                </div>\\n            ');\n  }, function() {\n    return [ \"\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"existingFile\"));\n    }, function() {\n      return [ \"\\n                \", HTML.DIV({\n        class: \"radio-bg register uploadingMessageArea\"\n      }, \"\\n                    \", HTML.P({\n        class: \"color-text \"\n      }, \"Existing file \", Blaze.View(\"lookup:existingFile.name\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"existingFile\"), \"name\"));\n      }), \" \", HTML.A({\n        class: \"\",\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"existingFile\"), \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\")), \"\\n                \"), \"\\n                \" ];\n    }), \"\\n            \" ];\n  }), \"\\n        \"), HTML.Raw('\\n        <div class=\"step2\">\\n            <p>Adjust your image below and click upload at the bottom.</p>\\n            <div id=\"uploadImagePreviewArea\">\\n                <img style=\"display: none;\" class=\"img-responsive\" id=\"cropImage\">\\n            </div>\\n            <div class=\"cropBtns\">\\n\\n                <div class=\"btn-group\">\\n                    <button type=\"button\" class=\"transparent-btn btn zoomInBtn\" data-method=\"zoom\" data-option=\"0.1\" title=\"Zoom In\">\\n            <span class=\"docs-tooltip\" data-toggle=\"tooltip\" data-animation=\"false\" title=\"\" data-original-title=\"Zoom In\">\\n              <span class=\"glyphicon glyphicon-zoom-in\"></span>\\n            </span>\\n                    </button>\\n                    <button type=\"button\" class=\"transparent-btn btn zoomOutBtn\" data-method=\"zoom\" data-option=\"-0.1\" title=\"Zoom Out\">\\n            <span class=\"docs-tooltip\" data-toggle=\"tooltip\" data-animation=\"false\" title=\"\" data-original-title=\"Zoom Out\">\\n              <span class=\"glyphicon glyphicon-zoom-out\"></span>\\n            </span>\\n                    </button>\\n                </div>\\n\\n                <div class=\"btn-group\">\\n                    <button type=\"button\" class=\"transparent-btn btn rotateLeftBtn\" data-method=\"rotate\" data-option=\"-45\" title=\"Rotate Left\">\\n            <span class=\"docs-tooltip\" data-toggle=\"tooltip\" data-animation=\"false\" title=\"\" data-original-title=\"Rotate Left\">\\n              <span class=\"glyphicon glyphicon-repeat\"></span>\\n            </span>\\n                    </button>\\n                    <button type=\"button\" class=\"transparent-btn btn rotateRightBtn\" data-method=\"rotate\" data-option=\"45\" title=\"Rotate Right\">\\n            <span class=\"docs-tooltip\" data-toggle=\"tooltip\" data-animation=\"false\" title=\"\" data-original-title=\"Rotate Right\">\\n              <span class=\"glyphicon glyphicon-repeat\"></span>\\n            </span>\\n                    </button>\\n                </div>\\n\\n                <div class=\"btn-group\">\\n                    <button type=\"button\" class=\"transparent-btn btn resetBtn\" data-method=\"reset\" title=\"Reset\">\\n                        <span class=\"docs-tooltip\" data-toggle=\"tooltip\" data-animation=\"false\" title=\"\" data-original-title=\"Reset\"><span class=\"glyphicon glyphicon-refresh\"></span> Reset</span>\\n                    </button>\\n                </div>\\n\\n\\n            </div>\\n            <button class=\"btns blue-btn getCroppedImage\" style=\"display: inline\">Upload</button>\\n            <button class=\"btns blue-btn goToStep1\" style=\"display: inline\">Back</button>\\n            <button class=\"btns blue-btn closeDlg\" style=\"display: inline\">Cancel</button>\\n        </div>\\n\\n        <!--{{#if isStep 3}}-->\\n        <div class=\"step3\">\\n            <div id=\"finalImageArea\">\\n                <img style=\"display: none;\" class=\"img-responsive\" id=\"finalImage\">\\n            </div>\\n            <!--{{/if}}-->\\n            <button class=\"btns blue-btn closeDlg\" style=\"display: inline\">Close</button>\\n        </div>\\n    ')) ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"propertyApplications.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/propertyApplications.html                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.propertyApplications.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.propertyApplications.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.propertyApplications.js                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"propertyApplications\");\nTemplate[\"propertyApplications\"] = new Template(\"Template.propertyApplications\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n    \", HTML.SECTION({\n        class: \"unitspage-holder\"\n      }, \"\\n        \", HTML.SECTION({\n        class: \"logo-below-div\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"container\"\n      }, \"\\n                \", HTML.DIV({\n        class: \"logo-holder-div logoHolderTitleSection\"\n      }, \"\\n                    \", HTML.DIV({\n        class: \"logo-holder\"\n      }, \"\\n                        \", HTML.UL(\"\\n                            \", HTML.LI(HTML.SPAN({\n        class: \"backBtn\",\n        style: \"cursor: pointer;\"\n      }, HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/back-arrow.png\");\n        }\n      }))), \"\\n                            \", HTML.LI(HTML.H3(Blaze.View(\"lookup:propertyData.address.address\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"address\"));\n      }), \" \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:propertyData.address.area\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n        }), \" \" ];\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:propertyData.address.county\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n        }), \" \" ];\n      }), \" \"), \"\\n                                \", HTML.H4(\"PROPERTY KEY : \", Blaze.View(\"lookup:propertyData.auction.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"auction\", \"lettingAuctionCode\"));\n      }), \"\\n                                    \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n            route: \"letting\",\n            key: Spacebars.dot(view.lookup(\"propertyData\"), \"auction\", \"lettingAuctionCode\")\n          }));\n        },\n        class: \"viewListing\",\n        style: \"font-size:11px;\"\n      }, \"VIEW\")), HTML.Raw('\\n<span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\"><i class=\"glyphicon glyphicon-thumbs-up\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i> SHARE</a></span>\\n                                ')), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n        class: \"menu\"\n      }, \"\\n                        \", HTML.UL(HTML.Raw('\\n                            <!--<li class=\"left-border\">-->\\n                                <!--<h4 >APPLICATIONS RECEIVED</h4>-->\\n                                <!--<h3 class=\"pad-btm-0 text-center\">{{propertyData.applicationsReceivedCount}}</h3>-->\\n                            <!--</li>-->\\n                            <!--<li class=\"left-border\">-->\\n                                <!--<h4 >ACTIVE APPLICATIONS</h4>-->\\n                                <!--<h3 class=\"pad-btm-0 text-center\">{{propertyData.applicationsActiveCount}}</h3>-->\\n                            <!--</li>-->\\n                            '), HTML.LI({\n        class: \"left-border\"\n      }, HTML.Raw(\"\\n                                <h4>ACTIVE APPLICATIONS</h4>\\n                                \"), HTML.H3({\n        class: \"pad-btm-0 text-center\"\n      }, Blaze.View(\"lookup:dataFull.totalResultsCount\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"dataFull\"), \"totalResultsCount\"));\n      })), \"\\n                            \"), \"\\n                            \", HTML.LI({\n        class: \"left-border\"\n      }, HTML.Raw(\"\\n                                <h4>AVG. OFFER</h4>\\n                                \"), HTML.H3({\n        class: \"pad-btm-0 text-center\"\n      }, HTML.Raw(\"&euro;\"), Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"avgOffer\"));\n      }, function() {\n        return Blaze.View(\"lookup:avgOffer\", function() {\n          return Spacebars.mustache(view.lookup(\"avgOffer\"));\n        });\n      }, function() {\n        return \"0\";\n      })), \"\\n                            \"), HTML.Raw('\\n                            <li class=\"text-center\">\\n                                <button class=\"blue-btn btns showEditPropertyForm\" type=\"button\" style=\"margin-bottom: 5px;\">EDIT PROPERTY DETAILS</button>\\n                                <button class=\"transparent-btn btns deactivatePropertyBtn\" type=\"button\">Deactivate</button>\\n                            </li>\\n\\n                        ')), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showFilters\"));\n      }, function() {\n        return [ \"\\n        \", HTML.SECTION({\n          class: \"logo-below-div filterMenu\"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"logo-holder-div\"\n        }, HTML.Raw(\"\\n                    <h3>FILTERS</h3>\\n                    \"), HTML.UL({\n          class: \"new-filter\"\n        }, HTML.Raw('\\n                        <li style=\"display: none;\"><div class=\"pad-bot-15\">\\n                            <h4 class=\"color-grey text-left\"><label> Name</label></h4>\\n                            <div class=\"styled-input \">\\n                                <input type=\"text\" name=\"address.address\" id=\"address.address\" required=\"\">\\n                                <label id=\"address.address-error\" class=\"error\" for=\"address.address\">This field is required.</label>\\n                                <br>\\n                                <label>Name and Street *</label>\\n                                <span></span>\\n                            </div>\\n                        </div>\\n                        </li>\\n                        <li style=\"display: none;\"><div class=\"pad-bot-15\">\\n                            <h4 class=\"color-grey text-left\"><label> Name</label></h4>\\n                            <input id=\"myselect\" class=\"form-control filterUnitType\">\\n                        </div>\\n                        </li>\\n                        <li style=\"top: -7px;position: relative;\">\\n                            <div class=\"input-field\">\\n                                <h4 class=\"color-grey text-uppercase text-left pad-btm-30\">Offer range</h4>\\n                                <div class=\"range-holder\">\\n                                    <div class=\"range-value-holder clearfix\" style=\"padding-top: 4px;\">\\n                                        <div class=\"left value pull-left\">\\n                                            <p class=\"filterS1l\"></p>\\n                                        </div>\\n                                        <div class=\"right value pull-right\">\\n                                            <p class=\"filterS1h\"></p>\\n                                        </div>\\n                                    </div>\\n                                    <div id=\"offerRangeInput\"></div>\\n                                    <div class=\"input-select-new1\">\\n                                        <select id=\"input-select1\"></select><span class=\"cross-new2\"><img src=\"/images/clear-cross-btn.png\" class=\"close-icon\"></span>\\n                                    </div>\\n                                    <div class=\"input-new1\">\\n                                        <input type=\"number\" min=\"67.45\" max=\"97.45\" step=\"1\" id=\"input-number1\"><span class=\"cross-new3\"><img src=\"/images/clear-cross-btn.png\" class=\"close-icon\"></span>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </li>\\n                        '), HTML.LI({\n          style: \"margin-left: 20px;\"\n        }, \"\\n                            \", HTML.DIV({\n          class: \"pad-left-15\"\n        }, \"\\n                                \", HTML.DIV({\n          class: \"button-group cf-1 referenceFilter\"\n        }, HTML.Raw('\\n                                    <button type=\"button\" class=\"transparent-btn btns dropdown-toggle jns-dropdown-btn\" data-toggle=\"dropdown\">References <span class=\"caret\"></span></button>\\n                                    '), HTML.UL({\n          class: \"dropdown-menu styled-input-checkbox jns-dropdown-area\",\n          style: \"\"\n        }, HTML.Raw('\\n                                        <li>\\n                                            <div class=\"checkbox disabled\">\\n                                                <label>\\n                                                    <input type=\"checkbox\" name=\"refInput\" value=\"all\">\\n                                                    All</label>\\n                                            </div>\\n                                        </li><li>\\n                                            <div class=\"checkbox disabled\">\\n                                                <label>\\n                                                    <input type=\"checkbox\" name=\"refInput\" value=\"clearall\">\\n                                                    Clear all</label>\\n                                            </div>\\n                                        </li>\\n                                        '), Blaze.Each(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"userFilters\"), \"check\"));\n        }, function() {\n          return [ \"\\n                                            \", HTML.LI(\"\\n                                                \", HTML.DIV({\n            class: function() {\n              return [ \"checkbox \", Blaze.Unless(function() {\n                return Spacebars.call(view.lookup(\"enabled\"));\n              }, function() {\n                return \"disabled\";\n              }) ];\n            }\n          }, \"\\n                                                    \", HTML.LABEL(\"\\n                                                        \", HTML.INPUT(HTML.Attrs({\n            type: \"checkbox\",\n            name: \"refInput\",\n            value: function() {\n              return Spacebars.mustache(view.lookup(\"val\"));\n            }\n          }, function() {\n            return Spacebars.attrMustache(view.lookup(\"enabled\"));\n          })), \"\\n                                                        \", Blaze.View(\"lookup:label\", function() {\n            return Spacebars.mustache(view.lookup(\"label\"));\n          })), \"\\n                                                \"), \"\\n                                            \"), \"\\n                                        \" ];\n        }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n            \", Blaze.View(\"lookup:initFilters\", function() {\n          return Spacebars.mustache(view.lookup(\"initFilters\"));\n        }), \"\\n        \" ];\n      }), \"\\n\\n\\n    \"), \"\\n    \", Blaze.Unless(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"auctionId\"));\n      }, function() {\n        return HTML.Raw('\\n        <div class=\"container text-center mar-top-20 pad-btm-30\"><h2>This property is not activated. Go back and activate it first. </h2></div>\\n    ');\n      }, function() {\n        return [ \"\\n\\n        \", Blaze.Unless(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataFull\"), \"totalResultsCount\"));\n        }, function() {\n          return HTML.Raw('\\n                <div class=\"container text-center mar-top-20 pad-btm-30\"><h2>No applications yet</h2>\\n                    <p style=\"margin:10px 0;\">Find references, social profiles and full details of people who apply for your property here.</p>\\n                    <p>You may <a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\"><i class=\"glyphicon glyphicon-thumbs-up\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i>  SHARE</a> your property link in <a target=\"_blank\" href=\"https://www.facebook.com/groups/Rentdublin/\">Facebook group</a> to get more applications.</p>\\n                </div>\\n        ');\n        }), \"\\n\\n\\n        \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataChosen\"), \"totalChosenCount\"));\n        }, function() {\n          return [ HTML.Raw('\\n            <div class=\"container text-center mar-top-20 pad-btm-30\"><h2>Chosen Tenants</h2></div>\\n            '), Blaze.Each(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataChosen\"), \"resultsChosen\"));\n          }, function() {\n            return [ \"\\n                \", Spacebars.include(view.lookupTemplate(\"bidList\")), \"\\n            \" ];\n          }), \"\\n        \" ];\n        }), \"\\n\\n        \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataFull\"), \"totalResultsCount\"));\n        }, function() {\n          return [ \"\\n            \", Blaze.If(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"paginationNeeded\"));\n          }, function() {\n            return [ \"\\n            \", HTML.SECTION({\n              class: \"paginationArea mar-top-20\"\n            }, \"\\n                \", HTML.DIV({\n              class: \"container\"\n            }, \"\\n                    \", HTML.DIV({\n              class: \"row\"\n            }, \"\\n                        \", HTML.DIV({\n              class: \"col-md-12\"\n            }, \"\\n                            \", Blaze._TemplateWith(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"pagination\"));\n            }, function() {\n              return Spacebars.include(view.lookupTemplate(\"pagination\"));\n            }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \" ];\n          }), \"\\n\\n            \", Blaze.Unless(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataChosen\"), \"totalChosenCount\"));\n          }, function() {\n            return HTML.Raw('\\n                    <div class=\"container text-center mar-top-20 pad-btm-30\"><h2>Choose Your Tenant</h2></div>\\n            ');\n          }, function() {\n            return [ \"\\n                \", Blaze.If(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"totalNonChosenCount\"));\n            }, function() {\n              return HTML.Raw('\\n                        <div class=\"container text-center mar-top-20 pad-btm-30\"><h2>Pick another? </h2></div>\\n                ');\n            }, function() {\n              return HTML.Raw('\\n                    <div class=\"container text-center mar-top-20 pad-btm-30\"><h2>No more applications left. </h2></div>\\n                ');\n            }), \"\\n            \" ];\n          }), \"\\n            \", Blaze.Each(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"resultsNonChosen\"));\n          }, function() {\n            return [ \"\\n                \", Spacebars.include(view.lookupTemplate(\"bidList\")), \"\\n            \" ];\n          }), \"\\n\\n            \", Blaze.If(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"paginationNeeded\"));\n          }, function() {\n            return [ \"\\n            \", HTML.SECTION({\n              class: \"paginationArea\"\n            }, \"\\n                \", HTML.DIV({\n              class: \"container\"\n            }, \"\\n                    \", HTML.DIV({\n              class: \"row\"\n            }, \"\\n                        \", HTML.DIV({\n              class: \"col-md-12\"\n            }, \"\\n                            \", Blaze._TemplateWith(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"pagination\"));\n            }, function() {\n              return Spacebars.include(view.lookupTemplate(\"pagination\"));\n            }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \" ];\n          }), \"\\n        \" ];\n        }), \"\\n\\n        \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataEmailEnquiries\"), \"totalEnquiryCount\"));\n        }, function() {\n          return [ HTML.Raw('\\n            <div class=\"container text-center mar-top-20 mar-btm-20\">\\n                <hr style=\"border-top:1px solid #0b69a8\">\\n                <h2 class=\"mar-top-30\">Email Enquiries</h2>\\n            </div>\\n            '), Blaze.If(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataEmailEnquiries\"), \"paginationNeede\"));\n          }, function() {\n            return [ \"\\n            \", HTML.SECTION({\n              class: \"paginationArea mar-top-20\"\n            }, \"\\n                \", HTML.DIV({\n              class: \"container\"\n            }, \"\\n                    \", HTML.DIV({\n              class: \"row\"\n            }, \"\\n                        \", HTML.DIV({\n              class: \"col-md-12\"\n            }, \"\\n                            \", Blaze._TemplateWith(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"dataEmailEnquiries\"), \"pagination\"));\n            }, function() {\n              return Spacebars.include(view.lookupTemplate(\"pagination\"));\n            }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \" ];\n          }), \"\\n\\n            \", Blaze.Each(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataEmailEnquiries\"), \"resultsEnquiries\"));\n          }, function() {\n            return [ \"\\n                \", Spacebars.include(view.lookupTemplate(\"emailEnquiryList\")), \"\\n            \" ];\n          }), \"\\n\\n            \", Blaze.If(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataEmailEnquiries\"), \"paginationNeede\"));\n          }, function() {\n            return [ \"\\n            \", HTML.SECTION({\n              class: \"paginationArea\"\n            }, \"\\n                \", HTML.DIV({\n              class: \"container\"\n            }, \"\\n                    \", HTML.DIV({\n              class: \"row\"\n            }, \"\\n                        \", HTML.DIV({\n              class: \"col-md-12\"\n            }, \"\\n                            \", Blaze._TemplateWith(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"dataEmailEnquiries\"), \"pagination\"));\n            }, function() {\n              return Spacebars.include(view.lookupTemplate(\"pagination\"));\n            }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \" ];\n          }), \"\\n        \" ];\n        }), \"\\n\\n\\n    \" ];\n      }), \"\\n\\n\\n    \", HTML.DIV({\n        id: \"conf-dactivate-pop\",\n        class: \"confPopup\",\n        style: \"display:none;\"\n      }, HTML.Raw('\\n\\n        <div class=\"refund-div\"><h2>Confirm Deactivate?</h2></div>\\n        '), HTML.DIV({\n        class: \"profile-text\"\n      }, HTML.Raw(\"\\n            <h3>Are sure you want to deactivate ?</h3>\\n            \"), Blaze.Unless(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"chosenApplicationCount\"));\n      }, function() {\n        return [ \"\\n            \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n        }, function() {\n          return [ \"\\n                \", HTML.P(\"This property has \", Blaze.View(\"lookup:propertyData.applicationsActiveCount\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n          }), \" active applications. You will not be able to choose any application if deactivated. \"), \"\\n            \" ];\n        }, function() {\n          return HTML.Raw(\"\\n                <p></p>\\n            \");\n        }), \"\\n            \" ];\n      }, function() {\n        return HTML.Raw(\"\\n                <p></p>\\n            \");\n      }), \"\\n\\n            \", HTML.UL(\"\\n                \", HTML.LI(HTML.BUTTON({\n        class: \"transparent-btn btns deactivateConfirmBtn\",\n        type: \"button\"\n      }, Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"deactivateInProgress\"));\n      }, function() {\n        return \"Deactivating...\";\n      }, function() {\n        return \"Deactivate\";\n      }))), HTML.Raw('\\n                <li><button class=\"blue-btn btns closePopupBtn\" type=\"button\">Cancel</button></li>\\n            ')), \"\\n        \"), \"\\n    \"), HTML.Raw('\\n\\n    <div class=\"verification-div1\" id=\"propertyLinkDlg\" style=\"display:none;\">\\n        <div class=\"refund-div\"><h2>Share Property</h2></div>\\n        <div class=\"profile-text text-left\">\\n            <p class=\"no-capitalize\">Please use this email to use in daft.ie, rent.ie etc ads.</p>\\n\\n            <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"agentPropertyEmailField\" id=\"agentPropertyEmailField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                </div>\\n                <button type=\"submit\" class=\"btn btn-primary col-sm-2 copyEmailBtn\">Copy</button>\\n            </form>\\n\\n            <p class=\"no-capitalize mar-top-15\">Please use this link to share in facebook, twitter etc. </p>\\n\\n            <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"propertyLinkField\" id=\"propertyLinkField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                </div>\\n                <button type=\"submit\" class=\"btn btn-primary col-sm-2 copyLinkBtn\">Copy</button>\\n            </form>\\n\\n            <form class=\"signin-form\">\\n\\n                <div class=\"signup-btn\">\\n                    <button class=\"transparent-btn btns cancelBtn\" type=\"button\">CLOSE</button>\\n                </div>\\n\\n            </form>\\n\\n        </div>\\n\\n    </div>\\n    '), HTML.DIV({\n        id: \"inviteForViewingDlg\",\n        style: \"display:none;\",\n        class: \"verification-div1\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"inviteForViewing\")), \"\\n    \"), \"\\n\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"inviteForViewing\");\nTemplate[\"inviteForViewing\"] = new Template(\"Template.inviteForViewing\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"refund-div\"><h2>Invite for viewing</h2></div>\\n    '), HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n        \", HTML.H5({\n    class: \"no-capitalize\"\n  }, \"Invite \", Blaze.View(\"lookup:data.user.profile.name\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"user\", \"profile\", \"name\"));\n  }), \" for viewing. Please choose viewing date and time\"), \"\\n\\n        \", HTML.FORM({\n    class: \"signin-form\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"form-border\",\n    style: \" padding: 20px 0;\"\n  }, HTML.Raw('\\n\\n                <div class=\"styled-input underline\">\\n                    <input class=\"inviteDate\" type=\"datetime\" placeholder=\"\" value=\"\" name=\"inviteDate\" id=\"inviteDate\" required=\"\">\\n                </div>\\n\\n                '), HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                        \", HTML.TEXTAREA({\n    class: \"form-control inviteMessage\",\n    id: \"inviteMessage\",\n    rows: \"2\",\n    placeholder: \"You may enter a personal message to landlord if you wish.\",\n    maxlength: \"500\",\n    readonly: \"\",\n    value: function() {\n      return [ \"Hi, You are invited to the viewing on \", Spacebars.mustache(view.lookup(\"inviteDateFormated\")), \" at letting \", Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"address\")), \" \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:propertyData.address.area\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n        }), \" \" ];\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:propertyData.address.county\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n        }), \" \" ];\n      }) ];\n    }\n  }), \"\\n                \"), HTML.Raw('\\n\\n                <!--<div class=\"input-group date\">-->\\n                    <!--<span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></span>-->\\n                    <!--<input class=\"set-due-date form-control moveindate\" type=\"text\" id=\"moveindate\"/>-->\\n                <!--</div>-->\\n\\n            ')), \"\\n        \"), HTML.Raw('\\n        <p class=\"color-text\" style=\"margin-top: 20px;\">Please note that this will send an email with your contact details.</p>\\n\\n        '), HTML.UL(\"\\n            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"inviteInProgress\"));\n  }, function() {\n    return HTML.Raw('\\n                <li><button class=\"transparent-btn  btns \" disabled=\"true\" type=\"button\">Wait for it... </button></li>\\n            ');\n  }, function() {\n    return HTML.Raw('\\n                <li><button class=\"blue-btn  btns confirmInviteBtn\" type=\"button\">Invite </button></li>\\n            ');\n  }), \"\\n            \", HTML.LI(HTML.BUTTON({\n    class: \"transparent-btn btns closePopupBtn\",\n    disabled: function() {\n      return Spacebars.mustache(view.lookup(\"inviteInProgress\"));\n    },\n    type: \"button\"\n  }, \"Cancel\")), \"\\n        \"), \"\\n    \") ];\n}));\n\nTemplate.__checkName(\"bidList\");\nTemplate[\"bidList\"] = new Template(\"Template.bidList\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: function() {\n      return [ \"main-holder \", Spacebars.mustache(view.lookup(\"classBidList\")) ];\n    },\n    id: function() {\n      return [ \"unit_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, HTML.Raw('\\n\\n    <!--<section class=\"border-top act-div\"></section>-->\\n        '), HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"act-box\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"background-white\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                            \", HTML.UL(\"\\n                                \", HTML.LI(\"\\n                                    \", HTML.H3({\n    class: \"pad-btm-0\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n  }, function() {\n    return HTML.IMG({\n      class: \"circular-icon\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n      },\n      alt: \"avatar\"\n    });\n  }), \"\\n                                        \", Blaze.View(\"lookup:user.profile.name\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"name\"));\n  }), HTML.Raw('\\n                                        <span style=\"font-size:11px;color: #9d9d9d;\">OFFER </span> :\\n                                        '), HTML.SPAN({\n    style: \"color:#000;font-size:11px\"\n  }, \" \", Blaze.View(\"lookup:yourBid\", function() {\n    return Spacebars.mustache(view.lookup(\"yourBid\"));\n  }), \" \"), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return [ \"https://www.facebook.com/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\", \"id\")) ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/facebook-icon.png\");\n      },\n      alt: \"Fb\"\n    }), HTML.Raw('\\n                                            <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-facebook\"></span>-->\\n                                        ')), \"\\n                                        \" ];\n  }), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return [ \"https://www.twitter.com/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\", \"screenName\")) ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/twitter-icon.png\");\n      },\n      alt: \"Tw\"\n    }), HTML.Raw('\\n                                            <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-twitter\"></span>-->\\n                                        ')), \"\\n                                        \" ];\n  }), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\", \"publicProfileUrl\"));\n      },\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/linkedin-icon.png\");\n      },\n      alt: \"Li\"\n    }), \"\\n                                        \"), \"\\n                                        \" ];\n  }), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"google\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.SPAN({\n      title: \"Verified email\",\n      class: \"google-icon-box\",\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/google-icon.png\");\n      },\n      alt: \"G+\"\n    }), \"\\n                                        \"), \"\\n                                        \" ];\n  }), \"\\n                                        \", HTML.A({\n    style: \"font-size:11px;color: #9d9d9d;\",\n    title: \"Invite for viewing\",\n    class: \"inviteForViewingBtn\",\n    href: \"javascript:void(0);\",\n    target: \"_blank\"\n  }, HTML.Raw('\\n                                            <span style=\"color:#000;font-size:11px\" class=\"glyphicon glyphicon-envelope\"></span>\\n                                            '), Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"invitedDate\"));\n  }, function() {\n    return \"INVITE FOR VIEWING\";\n  }, function() {\n    return [ \"Invited on \", Blaze.View(\"lookup:dateFormat\", function() {\n      return Spacebars.mustache(view.lookup(\"dateFormat\"), view.lookup(\"invitedDate\"));\n    }) ];\n  }), \"\\n                                        \"), \"\\n                                    \"), \"\\n\\n\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n    class: \"menu\"\n  }, \"\\n                            \", HTML.UL(\"\\n                                \", HTML.LI({\n    class: \"left-border\"\n  }, \"\\n                                    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"chosen\"));\n  }, function() {\n    return [ \"\\n                                        \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"unChoosingInProgress\"));\n    }, function() {\n      return HTML.Raw('\\n                                            <button class=\"transparent-btn unChooseTenant\" type=\"button\">Unchoose</button>\\n                                        ');\n    }, function() {\n      return HTML.Raw('\\n                                            <button class=\"transparent-btn\" type=\"button\">Saving...</button>\\n                                        ');\n    }), \"\\n                                    \" ];\n  }, function() {\n    return [ \"\\n                                        \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"choosingInProgress\"));\n    }, function() {\n      return HTML.Raw('\\n                                            <button class=\"transparent-btn chooseTenant\" type=\"button\">Choose Tenant</button>\\n                                        ');\n    }, function() {\n      return HTML.Raw('\\n                                            <button class=\"transparent-btn\" type=\"button\">Saving...</button>\\n                                        ');\n    }), \"\\n                                    \" ];\n  }), \"\\n\\n\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n\\n\\n                    \"), \"\\n                \"), HTML.Raw(\"\\n\\n                <!--act-box-->\\n                \"), Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"auctionId\"));\n  }, function() {\n    return [ \"\\n                    \", HTML.DIV({\n      class: \"apt-info apt-info1 background-white clearfix\"\n    }, \"\\n                        \", HTML.UL({\n      class: \"superbuilt-div\"\n    }, \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Employer name</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerName\"));\n    }, function() {\n      return [ \" \", Blaze.View(\"lookup:user.profile.references.employerName\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerName\"));\n      }), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw('\\n<h5 title=\"Affordable if rent offer is within 40&#37; of his salary.\">Salary</h5>\\n'), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerTakeHome\"));\n    }, function() {\n      return [ \"\\n        \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"canAfford\"), Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerTakeHome\"));\n      }, function() {\n        return HTML.Raw('\\n            <span title=\"Affordable if rent offer is within 40&#37; of his salary take home.\">Affordable</span>\\n        ');\n      }, function() {\n        return HTML.Raw('\\n            <span title=\"Not affordable if rent offer is more than 40&#37; of his monthly salary take home.\"> Cannot afford</span> ');\n      }), \"\\n    \" ];\n    }, function() {\n      return \"\\n        N/A\\n    \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Work reference</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasWorkRef\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"workRef\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Passport</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasPassport\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"passport\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Landlord reference</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasLandlordRef\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"landlordRef\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>PPS</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasPPS\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"PPS\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Financial reference</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasFinancialRef\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"financialRef\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n                            \", HTML.LI(HTML.Raw(\"\\n<h5>Govt. ID </h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasGovtID\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"govtID\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Resume</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n\", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasResume\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"resume\", \"url\"));\n        },\n        target: \"_blank\"\n      }, \"View\"), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Mobile</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n\", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return [ \"tel:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\")) ];\n        },\n        target: \"_blank\"\n      }, Blaze.View(\"lookup:user.profile.mobile\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n      })), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Email</h5>\\n\"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, \"\\n\", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n    }, function() {\n      return [ \" \", HTML.A({\n        href: function() {\n          return [ \"mailto:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\")) ];\n        },\n        target: \"_blank\"\n      }, Blaze.View(\"lookup:user.profile.email\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n      })), \" \" ];\n    }, function() {\n      return \" N/A \";\n    }), \"\\n\"), \"\\n\"), \"\\n\\n                        \"), \"\\n                    \"), \"\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"bidMessage\"));\n    }, function() {\n      return [ \"\\n                \", HTML.DIV({\n        class: \"apt-info background-white clearfix bidMessageArea\"\n      }, \"\\n                    \", HTML.BLOCKQUOTE({\n        class: \"\"\n      }, \"\\n                    \", Blaze.View(\"lookup:bidMessage\", function() {\n        return Spacebars.mustache(view.lookup(\"bidMessage\"));\n      }), \"\\n                    \"), \"\\n                \"), \"\\n                \" ];\n    }), \"\\n\\n                \" ];\n  }), HTML.Raw(\"\\n                <!--act-box-->\\n            \")), \"\\n        \"), \"\\n\\n\\n\\n\\n    \");\n}));\n\nTemplate.__checkName(\"emailEnquiryList\");\nTemplate[\"emailEnquiryList\"] = new Template(\"Template.emailEnquiryList\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: function() {\n      return [ \"main-holder \", Spacebars.mustache(view.lookup(\"classBidList\")) ];\n    },\n    id: function() {\n      return [ \"unit_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, HTML.Raw('\\n\\n    <!--<section class=\"border-top act-div\"></section>-->\\n        '), HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"act-box\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"background-white\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                            \", HTML.UL(\"\\n                                \", HTML.LI(\"\\n                                    \", HTML.H3({\n    class: \"pad-btm-0\"\n  }, \"\\n                                        \", Blaze.View(\"lookup:fullname\", function() {\n    return Spacebars.mustache(view.lookup(\"fullname\"));\n  }), HTML.Raw('\\n                                        &nbsp;\\n                                        <span style=\"font-size:11px;color: #9d9d9d;\">EMAIL: </span>\\n                                        '), HTML.A({\n    style: \"font-size:12px\",\n    href: function() {\n      return [ \"mailto:\", Spacebars.mustache(view.lookup(\"email\")) ];\n    }\n  }, \" \", Blaze.View(\"lookup:email\", function() {\n    return Spacebars.mustache(view.lookup(\"email\"));\n  }), \" \"), HTML.Raw('\\n                                        &nbsp;\\n                                        <span style=\"font-size:11px;color: #9d9d9d;\">PHONE: </span>\\n                                        '), Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"mobile\"));\n  }, function() {\n    return [ \"\\n                                            \", HTML.A({\n      style: \"font-size:12px\",\n      href: function() {\n        return [ \"tel:\", Spacebars.mustache(view.lookup(\"mobile\")) ];\n      }\n    }, \" \", Blaze.View(\"lookup:mobile\", function() {\n      return Spacebars.mustache(view.lookup(\"mobile\"));\n    }), \" \"), \"\\n                                        \" ];\n  }, function() {\n    return HTML.Raw('\\n                                            <span style=\"font-size:11px;\">N/A</span>\\n                                        ');\n  }), \"\\n                                    \"), \"\\n\\n\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n    class: \"menu\"\n  }, \"\\n                            \", HTML.UL(\"\\n                                \", HTML.LI({\n    class: \"left-border\"\n  }, \"\\n                                    \", HTML.A({\n    class: \"transparent-btn btns\",\n    target: \"_blank\",\n    href: function() {\n      return [ \"mailto:\", Spacebars.mustache(view.lookup(\"email\")) ];\n    }\n  }, \"Email Tenant\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n\\n\\n                    \"), \"\\n                \"), \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"message\"));\n  }, function() {\n    return [ \"\\n                \", HTML.DIV({\n      class: \"apt-info background-white clearfix bidMessageArea\"\n    }, \"\\n                    \", HTML.BLOCKQUOTE({\n      class: \"\"\n    }, \"\\n                    \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"message\")));\n    }), \"\\n                    \"), \"\\n                \"), \"\\n                \" ];\n  }), HTML.Raw(\"\\n\\n\\n                <!--act-box-->\\n            \")), \"\\n        \"), \"\\n\\n\\n\\n\\n    \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"propertyManage.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/propertyManage.html                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.propertyManage.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.propertyManage.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.propertyManage.js                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"propertyManage\");\nTemplate[\"propertyManage\"] = new Template(\"Template.propertyManage\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n\", Blaze.Unless(function() {\n        return Spacebars.call(view.lookup(\"data\"));\n      }, function() {\n        return [ \"\\n    \", HTML.SECTION({\n          class: \"mar-top-20 \"\n        }, \"\\n        \", HTML.DIV({\n          class: \"container text-center mar-top-20 pad-btm-30\"\n        }, \"\\n            \", HTML.DIV({\n          class: \"filter-holder\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"head-border-bottom\"\n        }, \"\\n                    \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"hasPropFound\"));\n        }, function() {\n          return [ HTML.Raw(\"\\n                        <h2>Click the below button to start managing this property.</h2><br><br>\\n                        \"), Blaze.If(function() {\n            return Spacebars.call(view.lookup(\"enablingPMS\"));\n          }, function() {\n            return [ \"\\n                            \", HTML.getTag(\"buttons\")({\n              class: \"transparent-btn btns \"\n            }, \"Loading...\"), \"\\n                        \" ];\n          }, function() {\n            return HTML.Raw('\\n                            <button class=\"blue-btn btns enablePMS\" type=\"button\">Start</button>\\n                        ');\n          }), \"\\n                    \" ];\n        }, function() {\n          return HTML.Raw('\\n                        <h2>This property is not found. Please check if its archived and try again.</h2><br><br>\\n                        <button class=\"blue-btn btns backBtn\" type=\"button\">Try again</button>\\n                    ');\n        }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\" ];\n      }, function() {\n        return [ \"\\n    \", HTML.SECTION({\n          class: \"unitspage-holder\"\n        }, \"\\n        \", HTML.SECTION({\n          class: \"logo-below-div\"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"logo-holder-div\"\n        }, \"\\n                    \", HTML.DIV({\n          class: \"logo-holder\"\n        }, \"\\n                        \", HTML.UL(\"\\n                            \", HTML.LI(HTML.SPAN({\n          class: \"backBtn\",\n          style: \"cursor: pointer;\"\n        }, HTML.IMG({\n          src: function() {\n            return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/back-arrow.png\");\n          }\n        }))), \"\\n                            \", HTML.LI({\n          class: \"longTitle\"\n        }, HTML.H3(Blaze.View(\"lookup:propertyData.address.address\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"address\"));\n        }), \" \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n        }, function() {\n          return [ \", \", Blaze.View(\"lookup:propertyData.address.area\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n          }), \" \" ];\n        }), Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n        }, function() {\n          return [ \", \", Blaze.View(\"lookup:propertyData.address.county\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n          }), \" \" ];\n        }), \"\\n\\n                                \", HTML.SPAN({\n          class: \"pad-left-15\"\n        }, HTML.A({\n          href: function() {\n            return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n              route: \"account/editproperty\",\n              id: Spacebars.dot(view.lookup(\"propertyData\"), \"_id\")\n            }));\n          },\n          class: \"viewListing\",\n          style: \"font-size:11px;\"\n        }, HTML.Raw('Edit <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>')))), \"\\n                                \", HTML.H4(\"TENANTS : \", Blaze.View(\"lookup:arrLength\", function() {\n          return Spacebars.mustache(view.lookup(\"arrLength\"), Spacebars.dot(view.lookup(\"data\"), \"tenants\"));\n        }), HTML.Raw('\\n\\n                                    <!--<span class=\"auction-number pad-left-15\"><a href=\"{{pathFor route=\\'letting\\' key=propertyData.auction.lettingAuctionCode}}\" class=\"viewListing\" style=\"font-size:11px;\" >VIEW</a></span>-->\\n<!--<span class=\"auction-number pad-left-15\"><i class=\"fa fa-share-alt\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i> <a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\" >SHARE</a></span>-->\\n                                ')), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n          class: \"menu\"\n        }, \"\\n                        \", HTML.UL(\"\\n                            \", HTML.LI({\n          class: \"left-border\"\n        }, HTML.Raw(\"\\n                                <h4>Current Rent</h4>\\n                                \"), HTML.H3({\n          class: \"pad-btm-0 text-center\"\n        }, Blaze.View(\"lookup:data.rent.price\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"rent\", \"price\"));\n        })), \"\\n                            \"), HTML.Raw('\\n                            <!--<li class=\"left-border\">-->\\n                                <!--<h4 style=\"text-align: left;\">Next rent date &nbsp;&nbsp;<span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\" title=\"Change rent date\"></span></h4>-->\\n                                <!--<h3 class=\"pad-btm-0 text-center\">{{dateFormat data.rent.nextCollectionDate}}</h3>-->\\n                            <!--</li>-->\\n                            <!--<li class=\"left-border\">-->\\n                                <!--<h4 >Contract</h4>-->\\n                                <!--<h3 class=\"pad-btm-0 text-center\"><span class=\"auction-number\"><a href=\"{{pathFor route=\\'letting\\' key=propertyData.auction.lettingAuctionCode}}\" class=\"viewListing\" style=\"font-size:11px;color:#18bc9c;\" >VIEW </a></span></h3>-->\\n                                <!--&lt;!&ndash;<div class=\"pad-btm-0 text-center\">&ndash;&gt;-->\\n                                    <!--&lt;!&ndash;<label>&ndash;&gt;-->\\n                                        <!--&lt;!&ndash;<span class=\"btns blue-btn\">upload</span>&ndash;&gt;-->\\n                                        <!--&lt;!&ndash;<input type=\"file\" id=\"file\" cate=\"Work Reference\" class=\"uploadBtn\" style=\"margin: 0;padding: 0;height: 1px;\">&ndash;&gt;-->\\n                                    <!--&lt;!&ndash;</label>&ndash;&gt;-->\\n                                <!--&lt;!&ndash;</div>&ndash;&gt;-->\\n                            <!--</li>-->\\n\\n                            <!--<li class=\"text-center\">-->\\n                                <!--&lt;!&ndash;<button class=\"blue-btn btns showEditPropertyForm\" type=\"button\" style=\"margin-bottom: 5px;\">EDIT PROPERTY DETAILS</button>&ndash;&gt;-->\\n                                <!--<button class=\"transparent-btn btns deactivatePropertyBtn\" type=\"button\">Deactivate</button>-->\\n                            <!--</li>-->\\n\\n                        ')), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n\\n\\n\\n\\n    \"), \"\\n\\n\\n\\n    \", Blaze._TemplateWith(function() {\n          return Spacebars.call(view.lookup(\"propertyData\"));\n        }, function() {\n          return Spacebars.include(view.lookupTemplate(\"PM_propertyList\"));\n        }), \"\\n\\n\\n    \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataChosen\"), \"totalChosenCount\"));\n        }, function() {\n          return [ HTML.Raw('\\n        <div class=\"container text-center mar-top-20 pad-btm-30\" id=\"viewTenantsArea\"><h2>Chosen Tenants</h2></div>\\n        '), Blaze.Each(function() {\n            return Spacebars.call(Spacebars.dot(view.lookup(\"dataChosen\"), \"resultsChosen\"));\n          }, function() {\n            return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"PM_bidList\")), \"\\n        \" ];\n          }), \"\\n    \" ];\n        }), \"\\n\\n    \", HTML.SECTION({\n          class: \"main-holder mar-btm-30\",\n          id: \"activity_history_area\"\n        }, \"\\n\\n        \", Spacebars.include(view.lookupTemplate(\"activity_history\")), \"\\n\\n    \"), \"\\n\\n\\n    \", HTML.SECTION({\n          class: \"mar-top-20\",\n          style: \"display:none;\"\n        }, \"\\n        \", HTML.SECTION({\n          class: \"border-top act-div\"\n        }, \"\\n            \", HTML.DIV({\n          class: \"container\"\n        }, \"\\n                \", HTML.DIV({\n          class: \"row\"\n        }, \"\\n                    \", Blaze._TemplateWith(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"pagination\"));\n        }, function() {\n          return Spacebars.include(view.lookupTemplate(\"pagination\"));\n        }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n    \", HTML.DIV({\n          id: \"conf-dactivate-pop\",\n          class: \"confPopup\",\n          style: \"display:none;\"\n        }, HTML.Raw('\\n\\n        <div class=\"refund-div\"><h2>Confirm Deactivate?</h2></div>\\n        '), HTML.DIV({\n          class: \"profile-text\"\n        }, HTML.Raw(\"\\n            <h3>Are sure you want to deactivate ?</h3>\\n            \"), Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n        }, function() {\n          return [ HTML.P(\"This property has \", Blaze.View(\"lookup:propertyData.applicationsActiveCount\", function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"applicationsActiveCount\"));\n          }), \" active applications. You will not be able to choose any application if deactivated. \"), \"\\n            \" ];\n        }, function() {\n          return HTML.Raw(\"\\n                <p></p>\\n            \");\n        }), \"\\n            \\n            \", HTML.UL(\"\\n                \", HTML.LI(HTML.BUTTON({\n          class: \"transparent-btn btns deactivateConfirmBtn\",\n          type: \"button\"\n        }, Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"deactivateInProgress\"));\n        }, function() {\n          return \"Deactivating...\";\n        }, function() {\n          return \"Deactivate\";\n        }))), HTML.Raw('\\n                <li><button class=\"blue-btn btns closePopupBtn\" type=\"button\">Cancel</button></li>\\n            ')), \"\\n        \"), \"\\n    \"), HTML.Raw('\\n\\n    <div class=\"verification-div1\" id=\"propertyLinkDlg\" style=\"display:none;\">\\n        <div class=\"refund-div\"><h2>Share Property</h2></div>\\n        <div class=\"profile-text text-left\">\\n            <p class=\"no-capitalize\">Please use this email to use in daft.ie, rent.ie etc ads.</p>\\n\\n            <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"agentPropertyEmailField\" id=\"agentPropertyEmailField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                </div>\\n                <button type=\"submit\" class=\"btn btn-primary col-sm-2 copyEmailBtn\">Copy</button>\\n            </form>\\n\\n            <p class=\"no-capitalize mar-top-15\">Please use this link to share in facebook, twitter etc. </p>\\n\\n            <form class=\"form-inline\" style=\"overflow: hidden;\" onsubmit=\"return false;\">\\n                <div class=\"form-group col-sm-10\" style=\"padding: 0;\">\\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"propertyLinkField\" id=\"propertyLinkField\" readonly=\"\" style=\"width: 100%;padding: 0;\">\\n                </div>\\n                <button type=\"submit\" class=\"btn btn-primary col-sm-2 copyLinkBtn\">Copy</button>\\n            </form>\\n\\n            <form class=\"signin-form\">\\n\\n                <div class=\"signup-btn\">\\n                    <button class=\"transparent-btn btns cancelBtn\" type=\"button\">CLOSE</button>\\n                </div>\\n\\n            </form>\\n\\n        </div>\\n\\n    </div>\\n    '), HTML.DIV({\n          id: \"addTenantDlg\",\n          style: \"display:none;\",\n          class: \"verification-div1\"\n        }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"addTenantDlg\")), \"\\n    \"), \"\\n    \" ];\n      }), \"\\n\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"activity_history\");\nTemplate[\"activity_history\"] = new Template(\"Template.activity_history\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"container\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"act-box\"\n  }, HTML.Raw('\\n            <div class=\"background-white\">\\n                <div class=\"logo-holder-div\">\\n                    <div class=\"logo-holder\" style=\"padding: 0 20px;\">\\n                        <ul>\\n                            <li>\\n                                <h3 class=\"pad-btm-0\">\\n                                    Activity history\\n                                </h3>\\n                            </li>\\n                        </ul>\\n                    </div>\\n                    <div class=\"menu\">\\n                        <ul>\\n                            <li class=\"left-border\" style=\"display: none;\"></li>\\n                        </ul>\\n                    </div>\\n                </div>\\n            </div>\\n            '), HTML.DIV({\n    class: \"background-white profile-text\",\n    style: \"padding: 0px 30px;\"\n  }, \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"totalResultsCount\"));\n  }, function() {\n    return [ \"\\n                \", HTML.DIV({\n      class: \"row\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"col-md-12\"\n    }, HTML.Raw('\\n                        <h6 class=\"no-capitalize\" style=\"padding-top: 20px;display: none;\">Activity history</h6>\\n                        '), HTML.UL({\n      class: \"information-box \"\n    }, \"\\n                            \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"data\"), \"results\"));\n    }, function() {\n      return [ \"\\n                                \", Blaze._TemplateWith(function() {\n        return {\n          template: Spacebars.call(view.lookup(\"type\"))\n        };\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(Template.__dynamic);\n        });\n      }), \"\\n                            \" ];\n    }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n\\n\\n                \", HTML.DIV({\n      class: \"row mar-top-30 pad-btm-30\",\n      style: \"text-align: center;\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"div-holder clearfix\"\n    }, \"\\n                        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"loadingMoreText\"));\n    }, function() {\n      return \"\\n                            Loading...\\n                            \";\n    }, function() {\n      return HTML.Raw('\\n                        <a href=\"javascript:void(0);\" class=\"load_more\">Load More</a>\\n                        ');\n    }), \"\\n                    \"), \"\\n                \"), \"\\n                    \" ];\n  }, function() {\n    return HTML.Raw('\\n                <div class=\"row\"><div class=\"col-md-12 mar-btm-30\">No history yet</div></div>\\n                    ');\n  }), HTML.Raw('\\n\\n                <p style=\"font-size:12px;display: none;\">**The total price or total does not include the stamp duty and\\n                    registration charges. Stamp duty and registration charges will be added to the total price/ total at the time of registration.</p>\\n            ')), \"\\n\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"prop_activation\");\nTemplate[\"prop_activation\"] = new Template(\"Template.prop_activation\", (function() {\n  var view = this;\n  return HTML.LI({\n    class: \"background-halfwhite\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"div-holder clearfix\"\n  }, \"\\n            \", HTML.P({\n    class: \"color-grey pull-left line-right\",\n    style: \"padding-right: 20px;\"\n  }, Blaze.View(\"lookup:dateTimeFormat\", function() {\n    return Spacebars.mustache(view.lookup(\"dateTimeFormat\"), view.lookup(\"createdAt\"));\n  })), \"\\n            \", HTML.P({\n    class: \"color-grey pull-left\",\n    style: \"padding-left:10px\"\n  }, \"Property \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"activated\"));\n  }, function() {\n    return \"activated\";\n  }, function() {\n    return \"deactivated\";\n  })), \"\\n            \", HTML.A({\n    class: \" pull-right\",\n    href: function() {\n      return [ Spacebars.mustache(view.lookup(\"pathFor\"), \"account/propertyApplications\", Spacebars.kw({\n        id: view.lookup(\"propertyId\")\n      })), \"?auctionId=\", Spacebars.mustache(view.lookup(\"auctionId\")) ];\n    }\n  }, \"Link\"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"applicationReceived\");\nTemplate[\"applicationReceived\"] = new Template(\"Template.applicationReceived\", (function() {\n  var view = this;\n  return HTML.LI({\n    class: \"background-halfwhite\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"div-holder clearfix\"\n  }, \"\\n            \", HTML.P({\n    class: \"color-grey pull-left line-right\",\n    style: \"padding-right: 20px;\"\n  }, Blaze.View(\"lookup:dateTimeFormat\", function() {\n    return Spacebars.mustache(view.lookup(\"dateTimeFormat\"), view.lookup(\"createdAt\"));\n  })), \"\\n            \", HTML.P({\n    class: \"color-grey pull-left\",\n    style: \"padding-left:10px\"\n  }, \"Application received\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"name\"));\n  }, function() {\n    return [ \" from \", Blaze.View(\"lookup:name\", function() {\n      return Spacebars.mustache(view.lookup(\"name\"));\n    }) ];\n  })), \"\\n            \", HTML.A({\n    class: \" pull-right\",\n    href: function() {\n      return [ \"mailto:\", Spacebars.mustache(view.lookup(\"email\")) ];\n    }\n  }, \"Mail applicant.\"), \"\\n        \"), \"\\n    \");\n}));\n\nTemplate.__checkName(\"PM_bidList\");\nTemplate[\"PM_bidList\"] = new Template(\"Template.PM_bidList\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: function() {\n      return [ \"main-holder \", Spacebars.mustache(view.lookup(\"classBidList\")) ];\n    },\n    id: function() {\n      return [ \"unit_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, HTML.Raw('\\n\\n    <!--<section class=\"border-top act-div\"></section>-->\\n        '), HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"act-box\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"background-white\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                            \", HTML.UL(\"\\n                                \", HTML.LI(\"\\n                                    \", HTML.H3({\n    class: \"pad-btm-0\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n  }, function() {\n    return HTML.IMG({\n      class: \"circular-icon\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n      },\n      alt: \"avatar\"\n    });\n  }), \"\\n                                        \", Blaze.View(\"lookup:user.profile.name\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"name\"));\n  }), HTML.Raw('\\n                                        <span style=\"font-size:11px;color: #9d9d9d;\">OFFER </span> :\\n                                        '), HTML.SPAN({\n    style: \"color:#000;font-size:11px\"\n  }, \" \", Blaze.View(\"lookup:yourBid\", function() {\n    return Spacebars.mustache(view.lookup(\"yourBid\"));\n  }), \" \"), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return [ \"https://www.facebook.com/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\", \"id\")) ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/facebook-icon.png\");\n      },\n      alt: \"Fb\"\n    }), HTML.Raw('\\n                                            <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-facebook\"></span>-->\\n                                        ')), \"\\n                                        \" ];\n  }), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return [ \"https://www.twitter.com/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\", \"screenName\")) ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/twitter-icon.png\");\n      },\n      alt: \"Tw\"\n    }), HTML.Raw('\\n                                            <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-twitter\"></span>-->\\n                                        ')), \"\\n                                        \" ];\n  }), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\", \"publicProfileUrl\"));\n      },\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/linkedin-icon.png\");\n      },\n      alt: \"Li\"\n    }), \"\\n                                        \"), \"\\n                                        \" ];\n  }), \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"google\"));\n  }, function() {\n    return [ \"\\n                                        \", HTML.SPAN({\n      title: \"Verified email\",\n      class: \"google-icon-box\",\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/google-icon.png\");\n      },\n      alt: \"G+\"\n    }), \"\\n                                        \"), \"\\n                                        \" ];\n  }), \"\\n\\n                                    \"), \"\\n\\n\\n                                \"), \"\\n                            \"), \"\\n                        \"), HTML.Raw('\\n                        <div class=\"menu\">\\n                            <ul>\\n                                <li class=\"left-border\">\\n                                    <a href=\"mailto:\" class=\"transparent-btn chooseTenant\" type=\"button\"><span style=\"color:#000;font-size:11px\" class=\"glyphicon glyphicon-envelope\"></span> Email Tenant</a>\\n                                </li>\\n                            </ul>\\n                        </div>\\n\\n\\n                    ')), \"\\n                \"), HTML.Raw(\"\\n\\n                <!--act-box-->\\n                \"), Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"auctionId\"));\n  }, function() {\n    return [ \"\\n                    \", HTML.DIV({\n      class: \"apt-info apt-info1 background-white clearfix\"\n    }, \"\\n                        \", HTML.UL({\n      class: \"superbuilt-div\"\n    }, \"\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"references\"));\n    }, function() {\n      return [ \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Employer name</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"employerName\"));\n      }, function() {\n        return [ \" \", Blaze.View(\"lookup:references.employerName\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"employerName\"));\n        }), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw('\\n<h5 title=\"Affordable if rent offer is within 40&#37; of his salary.\">Salary</h5>\\n'), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"employerTakeHome\"));\n      }, function() {\n        return [ \"\\n        \", Blaze.If(function() {\n          return Spacebars.dataMustache(view.lookup(\"canAfford\"), Spacebars.dot(view.lookup(\"references\"), \"employerTakeHome\"));\n        }, function() {\n          return HTML.Raw('\\n            <span title=\"Affordable if rent offer is within 40&#37; of his salary take home.\">Affordable</span>\\n        ');\n        }, function() {\n          return HTML.Raw('\\n            <span title=\"Not affordable if rent offer is more than 40&#37; of his monthly salary take home.\"> Cannot afford</span> ');\n        }), \"\\n    \" ];\n      }, function() {\n        return \"\\n        N/A\\n    \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Work reference</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasWorkRef\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"workRef\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Passport</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasPassport\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"passport\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Landlord reference</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasLandlordRef\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"landlordRef\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>PPS</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasPPS\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"PPS\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Financial reference</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasFinancialRef\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"financialRef\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n                            \", HTML.LI(HTML.Raw(\"\\n<h5>Govt. ID </h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n    \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasGovtID\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"govtID\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Resume</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n\", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"references\"), \"hasResume\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"references\"), \"resume\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Mobile</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n\", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return [ \"tel:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\")) ];\n          },\n          target: \"_blank\"\n        }, Blaze.View(\"lookup:user.profile.mobile\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n        })), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\", HTML.LI(HTML.Raw(\"\\n<h5>Email</h5>\\n\"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n\", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return [ \"mailto:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\")) ];\n          },\n          target: \"_blank\"\n        }, Blaze.View(\"lookup:user.profile.email\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n        })), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n\"), \"\\n\"), \"\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Employer name</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerName\"));\n      }, function() {\n        return [ \" \", Blaze.View(\"lookup:user.profile.references.employerName\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerName\"));\n        }), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw('\\n        <h5 title=\"Affordable if rent offer is within 40&#37; of his salary.\">Salary</h5>\\n        '), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerTakeHome\"));\n      }, function() {\n        return [ \"\\n                \", Blaze.If(function() {\n          return Spacebars.dataMustache(view.lookup(\"canAfford\"), Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerTakeHome\"));\n        }, function() {\n          return HTML.Raw('\\n                    <span title=\"Affordable if rent offer is within 40&#37; of his salary take home.\">Affordable</span>\\n                ');\n        }, function() {\n          return HTML.Raw('\\n                    <span title=\"Not affordable if rent offer is more than 40&#37; of his monthly salary take home.\"> Cannot afford</span> ');\n        }), \"\\n            \" ];\n      }, function() {\n        return \"\\n                N/A\\n            \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Work reference</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasWorkRef\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"workRef\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Passport</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasPassport\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"passport\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Landlord reference</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasLandlordRef\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"landlordRef\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>PPS</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasPPS\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"PPS\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Financial reference</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasFinancialRef\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"financialRef\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Govt. ID </h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasGovtID\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"govtID\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Resume</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasResume\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"resume\", \"url\"));\n          },\n          target: \"_blank\"\n        }, \"View\"), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Mobile</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return [ \"tel:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\")) ];\n          },\n          target: \"_blank\"\n        }, Blaze.View(\"lookup:user.profile.mobile\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n        })), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.LI(HTML.Raw(\"\\n        <h5>Email</h5>\\n        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n      }, function() {\n        return [ \" \", HTML.A({\n          href: function() {\n            return [ \"mailto:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\")) ];\n          },\n          target: \"_blank\"\n        }, Blaze.View(\"lookup:user.profile.email\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n        })), \" \" ];\n      }, function() {\n        return \" N/A \";\n      }), \"\\n        \"), \"\\n    \"), \"\\n\" ];\n    }), \"\\n                        \"), \"\\n                    \"), \"\\n                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"bidMessage\"));\n    }, function() {\n      return [ \"\\n                \", HTML.DIV({\n        class: \"apt-info background-white clearfix bidMessageArea\"\n      }, \"\\n                    \", HTML.BLOCKQUOTE({\n        class: \"\"\n      }, \"\\n                    \", Blaze.View(\"lookup:bidMessage\", function() {\n        return Spacebars.mustache(view.lookup(\"bidMessage\"));\n      }), \"\\n                    \"), \"\\n                \"), \"\\n                \" ];\n    }), \"\\n\\n                \" ];\n  }), HTML.Raw(\"\\n                <!--act-box-->\\n            \")), \"\\n        \"), \"\\n\\n\\n\\n\\n    \");\n}));\n\nTemplate.__checkName(\"PM_propertyList\");\nTemplate[\"PM_propertyList\"] = new Template(\"Template.PM_propertyList\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: \"main-holder border-top\",\n    id: function() {\n      return [ \"property_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"expanded\"));\n  }, function() {\n    return [ HTML.Raw(\"\\n            <!--hide-accord-->\\n            \"), HTML.SECTION({\n      class: function() {\n        return Spacebars.mustache(view.lookup(\"showMyBidsClass\"));\n      }\n    }, \"\\n                \", HTML.DIV({\n      class: \"container\"\n    }, \"\\n                    \", HTML.DIV({\n      class: \"act-box\"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"background-white\",\n      style: \"display: none;\"\n    }, \"\\n                            \", HTML.DIV({\n      class: \"logo-holder-div\"\n    }, \"\\n                                \", HTML.DIV({\n      class: \"logo-holder\"\n    }, \"\\n                                    \", HTML.UL(\"\\n                                        \", HTML.LI(\"\\n                                            \", HTML.H3({\n      class: \"pad-btm-0\"\n    }, Blaze.View(\"lookup:titleCase\", function() {\n      return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"address\"));\n    }), Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"address\"), \"area\"));\n    }, function() {\n      return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"area\"));\n      }), \" \" ];\n    }), Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"address\"), \"county\"));\n    }, function() {\n      return [ \", \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"address\"), \"county\"));\n      }), \" \" ];\n    }), \" \"), \"\\n                                            \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">AUCTION CODE </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \":  \", Blaze.View(\"lookup:auction.lettingAuctionCode\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lettingAuctionCode\"));\n      }))), \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">VIEWS </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \": \", Blaze.View(\"lookup:auction.views\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"views\"));\n      }))), \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.Raw('<span style=\"font-size:11px;color: #9d9d9d;\">APPLICATIONS </span>'), HTML.SPAN({\n        style: \"color:#000;font-size:11px\"\n      }, \": \", Blaze.View(\"lookup:auction.bids\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"bids\"));\n      }))), \"\\n                                                \", HTML.SPAN({\n        class: \"auction-number pad-left-15\"\n      }, HTML.A({\n        target: \"_blank\",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n            route: \"letting\",\n            key: Spacebars.dot(view.lookup(\"auction\"), \"lettingAuctionCode\")\n          }));\n        },\n        class: \"viewListing\",\n        style: \"font-size:11px;\"\n      }, \"VIEW ADVERT\")), HTML.Raw('\\n                                                <span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"showCopyDlg\" style=\"font-size:11px;\"><i class=\"glyphicon glyphicon-thumbs-up\" aria-hidden=\"true\" style=\"font-size: 11px;\"></i> SHARE</a></span>\\n                                                <!--<span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"viewApplications\">(view)</a></span>-->\\n                                            ') ];\n    }), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"apt-info apt-info1 background-white clearfix\",\n      style: \"border-bottom: 1px solid #f3f3f3;\"\n    }, HTML.Raw('\\n                            <ul class=\"bid-button-div right-line pull-left\" style=\"border-right: 1px solid #d5d5d5;width: 100px;\">\\n                                <li>\\n                                    <h2 style=\"line-height: 46px;\">Contract\\n                                        <!--<span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"viewListing\" style=\"font-size:11px;\" >Edit <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span></a></span>-->\\n                                    </h2>\\n                                </li>\\n                            </ul>\\n\\n                            '), HTML.UL({\n      class: \"superbuilt-div\"\n    }, HTML.Raw(\"\\n                                <li>\\n                                    <h5>Tenure</h5>\\n                                    <h6>  1 year</h6>\\n                                </li>\\n                                \"), HTML.LI(HTML.Raw(\"\\n                                    <h5>Expires on</h5>\\n                                    \"), HTML.H6(\"  \", Blaze.View(\"lookup:auction.lease\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lease\"));\n    })), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Rent Type</h5>\\n                                    \"), HTML.H6(Blaze.View(\"lookup:titleCase\", function() {\n      return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"auction\"), \"rentType\"));\n    })), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Started on</h5>\\n                                    \"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, Blaze.View(\"lookup:dateFormat\", function() {\n      return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"readyFrom\"));\n    }), \" \"), \"\\n                                \"), \"\\n                            \"), HTML.Raw('\\n                            <!--<ul class=\"bid-button-div left-line pull-right\">-->\\n                                <!--<li>-->\\n                                    <!--<button class=\"green-btn btns viewApplications\">Upload</button>-->\\n                                <!--</li>-->\\n                            <!--</ul>-->\\n\\n\\n                        ')), \"\\n                        \", HTML.DIV({\n      class: \"apt-info apt-info1 background-white clearfix\",\n      style: \"border-bottom: 1px solid #f3f3f3;\"\n    }, \"\\n                            \", HTML.UL({\n      class: \"bid-button-div right-line pull-left\",\n      style: \"border-right: 1px solid #d5d5d5;width: 100px;\"\n    }, \"\\n                                \", HTML.LI(\"\\n                                    \", HTML.H2({\n      style: function() {\n        return Blaze.Unless(function() {\n          return Spacebars.call(view.lookup(\"chosenTenantCount\"));\n        }, function() {\n          return \"line-height: 46px;\";\n        });\n      }\n    }, \"Tenants\\n                                        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"chosenTenantCount\"));\n    }, function() {\n      return HTML.Raw('\\n                                        <span class=\"auction-number pad-left-15\"><a href=\"javascript:void(0);\" class=\"viewTenants\" style=\"font-size:11px;\">View </a></span>\\n                                        ');\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n\\n                            \", HTML.UL({\n      class: \"superbuilt-div\"\n    }, \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Count</h5>\\n                                    \"), HTML.H6({\n      style: \"text-align: center;\",\n      class: \"text-center\"\n    }, \"   \", Blaze.View(\"lookup:chosenTenantCount\", function() {\n      return Spacebars.mustache(view.lookup(\"chosenTenantCount\"));\n    })), \"\\n                                \"), HTML.Raw('\\n                                <!--<li>-->\\n                                    <!--<h5>Next rent date</h5>-->\\n                                    <!--<h6 class=\"cursor-ptr color-blue showSubaPopup\" id=\"super-bulit-up-area2\">{{dateFormat auction.readyFrom}} </h6>-->\\n                                <!--</li>-->\\n                                '), HTML.LI(HTML.Raw(\"\\n                                    <h5>Previous activations</h5>\\n                                    \"), HTML.H6(HTML.A({\n      href: \"javascript:void(0);\",\n      class: \"prev_activations\"\n    }, \"History\", Blaze.If(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"PropertyManage\"), \"prevActivationsCount\"));\n    }, function() {\n      return [ \" (\", Blaze.View(\"lookup:PropertyManage.prevActivationsCount\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"PropertyManage\"), \"prevActivationsCount\"));\n      }), \")\" ];\n    })), \" \"), \"\\n                                \"), HTML.Raw(\"\\n                                <!--<li>-->\\n                                    <!--<h5>Reminders</h5>-->\\n                                    <!--<h6>Yes </h6>-->\\n                                <!--</li>-->\\n                            \")), HTML.Raw('\\n                            <ul class=\"bid-button-div left-line pull-right\">\\n                                <li>\\n                                    <a href=\"\" target=\"_blank\" class=\"transparent-btn btns\">Email</a>\\n                                </li>\\n                                <li>\\n                                    <button class=\"green-btn btns viewApplications\">View All Applications</button>\\n                                </li>\\n                            </ul>\\n\\n\\n                        ')), \"\\n                        \", Blaze.If(function() {\n      return false;\n    }, function() {\n      return [ \"\\n                            \", HTML.DIV({\n        class: \"apt-info apt-info1 background-white clearfix\"\n      }, \"\\n                                \", HTML.UL({\n        class: \"superbuilt-div\"\n      }, \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Rent</h5>\\n                                        \"), HTML.H6(HTML.Raw(\"&euro; \"), Blaze.View(\"lookup:auction.price\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"price\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Lease</h5>\\n                                        \"), HTML.H6(\"  \", Blaze.View(\"lookup:auction.lease\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"auction\"), \"lease\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Rent Type</h5>\\n                                        \"), HTML.H6(\" \", Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"auction\"), \"rentType\"));\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Ready From</h5>\\n                                        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, Blaze.View(\"lookup:dateFormat\", function() {\n        return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"readyFrom\"));\n      }), \" \"), \"\\n                                    \"), \"\\n                                    \", HTML.LI(HTML.Raw(\"\\n                                        <h5>Activated On</h5>\\n                                        \"), HTML.H6({\n        class: \"cursor-ptr color-blue showSubaPopup\",\n        id: \"super-bulit-up-area2\"\n      }, Blaze.View(\"lookup:dateFormat\", function() {\n        return Spacebars.mustache(view.lookup(\"dateFormat\"), Spacebars.dot(view.lookup(\"auction\"), \"createdAt\"));\n      }), \" \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.UL({\n        class: \"bid-button-div left-line pull-right\"\n      }, \"\\n                                    \", HTML.LI(\"\\n                                        \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"urlFor\"), Spacebars.kw({\n            route: \"lettingprintview\",\n            data: view.lookup(\"lettingprintviewData\")\n          }));\n        },\n        target: \"_blank\",\n        class: \"transparent-btn btns printView\"\n      }, \"Print Tokens\"), \"\\n                                    \"), HTML.Raw('\\n                                    <li>\\n                                        <button class=\"green-btn btns viewApplications\">View Applications</button>\\n                                    </li>\\n                                ')), \"\\n\\n\\n                            \"), \"\\n                        \" ];\n    }), \"\\n                        \", HTML.DIV({\n      class: \"apt-info background-white\"\n    }, \"\\n                            \", HTML.DIV({\n      class: \"box-bdr\"\n    }, \"\\n                                \", HTML.DIV({\n      class: \" box-inner\"\n    }, \"\\n                                    \", HTML.DIV({\n      class: \"clearfix accord-open-border background-halfwhite\"\n    }, \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Type</h5>\\n                                            \"), HTML.H6({\n      class: \"cursor-ptr color-blue showSubaPopup\",\n      id: \"super-bulit-up-area2\"\n    }, Blaze.View(\"lookup:type\", function() {\n      return Spacebars.mustache(view.lookup(\"type\"));\n    })), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Beds</h5>\\n                                            \"), HTML.H6(\"  \", Blaze.View(\"lookup:bedroomsCount\", function() {\n      return Spacebars.mustache(view.lookup(\"bedroomsCount\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Baths</h5>\\n                                            \"), HTML.H6(\"  \", Blaze.View(\"lookup:baths\", function() {\n      return Spacebars.mustache(view.lookup(\"baths\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Furnished</h5>\\n                                            \"), HTML.H6(\"  \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"furnished\"));\n    }, function() {\n      return \"Yes\";\n    }, function() {\n      return \"No\";\n    })), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Added On</h5>\\n                                            \"), HTML.H6(\" \", Blaze.View(\"lookup:dateFormat\", function() {\n      return Spacebars.mustache(view.lookup(\"dateFormat\"), view.lookup(\"createdAt\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-6 col-sm-6\"\n    }, HTML.Raw(\"\\n                                            <h5>Edited On</h5>\\n                                            \"), HTML.H6(\" \", Blaze.View(\"lookup:dateFormat\", function() {\n      return Spacebars.mustache(view.lookup(\"dateFormat\"), view.lookup(\"updatedAt\"));\n    }), \" \"), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", HTML.DIV({\n      class: \"clearfix accord-open-border background-halfwhite\"\n    }, \"\\n                                        \", HTML.DIV({\n      class: \"col-md-2 col-xs-2 col-sm-2\"\n    }, HTML.Raw(\"\\n                                            <h5>Images</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"gallery\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.View(\"lookup:gallery.length\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"gallery\"), \"length\"));\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    0\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-3 col-xs-6 col-sm-3\"\n    }, HTML.Raw(\"\\n                                            <h5>Bedrooms</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"bedrooms\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.Each(function() {\n        return Spacebars.dataMustache(view.lookup(\"objectToPairs\"), view.lookup(\"bedrooms\"));\n      }, function() {\n        return [ Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"key\"));\n        }, function() {\n          return \", \";\n        }), Blaze.View(\"lookup:value.bedType\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"value\"), \"bedType\"));\n        }), \" \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"value\"), \"ensuite\"));\n        }, function() {\n          return \"(Ensuite)\";\n        }) ];\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    N/A\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n      class: \"col-md-3 col-xs-6 col-sm-3 \"\n    }, HTML.Raw(\"\\n                                            <h5>Amenities</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"amenities\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.View(\"lookup:addCommaToEach\", function() {\n        return Spacebars.mustache(view.lookup(\"addCommaToEach\"), view.lookup(\"amenities\"));\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    N/A\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), HTML.Raw('\\n                                        <!--<div class=\"col-md-3 col-xs-6 col-sm-3\">-->\\n                                        <!--<h5></h5>-->\\n                                        <!--<h6>-->\\n                                        <!--<a href=\"http://www.google.com/maps/place/{{address.geoCodeLat}},{{address.geoCodeLong}}\" target=\"_blank\">-->\\n                                        <!--<span style=\"margin-right:8px;vertical-align:middle;\" class=\"glyphicon glyphicon-map-marker\" ></span><span style=\"vertical-align:middle;\" class=\"color-blue\">Location</span>-->\\n                                        <!--</a>-->\\n                                        <!--</h6>-->\\n                                        <!--</div>-->\\n                                        '), HTML.DIV({\n      class: \"col-md-3 col-xs-6 col-sm-3\"\n    }, HTML.Raw(\"\\n                                            <h5>BER</h5>\\n                                            \"), HTML.H6(\"\\n                                                \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"BER\"));\n    }, function() {\n      return [ \"\\n                                                    \", Blaze.View(\"lookup:addCommaToEach\", function() {\n        return Spacebars.mustache(view.lookup(\"addCommaToEach\"), view.lookup(\"BER\"));\n      }), \"\\n                                                \" ];\n    }, function() {\n      return \"\\n                                                    N/A\\n                                                \";\n    }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"contacts\"));\n    }, function() {\n      return [ \"\\n                                        \", HTML.DIV({\n        class: \"clearfix accord-open-border background-halfwhite\"\n      }, \"\\n                                            \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"contacts\"));\n      }, function() {\n        return [ \"\\n                                                \", HTML.DIV({\n          class: \"col-md-3 col-xs-6 col-sm-3 \"\n        }, HTML.Raw(\"\\n                                                    <h5>Contact details of the property owner</h5>\\n                                                    \"), HTML.H6(\"\\n                                                        \", Blaze.View(\"lookup:name\", function() {\n          return Spacebars.mustache(view.lookup(\"name\"));\n        }), \"\\n                                                        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"phone\"));\n        }, function() {\n          return [ \" (\", Blaze.View(\"lookup:phone\", function() {\n            return Spacebars.mustache(view.lookup(\"phone\"));\n          }), HTML.Raw(\")<br>\") ];\n        }), \"\\n                                                        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"email\"));\n        }, function() {\n          return Blaze.View(\"lookup:email\", function() {\n            return Spacebars.mustache(view.lookup(\"email\"));\n          });\n        }), \"\\n                                                    \"), \"\\n                                                \"), \"\\n                                            \" ];\n      }), \"\\n\\n                                        \"), \"\\n                                    \" ];\n    }), \"\\n                                    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"auctionId\"));\n    }, function() {\n      return [ \"\\n                                        \", HTML.DIV({\n        class: \"clearfix accord-open-border background-halfwhite\"\n      }, \"\\n                                            \", Blaze.Each(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"auction\"), \"contacts\"));\n      }, function() {\n        return [ \"\\n                                                \", HTML.DIV({\n          class: \"col-md-3 col-xs-6 col-sm-3 \"\n        }, HTML.Raw(\"\\n                                                    <h5>Contact persons for this advert</h5>\\n                                                    \"), HTML.H6(\"\\n                                                        \", Blaze.View(\"lookup:name\", function() {\n          return Spacebars.mustache(view.lookup(\"name\"));\n        }), \"\\n                                                        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"phone\"));\n        }, function() {\n          return [ \" (\", Blaze.View(\"lookup:phone\", function() {\n            return Spacebars.mustache(view.lookup(\"phone\"));\n          }), HTML.Raw(\")<br>\") ];\n        }), \"\\n                                                        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"email\"));\n        }, function() {\n          return Blaze.View(\"lookup:email\", function() {\n            return Spacebars.mustache(view.lookup(\"email\"));\n          });\n        }), \"\\n                                                    \"), \"\\n                                                \"), \"\\n                                            \" ];\n      }), \"\\n\\n                                        \"), \"\\n                                    \" ];\n    }), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"clearfix accord-open-border accord-top-border background-halfwhite\"\n    }, \"\\n                                    \", HTML.P({\n      class: \"accor-padd aboutPara\"\n    }, Blaze.View(\"lookup:nlToBr\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"nlToBr\"), view.lookup(\"about\")));\n    })), \"\\n                                \"), \"\\n\\n                            \"), HTML.Raw('\\n                            <!--<div class=\"see-more-btn1 see_more_btn\">-->\\n                                <!--<p>See less<span style=\"margin-left:8px;\"><img src=\"/images/accord-top-arrow.png\"></span></p>-->\\n                                <!--<p class=\"showEditPropertyForm\">Edit <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span></p>-->\\n                            <!--</div>-->\\n                        ')), HTML.Raw(\"<!--act-box-->\\n                    \")), \"\\n                \"), \"\\n            \"), \"\\n\\n        \" ];\n  }), \"\\n    \");\n}));\n\nTemplate.__checkName(\"tempMP1\");\nTemplate[\"tempMP1\"] = new Template(\"Template.tempMP1\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: function() {\n      return [ \"main-holder \", Spacebars.mustache(view.lookup(\"classBidList\")) ];\n    },\n    id: function() {\n      return [ \"unit_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, HTML.Raw('\\n\\n        <!--<section class=\"border-top act-div\"></section>-->\\n        '), HTML.DIV({\n    class: \"container\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"act-box\"\n  }, HTML.Raw('\\n                <div class=\"background-white\">\\n                    <div class=\"logo-holder-div\">\\n                        <div class=\"logo-holder\" style=\"padding: 0 20px;\">\\n                            <ul>\\n                                <li>\\n                                    <h3 class=\"pad-btm-0\">\\n                                        Activity history\\n                                    </h3>\\n                                </li>\\n                            </ul>\\n                        </div>\\n                        <div class=\"menu\">\\n                            <ul>\\n                                <li class=\"left-border\" style=\"display: none;\">\\n                                    <a href=\"mailto:\" class=\"transparent-btn chooseTenant\" type=\"button\"><span style=\"color:#000; font-size:11px\" class=\"glyphicon glyphicon-envelope\"></span> Email Tenant</a>\\n                                </li>\\n                            </ul>\\n                        </div>\\n\\n\\n                    </div>\\n                </div>\\n                <div class=\"background-white profile-text\" style=\"\\n    padding: 0px 30px;\\n\">\\n                    <div class=\"row\">\\n                        <div class=\"col-md-12\">\\n                            <h6 class=\"no-capitalize\" style=\"padding-top: 20px;display: none;\">Activity history</h6>\\n                            <ul class=\"information-box new-height\">\\n\\n                            </ul>\\n                        </div>\\n\\n                    </div>\\n\\n                    <div class=\"\" style=\"\\n    margin-top: 10px;\\n    text-align: center;\\n\">\\n                        <div class=\"div-holder clearfix\">\\n\\n                            <a href=\"javascript:void(0)\">Load More</a>\\n\\n\\n                        </div>\\n                    </div>\\n\\n                    <p style=\"font-size:12px;display: none;\">**The total price or total does not include the stamp duty and\\n                        registration charges. Stamp duty and registration charges will be added to the total price/ total at the time of registration.</p>\\n                </div>\\n\\n                <!--act-box-->\\n\\n                '), HTML.DIV({\n    style: \"\",\n    class: \"apt-info apt-info1 background-white clearfix\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"superbuilt-div\"\n  }, \"\\n                        \", HTML.TABLE({\n    class: \"background-halfwhite table\"\n  }, \"\\n                            \", HTML.TR(HTML.Raw(\"\\n                                <td>one</td>\\n                                <td>one 2</td>\\n                                <td>one 3</td>\\n                            \")), HTML.TR(HTML.Raw(\"\\n                            <td>two</td>\\n                            <td>two 2</td>\\n                            <td>two 3</td>\\n                        \")), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.DIV({\n    class: \"apt-info background-white clearfix bidMessageArea\",\n    style: \"display: none;\"\n  }, \"\\n                    \", HTML.BLOCKQUOTE({\n    class: \"\"\n  }, \"\\n                        \", Blaze.View(\"lookup:bidMessage\", function() {\n    return Spacebars.mustache(view.lookup(\"bidMessage\"));\n  }), \"\\n                    \"), \"\\n                \"), HTML.Raw(\"\\n\\n\\n\\n                <!--act-box-->\\n            \")), \"\\n        \"), \"\\n\\n\\n\\n\\n    \");\n}));\n\nTemplate.__checkName(\"addTenantDlg\");\nTemplate[\"addTenantDlg\"] = new Template(\"Template.addTenantDlg\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"refund-div\"><h2>Invite for viewing</h2></div>\\n    '), HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n        \", HTML.H5({\n    class: \"no-capitalize\"\n  }, \"Invite \", Blaze.View(\"lookup:data.user.profile.name\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"data\"), \"user\", \"profile\", \"name\"));\n  }), \" for viewing. Please choose viewing date and time\"), \"\\n\\n        \", HTML.FORM({\n    class: \"signin-form\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"form-border\",\n    style: \" padding: 20px 0;\"\n  }, HTML.Raw('\\n\\n                <div class=\"styled-input underline\">\\n                    <input class=\"inviteDate\" type=\"datetime\" placeholder=\"\" value=\"\" name=\"inviteDate\" id=\"inviteDate\" required=\"\">\\n                </div>\\n\\n                '), HTML.DIV({\n    class: \"styled-input underline\"\n  }, \"\\n                    \", HTML.TEXTAREA({\n    class: \"form-control inviteMessage\",\n    id: \"inviteMessage\",\n    rows: \"2\",\n    placeholder: \"You may enter a personal message to landlord if you wish.\",\n    maxlength: \"500\",\n    readonly: \"\",\n    value: function() {\n      return [ \"Hi, You are invited to the viewing on \", Spacebars.mustache(view.lookup(\"inviteDateFormated\")), \" at letting \", Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"address\")), \" \", Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:propertyData.address.area\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"area\"));\n        }), \" \" ];\n      }), Blaze.If(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n      }, function() {\n        return [ \", \", Blaze.View(\"lookup:propertyData.address.county\", function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"propertyData\"), \"address\", \"county\"));\n        }), \" \" ];\n      }) ];\n    }\n  }), \"\\n                \"), HTML.Raw('\\n\\n                <!--<div class=\"input-group date\">-->\\n                <!--<span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></span>-->\\n                <!--<input class=\"set-due-date form-control moveindate\" type=\"text\" id=\"moveindate\"/>-->\\n                <!--</div>-->\\n\\n            ')), \"\\n        \"), HTML.Raw('\\n        <p class=\"color-text\" style=\"margin-top: 20px;\">Please note that this will send an email with your contact details.</p>\\n\\n        '), HTML.UL(\"\\n            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"inviteInProgress\"));\n  }, function() {\n    return HTML.Raw('\\n                <li><button class=\"transparent-btn  btns \" disabled=\"true\" type=\"button\">Wait for it... </button></li>\\n            ');\n  }, function() {\n    return HTML.Raw('\\n                <li><button class=\"blue-btn  btns confirmInviteBtn\" type=\"button\">Invite </button></li>\\n            ');\n  }), \"\\n            \", HTML.LI(HTML.BUTTON({\n    class: \"transparent-btn btns closePopupBtn\",\n    disabled: function() {\n      return Spacebars.mustache(view.lookup(\"isApplicationInProgress\"));\n    },\n    type: \"button\"\n  }, \"Cancel\")), \"\\n        \"), \"\\n    \") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tenant.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/tenant.html                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.tenant.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.tenant.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.tenant.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"tenant\");\nTemplate[\"tenant\"] = new Template(\"Template.tenant\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n    \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"isViewingHisProfile\"));\n      }, function() {\n        return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"userProfile\")), \"\\n    \" ];\n      }, function() {\n        return [ \"\\n        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"isPublicProfile\"));\n        }, function() {\n          return [ \"\\n            \", Blaze.Each(function() {\n            return Spacebars.call(view.lookup(\"user\"));\n          }, function() {\n            return [ \"\\n                \", Blaze._TemplateWith(function() {\n              return {\n                user: Spacebars.call(view.lookup(\".\"))\n              };\n            }, function() {\n              return Spacebars.include(view.lookupTemplate(\"tenantDetail\"));\n            }), \"\\n            \" ];\n          }), \"\\n        \" ];\n        }, function() {\n          return [ \"\\n            \", HTML.SECTION({\n            class: \"main-holder \"\n          }, \"\\n                \", HTML.DIV({\n            class: \"container text-center mar-top-20 pad-btm-30\"\n          }, \"\\n                    \", HTML.DIV({\n            class: \"filter-holder\"\n          }, \"\\n                        \", HTML.DIV({\n            class: \"head-border-bottom\"\n          }, \"\\n                            \", Blaze.If(function() {\n            return Spacebars.call(view.lookup(\"userFound\"));\n          }, function() {\n            return [ \"\\n                                \", HTML.STRONG(Blaze.View(\"lookup:titleCase\", function() {\n              return Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\"));\n            }), \" profile is private. Request tenant to make their profile public from their profile settings.\"), HTML.Raw('<br><br>\\n                                <!--<a class=\"blue-btn btns \" type=\"button\">Find other tenants.</a>-->\\n                            ') ];\n          }, function() {\n            return HTML.Raw('\\n                                <strong>Tenant not found. Please check your tenant username and try again.</strong><br><br>\\n                                <!--<a class=\"blue-btn btns \" type=\"button\">Find other tenants.</a>-->\\n                            ');\n          }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \" ];\n        }), \"\\n    \" ];\n      }), \"\\n\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"tenantDetail\");\nTemplate[\"tenantDetail\"] = new Template(\"Template.tenantDetail\", (function() {\n  var view = this;\n  return HTML.SECTION({\n    class: \"main-holder border-top mar-top-30 mar-btm-30\",\n    id: function() {\n      return [ \"unit_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, HTML.Raw('\\n\\n            <!--<section class=\"border-top act-div\"></section>-->\\n            '), HTML.DIV({\n    class: \"container\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"act-box\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"background-white\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, \"\\n                            \", HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                                \", HTML.UL(\"\\n                                    \", HTML.LI(\"\\n                                        \", HTML.H3({\n    class: \"pad-btm-0\"\n  }, \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n  }, function() {\n    return HTML.IMG({\n      style: \"margin-bottom: 10px;\",\n      class: \"circular-icon\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n      },\n      alt: \"avatar\"\n    });\n  }), \"\\n                                            \", Blaze.View(\"lookup:titleCase\", function() {\n    return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"user\"), \"profile\", \"name\"));\n  }), HTML.Raw(\"&#39;s References\\n\\n                                            \"), Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return [ \"https://www.facebook.com/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\", \"id\")) ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                                    \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/facebook-icon.png\");\n      },\n      alt: \"Fb\"\n    }), HTML.Raw('\\n                                                    <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-facebook\"></span>-->\\n                                                ')), \"\\n                                            \" ];\n  }), \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return [ \"https://www.twitter.com/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\", \"screenName\")) ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                                    \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/twitter-icon.png\");\n      },\n      alt: \"Tw\"\n    }), HTML.Raw('\\n                                                    <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-twitter\"></span>-->\\n                                                ')), \"\\n                                            \" ];\n  }), \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.A({\n      title: \"Connected\",\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\", \"publicProfileUrl\"));\n      },\n      target: \"_blank\"\n    }, \"\\n                                                    \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/linkedin-icon.png\");\n      },\n      alt: \"Li\"\n    }), \"\\n                                                \"), \"\\n                                            \" ];\n  }), \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"google\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.SPAN({\n      title: \"Verified email\",\n      class: \"google-icon-box\",\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/google-icon.png\");\n      },\n      alt: \"G+\"\n    }), \"\\n                                        \"), \"\\n                                            \" ];\n  }), \"\\n\\n                                        \"), \"\\n\\n\\n                                    \"), \"\\n                                \"), \"\\n                            \"), HTML.Raw('\\n                            <!--<div class=\"menu\">-->\\n                                <!--<ul>-->\\n                                    <!--<li class=\"left-border\">-->\\n                                        <!--<button class=\"transparent-btn unChooseTenant\" type=\"button\">Unchoose</button>-->\\n                                    <!--</li>-->\\n                                <!--</ul>-->\\n                            <!--</div>-->\\n                        ')), \"\\n                    \"), HTML.Raw(\"\\n\\n                    <!--act-box-->\\n\\n                        \"), HTML.DIV({\n    class: \"apt-info apt-info1 background-white clearfix\"\n  }, \"\\n                            \", HTML.UL({\n    class: \"superbuilt-div\"\n  }, \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Employer name</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerName\"));\n  }, function() {\n    return [ \" \", Blaze.View(\"lookup:user.profile.references.employerName\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerName\"));\n    }), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw('\\n                                    <h5 title=\"Affordable if rent offer is within 40&#37; of his salary.\">Salary</h5>\\n                                    '), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"employerTakeHome\"));\n  }, function() {\n    return \"\\n                                            Hidden\\n                                        \";\n  }, function() {\n    return \"\\n                                            N/A\\n                                        \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Work reference</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasWorkRef\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"workRef\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Passport</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasPassport\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"passport\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Landlord reference</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasLandlordRef\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"landlordRef\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>PPS</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasPPS\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"PPS\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Financial reference</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasFinancialRef\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"financialRef\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Govt. ID </h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasGovtID\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"govtID\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Resume</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"hasResume\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"references\", \"resume\", \"url\"));\n      },\n      target: \"_blank\"\n    }, \"View\"), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Mobile</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return [ \"tel:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\")) ];\n      },\n      target: \"_blank\"\n    }, Blaze.View(\"lookup:user.profile.mobile\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"mobile\"));\n    })), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.LI(HTML.Raw(\"\\n                                    <h5>Email</h5>\\n                                    \"), HTML.H6({\n    class: \"cursor-ptr color-blue showSubaPopup\",\n    id: \"super-bulit-up-area2\"\n  }, \"\\n                                        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n  }, function() {\n    return [ \" \", HTML.A({\n      href: function() {\n        return [ \"mailto:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\")) ];\n      },\n      target: \"_blank\"\n    }, Blaze.View(\"lookup:user.profile.email\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\"));\n    })), \" \" ];\n  }, function() {\n    return \" N/A \";\n  }), \"\\n                                    \"), \"\\n                                \"), \"\\n\\n                            \"), \"\\n                        \"), HTML.Raw(\"\\n\\n                    <!--act-box-->\\n                \")), \"\\n            \"), \"\\n\\n\\n\\n\\n        \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tenants.html\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/tenants.html                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./template.tenants.js\", { \"*\": \"*+\" });\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.tenants.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/template.tenants.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"tenants\");\nTemplate[\"tenants\"] = new Template(\"Template.tenants\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isSubsLoaded\"));\n  }, function() {\n    return [ \"\\n\\n\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"userLoggedIn\"));\n    }, function() {\n      return [ \"\\n\\n    \", Blaze.Unless(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"dataFull\"), \"totalResultsCount\"));\n      }, function() {\n        return HTML.Raw('\\n        <div class=\"container text-center mar-top-20 pad-btm-30\"><strong>No public tenants profiles. </strong></div>\\n    ');\n      }, function() {\n        return [ HTML.Raw('\\n        <section class=\"mar-top-30 \"></section>\\n        '), Blaze.Each(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\"dataFull\"), \"results\"));\n        }, function() {\n          return [ \"\\n            \", Blaze._TemplateWith(function() {\n            return {\n              user: Spacebars.call(view.lookup(\".\"))\n            };\n          }, function() {\n            return Spacebars.include(view.lookupTemplate(\"tenantList\"));\n          }), \"\\n        \" ];\n        }), \"\\n    \" ];\n      }), \"\\n\\n    \", HTML.SECTION({\n        class: \"mar-top-20\"\n      }, \"\\n        \", HTML.SECTION({\n        class: \"border-top act-div\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"container\"\n      }, \"\\n                \", HTML.DIV({\n        class: \"row\"\n      }, \"\\n                    \", Blaze._TemplateWith(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"dataNonChosen\"), \"pagination\"));\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"pagination\"));\n      }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n\" ];\n    }, function() {\n      return [ \"\\n    \", HTML.SECTION({\n        class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n      }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loginPageHorizontal\")), \"\\n    \"), \"\\n\" ];\n    }), \"\\n\" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SECTION({\n      class: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n    \"), \"\\n\" ];\n  });\n}));\n\nTemplate.__checkName(\"tenantList\");\nTemplate[\"tenantList\"] = new Template(\"Template.tenantList\", (function() {\n  var view = this;\n  return [ HTML.SECTION({\n    class: \"main-holder border-top mar-btm-10\",\n    id: function() {\n      return [ \"unit_\", Spacebars.mustache(view.lookup(\"_id\")) ];\n    }\n  }, HTML.Raw('\\n\\n            <!--<section class=\"border-top act-div\"></section>-->\\n            '), HTML.DIV({\n    class: \"container\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"act-box\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"background-white\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"logo-holder-div\"\n  }, \"\\n                            \", HTML.DIV({\n    class: \"logo-holder\"\n  }, \"\\n                                \", HTML.UL(\"\\n                                    \", HTML.LI(\"\\n                                        \", HTML.H3({\n    class: \"pad-btm-0\"\n  }, \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n  }, function() {\n    return HTML.IMG({\n      class: \"circular-icon\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"picture\"));\n      },\n      alt: \"avatar\"\n    });\n  }), \"\\n                                            \", Blaze.View(\"lookup:titleCase\", function() {\n    return Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\"));\n  }), HTML.Raw(\"&#39;s References\\n\\n                                            \"), Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"facebook\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.A({\n      title: function() {\n        return [ Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\")), HTML.CharRef({\n          html: \"&#39;\",\n          str: \"'\"\n        }), \"s profile is connected with facebook\" ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                                    \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/facebook-icon.png\");\n      },\n      alt: \"Fb\"\n    }), HTML.Raw('\\n                                                    <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-facebook\"></span>-->\\n                                                ')), \"\\n                                            \" ];\n  }), \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"twitter\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.A({\n      title: function() {\n        return [ Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\")), HTML.CharRef({\n          html: \"&#39;\",\n          str: \"'\"\n        }), \"s profile is connected with Twitter\" ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                                    \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/twitter-icon.png\");\n      },\n      alt: \"Tw\"\n    }), HTML.Raw('\\n                                                    <!--<span style=\"color:#000;font-size:11px\" class=\"socicon socicon-twitter\"></span>-->\\n                                                ')), \"\\n                                            \" ];\n  }), \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"linkedin\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.A({\n      title: function() {\n        return [ Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\")), HTML.CharRef({\n          html: \"&#39;\",\n          str: \"'\"\n        }), \"s profile is connected with linkedIn.\" ];\n      },\n      target: \"_blank\"\n    }, \"\\n                                                    \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/linkedin-icon.png\");\n      },\n      alt: \"Li\"\n    }), \"\\n                                                \"), \"\\n                                            \" ];\n  }), \"\\n                                            \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"user\"), \"services\", \"google\"));\n  }, function() {\n    return [ \"\\n                                                \", HTML.SPAN({\n      title: function() {\n        return [ Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\")), HTML.CharRef({\n          html: \"&#39;\",\n          str: \"'\"\n        }), \"s has a verified google email\" ];\n      },\n      class: \"google-icon-box\",\n      target: \"_blank\"\n    }, \"\\n                                            \", HTML.IMG({\n      src: function() {\n        return Spacebars.mustache(view.lookup(\"cdnPath\"), \"/images/google-icon.png\");\n      },\n      alt: \"G+\"\n    }), \"\\n                                        \"), \"\\n                                            \" ];\n  }), \"\\n\\n                                        \"), \"\\n\\n\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"menu\"\n  }, \"\\n                                \", HTML.UL(\"\\n                                    \", HTML.LI({\n    class: \"left-border\"\n  }, \"\\n                                        \", HTML.A({\n    class: \"btns transparent-btn\",\n    href: function() {\n      return [ \"mailto:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"user\"), \"profile\", \"email\")) ];\n    }\n  }, \"Email\"), \"\\n                                    \"), HTML.Raw('\\n                                    <li class=\"\">\\n                                        <a class=\"btns green-btn inviteToApply\">Invite to Apply</a>\\n                                    </li>\\n                                ')), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), HTML.Raw(\"\\n\\n                    <!--act-box-->\\n\\n                        \"), HTML.DIV({\n    class: \"apt-info apt-info1 background-white clearfix\"\n  }, \"\\n                            \", HTML.P(Blaze.View(\"lookup:titleCase\", function() {\n    return Spacebars.mustache(view.lookup(\"titleCase\"), view.lookup(\"userFirstName\"));\n  }), HTML.Raw(\"&#39;s references are hidden. Invite them to apply for your property to view their references.\")), \"\\n                        \"), HTML.Raw('\\n\\n                    <!--{{#if user.profile.message}}-->\\n                    <!--<div class=\"apt-info background-white clearfix bidMessageArea\">-->\\n                    <!--<blockquote class=\"\">-->\\n                    <!--{{user.profile.message}}-->\\n                    <!--</blockquote>-->\\n                    <!--</div>-->\\n                        <!--{{/if}}-->\\n                    <!--act-box-->\\n                ')), \"\\n            \"), \"\\n\\n\\n\\n\\n        \"), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      id: \"inviteToApplyDlg\",\n      style: \"display:none;\",\n      class: \"verification-div1\"\n    }, \"\\n            \", Spacebars.include(view.lookupTemplate(\"inviteToApply\")), \"\\n        \"), \"\\n    \" ];\n  }) ];\n}));\n\nTemplate.__checkName(\"inviteToApply\");\nTemplate[\"inviteToApply\"] = new Template(\"Template.inviteToApply\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"refund-div\"><h2>Invite to Apply</h2></div>\\n    '), HTML.DIV({\n    class: \"profile-text\"\n  }, \"\\n        \", HTML.P({\n    class: \"no-capitalize\"\n  }, \"Invite \", Blaze.View(\"lookup:userFirstName\", function() {\n    return Spacebars.mustache(view.lookup(\"userFirstName\"));\n  }), \" to apply for your advertisement. Please choose your advertisement.\"), \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"myAdvertisements\"), \"totalResultsCount\"));\n  }, function() {\n    return [ \"\\n        \", HTML.FORM({\n      class: \"signin-form\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"form-border\",\n      style: \" padding: 20px 0;\"\n    }, \"\\n\\n                \", HTML.DIV({\n      class: \"styled-input underline\"\n    }, \"\\n\\n                    \", HTML.SELECT({\n      multiple: \"\",\n      placeholder: \"\",\n      class: \"selectedAdvertisements\",\n      name: \"selectedAdvertisements\",\n      required: \"\",\n      style: \"margin-bottom: 30px;\"\n    }, \"\\n                        \", Blaze.Each(function() {\n      return Spacebars.call(Spacebars.dot(view.lookup(\"myAdvertisements\"), \"results\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.OPTION({\n        value: function() {\n          return Spacebars.mustache(view.lookup(\"_id\"));\n        }\n      }, Blaze.View(\"lookup:titleCase\", function() {\n        return Spacebars.mustache(view.lookup(\"titleCase\"), Spacebars.dot(view.lookup(\"property\"), \"address\", \"address\"));\n      })), \"\\n                        \" ];\n    }), \"\\n                    \"), \"\\n\\n                \"), HTML.Raw('\\n\\n                <!--<div class=\"input-group date\">-->\\n                <!--<span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></span>-->\\n                <!--<input class=\"set-due-date form-control moveindate\" type=\"text\" id=\"moveindate\"/>-->\\n                <!--</div>-->\\n\\n            ')), \"\\n        \"), HTML.Raw('\\n        <p class=\"color-text\" style=\"margin-top: 20px;\">Please note that this will send an email to the tenant.</p>\\n        ') ];\n  }, function() {\n    return HTML.Raw('\\n        <p class=\"color-text mar-top-20\" style=\"text-align: center;margin-top:20px;\">You have no active advertisements.</p>\\n        <p style=\"text-align: center;\" class=\" mar-btm-20\">\\n            <button href=\"advertiseMyProperty\" style=\"max-width: 250px;margin: 0 auto;padding: 7px 15px;\" class=\"transparent-btn btns advertiseMyProperty\" type=\"button\">Advertise My Property</button>\\n        </p>\\n        ');\n  }), \"\\n\\n        \", HTML.UL(\"\\n            \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"inviteInProgress\"));\n  }, function() {\n    return HTML.Raw('\\n                <li><button class=\"transparent-btn  btns \" disabled=\"true\" type=\"button\">Wait for it... </button></li>\\n            ');\n  }, function() {\n    return HTML.Raw('\\n                <li><button class=\"blue-btn  btns confirmInviteBtn\" type=\"button\">Invite </button></li>\\n            ');\n  }), \"\\n            \", HTML.LI(HTML.BUTTON({\n    class: \"transparent-btn btns closePopupBtn\",\n    disabled: function() {\n      return Spacebars.mustache(view.lookup(\"inviteInProgress\"));\n    },\n    type: \"button\"\n  }, \"Cancel\")), \"\\n        \"), \"\\n    \") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"editProperty.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/editProperty.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./imageView.html\");\nmodule.link(\"./editProperty.html\");\nmodule.link(\"./shared.js\");\nlet filestack;\nmodule.link(\"filestack-js\", {\n  default(v) {\n    filestack = v;\n  }\n\n}, 0);\nconst apikey = 'AIPACLEs7ShGwwPh6fMTxz';\nconst fsClient = filestack.init(apikey, {\n  policy: 'eyJleHBpcnkiOjE4NjE5MjAwMDAsImNhbGwiOlsicGljayIsInJlYWQiLCJzdGF0Iiwid3JpdGUiLCJ3cml0ZVVybCIsInN0b3JlIiwiY29udmVydCIsInJlbW92ZSIsImV4aWYiXX0=',\n  signature: '465e8652c5cef95f44e5858e09d430abea855d98deaeb7425558f2c80d0f4f57'\n}); // import SimpleSchema from \"simpl-schema\";\n// SimpleSchema.extendOptions(['autoform']);\n\nTemplate.editProperty.onCreated(function () {\n  // this.showEditProperty = new ReactiveVar( false );\n  // console.log(this.data.propertyData)\n  // debugger;\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('Config');\n    var id = FlowRouter.getParam('id');\n    instance.subscribe('editProperty', id);\n    instance.subscribe('Areas'); //Let it wait in edit prop page\n\n    instance.subscribe('userData');\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n  this.deactivateInProgress = new ReactiveVar(false);\n  this.archiveInProgress = new ReactiveVar(false); // Session.set('editPropertyImagesNewOnes',[]);\n  // var gallery = this.data.propertyData.gallery;\n  // if(!gallery)gallery=[]\n  // Session.set('editPropertyImages',gallery);\n});\nTemplate.editProperty.helpers({\n  // showEditProperty: function () {\n  //     return Template.instance().showEditProperty.get();\n  // },\n  // propertyData : function () {\n  //     var ret = getpropertyData();\n  //     // console.log(\"propertyData\");\n  //     // console.log(ret);\n  //     Session.set('propertyData',ret);\n  //     return ret;\n  // },\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  propertyData: function () {\n    // debugger;\n    var id = FlowRouter.current().params.id;\n    var ret = Collections.Properties.find(id, {\n      transform: function (data) {\n        var globalConfig = Collections.Config.findOne();\n        if (data.auctionId) data.auction = Collections.Auctions.findOne(data.auctionId);\n        return data;\n      },\n      limit: 1\n    }).fetch();\n    ret = ret[0];\n    clearMeta();\n\n    try {\n      var title = 'Editing ' + ret.address.address + ', ' + ret.address.area;\n      if (ret.address.county) title += ', ' + ret.address.county;\n      DocHead.setTitle('' + titleCase(title) + ' | SpotMyCrib Admin');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"Edit property \" + ret.type + \", upload its images, details and much more.\"\n      });\n    } catch (err) {\n      DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n    }\n\n    Session.set(\"propertyData\", ret);\n    return ret; // return {propertyData: ret};\n  },\n  propertyFound: function () {\n    var c = Collections.Properties.find().count();\n    if (c) return true;\n    return false;\n  },\n  inIgnoreList: function (str) {\n    ignoreList = ['gallery', 'isArchived'];\n    if (ignoreList.indexOf(str) !== -1) return true;\n    return false;\n  },\n  deactivateInProgress: function () {\n    deactivateInProgress = Template.instance().deactivateInProgress;\n    return Template.instance().deactivateInProgress.get();\n  },\n  archiveInProgress: function () {\n    archiveInProgress = Template.instance().archiveInProgress;\n    return Template.instance().archiveInProgress.get();\n  } // getGallery:function () {\n  //     // debugger;\n  //     var propertyData = Session.get('propertyData');\n  //     return propertyData.gallery;\n  // }\n\n});\nTemplate.editProperty.onRendered(function () {\n  try {\n    jQuery(\"html,body\").animate({\n      scrollTop: 0\n    }, 250);\n  } catch (e) {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }\n});\nTemplate.editProperty.events({\n  \"click .deactivatePropertyBtn\": function (event, template) {\n    event.preventDefault();\n    var propertyData = Session.get('propertyData');\n\n    if (!propertyData) {\n      console.log(\"Empty project data\");\n      return false;\n    }\n\n    var user = Meteor.user();\n\n    if (!user) {\n      console.log(\"Invalid user\");\n      return;\n    }\n\n    if (propertyData.createdByAgent != user._id) {\n      console.log(\"Invalid user\");\n      return;\n    }\n\n    $.fancybox({\n      'padding': 0,\n      'href': '#conf-dactivate-pop',\n      afterShow: function (template) {\n        attachEvents();\n      },\n      afterClose: function (template) {\n        console.log(template);\n      }\n    });\n  },\n  \"click .archivePropertyBtn\": function (event, template) {\n    event.preventDefault();\n    var propertyData = Session.get('propertyData');\n\n    if (!propertyData) {\n      console.log(\"Empty project data\");\n      return false;\n    }\n\n    var user = Meteor.user();\n\n    if (!user) {\n      console.log(\"Invalid user\");\n      return;\n    }\n\n    if (propertyData.createdByAgent != user._id) {\n      console.log(\"Invalid user\");\n      return;\n    }\n\n    $.fancybox({\n      'padding': 0,\n      'href': '#conf-archive-pop',\n      afterShow: function (template) {\n        attachEvents();\n      },\n      afterClose: function (template) {\n        console.log(template);\n      }\n    });\n  },\n  // 'change .selectPropertyImages': function(event, template) {\n  //     var files = event.target.files;\n  //     S3.upload({\n  //         files:files,\n  //         path:\"propertyImagesLarge\"\n  //     },function(e,r){\n  //         if(e){\n  //             throw new Meteor.Error('Upload failed ', e);\n  //             var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n  //             tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n  //             Session.set(\"showErrorDlg\",tmp)\n  //             return;\n  //         }\n  //         var editPropertyImages = Session.get('editPropertyImages');\n  //         var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n  //         var tmp = {\n  //             name: r.file.original_name,\n  //             relative_url: r.relative_url,\n  //             url: r.secure_url\n  //         };\n  //         editPropertyImages.push(tmp);\n  //         editPropertyImagesNewOnes.push(tmp);\n  //         Session.set('editPropertyImages',editPropertyImages);\n  //         Session.set('editPropertyImagesNewOnes',editPropertyImagesNewOnes);\n  //         var propertyData = Session.get(\"propertyData\");\n  //         updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n  //             if (err) {\n  //                 console.log(err);\n  //                 var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n  //                 tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n  //                 Session.set(\"showErrorDlg\",tmp)\n  //                 return;\n  //             } else {\n  //                 var editPropertyImages = Session.get('editPropertyImages');\n  //                 console.log(\"Current Count: \"+editPropertyImages.length )\n  //             }\n  //         });\n  //         console.log(r);\n  //     });\n  // },\n  \"click .backBtn\": function (event, template) {\n    goBack();\n  },\n  'change input[name=price]': function (event, template) {\n    if (event.target.value) {\n      var tmp = event.target.value.split('.');\n      tmp = tmp[0]; //No decimals\n\n      tmp = tmp.trim().match(/\\d+/g);\n      if (!Array.isArray(tmp)) event.target.value = '';\n      event.target.value = tmp.join('');\n    }\n  },\n  \"click .showCopyDlg\": function (event, template) {\n    var propertyData = Session.get('propertyData');\n    let user = Meteor.user();\n    let sluggedName = slugifyEmailAddress(user.profile.name);\n    if (!sluggedName) sluggedName = 'rent';\n    let email = sluggedName + '-let-' + propertyData.auction.lettingAuctionCode.toLowerCase() + \"@spotmycrib.ie\";\n    $('#agentPropertyEmailField').val(email);\n    var url = FlowRouter.url('letting', {\n      key: propertyData.auction.lettingAuctionCode\n    });\n    $('#propertyLinkField').val(url);\n    $.fancybox({\n      'padding': 0,\n      'href': '#propertyLinkDlg',\n      afterShow: function (template) {\n        $('#agentPropertyEmailField').select();\n        $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click', function () {\n          $('#agentPropertyEmailField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'editPropertyPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n        });\n        $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click', function () {\n          $('#propertyLinkField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'editPropertyPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n        });\n        $('#propertyLinkDlg .cancelBtn').unbind().bind('click', function () {\n          $.fancybox.close();\n        });\n      }\n    });\n  }\n});\nTemplate.editPropertyForm.onCreated(function () {\n  if (!Session.get('editPropertyImages')) {\n    // Lets do this. Anyways we have delete button.\n    Session.set('editPropertyImages', []);\n    S3.collection.remove({});\n  }\n\n  this.numBedRoomCount = new ReactiveVar(0);\n  this.editPropertyFormSaving = new ReactiveVar(false);\n  this.countySelected = new ReactiveVar(false);\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    if (instance.countySelected.get()) {\n      instance.isSubsLoaded.set(false);\n      instance.subscribe('Areas', '', '', instance.countySelected.get(), '', '');\n    }\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n  Session.set('editPropertyImagesNewOnes', []);\n  var gallery = [];\n\n  try {\n    gallery = this.data.propertyData.gallery;\n  } catch (e) {\n    gallery = [];\n  }\n\n  Session.set('editPropertyImages', gallery);\n});\nTemplate.editPropertyForm.helpers({\n  'data': function () {\n    var user = Meteor.user();\n    if (!user) return {\n      results: []\n    };\n    var id = FlowRouter.current().params.id;\n    var doc = Collections.Properties.findOne(id, {\n      transform: function (data) {\n        if (data.auctionId) data.auction = Collections.Auctions.findOne(data.auctionId);\n        return data;\n      },\n      limit: 1\n    });\n    if (doc) if (doc.bedrooms) Template.instance().numBedRoomCount.set(doc.bedrooms.length);\n    if (doc) if (doc.gallery) Session.set('editPropertyImages', doc.gallery); //This will re-run everytime u update an images and data gets fetched again.\n\n    return doc;\n  },\n  trimVal: function (str) {\n    return str.trim();\n  },\n  isEqualSelect: function (a, b) {\n    if (a == b) return 'selected';\n    return '';\n  },\n  isEqualCheck: function (a, b) {\n    if (a == b) return 'checked';\n    return '';\n  },\n  furnishedOptions: function (isFurnished) {\n    return [{\n      label: \"yes\",\n      value: \"true\",\n      selected: isFurnished ? 'selected' : ''\n    }, {\n      label: \"No\",\n      value: \"false\",\n      selected: !isFurnished ? 'selected' : ''\n    }];\n  },\n  countries: function () {\n    return [{\n      label: \"Ireland\",\n      value: \"Ireland\",\n      selected: \"selected\"\n    }]; //Both capital\n  },\n  counties: function () {\n    let staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    let ret = [];\n\n    for (let i = 0; i < staticCounties.length; i++) {\n      if (!staticCounties[i]) continue;\n      ret.push({\n        label: titleCase(staticCounties[i]),\n        value: staticCounties[i]\n      });\n    }\n\n    return ret; // return [{label: \"Dublin\", value: \"dublin\"}];//Both capital\n    // var distinctEntries = _.uniq(Collections.Areas.find({}, {\n    //     sort: {County: 1}, fields: {County: true}\n    // }).fetch().map(function(x) {\n    //     return x.County;\n    // }), true);\n    // var ret = []\n    // for(var i=0;i< distinctEntries.length;i++){\n    //     if(!distinctEntries[i])continue;\n    //     ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n    // }\n    // return ret;\n  },\n  areas: function () {\n    var countySelected = Template.instance().countySelected.get();\n\n    if (!countySelected) {\n      var c = Collections.Properties.find().count();\n      if (c > 1) return []; // This is the fix for - bug of not loading existing areas - page is designed to work with 1 prop, but when user comes to this page from myprop page, it has many results, leading to invalid countySelected\n\n      var doc = Collections.Properties.findOne();\n      if (!doc) return [];\n      Template.instance().countySelected.set(doc.address.county);\n      countySelected = doc.address.county;\n    }\n\n    var distinctEntries = _.uniq(Collections.Areas.find({\n      County: countySelected\n    }, {\n      sort: {\n        Area: 1\n      },\n      fields: {\n        Area: true\n      }\n    }).fetch().map(function (x) {\n      return x.Area;\n    }), true);\n\n    var ret = [];\n\n    for (var i = 0; i < distinctEntries.length; i++) {\n      if (!distinctEntries[i]) continue;\n      ret.push({\n        label: titleCase(distinctEntries[i]),\n        value: distinctEntries[i]\n      });\n    }\n\n    return ret; //Previous logic\n    // var Config = Collections.Config.find().fetch();Config = Config[0];\n    // var ret = []\n    // for(var i=0;i< Config.countyInfo.length;i++){\n    //     ret.push({label: titleCase(Config.countyInfo[i].area), value: Config.countyInfo[i].area})\n    // }\n  },\n  propertyTypes: function () {\n    var Config = Collections.Config.find().fetch();\n    Config = Config[0];\n    var ret = [];\n\n    for (var i = 0; i < Config.propertyType.length; i++) {\n      ret.push({\n        label: titleCase(Config.propertyType[i].name),\n        value: Config.propertyType[i].value\n      });\n    }\n\n    return ret;\n  },\n  numBedRoomCount: function () {\n    var c = Template.instance().numBedRoomCount.get();\n    if (c < 100) return Template.instance().numBedRoomCount.get();else return 0;\n  },\n  editPropertyFormSaving: function () {\n    return Template.instance().editPropertyFormSaving.get();\n  },\n  ensuiteLoop: function (count) {\n    var countArr = [];\n\n    for (var i = 0; i < count; i++) {\n      countArr.push({\n        i: i + 1\n      });\n    }\n\n    return countArr;\n  },\n  ensuiteLoopCheckbox: function (index) {\n    var doc = Collections.Properties.findOne();\n    if (doc) if (doc.bedrooms[index]) {\n      if (doc.bedrooms[index].ensuite) return 'checked';\n    }\n    return '';\n  },\n  ensuiteLoopBedType: function (index, b) {\n    var doc = Collections.Properties.findOne();\n    if (doc) if (doc.bedrooms[index]) {\n      if (doc.bedrooms[index].bedType == b) return 'selected';\n    }\n    return '';\n  },\n  leaseUntil: function () {\n    var allowedVals = ['1 month', '2 months', '3 months', '4 months', '5  months', '6 months', '7 months', '8 months', '9 months', '10 months', '11 months', '1 year', 'More than a year'];\n    return allowedVals;\n  },\n  ensuiteLoopBedTypeOptions: function (index) {\n    var doc = Collections.Properties.findOne();\n    var isSingle = false,\n        isDouble = false,\n        isTwin = false;\n    if (doc) if (doc.bedrooms) if (doc.bedrooms[index]) {\n      switch (doc.bedrooms[index].bedType) {\n        case 'single':\n          isSingle = true;\n          break;\n\n        case 'double':\n          isDouble = true;\n          break;\n\n        case 'twin':\n          isTwin = true;\n          break;\n      }\n    }\n    var arr = [{\n      label: \"Single\",\n      value: \"single\",\n      sel: isSingle ? 'selected' : ''\n    }, {\n      label: \"Double\",\n      value: \"double\",\n      sel: isDouble ? 'selected' : ''\n    }, {\n      label: \"Twin\",\n      value: \"twin\",\n      sel: isTwin ? 'selected' : ''\n    }];\n    return arr;\n  },\n  hasAmenityCheckbox: function (v) {\n    var doc = Collections.Properties.findOne();\n    if (doc) if (doc.amenities) if (doc.amenities.length) if (doc.amenities.indexOf(v) != -1) return 'checked';\n    return '';\n  },\n  propertyContact: function (i) {\n    var doc = Collections.Properties.findOne();\n    if (doc) if (doc.contacts) if (doc.contacts.length) return doc.contacts[0];\n    return {\n      name: '',\n      phone: '',\n      email: ''\n    };\n  },\n  advertisementContact: function (i) {\n    var id = FlowRouter.current().params.id;\n    var doc = Collections.Properties.findOne(id, {\n      transform: function (data) {\n        if (data.auctionId) data.auction = Collections.Auctions.findOne(data.auctionId);\n        return data;\n      },\n      limit: 1\n    });\n    if (doc) if (doc.auction) if (doc.auction.contacts) if (doc.auction.contacts.length) return doc.auction.contacts[0];\n    return {\n      name: '',\n      phone: '',\n      email: ''\n    };\n  }\n});\nTemplate.editPropertyForm.events({\n  \"click .backBtn\": function (event, template) {\n    goBack();\n  },\n  'submit form': function (event) {\n    event.preventDefault();\n  },\n  \"click .editPropertyFormSaveActivateBtn\": function (event, template) {\n    $('#editPropertyFormCF').submit();\n  },\n  \"click .editPropertyFormCancelBtn\": function (event, template) {\n    goBack();\n  },\n  'change .selectPropertyImages': function (event, template) {\n    return;\n    var files = event.target.files;\n    console.log('Upload called'); // console.log(files);\n\n    S3.upload({\n      files: files,\n      path: \"DEVpropertyImagesLarge\"\n    }, function (e, r) {\n      if (e) {\n        throw new Meteor.Error('Upload failed ', e);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      var editPropertyImages = Session.get('editPropertyImages');\n      var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n      var tmp = {\n        name: r.file.original_name,\n        relative_url: r.relative_url,\n        url: r.secure_url\n      };\n      editPropertyImages.push(tmp);\n      editPropertyImagesNewOnes.push(tmp);\n      Session.set('editPropertyImages', editPropertyImages);\n      Session.set('editPropertyImagesNewOnes', editPropertyImagesNewOnes);\n      var propertyData = Session.get(\"propertyData\");\n      updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n        if (err) {\n          console.log(err);\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        } else {\n          var editPropertyImages = Session.get('editPropertyImages');\n          console.log(\"Current Count: \" + editPropertyImages.length);\n        }\n      });\n      console.log(r);\n    });\n  },\n  'change .countySelected': function (event, template) {\n    template.countySelected.set(event.target.value);\n  },\n  \"click .openFileUploader\": function (event, template) {\n    event.preventDefault();\n    openPicker(); // filename\n    //     :\n    //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n    // handle\n    //     :\n    //     \"G8lStVqHTiGnwxof6d5y\"\n    // mimetype\n    //     :\n    //     \"image/png\"\n    // originalFile\n    //     :\n    // {name: \"webcam-1/12/2018, 6:53:25 PM.png\", type: \"image/png\", size: 630585}\n    // originalPath\n    //     :\n    //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n    // size\n    //     :\n    //     629612\n    // source\n    //     :\n    //     \"local_file_system\"\n    // status\n    //     :\n    //     \"Stored\"\n    // uploadId\n    //     :\n    //     \"ba2fe36e9fd182ec0cb88236d676cefad\"\n    // url\n    //     :\n    //     \"https://cdn.filestackcontent.com\n\n    return;\n  },\n  'keyup .autoGrowTA': function (event, template) {\n    var element = event.target;\n    element.style.height = \"5px\";\n    if (element.scrollHeight < 310) element.style.height = element.scrollHeight + \"px\";else element.style.height = \"310px\";\n  },\n  'change #numBedRoomCount': function (event, template) {\n    var numBedRoomCount = parseInt($(event.target).val());\n    if (isNaN(numBedRoomCount)) return;\n    Template.instance().numBedRoomCount.set(numBedRoomCount);\n    t1 = template;\n    setTimeout(function () {\n      t1.$('#editPropertyFormCF').validate();\n    }, 500);\n  }\n});\nTemplate.editPropertyForm.onRendered(function () {\n  this.$('#readyFrom').datetimepicker();\n  var element = this.$('.autoGrowTA')[0];\n  if (element.scrollHeight < 310) element.style.height = element.scrollHeight + \"px\";else element.style.height = \"310px\"; // this.$('#editPropertyFormCF').validate();\n\n  editPropertyFormSaving = this.editPropertyFormSaving;\n  var validator = this.$('#editPropertyFormCF').validate({\n    submitHandler: function (event) {\n      editPropertyFormSaving.set(true);\n      console.log(\"You just submitted the 'editPropertyForm' form.\");\n      var doc = Collections.Properties.findOne();\n\n      if (doc) {\n        Meteor.call('editProperty', doc._id, $('#editPropertyFormCF').serializeArray(), function (error, result) {\n          editPropertyFormSaving.set(false);\n\n          if (error) {\n            console.log(error); //    validator.showErrors({\n            //         email: error.reason\n            //     });\n\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            var msg = 'An error occurred.';\n            if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n            tmp.push(msg);\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          }\n\n          var propertyData = Session.get(\"propertyData\");\n          var editPropertyImages = Session.get('editPropertyImages');\n\n          if (!editPropertyImages) {\n            Session.set('editPropertyImages', []);\n            S3.collection.remove({});\n            goBack();\n          } else {\n            updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n              if (err) {\n                console.log(err);\n              } else {\n                Session.set('editPropertyImages', []);\n                S3.collection.remove({});\n              }\n\n              goBack();\n            });\n          }\n\n          Session.set('hideAddPropertyForm', true);\n        });\n      }\n    }\n  });\n\n  if (Session.get('OpenImageUploader')) {\n    scrollTo('.openFileUploader', 0, 500);\n    openPicker();\n    Session.set('OpenImageUploader', false);\n  }\n});\nTemplate.imageEditView.helpers({\n  images: function () {\n    // var propertyData = Session.get('propertyData');\n    // var existingGallery = propertyData.gallery;\n    // var editPropertyImages = Session.get('editPropertyImages');\n    // if(!editPropertyImages)editPropertyImages=[]\n    // if(!existingGallery )existingGallery =[]\n    // var newCombined = editPropertyImages.concat(existingGallery);\n    return Session.get('editPropertyImages');\n  }\n});\nTemplate.imgEditTag.events({\n  \"click .editImgBtn\": function (event, template) {\n    console.log(this);\n    debugger;\n    var editPropertyImages = Session.get('editPropertyImages');\n    var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n    var isOriginalImageFromOwnS3 = false;\n    var newArr = [];\n    if (!editPropertyImages) return;\n    if (!editPropertyImages.length) return;\n\n    if (this.handle) {\n      index = getIndexByHandle(editPropertyImages, this.handle);\n    } else {\n      isOriginalImageFromOwnS3 = true;\n      index = getIndexByRelativeURL(editPropertyImages, this.relative_url);\n    }\n\n    newArr.push(editPropertyImages[index].url); //put it at first\n    // editPropertyImages.splice(index, 1);\n    //\n    // for(var i=0;i<editPropertyImages.length;i++){\n    //     newArr.push(editPropertyImages[i].url)\n    // }\n\n    const pickOptions = {\n      transformations: {\n        crop: {\n          force: true,\n          aspectRatio: 1.333\n        },\n        rotate: true\n      },\n      accept: 'image/*',\n      imageMax: [800, 600]\n    };\n    fsClient.cropFiles(newArr, pickOptions).then(response => {\n      debugger;\n      var editPropertyImages = Session.get('editPropertyImages');\n      var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes'); //if its conversion from old amazon to new filestack, then it will create a new file, so delete the old file seperatly and insert a new file seperatly.\n\n      if (!response.filesUploaded.length) {\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Edit failed: please try again, contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      if (isOriginalImageFromOwnS3) {\n        S3.delete(editPropertyImages[index].relative_url, function (error, result) {\n          if (error) {\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          }\n\n          var editPropertyImages = Session.get('editPropertyImages');\n          editPropertyImages.splice(index, 1);\n          Session.set('editPropertyImages', editPropertyImages);\n          var propertyData = Session.get(\"propertyData\");\n          updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n            if (err) {\n              console.log(err);\n              var tmp = Session.get(\"showErrorDlg\");\n              if (!tmp) tmp = [];\n              tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n              Session.set(\"showErrorDlg\", tmp);\n              return;\n            } else {\n              var editPropertyImages = Session.get('editPropertyImages');\n              console.log(\"Current Count: \" + editPropertyImages.length);\n            }\n          });\n        });\n      } else {\n        fsClient.remove(editPropertyImages[index].handle).then(function (result) {\n          debugger;\n          console.log('In fs remove result');\n          var editPropertyImages = Session.get('editPropertyImages');\n          editPropertyImages.splice(index, 1);\n          Session.set('editPropertyImages', editPropertyImages);\n          var propertyData = Session.get(\"propertyData\");\n          updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n            if (err) {\n              console.log(err);\n              var tmp = Session.get(\"showErrorDlg\");\n              if (!tmp) tmp = [];\n              tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n              Session.set(\"showErrorDlg\", tmp);\n              return;\n            } else {\n              var editPropertyImages = Session.get('editPropertyImages');\n              console.log(\"Current Count: \" + editPropertyImages.length);\n            }\n          });\n        });\n      }\n\n      var tmp = {};\n\n      for (var i = 0; i < response.filesUploaded.length; i++) {\n        tmp = {\n          name: response.filesUploaded[i].filename,\n          url: response.filesUploaded[i].url,\n          handle: response.filesUploaded[i].handle,\n          mimetype: response.filesUploaded[i].mimetype,\n          originalFile: response.filesUploaded[i].originalFile,\n          originalPath: response.filesUploaded[i].originalPath,\n          size: response.filesUploaded[i].size,\n          source: response.filesUploaded[i].source,\n          status: response.filesUploaded[i].status,\n          uploadId: response.filesUploaded[i].uploadId\n        }; // editPropertyImages.push(tmp);\n\n        editPropertyImages.splice(index + 1, 0, tmp); //insert at the index place where its deleted.\n\n        editPropertyImagesNewOnes.push(tmp);\n      } //Logic to insert new file.\n\n\n      Session.set('editPropertyImages', editPropertyImages);\n      var propertyData = Session.get(\"propertyData\");\n      updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n        if (err) {\n          console.log(err);\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        } else {\n          var editPropertyImages = Session.get('editPropertyImages');\n          console.log(\"Current Count: \" + editPropertyImages.length);\n        }\n      });\n    });\n  },\n  \"click .deleteImgBtn\": function (event, template) {\n    console.log(this);\n    debugger;\n    var editPropertyImages = Session.get('editPropertyImages'); // editPropertyImages.splice(index, 1);\n    // Session.set('editPropertyImages',editPropertyImages);\n\n    if (this.handle) {\n      index = getIndexByHandle(editPropertyImages, this.handle);\n      fsClient.remove(this.handle).then(function (result) {\n        debugger;\n        console.log('In fs remove result');\n        var editPropertyImages = Session.get('editPropertyImages');\n        editPropertyImages.splice(index, 1);\n        Session.set('editPropertyImages', editPropertyImages);\n        var propertyData = Session.get(\"propertyData\");\n        updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n          if (err) {\n            console.log(err);\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          } else {\n            var editPropertyImages = Session.get('editPropertyImages');\n            console.log(\"Current Count: \" + editPropertyImages.length);\n          }\n        });\n      });\n    } else {\n      index = getIndexByRelativeURL(editPropertyImages, this.relative_url);\n      S3.delete(this.relative_url, function (error, result) {\n        if (error) {\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        }\n\n        var editPropertyImages = Session.get('editPropertyImages');\n        editPropertyImages.splice(index, 1);\n        Session.set('editPropertyImages', editPropertyImages);\n        var propertyData = Session.get(\"propertyData\");\n        updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n          if (err) {\n            console.log(err);\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          } else {\n            var editPropertyImages = Session.get('editPropertyImages');\n            console.log(\"Current Count: \" + editPropertyImages.length);\n          }\n        });\n      });\n    }\n  }\n});\n\nfunction openPicker() {\n  fsClient.pick({\n    fromSources: [\"local_file_system\", \"webcam\", \"facebook\", \"url\", \"googledrive\", \"dropbox\", \"flickr\", \"instagram\", \"gmail\", \"picasa\", \"onedrive\", \"clouddrive\"],\n    maxFiles: 10,\n    transformations: {\n      crop: {\n        force: true,\n        aspectRatio: 1.333\n      },\n      rotate: true\n    },\n    imageMax: [800, 600],\n    accept: [\"image/*\"] //,\".pdf\",\".doc\",\".docx\",\".docm\"\n\n  }).then(function (response) {\n    // declare this function to handle response\n    debugger;\n    var editPropertyImages = Session.get('editPropertyImages');\n    var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n    var tmp = {};\n    if (response.filesUploaded) for (var i = 0; i < response.filesUploaded.length; i++) {\n      tmp = {\n        name: response.filesUploaded[i].filename,\n        url: response.filesUploaded[i].url,\n        handle: response.filesUploaded[i].handle,\n        mimetype: response.filesUploaded[i].mimetype,\n        originalFile: response.filesUploaded[i].originalFile,\n        originalPath: response.filesUploaded[i].originalPath,\n        size: response.filesUploaded[i].size,\n        source: response.filesUploaded[i].source,\n        status: response.filesUploaded[i].status,\n        uploadId: response.filesUploaded[i].uploadId\n      };\n      editPropertyImages.push(tmp);\n      editPropertyImagesNewOnes.push(tmp);\n    }\n    Session.set('editPropertyImages', editPropertyImages);\n    Session.set('editPropertyImagesNewOnes', editPropertyImagesNewOnes);\n    var propertyData = Session.get(\"propertyData\");\n    updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n      if (err) {\n        console.log(err);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      } else {\n        var editPropertyImages = Session.get('editPropertyImages');\n        console.log(\"Current Count: \" + editPropertyImages.length);\n\n        if (Session.get('fromAdvertiseWithUsPage')) {\n          fbq('track', 'CompleteRegistration');\n          ga('send', 'event', 'AdvertiseWithUsPage', 'ImageUploaded', 'Property Images Uploaded.');\n          Session.set('fromAdvertiseWithUsPage', false);\n        }\n      }\n    });\n    console.log(response);\n  });\n}\n\nfunction goBack() {\n  var prevRoute = Session.get('prevRoute');\n\n  if (prevRoute) {\n    FlowRouter.go(prevRoute.name, prevRoute.args);\n    Session.set('prevRoute', false);\n\n    if (prevRoute.scrollTo) {\n      scrollTo(prevRoute.scrollTo, 0, 500);\n    }\n  } else {\n    FlowRouter.go(\"/account/myproperies/\", {\n      pageno: 1\n    });\n  }\n}\n\nfunction getpropertyData() {\n  var id = FlowRouter.current().params.id;\n  var ret = Collections.Properties.find(id, {\n    transform: function (data) {\n      data.auction = Collections.Auctions.findOne(data.auctionId);\n      data.applicationsReceivedCount = Collections.Bids.find({\n        auctionId: data.auctionId\n      }).count();\n      data.applicationsActiveCount = Collections.Bids.find({\n        auctionId: data.auctionId,\n        isArchived: false\n      }).count();\n      return data;\n    },\n    limit: 1\n  }).fetch(); // console.log(\"getProjectData\");\n\n  return ret[0];\n}\n\nfunction getIndexByHandle(myArray, fileId) {\n  for (var i = 0; i < myArray.length; i++) {\n    if (myArray[i].handle === fileId) {\n      return i;\n    }\n  }\n}\n\nfunction getIndexByRelativeURL(myArray, fileId) {\n  for (var i = 0; i < myArray.length; i++) {\n    if (myArray[i].relative_url === fileId) {\n      return i;\n    }\n  }\n}\n\nfunction attachEvents() {\n  $(\".deactivateConfirmBtn\").unbind().bind(\"click\", function () {\n    deactivateConfEvent();\n  });\n  $(\".archiveConfirmBtn\").unbind().bind(\"click\", function () {\n    archiveConfEvent();\n  });\n  $(\".closePopupBtn\").unbind().bind(\"click\", function () {\n    closePopupEvent();\n  });\n}\n\nfunction deactivateConfEvent() {\n  var data = Session.get(\"propertyData\");\n  var auctionId = data.auctionId;\n  deactivateInProgress.set(true);\n  Meteor.call('deactivateAuction', auctionId, function (error, result) {\n    deactivateInProgress.set(false);\n\n    if (error) {\n      console.log(error);\n      var tmp = Session.get(\"showErrorDlg\");\n      if (!tmp) tmp = [];\n      tmp.push(\"Failed deactivating. Please try again, try checking your internet connectivity. Contact us if needed.\");\n      Session.set(\"showErrorDlg\", tmp);\n      return;\n    }\n\n    console.log(\"Success\");\n    var prevRoute = Session.get('prevRoute');\n    closePopupEvent();\n    goBack();\n  });\n}\n\nfunction archiveConfEvent() {\n  var data = Session.get(\"propertyData\");\n  var propertyId = data._id;\n  archiveInProgress.set(true);\n  Meteor.call('archiveProperty', propertyId, function (error, result) {\n    archiveInProgress.set(false);\n\n    if (error) {\n      console.log(error);\n      var tmp = Session.get(\"showErrorDlg\");\n      if (!tmp) tmp = [];\n      tmp.push(\"Failed archiving. Please try again, try checking your internet connectivity. Contact us if needed.\");\n      Session.set(\"showErrorDlg\", tmp);\n      return;\n    }\n\n    console.log(\"Success\");\n    var prevRoute = Session.get('prevRoute');\n    closePopupEvent();\n    goBack();\n  });\n}\n\nfunction closePopupEvent() {\n  console.log('closePopupEvent');\n  if ($) if ($.fancybox) $.fancybox.close();\n}\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction slugifyEmailAddress(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '.') // Replace spaces with \".\"\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"lettingprintview.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/lettingprintview.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./lettingprintview.html\");\nTemplate.lettingprintview.onCreated(function () {\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    var key = FlowRouter.getParam('key');\n    instance.subscribe(\"viewLetting\", key);\n    instance.subscribe('Config'); // instance.subscribe('Properties');\n    // instance.subscribe('Auctions');\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.lettingprintview.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  data: function () {\n    // debugger;\n    var id = FlowRouter.getParam('key');\n    let Projects = Collections.Auctions;\n    let selector = {\n      \"lettingAuctionCode\": id\n    };\n    var ret = Projects.find(selector, {\n      transform: function (data) {\n        var globalConfig = Collections.Config.findOne();\n        data.PD = Collections.Properties.findOne(data.propertyId);\n        data.PD.bedroomsCount = 0;\n        data.PD.ensuiteCount = 0;\n        data.PD.doubleBedCount = 0;\n\n        if (data.PD.bedrooms) {\n          data.PD.bedroomsCount = data.PD.bedrooms.length;\n\n          for (var i = 0; i < data.PD.bedrooms.length; i++) {\n            if (data.PD.bedrooms[i][\"ensuite\"]) {\n              data.PD.ensuiteCount++;\n            }\n\n            if (data.PD.bedrooms[i][\"bedType\"] == 'double') {\n              data.PD.doubleBedCount++;\n            }\n          }\n        }\n\n        if (data.PD.contacts) {\n          data.primaryContact = data.PD.contacts[0];\n        } else data.primaryContact = {};\n\n        tmp = [];\n\n        if (data.PD.amenities) {\n          for (var i = 0; i < data.PD.amenities.length; i++) {\n            var src = globalConfig.amenitiesLogos[data.PD.amenities[i]];\n            if (!src) src = globalConfig.amenitiesLogos[\"default\"];\n            tmp.push({\n              name: data.PD.amenities[i],\n              src: src\n            });\n          }\n        }\n\n        data.PD.amenitiesWithImgs = tmp;\n        return data;\n      },\n      limit: 1\n    }).fetch();\n    ret = ret[0];\n    clearMeta();\n\n    try {\n      var title = 'Print key for ' + ret.PD.address.address + ', ' + ret.PD.address.area;\n      if (ret.PD.address.county) title += ', ' + ret.PD.address.county;\n      DocHead.setTitle('' + titleCase(title) + ' | SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"Print key for \" + ret.PD.type + \".\"\n      });\n    } catch (err) {\n      DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n    }\n\n    return ret;\n  }\n});\nTemplate.lettingprintview.onRendered(function () {\n  // console.log(this)\n  setTimeout(function () {\n    window.print();\n  }, 1000);\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"myProperties.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/myProperties.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./pagination.html\");\nmodule.link(\"./imageView.html\");\nmodule.link(\"./myProperties.html\");\nmodule.link(\"./shared.js\");\nlet SimpleSchema;\nmodule.link(\"simpl-schema\", {\n  default(v) {\n    SimpleSchema = v;\n  }\n\n}, 0);\n// SimpleSchema.extendOptions(['autoform']);\nadvertiseFormSaving = '';\nfsClient = '';\nsaveAndAdvertise = false;\nvar globalFILTERS = {};\n\nfunction getFiltersFromRoute() {\n  var FILTERS = {};\n\n  if (FlowRouter.current().queryParams.home_type) {\n    var val = FlowRouter.current().queryParams.home_type;\n    FILTERS['homeType'] = val;\n  }\n\n  if (FlowRouter.current().queryParams.facing) {\n    var val = FlowRouter.current().queryParams.facing;\n    FILTERS['facing'] = val;\n  }\n\n  if (FlowRouter.current().queryParams.floor_low || FlowRouter.current().queryParams.floor_high) {\n    var val_l = FlowRouter.current().queryParams.floor_low;\n    var val_h = FlowRouter.current().queryParams.floor_high;\n\n    if (isNaN(val_l) && isNaN(val_h)) {//Both are not valid numbers\n    } else if (!isNaN(val_l) && isNaN(val_h)) {\n      //Low is valid and no upper\n      FILTERS['floor'] = [val_l, 0];\n    } else if (isNaN(val_l) && !isNaN(val_h)) {\n      //Upper is valid and no lower\n      FILTERS['floor'] = [0, val_h];\n    } else {\n      //Both are valid\n      FILTERS['floor'] = [val_l, val_h];\n    }\n  }\n\n  if (FlowRouter.current().queryParams.price_low || FlowRouter.current().queryParams.price_high) {\n    var val_l = FlowRouter.current().queryParams.price_low;\n    var val_h = FlowRouter.current().queryParams.price_high;\n\n    if (isNaN(val_l) && isNaN(val_h)) {//Both are not valid numbers\n    } else if (!isNaN(val_l) && isNaN(val_h)) {\n      //Low is valid and no upper\n      FILTERS['priceRange'] = [val_l, 0];\n    } else if (isNaN(val_l) && !isNaN(val_h)) {\n      //Upper is valid and no lower\n      FILTERS['priceRange'] = [0, val_h];\n    } else {\n      //Both are valid\n      FILTERS['priceRange'] = [val_l, val_h];\n    }\n  } //if(FILTERS.length==0){return false;}\n\n\n  return FILTERS; //{\"Home Type\":[\"2 BHK\"],\"Floor\":[\"2 to 15\"],\"Price Range\":[\"67.45 to 97.45 \"]}\n}\n\nfunction setFilters(FILTERS) {\n  Session.set('globalFILTERS', FILTERS);\n  var defaultFilters = Session.get('projectData');\n  defaultFilters = defaultFilters.filter;\n  console.log(\"In setFilters\");\n  console.log(FILTERS);\n  console.log(defaultFilters);\n  FlowRouter.query.clear();\n  var baseURL = FlowRouter.current().originalUrl.split('?')[0];\n  var route = baseURL; // debugger;\n\n  if (FILTERS['homeType']) {\n    if (FILTERS['homeType'].length != defaultFilters.homeType.length) for (var i = 0; i < FILTERS['homeType'].length; i++) {\n      // if(defaultFilters.homeType.indexOf(  FILTERS['homeType'][i]  ) == -1)\n      route = updateQueryStringParameter(route, 'home_type[]', FILTERS['homeType'][i]);\n    }\n  }\n\n  if (FILTERS['facing']) {\n    if (FILTERS['facing'].length != defaultFilters.facing.length) for (var i = 0; i < FILTERS['facing'].length; i++) {\n      // if(defaultFilters.facing.indexOf(  FILTERS['facing'][i]  ) == -1)\n      route = updateQueryStringParameter(route, 'facing[]', FILTERS['facing'][i]);\n    }\n  }\n\n  if (FILTERS['floor']) {\n    var l1 = FILTERS['floor'][0]; //if(l1 !=0 && l1 != defaultFilters.floor[0])\n\n    route = updateQueryStringParameter(route, 'floor_low', l1);\n    var l2 = FILTERS['floor'][1]; //if(l2 != defaultFilters.floor[1])\n\n    route = updateQueryStringParameter(route, 'floor_high', l2); //route = updateQueryStringParameter(route, 'floor_low', FILTERS['floor'][0]);\n    //route = updateQueryStringParameter(route, 'floor_high', FILTERS['floor'][1]);\n  }\n\n  if (FILTERS['priceRange']) {\n    var l1 = FILTERS['priceRange'][0]; //Don't uncomment below lines as they would cause another bug. It would be a flow bug, on page refresh, it shud know upper limit to compute, and its called during template create.\n    //if(l1 !=0 && l1 != defaultFilters.priceRange[0])\n\n    route = updateQueryStringParameter(route, 'price_low', l1);\n    var l2 = FILTERS['priceRange'][1]; //if(l2 != defaultFilters.priceRange[1])\n\n    route = updateQueryStringParameter(route, 'price_high', l2); //route = updateQueryStringParameter(route, 'price_low', FILTERS['priceRange'][0]);\n    //route = updateQueryStringParameter(route, 'price_high', FILTERS['priceRange'][1]);\n  }\n\n  if (FILTERS['floor']) {\n    $('.filterS1l').html(FILTERS['floor'][0]);\n    $('.filterS1h').html(FILTERS['floor'][1]);\n  }\n\n  if (FILTERS['priceRange']) {\n    $('.filterS2l').html(numDifferentiation(FILTERS['priceRange'][0]));\n    $('.filterS2h').html(numDifferentiation(FILTERS['priceRange'][1]));\n  }\n\n  console.log(\"New Route\" + route);\n  FlowRouter.go(route);\n  updateUISlider(FILTERS);\n}\n\nfunction getDefaultFilters() {\n  return {};\n}\n\nfunction getCurUsersBid(auctionId) {\n  var bid = Collections.Bids.find({\n    auctionId: auctionId,\n    userId: Meteor.userId()\n  }, {\n    limit: 1\n  }).fetch();\n  return bid[0];\n}\n\nfunction updateUISlider(FILTERS) {\n  //console.log('Updating slider values')\n  var slider = document.getElementById('range-input');\n  var slider1 = document.getElementById('range-input1');\n  if (!slider) return;\n  if (!slider.noUiSlider) return;\n  slider.noUiSlider.set(FILTERS.floor);\n  slider1.noUiSlider.set(FILTERS.priceRange);\n  var defaultFilters = Session.get('projectData');\n  defaultFilters = defaultFilters.filter;\n  if (FILTERS.homeType) if (FILTERS.homeType.length && FILTERS.homeType.length != defaultFilters.homeType.length) $('.filterUnitType').val(FILTERS.homeType[0]);else $('.filterUnitType').val('any');\n  if (FILTERS.facing) if (FILTERS.facing.length && FILTERS.facing.length != defaultFilters.facing.length) $('.filterUnitFacing').val(FILTERS.facing[0]);else $('.filterUnitFacing').val('any');\n}\n\nfunction resetUISlider(FILTERS) {\n  // console.log('reset slider values')\n  var slider = document.getElementById('range-input');\n  var slider1 = document.getElementById('range-input1');\n  slider.noUiSlider.set(FILTERS.floor);\n  slider1.noUiSlider.set(FILTERS.priceRange);\n  $('.filterUnitType, .filterUnitFacing').val('any');\n}\n\nfunction startUISlider(data) {\n  var slider = document.getElementById('range-input');\n  var slider1 = document.getElementById('range-input1'); //data = {\n  //  \"s1\":{\n  //    \"start\": [0, 25],\n  //    \"range\": [0, 25]\n  //  }, \"s2\":{\n  //    \"start\": [64, 94],\n  //    \"range\": [64, 94]\n  //  }\n  //}\n\n  noUiSlider.create(slider, {\n    start: data.s1.start,\n    connect: true,\n    step: 1,\n    range: {\n      'min': data.s1.range[0],\n      'max': data.s1.range[1]\n    },\n    format: wNumb({\n      decimals: 0\n    })\n  });\n  noUiSlider.create(slider1, {\n    start: data.s2.start,\n    connect: true,\n    step: 1000000,\n    range: {\n      'min': data.s2.range[0],\n      'max': data.s2.range[1]\n    },\n    format: wNumb({\n      decimals: 0\n    })\n  });\n  slider.noUiSlider.on('update', function () {\n    applyFilterValues();\n  });\n  slider1.noUiSlider.on('update', function () {\n    applyFilterValues();\n  });\n  slider.noUiSlider.on('change', function () {\n    applyFilters();\n  });\n  slider1.noUiSlider.on('change', function () {\n    applyFilters();\n  });\n}\n\nfunction getPaginationData(totalResultsCount, currentPageNo, urlBase, resultsPerPage) {\n  var pages = [],\n      prevPage = {},\n      nextPage = {};\n  var pgMin = currentPageNo - 4,\n      pgMax = currentPageNo + 5,\n      maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n  if (pgMin < 1) pgMin = 1;\n  if (pgMax < 1) pgMax = 1;\n  if (maxPages < 1) maxPages = 1;\n  if (pgMin > maxPages) currentPageNo = maxPages;\n  var tmp = {};\n  var href = '';\n  var cRoute = FlowRouter.current(); // params: {pageno: undefined}\n  // path: \"/account/myproperies\"\n  // pathname: \"/account/myproperies\"\n  // queryParams: {}\n  // queryString: null\n  // route: Route {options: {â€¦}, name:\n\n  for (var i = pgMin; i <= maxPages; i++) {\n    cRoute.params['pageno'] = i;\n    href = FlowRouter.url(cRoute.route.name, cRoute.params, cRoute.queryParams);\n    tmp = {\n      \"href\": href,\n      \"text\": i\n    };\n\n    if (i == currentPageNo) {\n      tmp['href'] = 'javascript:void(0);';\n      tmp['current'] = true;\n    }\n\n    pages.push(tmp);\n  }\n\n  var prevPageNo = currentPageNo - 1,\n      nextPageNo = currentPageNo + 1;\n\n  if (prevPageNo < 1) {\n    prevPage['href'] = 'javascript:void(0)';\n    prevPage['text'] = 'Previous';\n    prevPage['disabled'] = 'disabled';\n  } else {\n    cRoute.params['pageno'] = prevPageNo;\n    prevPage['href'] = FlowRouter.url(cRoute.route.name, cRoute.params, cRoute.queryParams);\n    prevPage['text'] = 'Previous';\n  }\n\n  if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n  if (nextPageNo == currentPageNo) {\n    nextPage['href'] = 'javascript:void(0)';\n    nextPage['text'] = 'Next';\n    nextPage['disabled'] = 'disabled';\n  } else {\n    cRoute.params['pageno'] = nextPageNo;\n    prevPage['href'] = FlowRouter.url(cRoute.route.name, cRoute.params, cRoute.queryParams);\n    nextPage['text'] = 'Next';\n  }\n\n  return {\n    \"prevPage\": prevPage,\n    \"pages\": pages,\n    \"nextPage\": nextPage\n  };\n}\n\nTemplate.registerHelper(\"objectToPairs\", function (object) {\n  return _.map(object, function (value, key) {\n    return {\n      key: key,\n      value: value\n    };\n  });\n});\nTemplate.registerHelper(\"hostname\", function () {\n  return Meteor.absoluteUrl();\n});\n\nfunction numDifferentiation(val) {\n  if (val >= 1000000000) val = (val / 1000000000).toFixed(2) + ' Billion';else if (val >= 1000000) val = (val / 1000000).toFixed(2) + ' Million';\n  return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction numFormat(x) {\n  //var x=12345652457.557;\n  //console.log(x)\n  if (!x) return x;\n  x = x.toString();\n  var afterPoint = '';\n  if (x.indexOf('.') > 0) afterPoint = x.substring(x.indexOf('.'), x.length);\n  afterPoint = afterPoint.substr(0, 3);\n  x = Math.floor(x);\n  x = x.toString();\n  var lastThree = x.substring(x.length - 3);\n  var otherNumbers = x.substring(0, x.length - 3);\n  if (otherNumbers != '') lastThree = ',' + lastThree;\n  var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree + afterPoint;\n  return res;\n}\n\nTemplate.myProperties.events({\n  \"click .clearFilters\": function (event, template) {\n    //FlowRouter.query.clear();\n    console.log('in .clearFilters meteor event');\n    var defaultFilters = Session.get('projectData');\n    defaultFilters = defaultFilters.filter;\n    $('.filterUnitFacing, .filterUnitType').val('any');\n    resetUISlider(defaultFilters);\n    setFilters(defaultFilters);\n    $.fancybox.close();\n    applyClearFiltersEvent();\n  },\n  \"click .addPropertyBtn\": function (event, template) {\n    var user = Accounts.user();\n\n    if (!user.profile.mobile) {\n      var mobile = false,\n          failed = false;\n\n      while (1) {\n        //This is an un limited loop of mobile number.\n        if (failed) mobile = prompt(\"'\" + mobile + \"' is not a valid number. Please enter a valid mobile to proceed. \");else mobile = prompt(\"You don't have a mobile number attached to your profile. Please enter mobile to proceed. \");\n        if (mobile == null || /^\\d{10}$/.test(mobile)) break;else {\n          failed = true;\n        }\n      }\n\n      if (/^\\d{10}$/.test(mobile)) {\n        Meteor.call('updateMobile', mobile, function (error, result) {\n          if (error) {\n            console.log(error.error);\n            var tmp = Session.get(\"showErrorDlg\");\n            var msg = 'Mobile number update failed. Please try again. Contact us if needed.';\n            tmp.push(msg);\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          }\n        });\n      }\n    }\n\n    if (template.showAddProperty.get()) template.showAddProperty.set(false);else template.showAddProperty.set(true);\n  },\n  \"change .new-filter select\": function (event, template) {\n    console.log(\"Filters changed\");\n    applyFilters();\n  }\n});\nTemplate.myProperties.onCreated(function () {\n  this.showAddProperty = new ReactiveVar(false);\n  this.totalResultsCount = new ReactiveVar(0);\n  var globalFILTERS = getFiltersFromRoute();\n  Session.set('globalFILTERS', globalFILTERS); // Session.set('enableDelayedFunctions',false);\n\n  Blaze._allowJavascriptUrls();\n\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    // FlowRouter.watchPathChange()\n    var pageno = FlowRouter.getParam('pageno');\n    var resperpage = 20;\n    var onlyActive = false; //Show only active properties\n\n    try {\n      resperpage = FlowRouter.getQueryParam('resperpage');\n      onlyActive = FlowRouter.getQueryParam('onlyActive');\n    } catch (e) {}\n\n    instance.subscribe('Config');\n    instance.subscribe('total-MyProperties', {\n      onlyActive: onlyActive\n    });\n    instance.subscribe(\"MyProperties\", {\n      viewName: 'MyProperties.view',\n      pageno: pageno,\n      resperpage: resperpage,\n      onlyActive: onlyActive\n    }); // instance.subscribe('Areas');\n\n    instance.subscribe('userData');\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n      totalResultsCount = Counts.get(\"total-MyProperties\");\n      if (!totalResultsCount) instance.showAddProperty.set(true); //if no properties, then show it\n    }\n  }); // Session.set('assistanceRequested',false)\n  // Meteor.call('getDateFromServer',[],function(error, success){\n  //     Session.set('getDateFromServer',success)\n  // })\n  // Session.set('globalConfig', Collections.Config.findOne());\n  // var ret = getProjectData();\n  // Session.set('projectData',ret);\n});\nTemplate.myProperties.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  data: function () {\n    if (!Template.instance().subscriptionsReady()) return false;\n    var user = Meteor.user();\n    if (!user) return {\n      results: [],\n      totalResultsCount: 0,\n      pagination: getPaginationData(0, 1, '', 10)\n    };\n    var selector = {\n      createdByAgent: user._id,\n      isArchived: false\n    }; //let limit = 10;\n    // debugger;\n\n    var FILTERS = Session.get('globalFILTERS');\n    var defaultFilters = getDefaultFilters(); // var arr = [];\n    // if(  FILTERS['homeType'] ){\n    //     if(FILTERS['homeType'].length) {\n    //         if(FILTERS['homeType'].length != defaultFilters.homeType.length)\n    //             selector['homeType'] = FILTERS['homeType'][0]\n    //         /*\n    //          // var arr = [];\n    //          for (var i = 0; i < FILTERS['homeType'].length; i++) {\n    //          arr.push({\"homeType\": FILTERS['homeType'][i]})\n    //          console.log(\"homeType\"+ FILTERS['homeType'][i])\n    //          }*/\n    //         // selector['$or'] = arr;//BUG: this or will over write or of facing; or of homeType will collide with this and\n    //         // while logic won't work\n    //\n    //     }\n    // }\n    // if(  FILTERS['facing'] ){\n    //     if(FILTERS['facing'].length) {\n    //         if(FILTERS['facing'].length != defaultFilters.facing.length)\n    //             selector['facing'] = FILTERS['facing'][0]\n    //         /*\n    //          var arr = [];\n    //          for (var i = 0; i < FILTERS['facing'].length; i++) {\n    //          arr.push({\"facing\": FILTERS['facing'][i]})\n    //          }\n    //          // selector['$or'] = arr;//BUG: this or will over write or of homeType; or of homeType will collide with this and\n    //          // while logic won't work\n    //          */\n    //     }\n    // }\n    // if(arr.length){\n    //     selector['$or'] = arr;\n    // }\n    // if( FILTERS['floor'] ){\n    //     var val_l = FILTERS['floor'][0];\n    //     var val_h = FILTERS['floor'][1];\n    //\n    //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n    //\n    //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n    //         selector['floorLevel'] =  { $gte: parseInt(val_l) }\n    //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n    //         selector['floorLevel'] =  { $lte: parseInt(val_h) }\n    //     }else{//Both are valid\n    //         selector['floorLevel'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n    //     }\n    // }\n    // if( FILTERS['priceRange'] ){\n    //     var val_l = FILTERS['priceRange'][0];\n    //     var val_h = FILTERS['priceRange'][1];\n    //\n    //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n    //\n    //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n    //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l) }\n    //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n    //         selector['priceBreakUp.totalAllInclusive'] =  { $lt: parseInt(val_h) }\n    //     }else{//Both are valid\n    //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n    //     }\n    // }\n    /////PAGINATION\n\n    var resultsPerPage = 20;\n    var currentPageNo = FlowRouter.current().params.pageno;\n\n    if (!currentPageNo) {\n      currentPageNo = 1;\n    }\n\n    var skip = (currentPageNo - 1) * resultsPerPage;\n    var urlBase = 'account/myproperies/';\n    var totalResultsCount = Counts.get(\"total-MyProperties\");\n    Template.instance().totalResultsCount.set(totalResultsCount);\n    var ret = Collections.Properties.find(selector, {\n      transform: function (doc) {\n        doc.bedroomsCount = 0; // console.log('May be here');\n        // console.log(doc)\n\n        if (doc.bedrooms) {\n          doc.bedroomsCount = doc.bedrooms.length;\n        }\n\n        if (doc.auctionId) {\n          doc.auction = Collections.Auctions.findOne({\n            _id: doc.auctionId\n          });\n        }\n\n        return doc;\n      },\n      // limit: resultsPerPage,\n      sort: {\n        updatedAt: -1\n      } // skip: skip\n\n    });\n    return {\n      results: ret,\n      totalResultsCount: totalResultsCount,\n      pagination: getPaginationData(totalResultsCount, currentPageNo, urlBase, resultsPerPage)\n    };\n  },\n  showDemoProp: function () {\n    var currentPageNo = FlowRouter.current().params.pageno;\n\n    if (!currentPageNo || currentPageNo == 1) {\n      var count = Collections.Properties.find({\n        createdByAgent: 'demoproperty',\n        isArchived: false\n      }, {\n        limit: 1\n      }).count();\n      if (count > 0) return true;\n    }\n\n    return false;\n  },\n  demoProperty: function () {\n    return Collections.Properties.find({\n      createdByAgent: 'demoproperty',\n      isArchived: false\n    }, {\n      transform: function (doc) {\n        doc.bedroomsCount = 0;\n\n        if (doc.bedrooms) {\n          doc.bedroomsCount = doc.bedrooms.length;\n        }\n\n        if (doc.auctionId) {\n          doc.auction = Collections.Auctions.findOne({\n            _id: doc.auctionId\n          });\n        }\n\n        return doc;\n      },\n      limit: 1\n    });\n  },\n  showAddProperty: function () {\n    if (Session.get('hideAddPropertyForm')) {\n      Template.instance().showAddProperty.set(false);\n      Session.set('hideAddPropertyForm', false);\n      scrollTo('.addPropertyBtn', 50, 500);\n    } else {\n      if (!fsClient) {\n        let filestack;\n        module.link(\"filestack-js\", {\n          default(v) {\n            filestack = v;\n          }\n\n        }, 1);\n        const apikey = 'AIPACLEs7ShGwwPh6fMTxz';\n        fsClient = filestack.init(apikey, {\n          policy: 'eyJleHBpcnkiOjE4NjE5MjAwMDAsImNhbGwiOlsicGljayIsInJlYWQiLCJzdGF0Iiwid3JpdGUiLCJ3cml0ZVVybCIsInN0b3JlIiwiY29udmVydCIsInJlbW92ZSIsImV4aWYiXX0=',\n          signature: '465e8652c5cef95f44e5858e09d430abea855d98deaeb7425558f2c80d0f4f57'\n        });\n      }\n    }\n\n    return Template.instance().showAddProperty.get();\n  },\n  showFilters: function () {\n    return false;\n  },\n  projectData: function () {\n    // var ret = getProjectData();\n    var ret = {}; // Session.set('projectData',ret);\n\n    return ret;\n  },\n  filters: function () {\n    var data = {}; //{\"Home Type\":[\"2 BHK\"],\"Floor\":[\"2 to 15\"],\"Price Range\":[\"67.45 to 97.45 \"]}\n\n    var FILTERS = Session.get('globalFILTERS');\n    var defaultFilters = Session.get('projectData');\n    defaultFilters = defaultFilters.filter;\n\n    if (FILTERS['homeType']) {\n      if (FILTERS['homeType'].length) {\n        if (!isArraysEqual(defaultFilters.homeType, FILTERS['homeType'])) data['Home Type'] = FILTERS['homeType'];\n      }\n    }\n\n    if (FILTERS['facing']) {\n      if (FILTERS['facing'].length) {\n        if (!isArraysEqual(defaultFilters.facing, FILTERS['facing'])) data['Facing'] = FILTERS['facing'];\n      }\n    }\n\n    if (FILTERS['floor']) {\n      var hasLowerLimit = false,\n          hasUpperLimit = false;\n      var l1 = parseInt(FILTERS['floor'][0]);\n      if (l1 != 0 && l1 != defaultFilters.floor[0]) hasLowerLimit = true;\n      var l2 = parseInt(FILTERS['floor'][1]);\n      if (l2 != defaultFilters.floor[1]) hasUpperLimit = true;\n\n      if (hasLowerLimit && !hasUpperLimit) {\n        //Only LowerLimit\n        data['Floor'] = ['More than ' + l1];\n      } else if (!hasLowerLimit && hasUpperLimit) {\n        //Only UpperLimit\n        data['Floor'] = ['Below ' + l2];\n      } else if (hasLowerLimit && hasUpperLimit) {\n        //Both are there\n        data['Floor'] = ['Between ' + l1 + \" and \" + l2];\n      } else {} //Both are not there. So don't show filter.\n\n    }\n\n    if (FILTERS['priceRange']) {\n      var hasLowerLimit = false,\n          hasUpperLimit = false;\n      var l1 = parseInt(FILTERS['priceRange'][0]);\n      if (l1 != 0 && l1 != defaultFilters.priceRange[0]) hasLowerLimit = true;\n      var l2 = parseInt(FILTERS['priceRange'][1]);\n      if (l2 != defaultFilters.priceRange[1]) hasUpperLimit = true;\n\n      if (hasLowerLimit && !hasUpperLimit) {\n        //Only LowerLimit\n        data['Price Range'] = ['More than ' + numDifferentiation(l1)];\n      } else if (!hasLowerLimit && hasUpperLimit) {\n        //Only UpperLimit\n        data['Price Range'] = ['Below ' + numDifferentiation(l2)];\n      } else if (hasLowerLimit && hasUpperLimit) {\n        //Both are there\n        data['Price Range'] = ['Between ' + numDifferentiation(l1) + \" to \" + numDifferentiation(l2)];\n      } else {} //Both are not there. So don't show filter.\n\n    } //if( FILTERS['priceRange'] ){\n    //  data['Price Range'] =  [ numDifferentiation(FILTERS['priceRange'][0]) +\" to \"+ numDifferentiation(FILTERS['priceRange'][1]) ]\n    //}\n\n\n    applyClearFiltersEvent();\n    return {\n      data: data,\n      count: Object.keys(data).length\n    };\n  },\n  // time: function(){\n  //\n  //     var projectData = Session.get('projectData');\n  //     var timestamp = TimeSync.serverTime(null, 30000);\n  //     if(!projectData.auction.endDate || !timestamp)return;\n  //\n  //\n  //     var dend = Date.parse(projectData.auction.endDate);\n  //     var timeDiff = dend - timestamp ;\n  //     if(timeDiff<0)return false;\n  //\n  //     var day = Math.floor(timeDiff / (1000 * 3600 * 24))\n  //     var hour = Math.floor(timeDiff / (1000 * 3600 ))\n  //     var min = Math.floor(timeDiff / (1000 * 60 ) )\n  //     hour = hour - (day * 24);\n  //     min = min - (day * 24* 60) - (hour * 60);\n  //     return {\"day\":day,\"hour\":hour,\"min\":min}\n  // },\n  isAuctionClosed: function () {\n    // var timestamp = TimeSync.serverTime(null, 30000);\n    var timestamp = new Date();\n    var projectData = Session.get('projectData');\n    var dend = Date.parse(projectData.auction.endDate);\n    var timeDiff = dend - timestamp;\n\n    if (timeDiff < 0) {\n      return true;\n    }\n\n    return false;\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  agentStats: function () {\n    var user = Meteor.user();\n\n    if (user) {\n      if (!user.profile.activeAuctions) user.profile.activeAuctions = 0;\n      if (!user.profile.totalAuctions) user.profile.totalAuctions = 0;\n      if (!user.profile.totalBidsReceived) user.profile.totalBidsReceived = 0;\n      if (!user.profile.bidsReceivedActiveAuctions) user.profile.bidsReceivedActiveAuctions = 0;\n      if (!user.profile.bidProfitActive) user.profile.bidProfitActive = 0;\n      if (!user.profile.totalBidProfit) user.profile.totalBidProfit = 0;\n      return {\n        activeAuctions: user.profile.activeAuctions,\n        totalAuctions: user.profile.totalAuctions,\n        totalBidsReceived: user.profile.totalBidsReceived,\n        bidsReceivedActiveAuctions: user.profile.bidsReceivedActiveAuctions,\n        bidProfit: user.profile.bidProfitActive,\n        totalBidProfit: user.profile.totalBidProfit * 12\n      };\n    }\n\n    return {\n      activeAuctions: 0,\n      totalAuctions: 0,\n      totalBidsReceived: 0,\n      bidsReceivedActiveAuctions: 0,\n      bidProfit: 0,\n      totalBidProfit: 0\n    };\n  }\n});\nTemplate.propertyList.onCreated(function () {\n  this.expanded = new ReactiveVar(false);\n  this.showAddAuctionForm = new ReactiveVar(false);\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.isSubsLoadedAttempted = new ReactiveVar(false); //Meteor.default_connection._subscriptions //To get the list of scbscriptions\n\n  instance.autorun(function () {\n    try {\n      if (instance.data.auctionId && !instance.data.auction) {\n        instance.isSubsLoadedAttempted.set(true);\n        instance.subscribe('Advertisement', instance.data.auctionId);\n      } else if (instance.data.auction) {\n        instance.isSubsLoaded.set(true);\n        instance.isSubsLoadedAttempted.set(true);\n      }\n\n      if (instance.subscriptionsReady()) {\n        instance.isSubsLoaded.set(true);\n      }\n    } catch (e) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.propertyList.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  expanded: function () {\n    return Template.instance().expanded.get();\n  },\n  showAddAuctionForm: function () {\n    return Template.instance().showAddAuctionForm.get();\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  auction: function () {\n    if (this.auction) return this.auction;\n\n    if (this.auctionId) {\n      let ret = Collections.Auctions.find({\n        _id: this.auctionId\n      }).fetch();\n      let attempt = Template.instance().isSubsLoadedAttempted.get();\n\n      if (this.auctionId && !ret.length && !attempt) {\n        Template.instance().subscribe('Advertisement', this.auctionId);\n        Template.instance().isSubsLoadedAttempted.set(true);\n      }\n\n      if (ret) return ret[0];\n    }\n\n    return false;\n  },\n  lettingprintviewData: function () {\n    if (!this.auction) return \"\";\n    return this.auction.lettingAuctionCode; // if(!this.auction)return {key:\"\"}\n    // return {key:this.auction.lettingAuctionCode}\n  },\n  showEditPropertyForm: function () {\n    return FlowRouter.url('account/editproperty', {\n      id: this._id\n    });\n  }\n});\nTemplate.propertyList.events({\n  \"click .see_more_btn\": function (event, template) {\n    if (template.expanded.get()) template.expanded.set(false);else template.expanded.set(true);\n  },\n  \"click .ActivateBtn\": function (event, template) {\n    if (!template.showAddAuctionForm.get()) template.showAddAuctionForm.set(true);\n  },\n  \"click .showEditPropertyForm\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        pageno: FlowRouter.current().params.pageno,\n        scrollTo: 0\n      }\n    };\n    Session.set('prevRoute', prevRoute); // FlowRouter.go('account/editproperty',{id:this._id})\n  },\n  \"click .managePropertyLink\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        pageno: FlowRouter.current().params.pageno,\n        scrollTo: 0\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go('account/propertyManage', {\n      id: this._id\n    });\n  },\n  \"click .hideAddAuctionForm\": function (event, template) {\n    if (template.showAddAuctionForm.get()) template.showAddAuctionForm.set(false);\n    propId = this._id;\n    scrollTo('#property_' + propId, 0, 700);\n  },\n  \"click .viewApplications\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        pageno: FlowRouter.current().params.pageno\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go(\"account/propertyApplications\", {\n      id: this._id\n    });\n  },\n  \"click .showCopyDlg\": function (event, template) {\n    let user = Meteor.user();\n    let sluggedName = slugifyEmailAddress(user.profile.name);\n    if (!sluggedName) sluggedName = 'rent';\n    let email = sluggedName + '-let-' + this.auction.lettingAuctionCode.toLowerCase() + \"@spotmycrib.ie\";\n    $('#agentPropertyEmailField').val(email);\n    var url = FlowRouter.url('letting', {\n      key: this.auction.lettingAuctionCode\n    });\n    $('#propertyLinkField').val(url);\n    $.fancybox({\n      'padding': 0,\n      'href': '#propertyLinkDlg',\n      afterShow: function (template) {\n        $('#agentPropertyEmailField').select();\n        $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click', function () {\n          $('#agentPropertyEmailField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'myPropertiesPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n        });\n        $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click', function () {\n          $('#propertyLinkField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'myPropertiesPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n        });\n        $('#propertyLinkDlg .cancelBtn').unbind().bind('click', function () {\n          $.fancybox.close();\n        });\n      }\n    });\n  }\n});\nTemplate.addPropertyForm.onCreated(function () {\n  if (!Session.get('addPropertyImages')) {\n    // Lets do this. Anyways we have delete button.\n    Session.set('addPropertyImages', []);\n    S3.collection.remove({});\n    var user = Meteor.user();\n\n    try {\n      if (user.profile.session.addproperty.gallery) {\n        Session.set('addPropertyImages', user.profile.session.addproperty.gallery);\n      }\n    } catch (e) {}\n  }\n\n  this.numBedRoomCount = new ReactiveVar(0);\n  this.addPropertyFormSaving = new ReactiveVar(false);\n  this.countySelected = new ReactiveVar(false);\n  saveAndAdvertise = false;\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    if (instance.countySelected.get()) {\n      instance.isSubsLoaded.set(false);\n      instance.subscribe('Areas', '', '', instance.countySelected.get(), '', '');\n    }\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.addPropertyForm.helpers({\n  isSA: function () {\n    var user = Meteor.user();\n    if (user.isSA) return true;\n    return false;\n  },\n  countries: function () {\n    return [{\n      label: \"Ireland\",\n      value: \"Ireland\",\n      selected: \"selected\"\n    }]; //Both capital\n  },\n  counties: function () {\n    let staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    let ret = [];\n\n    for (let i = 0; i < staticCounties.length; i++) {\n      if (!staticCounties[i]) continue;\n      ret.push({\n        label: titleCase(staticCounties[i]),\n        value: staticCounties[i]\n      });\n    }\n\n    return ret; // return [{label: \"Dublin\", value: \"dublin\"}];//Both capital\n    // var distinctEntries = _.uniq(Collections.Areas.find({}, {\n    //     sort: {County: 1}, fields: {County: true}\n    // }).fetch().map(function(x) {\n    //     return x.County;\n    // }), true);\n    // var ret = []\n    // for(var i=0;i< distinctEntries.length;i++){\n    //     if(!distinctEntries[i])continue;\n    //     ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n    // }\n    // return ret;\n  },\n  areas: function () {\n    var countySelected = Template.instance().countySelected.get();\n\n    if (!countySelected) {\n      var doc = Collections.Properties.findOne();\n      if (!doc) return [];\n      Template.instance().countySelected.set(doc.address.county);\n      countySelected = doc.address.county;\n    }\n\n    var distinctEntries = _.uniq(Collections.Areas.find({\n      County: countySelected\n    }, {\n      sort: {\n        Area: 1\n      },\n      fields: {\n        Area: true\n      }\n    }).fetch().map(function (x) {\n      return x.Area;\n    }), true);\n\n    var ret = [];\n\n    for (var i = 0; i < distinctEntries.length; i++) {\n      if (!distinctEntries[i]) continue;\n      ret.push({\n        label: titleCase(distinctEntries[i]),\n        value: distinctEntries[i]\n      });\n    }\n\n    return ret;\n  },\n  propertyTypes: function () {\n    var Config = Collections.Config.find().fetch();\n    Config = Config[0];\n    var ret = [];\n\n    for (var i = 0; i < Config.propertyType.length; i++) {\n      ret.push({\n        label: titleCase(Config.propertyType[i].name),\n        value: Config.propertyType[i].value\n      });\n    }\n\n    return ret;\n  },\n  numBedRoomCount: function () {\n    var c = Template.instance().numBedRoomCount.get();\n    if (c < 100) return Template.instance().numBedRoomCount.get();else return 0;\n  },\n  addPropertyFormSaving: function () {\n    return Template.instance().addPropertyFormSaving.get();\n  },\n  ensuiteLoop: function (count) {\n    var countArr = [];\n\n    for (var i = 0; i < count; i++) {\n      countArr.push({\n        i: i + 1\n      });\n    }\n\n    return countArr;\n  }\n});\nTemplate.addPropertyForm.events({\n  \"click .openFileUploader\": function (event, template) {\n    event.preventDefault();\n    openPicker(); // filename\n    //     :\n    //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n    // handle\n    //     :\n    //     \"G8lStVqHTiGnwxof6d5y\"\n    // mimetype\n    //     :\n    //     \"image/png\"\n    // originalFile\n    //     :\n    // {name: \"webcam-1/12/2018, 6:53:25 PM.png\", type: \"image/png\", size: 630585}\n    // originalPath\n    //     :\n    //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n    // size\n    //     :\n    //     629612\n    // source\n    //     :\n    //     \"local_file_system\"\n    // status\n    //     :\n    //     \"Stored\"\n    // uploadId\n    //     :\n    //     \"ba2fe36e9fd182ec0cb88236d676cefad\"\n    // url\n    //     :\n    //     \"https://cdn.filestackcontent.com\n\n    return;\n  },\n  'change .selectPropertyImages': function (event, template) {\n    var files = event.target.files;\n    S3.upload({\n      files: files,\n      path: \"propertyImagesLarge\"\n    }, function (e, r) {\n      if (e) throw new Meteor.Error('Upload failed ', e);\n      var addPropertyImages = Session.get('addPropertyImages');\n      addPropertyImages.push(r);\n      Session.set('addPropertyImages', addPropertyImages);\n      console.log(r);\n    }); // for (var i = 0, ln = files.length; i < ln; i++) {\n    //     propertyImagesCollection.insert(files[i], function (err, fileObj) {\n    //         // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n    //         console.log(fileObj);\n    //         var cursor = propertyImagesCollection.find(fileObj._id);\n    //\n    //         var liveQuery = cursor.observe({\n    //             changed: function(newImage, oldImage) {\n    //\n    //                 console.log(\"Inside live query \");\n    //                 console.log(newImage);\n    //                 if (newImage.isUploaded()) {\n    //                     liveQuery.stop();\n    //\n    //                     // Call your onUploaded callback here...\n    //                 }\n    //             }\n    //         });\n    //     });\n    // }\n  },\n  'change .countySelected': function (event, template) {\n    template.countySelected.set(event.target.value);\n  },\n  'change .url': function (event, template) {\n    var url = event.target.value;\n    if (!url) return false; //Empty url\n\n    Meteor.call('importPost', url, function (error, doc) {\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        var msg = 'An error occurred.';\n        if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n        tmp.push(msg);\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      $(\"input[name='address.address']\").val(doc.address.address);\n      $(\"input[name='price']\").val(doc.rent);\n      $(\"select[name='address.county']\").val(doc.address.county).trigger('change');\n      setTimeout(function () {\n        $(\"select[name='address.area']\").val(doc.address.area);\n      }, 2000);\n      setTimeout(function () {\n        $(\"select[name='address.area']\").val(doc.address.area);\n      }, 4000);\n      $(\"select[name='type']\").val(doc.type.toLowerCase());\n      $(\"select[name='furnished']\").val(doc.furnished.toString());\n      $(\"input[name='baths']\").val(doc.baths);\n      $(\"input[name='numBedRoomCount']\").val(doc.numBedRoomCount).trigger('change');\n      $(\"textarea[name='about']\").val(doc.about).trigger('keyup');\n      $(\"input[name='contacts.0.name']\").val(doc.contacts[0].name);\n      var number = \"\";\n\n      try {\n        number = doc.contacts[0].phone;\n      } catch (e) {}\n\n      if (number) {\n        try {\n          number = atob(number);\n          number = number.replace(/\\s+/g, '');\n        } catch (e) {}\n\n        $(\"input[name='contacts.0.phone']\").val(number);\n      }\n\n      if (doc.amenities) {\n        for (var i = 0; i < doc.amenities.length; i++) {\n          $(\"input[value='\" + doc.amenities[i] + \"']\").prop('checked', true);\n        }\n      }\n\n      var tmp = {};\n\n      if (doc.gallery) {\n        var addPropertyImages = Session.get('addPropertyImages');\n        if (!addPropertyImages) addPropertyImages = [];\n        var galleryLen = doc.gallery.length,\n            galleryStoredLen = 0; // var galleryLen = 1,galleryStoredLen=0;\n\n        for (var i = 0; i < doc.gallery.length; i++) {\n          // if(i>0)break;\n          fsClient.storeURL(doc.gallery[i], {\n            filename: 'Image ' + i + 1\n          }).then(function (response) {\n            console.log(JSON.stringify(response)); // {\"url\":\"https://cdn.filestackcontent.com/QH10tMaGTrSgFweORrip\",\"size\":111949,\"type\":\"image/jpeg\",\"filename\":\"Image 01\",\"handle\":\"QH10tMaGTrSgFweORrip\"}\n\n            tmp = {\n              name: response.filename,\n              url: response.url,\n              handle: response.handle,\n              mimetype: response.mimetype,\n              // originalFile: doc.gallery[i],\n              // originalPath: doc.gallery[i],\n              size: response.size // source: response.source,\n              // status: response.status,\n              // uploadId: response.uploadId\n\n            };\n            console.log(tmp);\n            addPropertyImages.push(tmp);\n            galleryStoredLen++;\n\n            if (galleryStoredLen == galleryLen) {\n              //Now its fully imported\n              Session.set('addPropertyImages', addPropertyImages);\n              updateGalleriesInProfile(addPropertyImages, function (err, res) {\n                //No need to show error. Because its just a backup.\n                var addPropertyImages = Session.get('addPropertyImages');\n                console.log(\"Current Count: \" + addPropertyImages.length);\n              });\n            }\n          });\n        }\n      }\n    });\n  },\n  'keyup .autoGrowTA': function (event, template) {\n    var element = event.target;\n    element.style.height = \"5px\";\n    if (element.scrollHeight < 310) element.style.height = element.scrollHeight + \"px\";else element.style.height = \"310px\";\n  },\n  'change #numBedRoomCount': function (event, template) {\n    var numBedRoomCount = parseInt($(event.target).val());\n    if (isNaN(numBedRoomCount)) return;\n    Template.instance().numBedRoomCount.set(numBedRoomCount);\n    t1 = template;\n    setTimeout(function () {\n      t1.$('#addPropertyFormCF').validate();\n    }, 500);\n  },\n  'submit form': function (event) {\n    event.preventDefault();\n  },\n  \"click .addPropertyFormSaveAdvertiseBtn\": function (event, template) {\n    saveAndAdvertise = true;\n    $('#addPropertyFormCF').submit();\n  },\n  \"click .addPropertyFormCancelBtn\": function (event, template) {\n    Session.set('hideAddPropertyForm', true);\n  },\n  'change input[name=price]': function (event, template) {\n    if (event.target.value) {\n      var tmp = event.target.value.split('.');\n      tmp = tmp[0]; //No decimals\n\n      tmp = tmp.trim().match(/\\d+/g);\n      if (!Array.isArray(tmp)) event.target.value = '';\n      event.target.value = tmp.join('');\n    }\n  }\n});\nTemplate.addPropertyForm.onRendered(function () {\n  // this.$('#addPropertyFormCF').validate();\n  addPropertyFormSaving = this.addPropertyFormSaving;\n  var validator = this.$('#addPropertyFormCF').validate({\n    submitHandler: function (event) {\n      addPropertyFormSaving.set(true);\n      console.log(\"You just submitted the 'addPropertyForm' form.\");\n      Meteor.call('addProperty', $('#addPropertyFormCF').serializeArray(), function (error, propertyId) {\n        addPropertyFormSaving.set(false);\n\n        if (error) {\n          console.log(error); //    validator.showErrors({\n          //         email: error.reason\n          //     });\n\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          var msg = 'An error occurred.';\n          if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n          tmp.push(msg);\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        }\n\n        if (saveAndAdvertise) {\n          Meteor.call('addAdvertisement', $('#addPropertyFormCF').serializeArray(), propertyId, function (error, auctionId) {\n            if (error) {\n              console.log(error); //    validator.showErrors({\n              //         email: error.reason\n              //     });\n\n              var tmp = Session.get(\"showErrorDlg\");\n              if (!tmp) tmp = [];\n              var msg = 'An error occurred.';\n              if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n              tmp.push(msg);\n              Session.set(\"showErrorDlg\", tmp);\n              return;\n            }\n\n            console.log('addAdvertisement created successfully');\n            console.log(auctionId);\n            saveAndAdvertise = false;\n          });\n        }\n\n        var addPropertyImages = Session.get('addPropertyImages');\n        updateGalleriesInServer(addPropertyImages, propertyId, function (err, res) {\n          Meteor.call('updateGalleriesInUserProfile', [], function () {\n            console.log('Reset the profile backup');\n          }); //Reset the profile backup\n\n          if (err) {\n            console.log(err);\n          } else {\n            Session.set('addPropertyImages', []);\n            S3.collection.remove({});\n          }\n        });\n        Session.set('hideAddPropertyForm', true);\n      });\n    }\n  });\n});\nTemplate.advertiseForm.onCreated(function () {\n  this.advertiseFormSaving = new ReactiveVar(false);\n});\nTemplate.advertiseForm.helpers({\n  advertiseFormSaving: function () {\n    return Template.instance().advertiseFormSaving.get();\n  }\n});\nTemplate.advertiseForm.events({\n  'submit form': function (event) {\n    event.preventDefault();\n  },\n  'change input[name=price]': function (event, template) {\n    if (event.target.value) {\n      var tmp = event.target.value.split('.');\n      tmp = tmp[0]; //No decimals\n\n      tmp = tmp.trim().match(/\\d+/g);\n      if (!Array.isArray(tmp)) event.target.value = '';\n      event.target.value = tmp.join('');\n    }\n  },\n  \"click .advertiseFormCancelBtn\": function (event, template) {\n    parentIns = template.view.parentView.parentView.parentView.templateInstance();\n    parentIns.showAddAuctionForm.set(false);\n  }\n});\nTemplate.advertiseForm.onRendered(function () {\n  this.$('#readyFrom').datetimepicker();\n  advertiseFormSaving = this.advertiseFormSaving;\n  parentIns = this.view.parentView.parentView.parentView.templateInstance();\n  var validator = this.$('#advertiseFormCF').validate({\n    submitHandler: function (event) {\n      advertiseFormSaving.set(true); // console.log(\"You just submitted the 'advertise' form.\");\n\n      Meteor.call('addAdvertisement', $('#advertiseFormCF').serializeArray(), function (error, result) {\n        advertiseFormSaving.set(false);\n\n        if (error) {\n          console.log(error); //    validator.showErrors({\n          //         email: error.reason\n          //     });\n\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          var msg = 'An error occurred.';\n          if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n          tmp.push(msg);\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        } // console.log('addAdvertisement completed successfully')\n\n\n        console.log(result);\n        auctionId = result;\n        parentIns.showAddAuctionForm.set(false);\n        scrollTo('.property_auction_' + auctionId, -100, 700);\n      });\n    }\n  });\n});\nTemplate.imageView.helpers({\n  images: function () {\n    // return S3.collection.find();\n    return Session.get('addPropertyImages');\n  }\n});\nTemplate.imgTag.events({\n  \"click .editImgBtn\": function (event, template) {\n    var addPropertyImages = Session.get('addPropertyImages');\n    var newArr = [];\n    if (!addPropertyImages) return;\n    if (!addPropertyImages.length) return;\n    index = getIndexByHandle(addPropertyImages, this.handle);\n    newArr.push(addPropertyImages[index].url); //put it at first\n\n    const pickOptions = {\n      transformations: {\n        crop: {\n          force: true,\n          aspectRatio: 1.333\n        },\n        rotate: true\n      },\n      accept: 'image/*',\n      imageMax: [800, 600],\n      \"uploadInBackground\": false //Disabled because, bg upload causes 2 uploads towards filestack limits\n\n    };\n    fsClient.cropFiles(newArr, pickOptions).then(response => {\n      var addPropertyImages = Session.get('addPropertyImages'); //if its conversion from old amazon to new filestack, then it will create a new file, so delete the old file seperatly and insert a new file seperatly.\n\n      if (!response.filesUploaded.length) {\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Edit failed: please try again, contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      fsClient.remove(addPropertyImages[index].handle).then(function (result) {\n        if (!result.ok) {\n          console.log(result); //Not required to show error to user as this is just edit. If the image appears, he will click delete again\n        }\n\n        console.log('In fs remove result');\n        var addPropertyImages = Session.get('addPropertyImages');\n        addPropertyImages.splice(index, 1);\n        Session.set('addPropertyImages', addPropertyImages);\n        updateGalleriesInProfile(addPropertyImages, function (err, res) {\n          //No need to show error. Because its just a backup.\n          var addPropertyImages = Session.get('addPropertyImages');\n          console.log(\"Current Count: \" + addPropertyImages.length);\n        });\n      });\n      var tmp = {};\n\n      for (var i = 0; i < response.filesUploaded.length; i++) {\n        tmp = {\n          name: response.filesUploaded[i].filename,\n          url: response.filesUploaded[i].url,\n          handle: response.filesUploaded[i].handle,\n          mimetype: response.filesUploaded[i].mimetype,\n          originalFile: response.filesUploaded[i].originalFile,\n          originalPath: response.filesUploaded[i].originalPath,\n          size: response.filesUploaded[i].size,\n          source: response.filesUploaded[i].source,\n          status: response.filesUploaded[i].status,\n          uploadId: response.filesUploaded[i].uploadId\n        }; // addPropertyImages.push(tmp);\n\n        addPropertyImages.splice(index + 1, 0, tmp); //insert at the index place where its deleted.\n      } //Logic to insert new file.\n\n\n      Session.set('addPropertyImages', addPropertyImages);\n      updateGalleriesInProfile(addPropertyImages, function (err, res) {\n        //No need to show error. Because its just a backup.\n        var addPropertyImages = Session.get('addPropertyImages');\n        console.log(\"Current Count: \" + addPropertyImages.length);\n      });\n    });\n  },\n  \"click .deleteImgBtn\": function (event, template) {\n    var addPropertyImages = Session.get('addPropertyImages');\n    index = getIndexByHandle(addPropertyImages, this.handle);\n    fsClient.remove(this.handle).then(function (result) {\n      debugger;\n\n      if (!result.ok) {\n        console.log(result);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      var addPropertyImages = Session.get('addPropertyImages');\n      addPropertyImages.splice(index, 1);\n      Session.set('addPropertyImages', addPropertyImages);\n      updateGalleriesInProfile(addPropertyImages, function (err, res) {\n        //No need to show error. Because its just a backup.\n        var addPropertyImages = Session.get('addPropertyImages');\n        console.log(\"Current Count: \" + addPropertyImages.length);\n      });\n    });\n  },\n  \"click .deleteImgBtnOld\": function (event, template) {\n    console.log(this);\n    var addPropertyImages = Session.get('addPropertyImages');\n    index = getIndex(addPropertyImages, this._id); // debugger;\n\n    S3.delete(this.relative_url, function (error, result) {\n      var addPropertyImages = Session.get('addPropertyImages');\n      S3.collection.remove(addPropertyImages[index]._id);\n      addPropertyImages.splice(index, 1);\n      Session.set('addPropertyImages', addPropertyImages);\n    });\n  }\n});\n\nfunction getIndex(myArray, fileId) {\n  for (var i = 0; i < myArray.length; i++) {\n    if (myArray[i]._id === fileId) {\n      return i;\n    }\n  }\n}\n\nTemplate.myProperties.onRendered(function () {\n  try {\n    jQuery(\"html,body\").animate({\n      scrollTop: 0\n    }, 250);\n  } catch (e) {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }\n\n  var prevRoute = Session.get('prevRoute');\n\n  if (prevRoute) {\n    try {\n      if (prevRoute) if (prevRoute.instructions) if (prevRoute.instructions.openPostNewProp) {\n        Template.instance().showAddProperty.set(true);\n        setTimeout(function () {\n          jQuery(\"html,body\").animate({\n            scrollTop: 0\n          }, 250);\n        }, 500);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n});\n\nfunction updateQueryStringParameter(uri, key, value) {\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\n\n  if (uri.match(re)) {\n    return uri.replace(re, '$1' + key + \"=\" + value + '$2');\n  } else {\n    return uri + separator + key + \"=\" + value;\n  }\n}\n\nclearFiltersEvent = function () {\n  $('.clearFilterBtn').unbind().click(function () {\n    var val = $(this).closest('span').attr('val');\n    var key = $(this).closest('h5').attr('key');\n    var FILTERS = Session.get('globalFILTERS');\n    var filterDefaults = Session.get('projectData');\n    filterDefaults = filterDefaults.filter; // console.log(FILTERS);\n\n    if (key == \"Home Type\") {\n      var array = FILTERS[\"homeType\"];\n      var index = array.indexOf(val);\n\n      if (index > -1) {\n        array.splice(index, 1);\n        FILTERS[\"homeType\"] = array;\n      }\n    } else if (key == \"Facing\") {\n      var array = FILTERS[\"facing\"];\n      var index = array.indexOf(val);\n\n      if (index > -1) {\n        array.splice(index, 1);\n        FILTERS[\"facing\"] = array;\n      }\n    } else if (key == \"Price Range\") {\n      //if(FILTERS[\"priceRange\"][0]==val ){\n      //  FILTERS[\"priceRange\"][0] = filterDefaults.priceRange[0]\n      //}else{\n      //  FILTERS[\"priceRange\"][1] = filterDefaults.priceRange[1]\n      //}\n      FILTERS[\"priceRange\"][0] = filterDefaults.priceRange[0];\n      FILTERS[\"priceRange\"][1] = filterDefaults.priceRange[1];\n    } else if (key == \"Floor\") {\n      if (FILTERS[\"floor\"][0] == val) {\n        FILTERS[\"floor\"][0] = filterDefaults.floor[0];\n      } else {\n        FILTERS[\"floor\"][1] = filterDefaults.floor[1];\n      }\n    } //Session.set('globalFILTERS', FILTERS);\n\n\n    setFilters(FILTERS);\n  });\n};\n\napplyClearFiltersEvent = function () {\n  setTimeout(clearFiltersEvent, 1000);\n  setTimeout(clearFiltersEvent, 3000);\n};\n\nfunction applyFilters() {\n  console.log('event applyFilters jquery');\n  var floorLevelDOM = document.getElementById('range-input');\n  var priceRangeDOM = document.getElementById('range-input1');\n  var tmp = $('.filterUnitType').val();\n  if (tmp == 'any') tmp = [];else tmp = [tmp];\n  globalFILTERS.homeType = tmp;\n  var tmp = $('.filterUnitFacing').val();\n  if (tmp == 'any') tmp = [];else tmp = [tmp];\n  globalFILTERS.facing = tmp;\n  globalFILTERS.floor = floorLevelDOM.noUiSlider.get();\n  globalFILTERS.priceRange = priceRangeDOM.noUiSlider.get(); // console.log(globalFILTERS);\n\n  setFilters(globalFILTERS);\n  $.fancybox.close();\n  applyClearFiltersEvent();\n}\n\nfunction applyFilterValues() {\n  // console.log('event applyFiltersValues jquery')\n  var floorLevelDOM = document.getElementById('range-input');\n  var priceRangeDOM = document.getElementById('range-input1');\n  var floor = floorLevelDOM.noUiSlider.get();\n  var priceRange = priceRangeDOM.noUiSlider.get();\n  $('.filterS1l').html(floor[0]);\n  $('.filterS1h').html(floor[1]);\n  $('.filterS2l').html(numDifferentiation(priceRange[0]));\n  $('.filterS2h').html(numDifferentiation(priceRange[1]));\n}\n\nfunction delayedCall(functionName) {\n  setTimeout(functionName, 3000);\n}\n\nfunction isArraysEqual(array1, array2) {\n  var is_same = array1.length == array2.length && array1.every(function (element, index) {\n    return element === array2[index];\n  });\n  return is_same;\n}\n\ncallDelayedFunctions = function () {\n  setTimeout(delayedFunctions, 2000);\n};\n\nfunction delayedFunctions() {\n  Session.set('enableDelayedFunctions', true);\n  $('.fullyConfirmBlgOKBtn').unbind().click(function () {\n    console.log('fullyConfirmBlgOKBtn called');\n    Session.set('showConfirmFancyBox', false);\n    FlowRouter.query.clear();\n    $.fancybox.close();\n    $('.fancybox-overlay').hide();\n    setTimeout(function () {\n      var unitid = Session.get('adjustAutoExpandToUnitID');\n\n      if (unitid) {\n        scrollTo('.has-error', 0, 500);\n        setTimeout(function () {\n          $('html,body').animate({\n            scrollTop: $('#unit_' + unitid).offset().top\n          }, 1000);\n        }, 1000);\n        Session.set('adjustAutoExpandToUnitID', '');\n      }\n    }, 2000);\n  });\n}\n\nfunction mybidsJqueryEvents() {\n  $('.payNowBtn').unbind().click(function () {\n    console.log(\"jquery event payNowBtn\");\n    var redirectURL = FlowRouter.current().originalUrl;\n\n    if (redirectURL.indexOf('http:') == -1) {\n      var redirectURL = Meteor.absoluteUrl() + FlowRouter.current().originalUrl.substring(1);\n    }\n\n    var bidId = $(this).attr('bidid');\n    Meteor.call(\"getUnitConfirmationPaymentURL\", [redirectURL, bidId], function (error, result) {\n      if (error) {\n        return;\n      }\n\n      window.location.href = result;\n    });\n  });\n  $('.withdrawConfirmBtn').unbind().click(function () {\n    console.log(\"jquery event withdrawBtn\");\n    var bidId = $(this).attr('bidid');\n    Meteor.call(\"withdrawBid\", [bidId], function (error, result) {\n      if (error) {\n        return;\n      }\n\n      $.fancybox.close();\n    });\n  });\n  $('.cancelBtn').unbind().click(function () {\n    console.log('event cancelBtn jquery');\n    $.fancybox.close();\n  });\n}\n\nfunction getPriceBreakUp(unit, ratePerSqFt) {\n  var pricing = unit.priceBreakUp;\n  var electricityMultiplier = pricing.statutoryGovtCharges.electricityMultiplier;\n  var constructionRateForVAT = pricing.statutoryGovtCharges.constructionRateForVAT;\n  if (!electricityMultiplier) electricityMultiplier = 140;\n  if (!constructionRateForVAT) constructionRateForVAT = 2100;\n  if (!pricing.landCost) pricing.landCost = 2091;\n  unit.superBuiltUpArea = parseFloat(unit.superBuiltUpArea);\n  ratePerSqFt = parseFloat(ratePerSqFt);\n  pricing.landCost = parseFloat(pricing.landCost);\n  electricityMultiplier = parseFloat(electricityMultiplier);\n  constructionRateForVAT = parseFloat(constructionRateForVAT);\n  pricing.basicUnitCost.floorRaiseCharge = parseFloat(pricing.basicUnitCost.floorRaiseCharge);\n  pricing.basicUnitCost.plcCharge = parseFloat(pricing.basicUnitCost.plcCharge);\n  pricing.basicUnitCost.floorRaiseCharge = parseFloat(pricing.basicUnitCost.floorRaiseCharge);\n  pricing.basicUnitCost.plcCharge = parseFloat(pricing.basicUnitCost.plcCharge);\n  pricing.basicUnitCost.totalBasicRatepsft = parseFloat(pricing.basicUnitCost.totalBasicRatepsft);\n  pricing.basicUnitCost.total = parseFloat(pricing.basicUnitCost.total);\n  pricing.agreementValue.infrastructureValue = parseFloat(pricing.agreementValue.infrastructureValue);\n  pricing.agreementValue.clubHouseCharges = parseFloat(pricing.agreementValue.clubHouseCharges);\n  pricing.agreementValue.total = parseFloat(pricing.agreementValue.total);\n  pricing.otherCharges.advanceMaintainence = parseFloat(pricing.otherCharges.advanceMaintainence);\n  pricing.otherCharges.generatorBackup = parseFloat(pricing.otherCharges.generatorBackup);\n  pricing.otherCharges.builderCharges = parseFloat(pricing.otherCharges.builderCharges);\n  pricing.otherCharges.total = parseFloat(pricing.otherCharges.total);\n  pricing.statutoryGovtCharges.serviceTax = parseFloat(pricing.statutoryGovtCharges.serviceTax);\n  pricing.statutoryGovtCharges.vat = parseFloat(pricing.statutoryGovtCharges.vat);\n  pricing.statutoryGovtCharges.labourCess = parseFloat(pricing.statutoryGovtCharges.labourCess);\n  pricing.statutoryGovtCharges.electricityCharges = parseFloat(pricing.statutoryGovtCharges.electricityCharges);\n  pricing.statutoryGovtCharges.stampDuty = parseFloat(pricing.statutoryGovtCharges.stampDuty);\n  pricing.statutoryGovtCharges.stampPaperCharges = parseFloat(pricing.statutoryGovtCharges.stampPaperCharges);\n  pricing.statutoryGovtCharges.legalCharges = parseFloat(pricing.statutoryGovtCharges.legalCharges);\n  pricing.statutoryGovtCharges.otherStatutoryCharges = parseFloat(pricing.statutoryGovtCharges.otherStatutoryCharges);\n  pricing.statutoryGovtCharges.total = parseFloat(pricing.statutoryGovtCharges.total);\n  pricing.totalAllInclusive = parseFloat(pricing.totalAllInclusive);\n  pricing.basicUnitCost.totalBasicRatepsft = ratePerSqFt + pricing.basicUnitCost.floorRaiseCharge + pricing.basicUnitCost.plcCharge;\n  pricing.basicUnitCost.total = unit.superBuiltUpArea * pricing.basicUnitCost.totalBasicRatepsft;\n  pricing.agreementValue.total = pricing.basicUnitCost.total + pricing.agreementValue.infrastructureValue + pricing.agreementValue.clubHouseCharges; //pricing.statutoryGovtCharges.electricityCharges = unit.superBuiltUpArea * electricityMultiplier;\n  //pricing.statutoryGovtCharges.vat = ( (constructionRateForVAT+pricing.basicUnitCost.floorRaiseCharge +\n  //  pricing.basicUnitCost.plcCharge)     +    (pricing.agreementValue.infrastructureValue + pricing.statutoryGovtCharges.electricityCharges + pricing.agreementValue.clubHouseCharges)/unit.superBuiltUpArea)*unit.superBuiltUpArea * 0.145 ;\n  //debugger;\n  // pricing.statutoryGovtCharges.labourCess = (pricing.basicUnitCost.total - (unit.superBuiltUpArea * pricing.landCost))*0.01\n  // var D30 = unit.floorLevel\n  // var E30 = D30<=5 ? 0 : D30>5 && D30<=15 ? (D30-5)*0.005 : 0.05\n  // //pricing.statutoryGovtCharges.stampDuty =  ((ratePerSqFt*2130)+(ratePerSqFt*2130*(E30+0.0525)+250000))*0.0665\n  // //pricing.statutoryGovtCharges.stampPaperCharges =  pricing.agreementValue.total*0.001+300\n  // pricing.statutoryGovtCharges.total = pricing.statutoryGovtCharges.vat +\n  //   pricing.statutoryGovtCharges.labourCess +\n  //   pricing.statutoryGovtCharges.electricityCharges +\n  //   pricing.statutoryGovtCharges.stampDuty +\n  //   pricing.statutoryGovtCharges.stampPaperCharges +\n  //   pricing.statutoryGovtCharges.legalCharges +\n  //   pricing.statutoryGovtCharges.otherStatutoryCharges\n\n  pricing.totalAllInclusive = pricing.agreementValue.total + pricing.otherCharges.total + pricing.statutoryGovtCharges.total;\n  return pricing;\n}\n\nfunction ordinal_suffix_of(i) {\n  var j = i % 10,\n      k = i % 100;\n\n  if (j == 1 && k != 11) {\n    return i + \"st\";\n  }\n\n  if (j == 2 && k != 12) {\n    return i + \"nd\";\n  }\n\n  if (j == 3 && k != 13) {\n    return i + \"rd\";\n  }\n\n  return i + \"th\";\n}\n\nfunction openPicker() {\n  fsClient.pick({\n    fromSources: [\"local_file_system\", \"webcam\", \"facebook\", \"url\", \"googledrive\", \"dropbox\", \"flickr\", \"instagram\", \"gmail\", \"picasa\", \"onedrive\", \"clouddrive\"],\n    maxFiles: 10,\n    transformations: {\n      crop: {\n        force: false,\n        aspectRatio: 1.333\n      },\n      rotate: true\n    },\n    imageMax: [800, 600],\n    accept: [\"image/*\"],\n    \"uploadInBackground\": false //Disabled because, bg upload causes 2 uploads towards filestack limits\n\n  }).then(function (response) {\n    // declare this function to handle response\n    var addPropertyImages = Session.get('addPropertyImages');\n    var tmp = {};\n    if (response.filesUploaded) for (var i = 0; i < response.filesUploaded.length; i++) {\n      tmp = {\n        name: response.filesUploaded[i].filename,\n        url: response.filesUploaded[i].url,\n        handle: response.filesUploaded[i].handle,\n        mimetype: response.filesUploaded[i].mimetype,\n        originalFile: response.filesUploaded[i].originalFile,\n        originalPath: response.filesUploaded[i].originalPath,\n        size: response.filesUploaded[i].size,\n        source: response.filesUploaded[i].source,\n        status: response.filesUploaded[i].status,\n        uploadId: response.filesUploaded[i].uploadId\n      };\n      addPropertyImages.push(tmp);\n    }\n    Session.set('addPropertyImages', addPropertyImages);\n    updateGalleriesInProfile(addPropertyImages, function (err, res) {\n      //No need to show error. Because its just a backup.\n      var addPropertyImages = Session.get('addPropertyImages');\n      console.log(\"Current Count: \" + addPropertyImages.length);\n    });\n    console.log(response);\n  });\n}\n\nfunction getIndexByHandle(myArray, fileId) {\n  for (var i = 0; i < myArray.length; i++) {\n    if (myArray[i].handle === fileId) {\n      return i;\n    }\n  }\n}\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction slugifyEmailAddress(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '.') // Replace spaces with \".\"\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"profile.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/profile.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./profile.html\");\n// import \"./accounts/helpers.js\";\n// import \"./accounts/validation.js\";\nvar _validFileExtensions = [\".jpg\", \".jpeg\", \".png\", \".pdf\", \".txt\", \".doc\", \".docx\", \".ODT\"];\n\nfunction filevalidation(arrInputs) {\n  for (var i = 0; i < arrInputs.length; i++) {\n    var oInput = arrInputs[i];\n    var sFileName = oInput.name;\n\n    if (sFileName.length > 0) {\n      var blnValid = false;\n\n      for (var j = 0; j < _validFileExtensions.length; j++) {\n        var sCurExtension = _validFileExtensions[j];\n\n        if (sFileName.substr(sFileName.length - sCurExtension.length, sCurExtension.length).toLowerCase() == sCurExtension.toLowerCase()) {\n          blnValid = true;\n          break;\n        }\n      }\n\n      if (!blnValid) {\n        // alert(\"Sorry, \" + sFileName + \" is invalid, allowed extensions are: \" + _validFileExtensions.join(\", \"));\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nTemplate.profile.onCreated(function () {\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('userData');\n\n    if (instance.subscriptionsReady()) {\n      var data = Accounts.user();\n\n      try {\n        if (data.profile.isPublic && data.profile.username) {\n          console.log(''); // FlowRouter.redirect('tenant',{username:data.profile.username})\n        }\n      } catch (e) {\n        console.log(e);\n      }\n\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.profile.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  }\n});\nTemplate.userProfile.onCreated(function () {\n  this.privacyTermsMore = new ReactiveVar(false);\n  this.hasPasswordSet = new ReactiveVar(false);\n  this.hasPasswordSetReqCompleted = new ReactiveVar(false);\n});\nTemplate.userProfile.helpers({\n  \"data\": function () {\n    var data = Accounts.user(); // console.log(data);\n\n    var city = ''; // profile.files.has\n    // if(data)\n    // if(data.profile)\n    // if(data.profile.addressBook)\n    // if(data.profile.addressBook.length){\n    //   city = data.profile.addressBook[0].city\n    // }\n\n    clearMeta();\n\n    try {\n      DocHead.setTitle(titleCase(data.profile.name) + '\\'s profile | SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"Upload and manage your references.\"\n      });\n    } catch (err) {\n      DocHead.setTitle(' User not found | SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n    }\n\n    return {\n      \"userData\": data,\n      \"userCity\": city,\n      \"userEmail\": data.profile.email,\n      \"userEmailVerified\": data.profile.emailVerified\n    };\n  },\n  backBtnNeeded: function () {\n    var prevRoute = Session.get('prevRoute');\n\n    try {\n      if (FlowRouter.current().route.name != prevRoute.name) return true;\n    } catch (e) {}\n\n    return false;\n  },\n  prevRoute: function () {\n    return Session.get('prevRoute');\n  },\n  isPublicProfileSelectYes: function () {\n    var user = Meteor.user();\n\n    try {\n      if (user.profile.isPublic) {\n        return 'selected';\n      }\n    } catch (e) {}\n\n    return '';\n  },\n  isPublicProfileSelectNo: function () {\n    var user = Meteor.user();\n\n    try {\n      if (!user.profile.isPublic) {\n        return 'selected';\n      }\n    } catch (e) {}\n\n    return '';\n  },\n  progress: function () {\n    var user = Meteor.user();\n    var score = 0;\n    var css = 'progress-bar-danger';\n    var issues = [];\n\n    if (user.profile.mobile) {\n      score += 15;\n    } else {\n      issues.push('Mobile number is required. Landlord needs to contact you.');\n    }\n\n    if (!user.services) user.services = {};\n\n    if (user.services.facebook) {\n      score += 15;\n    } else {\n      issues.push('Connect with your Facebook profile. Its shows your social presence.');\n    } // if(user.services.google){score += 10;}else{issues.push('Connect with your google profile. Its shows your social presence.')}//No weightage\n\n\n    if (user.services.twitter) {\n      score += 10;\n    } else {\n      issues.push('Connect with your Twitter profile. Its shows your social presence.');\n    }\n\n    if (user.services.linkedin) {\n      score += 15;\n    } else {\n      issues.push('Connect with your LinkedIn profile. Its shows your professional presence.');\n    }\n\n    if (user.profile.references.hasPassport) {\n      score += 10;\n    } else {\n      issues.push('Passport is required. Its your legal identity card.');\n    }\n\n    if (user.profile.references.employerName) {\n      score += 3;\n    } else {\n      issues.push('Name of your employer is recommended. It can highlight your profile to landlord.');\n    }\n\n    if (user.profile.references.employerTakeHome) {\n      score += 2;\n    } else {\n      issues.push('Monthly take home salary is recommended. It can act as your finantial reference.');\n    }\n\n    if (user.profile.references.hasWorkRef) {\n      score += 10;\n    } else {\n      issues.push('Work reference is required. It shows your professional side.');\n    }\n\n    if (user.profile.references.hasLandlordRef) {\n      score += 10;\n    } else {\n      issues.push('Landlord reference is required. ');\n    }\n\n    if (user.profile.references.hasPPS) {\n      score += 3;\n    } else {\n      issues.push('PPS is recommended. Its your legal identity card.');\n    } // if(user.profile.references.hasFinancialRef){score += 0;}else{issues.push('Financial reference if work reference is not given.')}\n\n\n    if (user.profile.references.hasGovtID) {\n      score += 4;\n    } else {\n      issues.push('Govt ID is recommended. Driving license or GNIB as your identity card.');\n    }\n\n    if (user.profile.references.hasResume) {\n      score += 3;\n    } else {\n      issues.push('Resume is recommended. It shows your professional side.');\n    }\n\n    if (score > 100) score = 100;\n    if (score > 50) css = 'progress-bar-warning';\n    if (score > 70) css = 'progress-bar-info';\n    if (score > 90) css = 'progress-bar-success';\n    return {\n      css: css,\n      percent: score + \"%\",\n      issues: issues\n    };\n  },\n  privacyTermsMore: function () {\n    return Template.instance().privacyTermsMore.get();\n  },\n  showFileTemplate: function () {\n    return Session.get('showFileTemplate');\n  },\n  showHideFileDlg: function () {\n    console.log(\"Event showHideFileDlg\");\n    var ses = Session.get('showFileDlg');\n\n    if (ses) {\n      if (ses.show) {\n        $.fancybox({\n          'padding': 0,\n          'href': '#fileupload-dlg',\n          width: '80%',\n          afterShow: function () {\n            Session.set('showFileTemplate', true);\n          },\n          afterClose: function () {\n            var ses = {\n              show: false,\n              cate: \"\"\n            };\n            Session.set('showFileDlg', ses); // Has the overall info and basic required info.\n\n            Session.set('showFileTemplate', false);\n          }\n        });\n        return true;\n      } else if (ses.show == false) {\n        try {\n          $.fancybox.close();\n        } catch (e) {}\n      }\n    }\n\n    return false;\n  },\n  hasPasswordSet: function () {\n    var localHasPasswordSet = Session.get('localHasPasswordSet');\n    if (localHasPasswordSet) return localHasPasswordSet;\n    return Template.instance().hasPasswordSet.get();\n  },\n  hasPasswordSetReqCompleted: function () {\n    return Template.instance().hasPasswordSetReqCompleted.get();\n  }\n});\nTemplate.userProfile.events({\n  \"change .togglePublicProfileSetting\": function (event, template) {\n    Meteor.call('togglePublicProfileSetting', function (err, res) {\n      if (err) {\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        var msg = 'Public profile setting change failed. Check your internet connection. ';\n        if (err.error) msg += err.error + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        tmp.push(msg);\n        Session.set(\"showErrorDlg\", tmp);\n      } else {\n        setTimeout(function () {\n          var data = Accounts.user();\n\n          try {\n            if (data.profile.isPublic && data.profile.username) {\n              FlowRouter.go('tenant', {\n                username: data.profile.username\n              });\n            } else {\n              FlowRouter.go('account/profile');\n            }\n          } catch (e) {\n            console.log(e);\n          }\n        }, 1000);\n      }\n    });\n  },\n  \"click .profileLinkCopyBtn\": function (event, template) {\n    console.log(\"Event profileLinkCopyBtn\");\n    $('#profileLinkField').select();\n\n    try {\n      var successful = document.execCommand('copy');\n      var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n      var tmp = Session.get(\"showErrorDlg\");\n      if (!tmp) tmp = [];\n      var msg = 'Your profile is copied to your clipboard. ';\n      tmp.push(msg);\n      Session.set(\"showErrorDlg\", tmp);\n    } catch (err) {\n      console.log('Oops, unable to copy');\n    }\n  },\n  \"click .requestRedgRefund\": function (event, template) {\n    console.log(\"Event requestRedgRefund\");\n    $.fancybox({\n      'padding': 0,\n      'href': '#requestRedgRefund-popup'\n    });\n  },\n  \"click .requestConfRefund\": function (event, template) {\n    console.log(\"Event requestConfRefund\");\n    $.fancybox({\n      'padding': 0,\n      'href': '#requestConfRefund-popup'\n    });\n  },\n  \"click .changePwdBtn\": function (event, template) {\n    console.log(\"Event changePwdBtn\");\n    $('#changepass-dlg .changePwdAlertMsgs .color-text').html('');\n    $('#changepass-dlg .help-block p').html('');\n    $(\"#changepass-dlg button[type=submit]\").attr(\"disabled\", false);\n    $.fancybox({\n      'padding': 0,\n      'href': '#changepass-dlg',\n      'afterClose': () => {\n        console.log(\"Event: Fancybox closed\"); //reset fields\n\n        $('.oldpwd').val(\"\");\n        $('.newpwd').val(\"\");\n      }\n    });\n  },\n  \"click .setPwdBtn\": function (event, template) {\n    console.log(\"Event setPwdBtn\");\n    $('#setpass-dlg .changePwdAlertMsgs .color-text').html('');\n    $('#setpass-dlg .help-block p').html('');\n    $(\"#setpass-dlg button[type=submit]\").attr(\"disabled\", false);\n    $.fancybox({\n      'padding': 0,\n      'href': '#setpass-dlg',\n      'afterClose': () => {\n        console.log(\"Event: Fancybox closed\"); //reset fields\n\n        $('.newpwd').val(\"\");\n        $('.newpwdconfirm').val(\"\");\n      }\n    });\n  },\n  \"click .changeMobileBtn\": function (event, template) {\n    console.log(\"Event changeMobileBtn\");\n    $.fancybox({\n      'padding': 0,\n      'href': '#changeMobile-div'\n    });\n  },\n  \"click .changeCityBtn\": function (event, template) {\n    console.log(\"Event changeCityBtn\");\n    $.fancybox({\n      'padding': 0,\n      'href': '#changeCity-div'\n    });\n  },\n  \"click .changeEmployerNameConfirmation\": function (event, template) {\n    console.log(\"Event changeEmployerNameConfirmation\");\n    var ele = $(event.target);\n    hideSaveBtn(ele);\n    Meteor.call('updateEmployerName', $('.changeEmployerNameValue').val(), function (error, result) {\n      if (error) {\n        console.log(error.error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        if (!error.error) error.error = 'An error occurred';\n        tmp.push(error.error);\n        Session.set(\"showErrorDlg\", tmp);\n        showSaveBtn(ele);\n        return;\n      }\n\n      if (result.status == 'Success') {}\n    });\n  },\n  \"click .changeEmployerTakeHomeConfirmation\": function (event, template) {\n    console.log(\"Event changeEmployerTakeHomeConfirmation\");\n    debugger;\n    var ele = $(event.target);\n    hideSaveBtn(ele);\n    var num = parseInt($('.changeEmployerTakeHomeValue').val());\n    Meteor.call('updateEmployerTakeHome', num, function (error, result) {\n      if (error) {\n        console.log(error.error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        if (!error.error) error.error = 'An error occurred';\n        tmp.push(error.error);\n        Session.set(\"showErrorDlg\", tmp);\n        showSaveBtn(ele);\n        return;\n      }\n\n      if (result.status == 'Success') {}\n    });\n  },\n  \"click .privacyTermsMore_btn\": function (event, template) {\n    if (template.privacyTermsMore.get()) template.privacyTermsMore.set(false);else template.privacyTermsMore.set(true);\n  },\n  //////// TODO: Events below are not working.\n  \"click .requestRedgRefundConf\": function (event, template) {\n    console.log(\"Event requestRedgRefundConf\");\n    var ret = Meteor.call('registrationAmountRefund', [], function (ret) {\n      if (ret.status == 'AlreadyRequested') {}\n\n      $.fancybox.close();\n    });\n  },\n  \"click .requestConfRefundConf\": function (event, template) {\n    console.log(\"Event requestConfRefundConf\");\n    var ret = Meteor.call('confirmationAmountRefund', [], function (ret) {\n      if (ret.status == 'AlreadyRequested') {}\n\n      $.fancybox.close();\n    });\n  },\n  \"click .noBtn\": function (event, template) {\n    console.log(\"Event noBtn\");\n    $.fancybox.close();\n  },\n  \"click .backBtn\": function (event, template) {\n    var prevRoute = Session.get('prevRoute'); // Session.set('prevRoute',{\n    //   name:\"letting\",\n    //     args:{key:\"DUN1\"}\n    // });\n\n    if (prevRoute) {\n      FlowRouter.go(prevRoute.name, prevRoute.args);\n      var prevRoute = {\n        name: FlowRouter.current().route.name,\n        args: {}\n      };\n      Session.set('prevRoute', prevRoute);\n    } else {\n      FlowRouter.go(\"home\");\n    }\n  },\n  \"click .linkWithGoogleBtn\": function (event, template) {\n    Meteor.linkWithGoogle({}, function (err) {\n      if (err) {\n        console.log(err);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        var msg = 'Link with Google failed. ';\n        if (err.error) msg += err.error + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        tmp.push(msg);\n        Session.set(\"showErrorDlg\", tmp);\n        throw new Meteor.Error(\"Google login failed\");\n      } else {}\n    });\n  },\n  \"click .linkWithTwitterBtn\": function (event, template) {\n    Meteor.linkWithTwitter({}, function (err) {\n      if (err) {\n        console.log(err);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        var msg = 'Link with Twitter failed. ';\n        if (err.error) msg += err.error + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        tmp.push(msg);\n        Session.set(\"showErrorDlg\", tmp);\n        throw new Meteor.Error(\"Twitter login failed\");\n      } else {}\n    });\n  },\n  \"click .linkWithFacebookBtn\": function (event, template) {\n    Meteor.linkWithFacebook({}, function (err) {\n      if (err) {\n        console.log(err);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        var msg = 'Link with Facebook failed. ';\n        if (err.error) msg += err.error + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        tmp.push(msg);\n        Session.set(\"showErrorDlg\", tmp);\n        throw new Meteor.Error(\"Facebook login failed\");\n      } else {}\n    });\n  },\n  \"click .linkWithLinkedInBtn\": function (event, template) {\n    Meteor.connectWithLinkedIn({}, function (err) {\n      if (err) {\n        console.log(arguments);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        var msg = 'Link with LinkedIn failed. ';\n        if (err.error) msg += err.error + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        tmp.push(msg);\n        Session.set(\"showErrorDlg\", tmp);\n        throw new Meteor.Error(\"LinkedIn login failed\");\n      } else {}\n    });\n  }\n});\nTemplate.userProfile.onRendered(function () {\n  var templateInstance = Template.instance();\n  Meteor.call('hasPasswordSet', function (err, result) {\n    if (!err) {\n      templateInstance.hasPasswordSet.set(result);\n      templateInstance.hasPasswordSetReqCompleted.set(true);\n    }\n  }); //////// TODO: Remove below JQuery events after making meteor events working.\n\n  $('.noBtn, .cancel, .close').click(function () {\n    console.log(\"Event noBtn jquery\");\n    $.fancybox.close();\n  });\n  $('.requestRedgRefundConf').click(function () {\n    console.log(\"Event requestRedgRefundConf jquery\");\n    var ret = Meteor.call('registrationAmountRefund', [], function (error, result) {\n      if (error) {\n        console.log(error.error);\n        return;\n      }\n\n      if (result.status == 'AlreadyRequested') {}\n\n      $.fancybox.close();\n    });\n  });\n  $('.requestConfRefundConf').click(function () {\n    console.log(\"Event requestConfRefundConf jquery\");\n    var ele = this;\n    hideSaveBtn(ele);\n    var ret = Meteor.call('confirmationAmountRefund', [], function (error, result) {\n      if (error) {\n        console.log(error.error);\n        showSaveBtn(ele);\n        return;\n      }\n    });\n  });\n  $('.changeMobileConfirmation').click(function () {\n    console.log(\"Event changeMobileConfirmation jquery\");\n    var ele = this;\n    hideSaveBtn(ele);\n    var mobile = $('.changeMobileValue').val();\n    validatedMobile = LoginFormValidation.mobile(mobile);\n\n    if (validatedMobile !== true) {\n      $('.mobileValidationErrors').show().html(validatedMobile.reason);\n      showSaveBtn(ele);\n      return;\n    }\n\n    Meteor.call('updateMobile', mobile, function (error, result) {\n      if (error) {\n        console.log(error.error);\n        showSaveBtn(ele);\n        return;\n      }\n\n      $('.mobileValidationErrors').hide(); // Session.set('showMobileVerification',true)\n    });\n  });\n  $('.changeEmployerNameConfirmation').click(function () {// console.log(\"Event changeEmployerNameConfirmation jquery\");\n    // var ele = this;\n    // hideSaveBtn(ele)\n    // Meteor.call('updateEmployerName',[$('.changeEmployerNameValue').val()],function(error, result){\n    //\n    //   if(error){\n    //     console.log(error.error);\n    //     showSaveBtn(ele)\n    //     return;\n    //   }\n    //   if(result.status=='Success'){\n    //\n    //   }\n    // });\n  });\n  $('.mobileValidationErrors').hide();\n  $('.eyebtn').click(function () {\n    if ($(\".show-pwd\").hasClass(\"shown\")) {\n      $(\".show-pwd\").attr(\"type\", \"password\");\n      $(\".show-pwd\").removeClass(\"shown\");\n    } else {\n      $(\".show-pwd\").attr(\"type\", \"text\");\n      $(\".show-pwd\").addClass(\"shown\");\n    }\n  });\n  $(document).ready(function () {\n    //$('.change-click').click(function(){\n    //\n    //  });\n    $('.cancel-clk').click(function () {\n      hideSaveBtn(this);\n      $('.mobileValidationErrors').hide();\n    });\n    $('.change-click').click(function () {\n      showSaveBtn(this);\n    }); //$('.request-clk').click(function(){\n    //  $('.hideen-div').fadeOut();\n    //});\n\n    $('.sendEmailVerification').click(function () {\n      console.log('event sendEmailVerification');\n      $('.sendEmailVerification').text('Verification mail sent');\n      setTimeout(function () {\n        $('.sendEmailVerification').text('Send verification link');\n      }, 10000);\n    });\n  });\n});\nTemplate.fileUploadDlgTemplate.onCreated(function () {\n  this.sesCate = new ReactiveVar(false);\n  this.p1 = new ReactiveVar(false);\n  this.p2 = new ReactiveVar(false);\n  var ses = Session.get('showFileDlg');\n\n  if (ses) {\n    this.sesCate.set(ses.cate);\n\n    if (ses.cate) {\n      var p1 = '';\n      var p2 = '';\n\n      switch (ses.cate) {\n        case \"Resume\":\n          p1 = \"hasResume\";\n          p2 = \"resume\";\n          break;\n\n        case \"Work Reference\":\n          p1 = \"hasWorkRef\";\n          p2 = \"workRef\";\n          break;\n\n        case \"Landlord Reference\":\n          p1 = \"hasLandlordRef\";\n          p2 = \"landlordRef\";\n          break;\n\n        case \"Financial Reference\":\n          p1 = \"hasFinancialRef\";\n          p2 = \"financialRef\";\n          break;\n\n        case \"Government ID\":\n          p1 = \"hasGovtID\";\n          p2 = \"govtID\";\n          break;\n\n        case \"Passport\":\n          p1 = \"hasPassport\";\n          p2 = \"passport\";\n          break;\n\n        case \"PPS\":\n          p1 = \"hasPPS\";\n          p2 = \"PPS\";\n          break;\n      } // p1 = \"profile.references.\"+p1\n      // p2 = \"profile.references.\" + p2\n\n\n      this.p1.set(p1);\n      this.p2.set(p2);\n    }\n  }\n\n  this.step = new ReactiveVar(1);\n  this.sFileName = new ReactiveVar(false);\n  this.uploading = new ReactiveVar(false);\n  this.fileObj = new ReactiveVar({});\n  this.fileObjPrevious = new ReactiveVar(false);\n});\nTemplate.fileUploadDlgTemplate.helpers({\n  dlgTitle: function () {\n    var title = '';\n    var p1 = Template.instance().p1.get();\n    var p2 = Template.instance().p2.get();\n    var uploading = Template.instance().uploading.get();\n    var user = Meteor.user();\n    if (user.profile.references[p1]) var existingFile = true;\n\n    if (existingFile) {\n      title = 'Update ';\n      if (!Template.instance().fileObjPrevious.get()) // only if its not yet set . Else other function will set it.\n        Template.instance().fileObjPrevious.set(user.profile.references[p2]);\n      console.log('fileObjPrevious');\n      console.log(Template.instance().fileObjPrevious.get());\n    } else if (uploading) title = 'Uploading ';else title = 'Upload ';\n\n    var sesCate = Template.instance().sesCate.get();\n    if (sesCate) title += sesCate;else title += 'References';\n    return title;\n  },\n  existingFile: function () {\n    var p2 = Template.instance().p2.get();\n    var user = Meteor.user();\n    if (user.profile.references[p2]) return user.profile.references[p2];\n    return false;\n  },\n  isStep: function (step) {\n    if (step == Template.instance().step.get()) return true;else return false;\n  },\n  isNotStep: function (step) {\n    if (step != Template.instance().step.get()) return true;else return false;\n  },\n  uploading: function () {\n    return Template.instance().uploading.get();\n  },\n  validFileExtensions: function () {\n    return _validFileExtensions;\n  }\n});\nTemplate.fileUploadDlgTemplate.events({\n  'click .showCamera': function (event, template) {\n    event.preventDefault();\n    template.$('#cropImage').cropper(\"destroy\");\n    template.$('#cropImage').attr(\"src\", '').hide();\n    template.$('#finalImage').attr(\"src\", '').hide();\n    $('.step2, #uploadImagePreviewArea').show();\n    $('.step3').hide();\n    var cameraOptions = {\n      width: 800,\n      height: 600\n    };\n    MeteorCamera.getPicture(cameraOptions, function (error, data) {\n      if (!error) {\n        template.$('#cropImage').attr('src', data);\n        template.step.set(2);\n        $('.step2').show();\n        $('.step3').hide();\n        template.sFileName.set('cameraPhoto.jpg'); //Now start the crop\n\n        if (data) {\n          $('.step1').hide();\n          template.$(\"#cropImage\").cropper({\n            aspectRatio: 4 / 3\n          });\n        }\n      }\n    });\n  },\n  'click .getCroppedImage': function (event, template) {\n    template.step.set(3);\n    $('.step2').hide();\n    $('.step3').show(); //Ratio 4:3 => 700 * 525\n\n    var finalImgData = template.$('#cropImage').cropper(\"getCroppedCanvas\", {\n      width: 700,\n      height: 525\n    }).toDataURL();\n    template.$('#finalImage').attr('src', finalImgData).show();\n    var head = 'data:image/png;base64,';\n    var imgFileSize = Math.round((finalImgData.length - head.length) * 3 / 4);\n    var sizeKB = imgFileSize / 1000;\n    var sizeMB = imgFileSize / 1000000;\n    console.log(\"imgFileSize\", imgFileSize, \"size\", sizeMB, \"MB\", \"-----\", sizeKB, \"KB\");\n    var mimeType = 'image/jpeg';\n    var imgQuality = 1;\n    if (sizeKB > 200) var imgQuality = 0.9;\n    if (sizeKB > 300) var imgQuality = 0.8;\n    if (sizeKB > 400) var imgQuality = 0.7;\n    const cate = template.sesCate.get();\n    var sFileName = template.sFileName.get();\n    if (!sFileName) sFileName = 'cameraPhoto.jpg'; // const inst = Template.instance();\n\n    var finalImgData = template.$('#cropImage').cropper(\"getCroppedCanvas\", {\n      width: 700,\n      height: 525\n    }).toBlob(function (blob) {\n      template.uploading.set(true);\n      template.fileObj.set({}); //Reset old status as this might be 2nd upload.\n\n      var ret = S3.upload({\n        file: new File([blob], sFileName),\n        path: \"profileFiles\"\n      }, function (e, r) {\n        if (e) {\n          $('.step1').show();\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n\n          try {\n            if (e.error) tmp.push(e.error);\n          } catch (cat) {}\n\n          Session.set(\"showErrorDlg\", tmp);\n          throw new Meteor.Error('Upload failed ', e);\n          template.uploading.set(false);\n          return;\n        }\n\n        console.log(r);\n        template.fileObj.set(r);\n        var tmp = {\n          name: r.file.original_name,\n          relative_url: r.relative_url,\n          url: r.secure_url\n        };\n        console.log(tmp);\n        var fileObjPrevious = template.fileObjPrevious.get(); //move here due to bug\n\n        Meteor.call('updateReferenceFile', [cate, tmp], (err, res) => {\n          template.uploading.set(false); //Make it false even if it failed. Users should know that its not uploading anymore.\n\n          $('.step2').hide();\n          $('.step1').show();\n          $('.step3').show(); //Because its an image from cropped area\n\n          if (err) {\n            console.log(err);\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n\n            try {\n              if (err.error) tmp.push(err.error);\n            } catch (cat) {}\n\n            Session.set(\"showErrorDlg\", tmp); //If updating in DB failed. Then delete in Amazon as well.\n\n            var fileObj = template.fileObj.get();\n            S3.delete(fileObj.relative_url, function (error, result) {});\n          } else {\n            //If upload is success, then delete the old file and re-set it.\n            // debugger;\n            // var fileObjPrevious = template.fileObjPrevious.get()//Don' get it here, as parallely another code is changing this val->lead to bug\n            if (fileObjPrevious) {\n              //only if it exists.\n              S3.delete(fileObjPrevious.relative_url, function (error, result) {});\n              template.fileObjPrevious.set(template.fileObj.get());\n            }\n          }\n        });\n      });\n    }, mimeType, imgQuality);\n  },\n  'click .zoomInBtn': function (event, template) {\n    template.$('#cropImage').cropper(\"zoom\", 0.1);\n  },\n  'click .zoomOutBtn': function (event, template) {\n    template.$('#cropImage').cropper(\"zoom\", -0.1);\n  },\n  'click .rotateLeftBtn': function (event, template) {\n    template.$('#cropImage').cropper(\"rotate\", -90);\n  },\n  'click .rotateRightBtn': function (event, template) {\n    template.$('#cropImage').cropper(\"rotate\", 90);\n  },\n  'click .resetBtn': function (event, template) {\n    template.$('#cropImage').cropper(\"reset\");\n  },\n  'click .goToStep1': function (event, template) {\n    $('.step1').show();\n    template.$('#cropImage').cropper(\"destroy\");\n    template.$('#cropImage').attr(\"src\", '').hide();\n    template.$('#finalImage').attr(\"src\", '').hide();\n    $('.step2').hide();\n    $('.step3').hide();\n  },\n  'click .closeDlg': function (event, template) {\n    var ses = {\n      show: false,\n      cate: \"\"\n    };\n    Session.set('showFileDlg', ses); // Has the overall info and basic required info.\n\n    Session.set('showFileTemplate', false);\n  },\n  'change .uploadBtn': function (event, template) {\n    var files = event.target.files;\n    if (!files) return;\n    if (files.length == 0) return;\n    Template.instance().step.set(2);\n    $('.step2, #uploadImagePreviewArea').show();\n    template.$('#cropImage').cropper(\"destroy\");\n    template.$('#cropImage').attr(\"src\", '').hide();\n    template.$('#finalImage').attr(\"src\", '').hide();\n    $('.step3').hide();\n\n    if (!filevalidation(files)) {\n      var tmp = Session.get(\"showErrorDlg\");\n      if (!tmp) tmp = [];\n      var msg = 'Upload rejected. Please upload only document or image files. Allowed extensions are ' + _validFileExtensions.join(', ') + '.';\n      tmp.push(msg);\n      Session.set(\"showErrorDlg\", tmp);\n      throw new Meteor.Error(\"Upload rejected. \");\n      return;\n    }\n\n    const cate = template.sesCate.get();\n    Template.instance().uploading.set(true); // const inst = Template.instance();\n\n    template.fileObj.set({}); //Reset old status as this might be 2nd upload.\n\n    if (files.length == 1) {\n      var target = event.target;\n      var sFileName = files[0].name;\n      template.sFileName.set(sFileName); // $(\"#uploadImagePreviewArea\").html(\"\");\n\n      var regex = /^([a-zA-Z0-9\\s_\\\\.\\-:])+(.jpg|.jpeg|.gif|.png|.bmp)$/;\n\n      if (regex.test($(target).val().toLowerCase())) {\n        if (isIE() && isIE() <= 9) {\n          $(\"#uploadImagePreviewArea\").show();\n          $(\"#uploadImagePreviewArea\")[0].filters.item(\"DXImageTransform.Microsoft.AlphaImageLoader\").src = $(target).val();\n        } else {\n          if (typeof FileReader != \"undefined\") {\n            template.uploading.set(false);\n            $(\"#uploadImagePreviewArea, #cropImage\").show(); // $(\"#uploadImagePreviewArea\").append('<img class=\"img-responsive\" id=\"cropImage\"/>');\n\n            var reader = new FileReader();\n\n            reader.onload = function (e) {\n              $(\"#cropImage\").attr(\"src\", e.target.result); //File name is set few lines above this\n              //Now start the crop\n\n              var imgData = $(\"#cropImage\").attr('src');\n\n              if (imgData) {\n                $('.step1').hide();\n                template.$(\"#cropImage\").cropper({\n                  aspectRatio: 4 / 3\n                });\n              }\n            };\n\n            reader.readAsDataURL($(target)[0].files[0]);\n            return; //If previewer is available then let the cropper handle the upload.\n          } else {\n            console.log(\"This browser does not support FileReader.\");\n          }\n        }\n      } else {\n        console.log(\"File upload: Not an image file to show preview.\");\n      }\n    } // console.log('Not an image, so proceeding with traditional upload')\n\n\n    var ret = S3.upload({\n      files: files,\n      path: \"profileFiles\"\n    }, function (e, r) {\n      if (e) {\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n\n        try {\n          if (e.error) tmp.push(e.error);\n        } catch (cat) {}\n\n        Session.set(\"showErrorDlg\", tmp);\n        throw new Meteor.Error('Upload failed ', e);\n        template.uploading.set(false);\n        return;\n      }\n\n      console.log(r);\n      template.fileObj.set(r);\n      var tmp = {\n        name: r.file.original_name,\n        relative_url: r.relative_url,\n        url: r.secure_url\n      };\n      console.log(tmp);\n      var fileObjPrevious = template.fileObjPrevious.get(); //move here due to bug\n\n      Meteor.call('updateReferenceFile', [cate, tmp], (err, res) => {\n        template.uploading.set(false); //Make it false even if it failed. Users should know that its not uploading anymore.\n\n        $('.step2').hide();\n        $('.step3').hide(); //Because its not an image.\n\n        if (err) {\n          console.log(err);\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n\n          try {\n            if (err.error) tmp.push(err.error);\n          } catch (cat) {}\n\n          Session.set(\"showErrorDlg\", tmp); //If updating in DB failed. Then delete in Amazon as well.\n\n          var fileObj = template.fileObj.get();\n          S3.delete(fileObj.relative_url, function (error, result) {});\n        } else {\n          //If upload is success, then delete the old file and re-set it.\n          // debugger;\n          // var fileObjPrevious = template.fileObjPrevious.get()//Don' get it here, as parallely another code is changing this val->lead to bug\n          if (fileObjPrevious) {\n            //only if it exists.\n            S3.delete(fileObjPrevious.relative_url, function (error, result) {});\n            template.fileObjPrevious.set(template.fileObj.get());\n          }\n        }\n      });\n    }); // for (var i = 0, ln = files.length; i < ln; i++) {\n    //     propertyImagesCollection.insert(files[i], function (err, fileObj) {\n    //         // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n    //         console.log(fileObj);\n    //         var cursor = propertyImagesCollection.find(fileObj._id);\n    //\n    //         var liveQuery = cursor.observe({\n    //             changed: function(newImage, oldImage) {\n    //\n    //                 console.log(\"Inside live query \");\n    //                 console.log(newImage);\n    //                 if (newImage.isUploaded()) {\n    //                     liveQuery.stop();\n    //\n    //                     // Call your onUploaded callback here...\n    //                 }\n    //             }\n    //         });\n    //     });\n    // }\n  }\n});\nTemplate.fileUploadDlgTemplate.onRendered(function () {\n  $(\"#uploadImagePreviewArea, #cropImage, #finalImage\").hide();\n  $('#cropImage, #finalImage').attr('src', '');\n});\nTemplate.fileUploadArea.onCreated(function () {\n  this.uploading = new ReactiveVar(false); // this.fileObj = new ReactiveVar( {} );\n});\nTemplate.fileUploadArea.helpers({\n  uploading: function (isMyBidsPage) {\n    return Template.instance().uploading.get();\n  },\n  validFileExtensions: function () {\n    return _validFileExtensions;\n  }\n});\nTemplate.fileUploadArea.events({\n  'click .showUploadDlg': function (event, template) {\n    var ses = {\n      show: true,\n      cate: this.title\n    };\n    Session.set('showFileDlg', ses);\n    return false;\n  } // 'change .uploadBtn': function(event, template) {\n  //     var files = event.target.files;\n  //\n  //     if(!filevalidation(files)){\n  //         var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n  //         var msg = 'Upload rejected. Please upload only document or image files. Allowed extensions are '+_validFileExtensions.join(', ')+'.';\n  //         tmp.push(msg);\n  //         Session.set(\"showErrorDlg\",tmp)\n  //\n  //         throw new Meteor.Error(\"Upload rejected. \");\n  //         return;\n  //     }\n  //\n  //     const cate = event.target.getAttribute('cate');\n  //     Template.instance().uploading.set(true);\n  //     const inst = Template.instance();\n  //     inst.fileObj.set({});//Reset old status as this might be 2nd upload.\n  //     var ret = S3.upload({\n  //         files:files,\n  //         path:\"profileFiles\"\n  //     },function(e,r){\n  //         if(e){\n  //             var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n  //             tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n  //             try{if(e.error)tmp.push(e.error);}catch (cat){}\n  //             Session.set(\"showErrorDlg\",tmp)\n  //             throw new Meteor.Error('Upload failed ', e);return;\n  //         }\n  //         console.log(r);\n  //\n  //         inst.fileObj.set(r);\n  //\n  //         var tmp = {\n  //             name: r.file.original_name,\n  //             relative_url: r.relative_url,\n  //             url: r.secure_url\n  //         }\n  //\n  //         console.log(tmp);\n  //         Meteor.call('updateReferenceFile', [cate, tmp], (err, res) => {\n  //             inst.uploading.set(false);//Make it false even if it failed. Users should know that its not uploading anymore.\n  //             if (err) {\n  //                 console.log(err);\n  //\n  //                 var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n  //                 tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n  //                 try{if(err.error)tmp.push(err.error);}catch (cat){}\n  //                 Session.set(\"showErrorDlg\",tmp)\n  //\n  //                 //If updating in DB failed. Then delete in Amazon as well.\n  //                 var fileObj = inst.fileObj.get();\n  //                 S3.delete(fileObj.relative_url,function(error, result){})\n  //             } else {\n  //\n  //             }\n  //\n  //         });\n  //\n  //\n  //     });\n  //     // for (var i = 0, ln = files.length; i < ln; i++) {\n  //     //     propertyImagesCollection.insert(files[i], function (err, fileObj) {\n  //     //         // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n  //     //         console.log(fileObj);\n  //     //         var cursor = propertyImagesCollection.find(fileObj._id);\n  //     //\n  //     //         var liveQuery = cursor.observe({\n  //     //             changed: function(newImage, oldImage) {\n  //     //\n  //     //                 console.log(\"Inside live query \");\n  //     //                 console.log(newImage);\n  //     //                 if (newImage.isUploaded()) {\n  //     //                     liveQuery.stop();\n  //     //\n  //     //                     // Call your onUploaded callback here...\n  //     //                 }\n  //     //             }\n  //     //         });\n  //     //     });\n  //     // }\n  // },\n\n});\n\nfunction showSaveBtn(ele) {\n  $(ele).parents('div.inp-hold').find('.overlay-text').fadeOut();\n  $(ele).fadeOut();\n  $(ele).parent('div.inp-hold').find('.save-btn').addClass('show-save');\n  $(ele).parent('div.inp-hold').find('div.cancel-div').css('display', 'block');\n  $(ele).parent('div.inp-hold').find('input').focus();\n}\n\nfunction hideSaveBtn(ele) {\n  $(ele).parents('div.inp-hold').find('.save-btn').removeClass('show-save');\n  $(ele).parents('div.inp-hold').find('div.cancel-div').css('display', 'none');\n  $(ele).parents('div.inp-hold').find('.change-click').fadeIn();\n  $(ele).parents('div.inp-hold').find('.overlay-text').fadeIn();\n}\n\nTemplate.loginFormSetPassword.onCreated(() => {\n  let template = Template.instance();\n  template.formMessages = new ReactiveVar({});\n  template.isLoading = new ReactiveVar(false);\n});\nTemplate.loginFormSetPassword.helpers(LoginFormSharedHelpers);\nTemplate.loginFormSetPassword.events({\n  /**\n   * Submit form for password update\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"submit form\": function (event, template) {\n    event.preventDefault();\n    event.stopPropagation();\n    template.$(\"button[type=submit]\").attr(\"disabled\", true);\n    let password1Input = template.$(\".login-input--password1\");\n    let password2Input = template.$(\".login-input--password2\");\n    let password1 = password1Input.val().trim();\n    let password2 = password2Input.val().trim();\n    let templateInstance = Template.instance();\n    var errors = [];\n\n    if (password1 != password2) {\n      errors.push({\n        error: \"INVALID_PASSWORD\",\n        reason: \"Passwords doesn't match\"\n      }); // errors.password2 = [\n      //     {\n      //         error: \"INVALID_PASSWORD\",\n      //         reason: \"Passwords doesn't match\"\n      //     }\n      // ]\n      // templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);//We need it here because line 560 errors.password2 = validatedPassword2; will over write this message if we don't return here. Also array merge isn't an option as our UI is not ready to show multiple messages. It can only take 1 error at a time.\n      // templateInstance.formMessages.set({\n      //     errors: errors\n      // });\n      // return;\n    } // We only check if it exists, just in case we\"ve change the password strength and want the\n    // user to have an opportunity to update to a stronger password\n    // let validatedPassword1 = LoginFormValidation.password(password1);//Not needed as we are doing equal check\n\n\n    let validatedPassword2 = LoginFormValidation.password(password2, {\n      validationLevel: \"length\"\n    });\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true); // if (validatedPassword1 !== true) {\n    //     errors.push(validatedPassword1);\n    // }\n\n    if (validatedPassword2 !== true) {\n      errors.push(validatedPassword2);\n    }\n\n    if (errors.length) {\n      templateInstance.$(\"button[type=submit]\").attr(\"disabled\", false);\n      templateInstance.formMessages.set({\n        errors: errors\n      }); // prevent signup\n\n      templateInstance.isLoading.set(false);\n      return;\n    }\n\n    Meteor.call('setUserPwd', [Meteor.userId(), password2], function (error, result) {\n      // templateInstance.isLoading.set(false);\n      if (error) {\n        templateInstance.$(\"button[type=submit]\").attr(\"disabled\", false); // Show some error message\n\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n        Session.set('localHasPasswordSet', true);\n        templateInstance.$(\".login-input--password1, .login-input--password2\").val('');\n        $('#setpass-dlg .changePwdAlertMsgs p, #setpass-dlg .help-block p').html(''); // // Close dropdown or navigate to page\n\n        templateInstance.formMessages.set({\n          info: [{\n            reason: 'Password successfully set'\n          }]\n        });\n        if ($) if ($.fancybox) {\n          $.fancybox.close();\n          templateInstance.formMessages.set({});\n        }\n      }\n    });\n  }\n});\nTemplate.loginFormChangePassword.onCreated(() => {\n  let template = Template.instance();\n  template.formMessages = new ReactiveVar({});\n  template.isLoading = new ReactiveVar(false);\n});\nTemplate.loginFormChangePassword.helpers(LoginFormSharedHelpers);\nTemplate.loginFormChangePassword.events({\n  /**\n   * Submit form for password update\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"submit form\": function (event, template) {\n    event.preventDefault();\n    event.stopPropagation();\n    template.$(\"button[type=submit]\").attr(\"disabled\", true);\n    let oldPasswordInput = template.$(\".login-input--oldPassword\");\n    let passwordInput = template.$(\".login-input--password\");\n    let oldPassword = oldPasswordInput.val().trim();\n    let password = passwordInput.val().trim(); // We only check if it exists, just incase we\"ve change the password strength and want the\n    // user to have an oppurtinity to update to a stronger password\n\n    let validatedOldPassword = LoginFormValidation.password(oldPassword, {\n      validationLevel: \"exists\"\n    });\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"length\"\n    });\n    let templateInstance = Template.instance();\n    templateInstance.isLoading.set(true);\n    var errors = [];\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n\n    if (oldPassword == password) {\n      errors.push({\n        error: \"INVALID_PASSWORD\",\n        reason: \"New password cannot be same as old password.\"\n      }); // errors.password2 = [\n      //     {\n      //         error: \"INVALID_PASSWORD\",\n      //         reason: \"Passwords doesn't match\"\n      //     }\n      // ]\n      // templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);//We need it here because line 560 errors.password2 = validatedPassword2; will over write this message if we don't return here. Also array merge isn't an option as our UI is not ready to show multiple messages. It can only take 1 error at a time.\n      // templateInstance.formMessages.set({\n      //     errors: errors\n      // });\n      // return;\n    }\n\n    if (validatedOldPassword !== true) {\n      errors.push(validatedOldPassword);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      templateInstance.$(\"button[type=submit]\").attr(\"disabled\", false);\n      templateInstance.formMessages.set({\n        errors: errors\n      }); // prevent signup\n\n      templateInstance.isLoading.set(false);\n      return;\n    }\n\n    Accounts.changePassword(oldPassword, password, error => {\n      //console.log('Here in callback');\n      //templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);\n      templateInstance.isLoading.set(false);\n\n      if (error) {\n        templateInstance.$(\"button[type=submit]\").attr(\"disabled\", false); // Show some error message\n\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n        templateInstance.$(\".login-input--oldPassword, .login-input--password\").val('');\n        $('#changepass-dlg .changePwdAlertMsgs p, #changepass-dlg .help-block p').html(''); //$('.login-input--password, .login-input--oldPassword').val('');\n        // // Close dropdown or navigate to page\n\n        templateInstance.formMessages.set({\n          info: [{\n            reason: 'Password successfully changed'\n          }]\n        });\n        if ($) if ($.fancybox) {\n          $.fancybox.close();\n          templateInstance.formMessages.set({});\n        }\n      }\n    });\n  }\n});\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction isIE() {\n  var myNav = navigator.userAgent.toLowerCase();\n  return myNav.indexOf('msie') != -1 ? parseInt(myNav.split('msie')[1]) : false;\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"propertyApplications.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/propertyApplications.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./pagination.html\");\nmodule.link(\"./propertyApplications.html\");\nlet SimpleSchema;\nmodule.link(\"simpl-schema\", {\n  default(v) {\n    SimpleSchema = v;\n  }\n\n}, 0);\n\n// SimpleSchema.extendOptions(['autoform']);\n// window.deactivateInProgress = '';\nfunction setFilters() {\n  var userFilters = Session.get('userFilters');\n\n  try {\n    if (userFilters.check) {\n      for (var k = 0; k < userFilters.check.length; k++) {\n        if (userFilters.check[k].val == 'all') continue;\n        if (userFilters.check[k].val == 'clearall') continue;\n\n        if (userFilters.check[k].enabled) {\n          $(\".dropdown-menu input[value='\" + userFilters.check[k].val + \"']\").prop('checked', true);\n        }\n\n        dropdownCheckbox();\n      }\n    }\n\n    if (userFilters.s1) {\n      var offerRangeVal = document.getElementById('offerRangeInput');\n      offerRangeVal.noUiSlider.set(userFilters.s1.range);\n    }\n  } catch (e) {}\n\n  dropdownCheckbox();\n}\n\nfunction applyFilters() {\n  // console.log('event applyFilters jquery')\n  var slider = document.getElementById('offerRangeInput');\n  var offerRangeVal = slider.noUiSlider.get();\n  var userFilters = Session.get('userFilters');\n  userFilters.s1.range = offerRangeVal;\n  Session.set('userFilters', userFilters);\n}\n\nfunction applyFilterValues() {\n  // console.log('event applyFiltersValues jquery')\n  var slider = document.getElementById('offerRangeInput');\n  var offerRangeVal = slider.noUiSlider.get();\n  $('.filterS1l').html(numDifferentiation(offerRangeVal[0]));\n  $('.filterS1h').html(numDifferentiation(offerRangeVal[1])); // var userFilters = Session.get('userFilters');\n  // userFilters.s1.range = offerRangeVal;\n  // Session.set('userFilters',userFilters);\n  // $('.filterS2l').html(numDifferentiation(priceRange[0] ))\n  // $('.filterS2h').html(numDifferentiation(priceRange[1] ))\n}\n\nfunction numDifferentiation(val) {\n  if (isNaN(val)) return 0;\n  val = parseInt(val);\n  if (val >= 1000000000) val = (val / 1000000000).toFixed(0) + ' Billion';else if (val >= 1000000) val = (val / 1000000).toFixed(0) + ' Million';else if (val >= 1000) val = val.toFixed(0);else val = val.toFixed(0);\n  return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction startUISlider(data) {\n  var slider = document.getElementById('offerRangeInput');\n  noUiSlider.create(slider, {\n    start: data.s1.start,\n    connect: true,\n    step: 1,\n    range: {\n      'min': data.s1.range[0],\n      'max': data.s1.range[1]\n    },\n    format: wNumb({\n      decimals: 0\n    })\n  });\n  slider.noUiSlider.on('update', function () {\n    applyFilterValues();\n  });\n  slider.noUiSlider.on('change', function () {\n    applyFilters();\n  });\n  setTimeout(function () {\n    setFilters();\n  }, 400);\n}\n\nfunction startFilters() {\n  try {\n    var gDefaultFilters = Session.get('gDefaultFilters');\n    var propertyData = Session.get('propertyData');\n\n    if (propertyData.auctionId) {\n      var auction = Collections.Auctions.findOne(propertyData.auctionId);\n      var min = auction.price * 0.7;\n      var max = auction.price * 1.5;\n      gDefaultFilters.s1 = {\n        \"start\": [min, max],\n        \"range\": [min, max]\n      };\n      startUISlider({\n        \"s1\": gDefaultFilters.s1\n      });\n      $('.filterS1l').html(numDifferentiation(min));\n      $('.filterS1h').html(numDifferentiation(max));\n    }\n\n    var userFilters = Session.get('userFilters');\n    var fetchPrevFilters = true;\n    var userFiltersAuctionId = Session.get('userFiltersAuctionId');\n    if (!userFiltersAuctionId) fetchPrevFilters = false;\n    if (userFiltersAuctionId != propertyData.auctionId) fetchPrevFilters = false;\n    if (!userFilters) fetchPrevFilters = false;\n    if (fetchPrevFilters) Session.set('userFilters', userFilters);else Session.set('userFilters', gDefaultFilters);\n    Session.set('userFiltersAuctionId', propertyData.auctionId);\n    dropdownCheckbox();\n    setTimeout(function () {\n      dropdownCheckbox();\n    }, 100);\n    setTimeout(function () {\n      dropdownCheckbox();\n    }, 1000);\n  } catch (e) {\n    // console.log('Catch of startFilters')\n    console.log(e);\n  }\n}\n\nfunction getPaginationData2D(totalResultsCount, resultsPerPage, dimensionNumber) {\n  // Page numbers are 2 dimensional, making it store page numbers of 2 pagination elements on the page.\n  //dimensionNumber tells you on which dimension is this method working on ; should start with 0, 1, 2 like an array numbers.\n  var currentPageNo = FlowRouter.current().params.pageno;\n  let originalPgSplit = null,\n      validOriginalPgSplit = false;\n\n  if (currentPageNo) {\n    originalPgSplit = currentPageNo.toString().split('-');\n\n    if (originalPgSplit.length == 2) {\n      if (!isNaN(originalPgSplit[dimensionNumber])) {\n        currentPageNo = parseInt(originalPgSplit[dimensionNumber]);\n        validOriginalPgSplit = true;\n      }\n    }\n  }\n\n  if (!validOriginalPgSplit) {\n    //invalid originalPgSplit; reset it\n    originalPgSplit = [1, 1];\n  }\n\n  if (!currentPageNo) {\n    currentPageNo = 1;\n  }\n\n  var pages = [],\n      prevPage = {},\n      nextPage = {};\n  var pgMin = currentPageNo - 4,\n      pgMax = currentPageNo + 5,\n      maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n  if (pgMin < 1) pgMin = 1;\n  if (pgMax < 1) pgMax = 1;\n  if (maxPages < 1) maxPages = 1;\n  if (pgMin > maxPages) currentPageNo = maxPages;\n  let tmp = {};\n  var href = '';\n  var cRoute = FlowRouter.current();\n\n  for (var i = pgMin; i <= maxPages; i++) {\n    cRoute.params['pageno'] = dimensionNumber == 0 ? i + '-' + originalPgSplit[1] : originalPgSplit[0] + '-' + i;\n    href = FlowRouter.url(cRoute.route.name, cRoute.params, cRoute.queryParams);\n    tmp = {\n      \"href\": href,\n      \"text\": i\n    };\n\n    if (i == currentPageNo) {\n      tmp['href'] = 'javascript:void(0);';\n      tmp['current'] = true;\n    }\n\n    pages.push(tmp);\n  }\n\n  var prevPageNo = currentPageNo - 1,\n      nextPageNo = currentPageNo + 1;\n\n  if (prevPageNo < 1) {\n    prevPage['href'] = 'javascript:void(0)';\n    prevPage['text'] = 'Previous';\n    prevPage['disabled'] = 'disabled';\n  } else {\n    cRoute.params['pageno'] = dimensionNumber == 0 ? prevPageNo + '-' + originalPgSplit[1] : originalPgSplit[0] + '-' + prevPageNo;\n    prevPage['href'] = FlowRouter.url(cRoute.route.name, cRoute.params, cRoute.queryParams);\n    prevPage['text'] = 'Previous';\n  }\n\n  if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n  if (nextPageNo == currentPageNo) {\n    nextPage['href'] = 'javascript:void(0)';\n    nextPage['text'] = 'Next';\n    nextPage['disabled'] = 'disabled';\n  } else {\n    cRoute.params['pageno'] = dimensionNumber == 0 ? nextPageNo + '-' + originalPgSplit[1] : originalPgSplit[0] + '-' + nextPageNo;\n    nextPage['href'] = FlowRouter.url(cRoute.route.name, cRoute.params, cRoute.queryParams);\n    nextPage['text'] = 'Next';\n  }\n\n  return {\n    \"prevPage\": prevPage,\n    \"pages\": pages,\n    \"nextPage\": nextPage\n  };\n}\n\nfunction numFormat(x) {\n  //var x=12345652457.557;\n  //console.log(x)\n  if (!x) return x;\n  x = x.toString();\n  var afterPoint = '';\n  if (x.indexOf('.') > 0) afterPoint = x.substring(x.indexOf('.'), x.length);\n  afterPoint = afterPoint.substr(0, 3);\n  x = Math.floor(x);\n  x = x.toString();\n  var lastThree = x.substring(x.length - 3);\n  var otherNumbers = x.substring(0, x.length - 3);\n  if (otherNumbers != '') lastThree = ',' + lastThree;\n  var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree + afterPoint;\n  return res;\n}\n\nTemplate.propertyApplications.onCreated(function () {\n  this.deactivateInProgress = new ReactiveVar(false);\n  Session.set('propertyData', false);\n  var gDefaultFilters = {};\n  gDefaultFilters.check = [{\n    val: 'empName',\n    label: 'Employer name'\n  }, {\n    val: 'salary',\n    label: 'Salary'\n  }, {\n    val: 'workRef',\n    label: 'Work Reference'\n  }, {\n    val: 'passport',\n    label: 'Passport'\n  }, {\n    val: 'pps',\n    label: 'PPS'\n  }, {\n    val: 'landlordRef',\n    label: 'Landlord Reference'\n  }, {\n    val: 'financialRef',\n    label: 'Financial Reference'\n  }, {\n    val: 'govtID',\n    label: 'Govt. ID'\n  }, {\n    val: 'resume',\n    label: 'Resume'\n  }];\n  gDefaultFilters.s1 = {\n    \"start\": [0, 1000],\n    \"range\": [0, 1000]\n  };\n  Session.set('gDefaultFilters', gDefaultFilters);\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    var pageno = FlowRouter.getParam('pageno');\n    var PAresperpage = 20;\n    var EEresperpage = 100;\n    instance.subscribe('Config');\n    var id = FlowRouter.getParam('id');\n\n    if (id) {\n      instance.subscribe(\"PropertyApplications\", {\n        viewName: 'PropertyApplications.view',\n        pageno: pageno,\n        PAresperpage: PAresperpage,\n        EEresperpage: EEresperpage,\n        id: id\n      });\n      instance.subscribe(\"total-PropertyApplications\", {\n        viewName: 'PropertyApplications.view',\n        pageno: pageno,\n        PAresperpage: PAresperpage,\n        EEresperpage: EEresperpage,\n        id: id\n      });\n      instance.subscribe(\"total-EmailEnquiries\", {\n        viewName: 'PropertyApplications.view',\n        pageno: pageno,\n        PAresperpage: PAresperpage,\n        EEresperpage: EEresperpage,\n        id: id\n      });\n    }\n\n    instance.subscribe('userData');\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  }); // var userFilters = Session.get('userFilters');\n  // if(!userFilters)Session.set('gDefaultFilters',gDefaultFilters);\n});\nTemplate.propertyApplications.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  avgOffer: function () {\n    var tmp = Collections.PA_AvgOffer.find().fetch();\n\n    if (tmp.length) {\n      var offer = tmp[0]['avgOffer'];\n      if (offer < 1) return 0;\n      return parseInt(offer);\n    } else return false;\n  },\n  dataFull: function () {\n    var propertyData = Session.get('propertyData');\n\n    try {\n      var selector = {\n        auctionId: propertyData.auctionId,\n        isArchived: false\n      }; // var totalResultsCount = Collections.Bids.find(selector).count();\n\n      var totalResultsCount = Counts.get(\"total-PropertyApplications\");\n      clearMeta();\n\n      try {\n        var title = '';\n        if (totalResultsCount > 1) title = totalResultsCount + ' applications';else if (totalResultsCount > 1) title = totalResultsCount + ' applications';else title = 'Applications';\n        title += ' for ' + propertyData.address.address + ', ' + propertyData.address.area;\n        if (propertyData.address.county) title += ', ' + propertyData.address.county;\n        DocHead.setTitle(titleCase(title) + ' | SpotMyCrib Admin');\n        DocHead.addMeta({\n          name: \"description\",\n          content: \"View applications for property \" + propertyData.type + \", choose a winning tenant, see their social profiles and much more.\"\n        });\n      } catch (err) {\n        DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n        DocHead.addMeta({\n          name: \"description\",\n          content: \"\"\n        });\n      }\n\n      return {\n        totalResultsCount: totalResultsCount\n      };\n    } catch (err) {}\n  },\n  dataChosen: function () {\n    var propertyData = Session.get('propertyData');\n\n    if (!propertyData) {\n      console.log(\"Empty project data\");\n      return false;\n    }\n\n    try {\n      var selector = {\n        auctionId: propertyData.auctionId,\n        isArchived: false,\n        chosen: true\n      };\n      globlaAuctionId1 = propertyData.auctionId;\n      globalAuctionData1 = propertyData.auction;\n      var totalChosenCount = Collections.Bids.find(selector).count(); /// don't use the blow code, it doesn't have pagination.\n      // var totalChosenCount = Counts.get(\"total-PropertyApplications\");\n\n      var retChosen = Collections.Bids.find(selector, {\n        transform: function (doc) {\n          doc.auction = Collections.Auctions.findOne({\n            _id: doc.auctionId\n          }); // if (doc.auctionId != globlaAuctionId1 || !globalAuctionData1._id) {\n          //     doc.auction = Collections.Auctions.findOne({\n          //         _id: doc.auctionId\n          //     });\n          // } else {\n          //     doc.auction = globalAuctionData1;\n          // }\n          // doc.user = Meteor.users.findOne({\n          //     _id: doc.userId\n          // });\n\n          return doc;\n        },\n        limit: 100,\n        //Hardcoded logic for now, may be put a max limit of 100 chosen\n        sort: {\n          updatedAt: -1\n        }\n      });\n      return {\n        resultsChosen: retChosen,\n        totalChosenCount: totalChosenCount\n      };\n    } catch (err) {}\n  },\n  dataEmailEnquiries: function () {\n    var propertyData = Session.get('propertyData');\n\n    if (!propertyData) {\n      console.log(\"Empty project data\");\n      return false;\n    }\n\n    try {\n      var selector = {\n        propertyId: propertyData._id,\n        isArchived: false\n      }; /////PAGINATION\n\n      var resultsPerPage = 100;\n      var currentPageNo = FlowRouter.current().params.pageno;\n\n      if (currentPageNo) {\n        let tmp = currentPageNo.toString().split('-');\n\n        if (tmp.length == 2) {\n          if (!isNaN(tmp[1])) currentPageNo = parseInt(tmp[1]);\n        }\n      }\n\n      if (!currentPageNo) {\n        currentPageNo = 1;\n      }\n\n      var skip = (currentPageNo - 1) * resultsPerPage; // var totalEnquiryCount = Collections.EmailEnquiries.find(selector).count();\n\n      var totalEnquiryCount = Counts.get(\"total-EmailEnquiries\");\n      var retChosen = Collections.EmailEnquiries.find(selector, {\n        limit: resultsPerPage,\n        sort: {\n          updatedAt: -1\n        } // skip: skip//not needed as the server would do this.\n\n      });\n      let paginationNeeded = totalEnquiryCount / resultsPerPage > 1.0 ? true : false;\n      return {\n        resultsEnquiries: retChosen,\n        totalEnquiryCount: totalEnquiryCount,\n        pagination: paginationNeeded ? getPaginationData2D(totalEnquiryCount, resultsPerPage, 1) : false,\n        paginationNeede: paginationNeeded\n      };\n    } catch (err) {}\n  },\n  dataNonChosen: function () {\n    var propertyData = Session.get('propertyData');\n    var userFilters = Session.get('userFilters');\n\n    if (!propertyData) {\n      console.log(\"Empty project data\");\n      return false;\n    }\n\n    var selector = {\n      auctionId: propertyData.auctionId,\n      isArchived: false,\n      chosen: false\n    };\n\n    if (userFilters) {\n      if (userFilters.s1.range) selector.yourBid = {\n        $gt: parseInt(userFilters.s1.range[0]),\n        $lt: parseInt(userFilters.s1.range[1])\n      };\n    }\n\n    globlaAuctionId1 = propertyData.auctionId;\n    globalAuctionData1 = propertyData.auction; /////PAGINATION\n\n    var resultsPerPage = 20;\n    var currentPageNo = FlowRouter.current().params.pageno;\n\n    if (currentPageNo) {\n      let tmp = currentPageNo.toString().split('-');\n\n      if (tmp.length == 2) {\n        if (!isNaN(tmp[0])) currentPageNo = parseInt(tmp[0]);\n      }\n    }\n\n    if (!currentPageNo) {\n      currentPageNo = 1;\n    }\n\n    var skip = (currentPageNo - 1) * resultsPerPage;\n    var urlBase = 'account/propertyapplications/' + FlowRouter.current().params.id + '/'; // var totalNonChosenCount = Collections.Bids.find(selector).count();\n\n    var totalNonChosenCount = Counts.get(\"total-PropertyApplications\");\n    var resultsNonChosen = Collections.Bids.find(selector, {\n      transform: function (doc) {\n        doc.userStatic = Meteor.users.findOne({\n          _id: doc.userId\n        });\n        doc.auction = Collections.Auctions.findOne({\n          _id: doc.auctionId\n        }); // if (doc.auctionId != globlaAuctionId1 || !globalAuctionData1._id) {\n        //     doc.auction = Collections.Auctions.findOne({\n        //         _id: doc.auctionId\n        //     });\n        // } else {\n        //     doc.auction = globalAuctionData1;\n        // }\n\n        return doc;\n      },\n      limit: resultsPerPage,\n      sort: {\n        updatedAt: -1\n      } // skip: skip//not needed as the server would do this.\n\n    }).fetch();\n    if (userFilters) if (userFilters.check) {\n      var isItNeeded = true;\n      var countActiveFilters = 0;\n\n      for (var k = 0; k < userFilters.check.length; k++) {\n        if (userFilters.check[k].val == 'all') continue;\n        if (userFilters.check[k].val == 'clearall') continue;\n        if (userFilters.check[k].enabled) countActiveFilters++;\n      }\n\n      if (!countActiveFilters) isItNeeded = false; //if none sel do nothing.\n\n      if (isItNeeded) {\n        var newArr = [];\n        var selSatisfiedCount = 0;\n\n        for (var i = 0; i < resultsNonChosen.length; i++) {\n          selSatisfiedCount = 0;\n          var ele = resultsNonChosen[i];\n          var ref = ele.userStatic.profile.references;\n          if (!ref) break;\n\n          for (var j = 0; j < userFilters.check.length; j++) {\n            if (!userFilters.check[j].enabled) continue; //if not enabled , then don' consider it\n\n            if (userFilters.check[j].val == 'all') continue;\n            if (userFilters.check[j].val == 'clearall') continue;\n\n            if (userFilters.check[j].val == 'empName' && ref.employerName) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'salary' && ref.employerTakeHome) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'workRef' && ref.hasWorkRef) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'passport' && ref.hasPassport) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'pps' && ref.hasPPS) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'landlordRef' && ref.hasLandlordRef) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'financialRef' && ref.hasFinancialRef) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'govtID' && ref.hasGovtID) {\n              selSatisfiedCount++;\n              continue;\n            }\n\n            if (userFilters.check[j].val == 'resume' && ref.hasResume) {\n              selSatisfiedCount++;\n              continue;\n            } // if(userFilters.check[j].val == 'empName' && !user.profile.references.employerName){skip=true;break;}\n            // if(userFilters.check[j].val == 'salary' && !user.profile.references.employerTakeHome){skip=true;break;}\n            // if(userFilters.check[j].val == 'workRef' && !user.profile.references.hasWorkRef){skip=true;break;}\n            // if(userFilters.check[j].val == 'passport' && !user.profile.references.hasPassport){skip=true;break;}\n            // if(userFilters.check[j].val == 'pps' && !user.profile.references.hasPPS){skip=true;break;}\n            // if(userFilters.check[j].val == 'landlordRef' && !user.profile.references.hasLandlordRef){skip=true;break;}\n            // if(userFilters.check[j].val == 'financialRef' && !user.profile.references.hasFinancialRef){skip=true;break;}\n            // if(userFilters.check[j].val == 'govtID' && !user.profile.references.hasGovtID){skip=true;break;}\n            // if(userFilters.check[j].val == 'resume' && !user.profile.references.hasResume){skip=true;break;}\n\n          }\n\n          if (selSatisfiedCount == countActiveFilters) newArr.push(ele); // if (!skip)\n        }\n\n        resultsNonChosen = newArr;\n      }\n    }\n    let paginationNeeded = totalNonChosenCount / resultsPerPage > 1.0 ? true : false;\n    return {\n      resultsNonChosen: resultsNonChosen,\n      totalNonChosenCount: totalNonChosenCount,\n      pagination: paginationNeeded ? getPaginationData2D(totalNonChosenCount, resultsPerPage, 0) : false,\n      paginationNeeded: paginationNeeded\n    };\n  },\n  showFilters: function () {\n    // return true;\n    var propertyData = Session.get('propertyData');\n\n    try {\n      var selector = {\n        auctionId: propertyData.auctionId,\n        isArchived: false\n      }; // var totalResultsCount = Collections.Bids.find(selector).count();\n\n      var totalResultsCount = Counts.get(\"total-PropertyApplications\");\n      if (totalResultsCount > 5) return true;\n    } catch (e) {}\n\n    return false;\n  },\n  initFilters: function () {\n    setTimeout(startFilters, 500);\n  },\n  propertyData: function () {\n    var ret = getpropertyData(); //Now check if he has auctionId passed in query & prop has no auction ID. if yes, update your session\n\n    try {\n      if (FlowRouter.current().params.query.auctionId && !ret.auctionId) ret.auctionId = FlowRouter.current().params.query.auctionId;\n    } catch (e) {}\n\n    if (!ret.auctionId) {\n      var prevRoute = Session.get('prevRoute');\n\n      if (prevRoute) {\n        FlowRouter.go(prevRoute.name, prevRoute.args);\n        Session.set('prevRoute', false);\n      } else {\n        FlowRouter.go(\"/account/myproperies/\", {\n          pageno: 1\n        });\n      }\n    }\n\n    Session.set('propertyData', ret);\n    return ret;\n  },\n  // time: function(){\n  //\n  //     var propertyData = Session.get('propertyData');\n  //     var timestamp = TimeSync.serverTime(null, 30000);\n  //     if(!propertyData.auction.endDate || !timestamp)return;\n  //\n  //\n  //     var dend = Date.parse(propertyData.auction.endDate);\n  //     var timeDiff = dend - timestamp ;\n  //     if(timeDiff<0)return false;\n  //\n  //     var day = Math.floor(timeDiff / (1000 * 3600 * 24))\n  //     var hour = Math.floor(timeDiff / (1000 * 3600 ))\n  //     var min = Math.floor(timeDiff / (1000 * 60 ) )\n  //     hour = hour - (day * 24);\n  //     min = min - (day * 24* 60) - (hour * 60);\n  //     return {\"day\":day,\"hour\":hour,\"min\":min}\n  // },\n  isAuctionClosed: function () {\n    // var timestamp = TimeSync.serverTime(null, 30000);\n    var timestamp = new Date();\n    var propertyData = Session.get('propertyData');\n    var dend = Date.parse(propertyData.auction.endDate);\n    var timeDiff = dend - timestamp;\n\n    if (timeDiff < 0) {\n      return true;\n    }\n\n    return false;\n  },\n  assistanceAlreadyRequested: function () {\n    //Just to make this reactive\n    var user = Meteor.user();\n    if (user) if (user.profile) if (user.profile.assistanceRequested) {\n      return user.profile.assistanceRequested || Session.get('assistanceRequested');\n    }\n    return Session.get('assistanceRequested');\n  },\n  deactivateInProgress: function () {\n    deactivateInProgress = Template.instance().deactivateInProgress;\n    return Template.instance().deactivateInProgress.get();\n  },\n  userFilters: function () {\n    return Session.get('userFilters');\n  }\n});\nTemplate.propertyApplications.onRendered(function () {\n  try {\n    jQuery(\"html,body\").animate({\n      scrollTop: 0\n    }, 250);\n  } catch (e) {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }\n});\nTemplate.propertyApplications.events({\n  \"click .showEditPropertyForm\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        id: FlowRouter.current().params.id,\n        pageno: FlowRouter.current().params.pageno\n      },\n      scrollTo: 'body'\n    };\n    Session.set('prevRoute', prevRoute);\n    var propertyData = Session.get('propertyData');\n    FlowRouter.go('account/editproperty', {\n      id: propertyData._id\n    });\n  },\n  \"click .deactivatePropertyBtn\": function (event, template) {\n    event.preventDefault();\n    var propertyData = Session.get('propertyData');\n\n    if (!propertyData) {\n      console.log(\"Empty project data\");\n      return false;\n    }\n\n    var user = Meteor.user();\n\n    if (!user) {\n      console.log(\"Invalid user\");\n      return;\n    }\n\n    if (propertyData.createdByAgent != user._id) {\n      console.log(\"Invalid user\");\n      return;\n    }\n\n    $.fancybox({\n      'padding': 0,\n      'href': '#conf-dactivate-pop',\n      afterShow: function (template) {\n        attachEvents();\n      },\n      afterClose: function (template) {\n        console.log(template);\n      }\n    });\n  },\n  \"click .backBtn\": function (event, template) {\n    var prevRoute = Session.get('prevRoute');\n\n    if (prevRoute) {\n      FlowRouter.go(prevRoute.name, prevRoute.args);\n      Session.set('prevRoute', false);\n    } else {\n      FlowRouter.go(\"/account/myproperies/\", {\n        pageno: 1\n      });\n    }\n  },\n  \"click .showCopyDlg\": function (event, template) {\n    var propertyData = Session.get('propertyData');\n    let user = Meteor.user();\n    let sluggedName = slugifyEmailAddress(user.profile.name);\n    if (!sluggedName) sluggedName = 'rent';\n    let email = sluggedName + '-let-' + propertyData.auction.lettingAuctionCode.toLowerCase() + \"@spotmycrib.ie\";\n    $('#agentPropertyEmailField').val(email);\n    var url = FlowRouter.url('letting', {\n      key: propertyData.auction.lettingAuctionCode\n    });\n    $('#propertyLinkField').val(url);\n    $.fancybox({\n      'padding': 0,\n      'href': '#propertyLinkDlg',\n      afterShow: function (template) {\n        $('#agentPropertyEmailField').select();\n        $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click', function () {\n          $('#agentPropertyEmailField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'propertyApplicationsPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n        });\n        $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click', function () {\n          $('#propertyLinkField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'propertyApplicationsPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n        });\n        $('#propertyLinkDlg .cancelBtn').unbind().bind('click', function () {\n          $.fancybox.close();\n        });\n      }\n    });\n  },\n  \"click .jns-dropdown-btn\": function (event, template) {\n    $('.jns-dropdown-area').toggle();\n  }\n});\nTemplate.bidList.onCreated(function () {\n  this.choosingInProgress = new ReactiveVar(false);\n  this.unChoosingInProgress = new ReactiveVar(false);\n});\nTemplate.bidList.helpers({\n  user: function () {\n    // debugger;\n    var ret = Meteor.users.find({\n      _id: this.userId\n    }).fetch();\n    return ret[0];\n  },\n  canAfford: function (salary) {\n    //This works based on the bid (not rent)\n    if (!this.yourBid) {\n      return false;\n    }\n\n    if (salary * 0.4 >= this.yourBid) {\n      return true;\n    }\n\n    return false;\n  },\n  choosingInProgress: function () {\n    return Template.instance().choosingInProgress.get();\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  classBidList: function () {\n    if (this.chosen) return 'active';\n    var propertyData = Session.get('propertyData');\n\n    try {\n      var a = Collections.Auctions.find({\n        _id: propertyData.auction._id\n      }).fetch();\n      propertyData.auction = a[0];\n      if (propertyData.auction.chosenBids.length) return 'archive';\n    } catch (e) {}\n\n    return 'border-top';\n  }\n});\nTemplate.bidList.events({\n  \"click .chooseTenant\": function (event, template) {\n    template.choosingInProgress.set(true);\n    choosingInProgress = template.choosingInProgress;\n    var r = confirm(\"Are you sure? This will send a confirmation mail to the applicant.\");\n\n    if (!r) {\n      template.choosingInProgress.set(false);\n      return;\n    }\n\n    Meteor.call('chooseWinning', [this.auctionId, this._id], function (error, result) {\n      choosingInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(error.error);\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      console.log(\"Success\");\n    });\n  },\n  \"click .unChooseTenant\": function (event, template) {\n    template.unChoosingInProgress.set(true);\n    unChoosingInProgress = template.unChoosingInProgress;\n    var r = confirm(\"Are you sure? This will send a pending mail to the applicant.\");\n\n    if (!r) {\n      template.unChoosingInProgress.set(false);\n      return;\n    }\n\n    Meteor.call('unChooseWinning', [this.auctionId, this._id], function (error, result) {\n      unChoosingInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(error.error);\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      console.log(\"Success\");\n    });\n  },\n  \"click .inviteForViewingBtn\": function (event, template) {\n    var propertyData = Session.get('propertyData');\n    var ret = Meteor.users.find({\n      _id: this.userId\n    }).fetch();\n    var inviteForViewing = Session.get('inviteForViewingData');\n    var today = new Date();\n    var tomorrow = new Date();\n    tomorrow.setDate(today.getDate() + 1);\n    tomorrow.setMinutes(0);\n    tomorrow.setSeconds(0);\n    var h = tomorrow.getHours();\n    if (h < 9) h = 9;else if (h > 20) h = 20;\n    tomorrow.setHours(h);\n    var inviteDate = tomorrow;\n\n    try {\n      if (inviteForViewing.inviteDate) inviteDate = inviteForViewing.inviteDate;\n    } catch (e) {}\n\n    Session.set('inviteForViewingData', {\n      user: ret[0],\n      bid: this,\n      inviteDate: inviteDate\n    });\n    $.fancybox({\n      'padding': 0,\n      'href': '#inviteForViewingDlg',\n      afterShow: function () {\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var d = inviteForViewing.inviteDate;\n        var am = ' AM';\n        var df = d.getMonth() + 1 + '/' + d.getDate() + '/' + d.getFullYear() + ' ' + d.getHours() + ':' + d.getMinutes();\n        if (d.getHours() > 12) am = ' PM';\n        df = df + am;\n        $('#inviteDate').val(df);\n      }\n    });\n  }\n});\nTemplate.emailEnquiryList.onCreated(function () {\n  this.choosingInProgress = new ReactiveVar(false);\n  this.unChoosingInProgress = new ReactiveVar(false);\n});\nTemplate.emailEnquiryList.helpers({\n  user: function () {\n    // debugger;\n    var ret = Meteor.users.find({\n      _id: this.userId\n    }).fetch();\n    return ret[0];\n  },\n  canAfford: function (salary) {\n    //This works based on the bid (not rent)\n    if (!this.yourBid) {\n      return false;\n    }\n\n    if (salary * 0.4 >= this.yourBid) {\n      return true;\n    }\n\n    return false;\n  },\n  choosingInProgress: function () {\n    return Template.instance().choosingInProgress.get();\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  classBidList: function () {\n    if (this.chosen) return 'active';\n    var propertyData = Session.get('propertyData');\n\n    try {\n      var a = Collections.Auctions.find({\n        _id: propertyData.auction._id\n      }).fetch();\n      propertyData.auction = a[0];\n      if (propertyData.auction.chosenBids.length) return 'archive';\n    } catch (e) {}\n\n    return 'border-top';\n  }\n});\nTemplate.emailEnquiryList.events({\n  \"click .inviteForViewingBtn\": function (event, template) {\n    var propertyData = Session.get('propertyData');\n    var ret = Meteor.users.find({\n      _id: this.userId\n    }).fetch();\n    var inviteForViewing = Session.get('inviteForViewingData');\n    var today = new Date();\n    var tomorrow = new Date();\n    tomorrow.setDate(today.getDate() + 1);\n    tomorrow.setMinutes(0);\n    tomorrow.setSeconds(0);\n    var h = tomorrow.getHours();\n    if (h < 9) h = 9;else if (h > 20) h = 20;\n    tomorrow.setHours(h);\n    var inviteDate = tomorrow;\n\n    try {\n      if (inviteForViewing.inviteDate) inviteDate = inviteForViewing.inviteDate;\n    } catch (e) {}\n\n    Session.set('inviteForViewingData', {\n      user: ret[0],\n      bid: this,\n      inviteDate: inviteDate\n    });\n    $.fancybox({\n      'padding': 0,\n      'href': '#inviteForViewingDlg',\n      afterShow: function () {\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var d = inviteForViewing.inviteDate;\n        var am = ' AM';\n        var df = d.getMonth() + 1 + '/' + d.getDate() + '/' + d.getFullYear() + ' ' + d.getHours() + ':' + d.getMinutes();\n        if (d.getHours() > 12) am = ' PM';\n        df = df + am;\n        $('#inviteDate').val(df);\n      }\n    });\n  }\n});\ninviteInProgress = '';\nTemplate.inviteForViewing.onCreated(function () {\n  this.inviteInProgress = new ReactiveVar(false);\n  inviteInProgress = this.inviteInProgress;\n});\nTemplate.inviteForViewing.helpers({\n  data: function () {\n    return Session.get('inviteForViewingData');\n  },\n  inviteInProgress: function () {\n    inviteInProgress = Template.instance().inviteInProgress;\n    return Template.instance().inviteInProgress.get();\n  },\n  inviteDateFormated: function () {\n    var inviteForViewing = Session.get('inviteForViewingData');\n    var options = {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    };\n\n    try {\n      var d = inviteForViewing.inviteDate;\n      return d.toLocaleTimeString(\"en-us\", options);\n    } catch (e) {}\n\n    return;\n  },\n  propertyData: function () {\n    return Session.get('propertyData');\n  }\n});\nTemplate.inviteForViewing.events({\n  'change .inviteDate': function (event, template) {\n    var d = new Date($('.inviteDate').val());\n    var inviteForViewing = Session.get('inviteForViewingData');\n\n    try {\n      inviteForViewing.inviteDate = d;\n      Session.set('inviteForViewingData', inviteForViewing);\n    } catch (e) {}\n  },\n  'click .confirmInviteBtn': function () {\n    var inviteDate = $('.inviteDate').val();\n    var inviteMessage = $('.inviteMessage').val();\n    console.log(inviteDate);\n    var inviteForViewing = Session.get('inviteForViewingData');\n    inviteInProgress.set(true);\n    Meteor.call('sendInviteForViewingEmail', [inviteForViewing.bid._id, inviteDate], function (error, result) {\n      inviteInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      if (result.status == 'Success') {\n        console.log(\"Success\");\n        closePopupEvent();\n      }\n    });\n  },\n  'click .closePopupBtn': function () {\n    closePopupEvent();\n  }\n});\nTemplate.inviteForViewing.onRendered(function () {\n  //Needs to be optimised, this is not the right place to put this code, might cause JS errors if Jquery isn' loaded yet.\n  try {\n    this.$('#inviteDate').datetimepicker();\n    this.$('#moveindate').datetimepicker();\n  } catch (err) {\n    console.log('dp failed');\n  }\n});\n\nfunction attachEvents() {\n  $(\".deactivateConfirmBtn\").unbind().bind(\"click\", function () {\n    deactivateConfEvent();\n  });\n  $(\".closePopupBtn\").unbind().bind(\"click\", function () {\n    closePopupEvent();\n  });\n}\n\nfunction deactivateConfEvent() {\n  var data = Session.get(\"propertyData\");\n  var auctionId = data.auctionId;\n  deactivateInProgress.set(true);\n  Meteor.call('deactivateAuction', auctionId, function (error, result) {\n    deactivateInProgress.set(false);\n\n    if (error) {\n      console.log(error);\n      var tmp = Session.get(\"showErrorDlg\");\n      if (!tmp) tmp = [];\n      tmp.push(\"Failed deactivating. Please try again, try checking your internet connectivity. Contact us if needed.\");\n      Session.set(\"showErrorDlg\", tmp);\n      return;\n    }\n\n    console.log(\"Success\");\n    closePopupEvent();\n    var prevRoute = Session.get('prevRoute');\n\n    if (prevRoute) {\n      FlowRouter.go(prevRoute.name, prevRoute.args);\n      Session.set('prevRoute', false);\n    } else {\n      FlowRouter.go(\"/account/myproperies/\", {\n        pageno: 1\n      });\n    }\n  });\n}\n\nfunction closePopupEvent() {\n  console.log('closePopupEvent');\n  if ($) if ($.fancybox) $.fancybox.close();\n}\n\nfunction getpropertyData() {\n  var id = FlowRouter.current().params.id;\n  var ret = Collections.Properties.find(id, {\n    transform: function (data) {\n      data.auction = Collections.Auctions.findOne(data.auctionId); // data.applicationsReceivedCount = Collections.Bids.find({auctionId:data.auctionId}).count();\n\n      data.applicationsReceivedCount = Counts.get(\"total-PropertyApplications\");\n      data.applicationsActiveCount = Counts.get(\"total-PropertyApplications\"); //Removing the diff between active and total received for now. date jan 9, 2019\n      // data.applicationsActiveCount = Collections.Bids.find({auctionId:data.auctionId,isArchived:false}).count();\n\n      data.chosenApplicationCount = Collections.Bids.find({\n        auctionId: data.auctionId,\n        isArchived: false,\n        chosen: true\n      }).count();\n      return data;\n    },\n    limit: 1\n  }).fetch();\n  Meteor.subscribe('avgOffer', ret[0].auctionId);\n  return ret[0];\n}\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction dropdownCheckbox() {\n  $('.dropdown-menu .checkbox').unbind().on('click', function (event) {\n    var $target = $(event.currentTarget),\n        val = $target.find('input').attr('value'),\n        $inp = $target.find('input'),\n        idx;\n    var userFilters = Session.get('userFilters');\n\n    if (val == 'all') {\n      setTimeout(function () {\n        $('.dropdown-menu input').not(\"[value='clearall']\").prop('checked', true);\n        dropdownCheckbox();\n      }, 10);\n\n      if (userFilters) {\n        for (var i = 0; i < userFilters.check.length; i++) {\n          userFilters.check[i].enabled = \"enabled\";\n        }\n\n        Session.set('userFilters', userFilters);\n      }\n\n      $(event.target).blur();\n      return false;\n    }\n\n    if (val == 'clearall') {\n      setTimeout(function () {\n        $('.dropdown-menu input').prop('checked', false);\n        dropdownCheckbox();\n      }, 10);\n\n      if (userFilters) {\n        for (var i = 0; i < userFilters.check.length; i++) {\n          userFilters.check[i].enabled = \"\";\n        }\n\n        Session.set('userFilters', userFilters);\n      }\n\n      $(event.target).blur();\n      return false;\n    }\n\n    if ($($inp).prop('checked')) {\n      $($inp).prop('checked', false);\n\n      if (userFilters.check) {\n        for (var i = 0; i < userFilters.check.length; i++) {\n          if (userFilters.check[i].val == val) userFilters.check[i].enabled = \"\";\n        }\n      }\n    } else {\n      $($inp).prop('checked', true);\n\n      if (userFilters.check) {\n        for (var i = 0; i < userFilters.check.length; i++) {\n          if (userFilters.check[i].val == val) userFilters.check[i].enabled = \"enabled\";\n        }\n      }\n    } // if ( ( idx = options.indexOf( val ) ) > -1 ) {\n    //     options.splice( idx, 1 );\n    //     setTimeout( function() { $inp.prop( 'checked', false ) }, 0);\n    //     if(userFilters.check){\n    //         for(var i=0;i<userFilters.check.length;i++){\n    //             if(userFilters.check[i].val == val)userFilters.check[i].enabled=\"\";\n    //         }\n    //     }\n    // } else {\n    //     options.push( val );\n    //     setTimeout( function() { $inp.prop( 'checked', true ) }, 0);\n    //     if(userFilters.check){\n    //         for(var i=0;i<userFilters.check.length;i++){\n    //             if(userFilters.check[i].val == val)userFilters.check[i].enabled=\"enabled\";\n    //         }\n    //     }\n    // }\n\n\n    if (userFilters) {\n      Session.set('userFilters', userFilters);\n    }\n\n    $(event.target).blur();\n    dropdownCheckbox(); // console.log( options );\n\n    return false;\n  });\n}\n\nfunction slugifyEmailAddress(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '.') // Replace spaces with \".\"\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"propertyManage.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/propertyManage.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./pagination.html\");\nmodule.link(\"./propertyManage.html\");\nvar globalFILTERS = {};\n\nfunction getPaginationData(totalResultsCount, currentPageNo, urlBase, resultsPerPage) {\n  var pages = [],\n      prevPage = {},\n      nextPage = {};\n  var pgMin = currentPageNo - 4,\n      pgMax = currentPageNo + 5,\n      maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n  if (pgMin < 1) pgMin = 1;\n  if (pgMax < 1) pgMax = 1;\n  if (maxPages < 1) maxPages = 1;\n  if (pgMin > maxPages) currentPageNo = maxPages;\n  var tmp = {};\n\n  for (var i = pgMin; i <= maxPages; i++) {\n    var href = urlBase + i + \"/\";\n    tmp = {\n      \"href\": href,\n      \"text\": i\n    };\n\n    if (i == currentPageNo) {\n      tmp['href'] = 'javascript:void(0);';\n      tmp['current'] = true;\n    }\n\n    pages.push(tmp);\n  } // if(pgMin==maxPages){//Above loop won't work if only 1 page result\n  //     pages.push({\n  //         \"href\": 'javascript:void(0);',\n  //         \"text\": 1\n  //     })\n  // }\n\n\n  var prevPageNo = currentPageNo - 1,\n      nextPageNo = currentPageNo + 1;\n\n  if (prevPageNo < 1) {\n    prevPage['href'] = 'javascript:void(0)';\n    prevPage['text'] = 'Previous';\n    prevPage['disabled'] = 'disabled';\n  } else {\n    prevPage['href'] = urlBase + prevPageNo + \"/\";\n    prevPage['text'] = 'Previous';\n  }\n\n  if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n  if (nextPageNo == currentPageNo) {\n    nextPage['href'] = 'javascript:void(0)';\n    nextPage['text'] = 'Next';\n    nextPage['disabled'] = 'disabled';\n  } else {\n    nextPage['href'] = urlBase + nextPageNo + \"/\";\n    nextPage['text'] = 'Next';\n  }\n\n  return {\n    \"prevPage\": prevPage,\n    \"pages\": pages,\n    \"nextPage\": nextPage\n  };\n}\n\nTemplate.registerHelper(\"objectToPairs\", function (object) {\n  return _.map(object, function (value, key) {\n    return {\n      key: key,\n      value: value\n    };\n  });\n});\nTemplate.registerHelper(\"hostname\", function () {\n  return Meteor.absoluteUrl();\n});\n\nfunction numDifferentiation(val) {\n  if (val >= 1000000000) val = (val / 1000000000).toFixed(2) + ' Billion';else if (val >= 1000000) val = (val / 1000000).toFixed(2) + ' Million';\n  return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction numFormat(x) {\n  //var x=12345652457.557;\n  //console.log(x)\n  if (!x) return x;\n  x = x.toString();\n  var afterPoint = '';\n  if (x.indexOf('.') > 0) afterPoint = x.substring(x.indexOf('.'), x.length);\n  afterPoint = afterPoint.substr(0, 3);\n  x = Math.floor(x);\n  x = x.toString();\n  var lastThree = x.substring(x.length - 3);\n  var otherNumbers = x.substring(0, x.length - 3);\n  if (otherNumbers != '') lastThree = ',' + lastThree;\n  var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree + afterPoint;\n  return res;\n}\n\nTemplate.propertyManage.onCreated(function () {\n  Session.set('propertyData', false);\n  Session.set('PropertyManage', false);\n  this.pdExpanded = new ReactiveVar(true);\n  this.enablingPMS = new ReactiveVar(false);\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('Auctions');\n    instance.subscribe('Bids');\n    instance.subscribe('allUserData');\n    instance.subscribe('userData');\n    var id = FlowRouter.getParam('id');\n    instance.subscribe(\"Property\", {\n      viewName: 'property.view',\n      id: id\n    });\n    instance.subscribe(\"PropertyManage\", {\n      viewName: 'propertyManage.view',\n      id: id\n    });\n    instance.subscribe(\"ActivityHistory\", {\n      limit: 50,\n      id: id\n    });\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.propertyManage.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  data: function () {\n    var id = FlowRouter.current().params.id;\n    if (!id) return []; // debugger;\n\n    var ret = Collections.PropertyManage.find({\n      propertyId: id\n    });\n    var docs = ret.fetch();\n    if (docs.length) Session.set('PropertyManage', docs[0]); // if(ret.count()==0){\n    //     clearMeta();\n    //     DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n    //     DocHead.addMeta({name: \"description\", content: \"\"});\n    // }\n    // Session.set(\"propertyManageData\",ret);\n\n    return docs[0];\n  },\n  propertyData: function () {\n    var PropertyManage = Session.get('PropertyManage');\n\n    if (PropertyManage.propertyId) {\n      var ret = Collections.Properties.find({\n        _id: PropertyManage.propertyId\n      }, {\n        limit: 1\n      });\n      var docs = ret.fetch();\n      var propertyData = docs[0];\n      if (docs.length) Session.set('propertyData', propertyData);\n      clearMeta();\n\n      try {\n        var title = propertyData.address.address + ', ' + propertyData.address.area;\n        if (propertyData.address.county) title += ', ' + propertyData.address.county;\n        title += ' Manage Property';\n        DocHead.setTitle(titleCase(title) + ' | SpotMyCrib Admin');\n        DocHead.addMeta({\n          name: \"description\",\n          content: \"Manage property \" + propertyData.type + \", view and manage lease, see activity history and much more.\"\n        });\n      } catch (err) {\n        DocHead.setTitle('Manage Property | SpotMyCrib Admin');\n        DocHead.addMeta({\n          name: \"description\",\n          content: \"\"\n        });\n      }\n\n      return docs[0];\n    } else {\n      clearMeta();\n      DocHead.setTitle('Manage Property | SpotMyCrib Admin');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n      return [];\n    }\n  },\n  hasPropFound: function () {\n    var id = FlowRouter.current().params.id;\n    var ret = Collections.Properties.find(id, {\n      limit: 1\n    }).fetch();\n    return ret.length;\n  },\n  pdExpanded: function () {\n    return Template.instance().pdExpanded.get();\n  },\n  enablingPMS: function () {\n    return Template.instance().enablingPMS.get();\n  },\n  // dataFull : function () {\n  //\n  //     var propertyData = Session.get('propertyData');\n  //\n  //     try {\n  //         var selector = {\n  //             auctionId: propertyData.auctionId,\n  //             isArchived: false\n  //         }\n  //\n  //         var totalResultsCount = Collections.Bids.find(selector).count();\n  //\n  //         clearMeta();\n  //         try{\n  //             var title = propertyData.address.address + ', ' + propertyData.address.area;\n  //             if (propertyData.address.county) title += ', ' + propertyData.address.county;\n  //             title += ' Manage Property';\n  //\n  //             DocHead.setTitle(titleCase(title) + ' | SpotMyCrib Admin');\n  //             DocHead.addMeta({\n  //                 name: \"description\",\n  //                 content: \"View applications for property \" + propertyData.type + \", choose a winning tenant, see their social profiles and much more.\"\n  //             });\n  //         }catch(err){\n  //             DocHead.setTitle('Manage Property | SpotMyCrib Admin');\n  //             DocHead.addMeta({name: \"description\", content: \"\"});\n  //         }\n  //         return {\n  //             totalResultsCount: totalResultsCount\n  //         };\n  //     }catch (err){}\n  // },\n  dataChosen: function () {\n    var PropertyManage = Session.get('PropertyManage');\n\n    if (PropertyManage.tenants.length) {\n      var tenIds = [];\n\n      for (var i = 0; i < PropertyManage.tenants.length; i++) {\n        if (PropertyManage.tenants[i].id) tenIds.push(PropertyManage.tenants[i].id);\n      }\n\n      var selector = {\n        _id: {\n          $in: tenIds\n        },\n        // isArchived: false,//this field isn't needed\n        chosen: true\n      };\n      var totalChosenCount = Collections.Bids.find(selector).count();\n      var retChosen = Collections.Bids.find(selector, {\n        sort: {\n          updatedAt: -1\n        }\n      });\n      return {\n        resultsChosen: retChosen,\n        totalChosenCount: totalChosenCount\n      };\n    } else return [];\n  },\n  // dataNonChosen : function () {\n  //\n  //     var propertyData = Session.get('propertyData');\n  //     if(!propertyData){\n  //         console.log(\"Empty project data\");\n  //         return false;}\n  //\n  //     var selector = {\n  //         auctionId: propertyData.auctionId,\n  //         isArchived: false,\n  //         chosen:false\n  //     }\n  //\n  //     globlaAuctionId1 = propertyData.auctionId;\n  //     globalAuctionData1 = propertyData.auction;\n  //     /////PAGINATION\n  //     var resultsPerPage = 100;\n  //     var currentPageNo = FlowRouter.current().params.pageno;\n  //     if(!currentPageNo){currentPageNo = 1}\n  //     var skip = (currentPageNo -1) * resultsPerPage;\n  //     var urlBase = 'account/propertyapplications/'+FlowRouter.current().params.id+'/';\n  //\n  //\n  //\n  //     var totalNonChosenCount = Collections.Bids.find(selector).count();\n  //     var resultsNonChosen = Collections.Bids.find(selector, {\n  //         transform: function (doc) {\n  //\n  //             if (doc.auctionId != globlaAuctionId1 || !globalAuctionData1._id) {\n  //                 doc.auction = Collections.Auctions.findOne({\n  //                     _id: doc.auctionId\n  //                 });\n  //             } else {\n  //                 doc.auction = globalAuctionData1;\n  //             }\n  //\n  //             return doc;\n  //         },\n  //         limit: resultsPerPage,\n  //         sort: { updatedAt : -1 },\n  //         skip: skip\n  //     });\n  //\n  //     return {\n  //         resultsNonChosen: resultsNonChosen,\n  //         totalNonChosenCount: totalNonChosenCount,\n  //         pagination: getPaginationData(totalNonChosenCount,currentPageNo,urlBase,resultsPerPage)\n  //     };\n  //\n  // },\n  showFilters: function () {\n    return false;\n  },\n  // propertyData : function () {\n  //     var ret = getpropertyData();\n  //     if(!ret.auctionId){\n  //         var prevRoute = Session.get('prevRoute');\n  //         if(prevRoute){\n  //             FlowRouter.go(prevRoute.name,prevRoute.args)\n  //             Session.set('prevRoute',false);\n  //         }else{\n  //             FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n  //         }\n  //     }\n  //\n  //     Session.set('propertyData',ret);\n  //\n  //     return ret;\n  // },\n  filters: function () {\n    var data = {}; //{\"Home Type\":[\"2 BHK\"],\"Floor\":[\"2 to 15\"],\"Price Range\":[\"67.45 to 97.45 \"]}\n\n    var FILTERS = Session.get('globalFILTERS');\n    var defaultFilters = Session.get('propertyData');\n    defaultFilters = defaultFilters.filter;\n\n    if (FILTERS['homeType']) {\n      if (FILTERS['homeType'].length) {\n        if (!isArraysEqual(defaultFilters.homeType, FILTERS['homeType'])) data['Home Type'] = FILTERS['homeType'];\n      }\n    }\n\n    if (FILTERS['facing']) {\n      if (FILTERS['facing'].length) {\n        if (!isArraysEqual(defaultFilters.facing, FILTERS['facing'])) data['Facing'] = FILTERS['facing'];\n      }\n    }\n\n    if (FILTERS['floor']) {\n      var hasLowerLimit = false,\n          hasUpperLimit = false;\n      var l1 = parseInt(FILTERS['floor'][0]);\n      if (l1 != 0 && l1 != defaultFilters.floor[0]) hasLowerLimit = true;\n      var l2 = parseInt(FILTERS['floor'][1]);\n      if (l2 != defaultFilters.floor[1]) hasUpperLimit = true;\n\n      if (hasLowerLimit && !hasUpperLimit) {\n        //Only LowerLimit\n        data['Floor'] = ['More than ' + l1];\n      } else if (!hasLowerLimit && hasUpperLimit) {\n        //Only UpperLimit\n        data['Floor'] = ['Below ' + l2];\n      } else if (hasLowerLimit && hasUpperLimit) {\n        //Both are there\n        data['Floor'] = ['Between ' + l1 + \" and \" + l2];\n      } else {} //Both are not there. So don't show filter.\n\n    }\n\n    if (FILTERS['priceRange']) {\n      var hasLowerLimit = false,\n          hasUpperLimit = false;\n      var l1 = parseInt(FILTERS['priceRange'][0]);\n      if (l1 != 0 && l1 != defaultFilters.priceRange[0]) hasLowerLimit = true;\n      var l2 = parseInt(FILTERS['priceRange'][1]);\n      if (l2 != defaultFilters.priceRange[1]) hasUpperLimit = true;\n\n      if (hasLowerLimit && !hasUpperLimit) {\n        //Only LowerLimit\n        data['Price Range'] = ['More than ' + numDifferentiation(l1)];\n      } else if (!hasLowerLimit && hasUpperLimit) {\n        //Only UpperLimit\n        data['Price Range'] = ['Below ' + numDifferentiation(l2)];\n      } else if (hasLowerLimit && hasUpperLimit) {\n        //Both are there\n        data['Price Range'] = ['Between ' + numDifferentiation(l1) + \" to \" + numDifferentiation(l2)];\n      } else {} //Both are not there. So don't show filter.\n\n    } //if( FILTERS['priceRange'] ){\n    //  data['Price Range'] =  [ numDifferentiation(FILTERS['priceRange'][0]) +\" to \"+ numDifferentiation(FILTERS['priceRange'][1]) ]\n    //}\n\n\n    applyClearFiltersEvent();\n    return {\n      data: data,\n      count: Object.keys(data).length\n    };\n  },\n  // time: function(){\n  //\n  //     var propertyData = Session.get('propertyData');\n  //     var timestamp = TimeSync.serverTime(null, 30000);\n  //     if(!propertyData.auction.endDate || !timestamp)return;\n  //\n  //\n  //     var dend = Date.parse(propertyData.auction.endDate);\n  //     var timeDiff = dend - timestamp ;\n  //     if(timeDiff<0)return false;\n  //\n  //     var day = Math.floor(timeDiff / (1000 * 3600 * 24))\n  //     var hour = Math.floor(timeDiff / (1000 * 3600 ))\n  //     var min = Math.floor(timeDiff / (1000 * 60 ) )\n  //     hour = hour - (day * 24);\n  //     min = min - (day * 24* 60) - (hour * 60);\n  //     return {\"day\":day,\"hour\":hour,\"min\":min}\n  // },\n  isAuctionClosed: function () {\n    // var timestamp = TimeSync.serverTime(null, 30000);\n    var timestamp = new Date();\n    var propertyData = Session.get('propertyData');\n    var dend = Date.parse(propertyData.auction.endDate);\n    var timeDiff = dend - timestamp;\n\n    if (timeDiff < 0) {\n      return true;\n    }\n\n    return false;\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  assistanceAlreadyRequested: function () {\n    //Just to make this reactive\n    var user = Meteor.user();\n    if (user) if (user.profile) if (user.profile.assistanceRequested) {\n      return user.profile.assistanceRequested || Session.get('assistanceRequested');\n    }\n    return Session.get('assistanceRequested');\n  }\n});\nTemplate.propertyManage.onRendered(function () {});\nTemplate.propertyManage.events({\n  \"click .clearFilters\": function (event, template) {\n    //FlowRouter.query.clear();\n    console.log('in .clearFilters meteor event');\n    var defaultFilters = Session.get('propertyData');\n    defaultFilters = defaultFilters.filter;\n    $('.filterUnitFacing, .filterUnitType').val('any');\n    resetUISlider(defaultFilters);\n    setFilters(defaultFilters);\n    $.fancybox.close();\n    applyClearFiltersEvent();\n  },\n  \"click .showEditPropertyForm\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        id: FlowRouter.current().params.id,\n        pageno: FlowRouter.current().params.pageno\n      },\n      scrollTo: 'body'\n    };\n    Session.set('prevRoute', prevRoute);\n    var propertyData = Session.get('propertyData');\n    FlowRouter.go('account/editproperty', {\n      id: propertyData._id\n    });\n  },\n  \"click .backBtn\": function (event, template) {\n    var prevRoute = Session.get('prevRoute');\n\n    if (prevRoute) {\n      FlowRouter.go(prevRoute.name, prevRoute.args);\n      Session.set('prevRoute', false);\n    } else {\n      // FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n      history.back(); //PPl can come to this page from many other pages.\n    }\n  },\n  \"click .pdExpandedBtn\": function (event, template) {\n    if (template.pdExpanded.get()) template.pdExpanded.set(false);else template.pdExpanded.set(true);\n  },\n  \"click .enablePMS\": function (event, template) {\n    // console.log('enablePMS clicked');\n    enablingPMS = template.enablingPMS;\n    enablingPMS.set(true);\n    Meteor.call('addManageProperty', FlowRouter.current().params.id, function (error, result) {\n      enablingPMS.set(false);\n\n      if (error) {\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Failed enabling this property. Please try again, try checking your internet connectivity. Contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      if (result.status == 'Success') {\n        console.log(\"Success\");\n      }\n    });\n  }\n});\nTemplate.PM_bidList.onCreated(function () {\n  this.choosingInProgress = new ReactiveVar(false);\n  this.unChoosingInProgress = new ReactiveVar(false);\n});\nTemplate.PM_bidList.helpers({\n  user: function () {\n    // debugger;\n    var ret = Meteor.users.find({\n      _id: this.userId\n    }).fetch();\n    return ret[0];\n  },\n  canAfford: function (salary) {\n    //This works based on the bid (not rent)\n    if (!this.yourBid) {\n      return false;\n    }\n\n    if (salary * 0.4 >= this.yourBid) {\n      return true;\n    }\n\n    return false;\n  },\n  choosingInProgress: function () {\n    return Template.instance().choosingInProgress.get();\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  classBidList: function () {\n    if (this.chosen) return 'active';\n    var propertyData = Session.get('propertyData');\n\n    try {\n      var a = Collections.Auctions.find({\n        _id: propertyData.auction._id\n      }).fetch();\n      propertyData.auction = a[0];\n      if (propertyData.auction.chosenBids.length) return 'archive';\n    } catch (e) {}\n\n    return 'border-top';\n  }\n});\nTemplate.PM_bidList.events({\n  \"click .chooseTenant\": function (event, template) {\n    template.choosingInProgress.set(true);\n    choosingInProgress = template.choosingInProgress;\n    var r = confirm(\"Are you sure? This will send a confirmation mail to the applicant.\");\n\n    if (!r) {\n      template.choosingInProgress.set(false);\n      return;\n    }\n\n    Meteor.call('chooseWinning', [this.auctionId, this._id], function (error, result) {\n      choosingInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(error.error);\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      console.log(\"Success\");\n    });\n  },\n  \"click .unChooseTenant\": function (event, template) {\n    template.unChoosingInProgress.set(true);\n    unChoosingInProgress = template.unChoosingInProgress;\n    var r = confirm(\"Are you sure? This will send a pending mail to the applicant.\");\n\n    if (!r) {\n      template.unChoosingInProgress.set(false);\n      return;\n    }\n\n    Meteor.call('unChooseWinning', [this.auctionId, this._id], function (error, result) {\n      unChoosingInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(error.error);\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      console.log(\"Success\");\n    });\n  },\n  \"click .inviteForViewingBtn\": function (event, template) {\n    var propertyData = Session.get('propertyData');\n    var ret = Meteor.users.find({\n      _id: this.userId\n    }).fetch();\n    var inviteForViewing = Session.get('inviteForViewingData');\n    var today = new Date();\n    var tomorrow = new Date();\n    tomorrow.setDate(today.getDate() + 1);\n    tomorrow.setMinutes(0);\n    tomorrow.setSeconds(0);\n    var h = tomorrow.getHours();\n    if (h < 9) h = 9;else if (h > 20) h = 20;\n    tomorrow.setHours(h);\n    var inviteDate = tomorrow;\n\n    try {\n      if (inviteForViewing.inviteDate) inviteDate = inviteForViewing.inviteDate;\n    } catch (e) {}\n\n    Session.set('inviteForViewingData', {\n      user: ret[0],\n      bid: this,\n      inviteDate: inviteDate\n    });\n    $.fancybox({\n      'padding': 0,\n      'href': '#inviteForViewingDlg',\n      afterShow: function () {\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var d = inviteForViewing.inviteDate;\n        var am = ' AM';\n        var df = d.getMonth() + 1 + '/' + d.getDate() + '/' + d.getFullYear() + ' ' + d.getHours() + ':' + d.getMinutes();\n        if (d.getHours() > 12) am = ' PM';\n        df = df + am;\n        $('#inviteDate').val(df);\n      }\n    });\n  }\n});\nTemplate.PM_propertyList.onCreated(function () {\n  this.expanded = new ReactiveVar(true);\n  this.showAddAuctionForm = new ReactiveVar(false);\n});\nTemplate.PM_propertyList.helpers({\n  expanded: function () {\n    return Template.instance().expanded.get();\n  },\n  auction: function () {\n    if (this._id) {\n      var ret = Collections.Auctions.find({\n        propertyId: this._id\n      }, {\n        limit: 1\n      });\n      var docs = ret.fetch();\n      return docs[0];\n    } else return [];\n  },\n  showAddAuctionForm: function () {\n    // debugger;\n    if (Session.get('hideAddAuctionForm') && Session.get('auctionId') == this.auctionId) {\n      Template.instance().showAddAuctionForm.set(false);\n      Session.set('auctionId', \"\");\n      Session.set('hideAddAuctionForm', false);\n    }\n\n    return Template.instance().showAddAuctionForm.get();\n  },\n  numDifferentiation: function (data) {\n    return numDifferentiation(data);\n  },\n  lettingprintviewData: function () {\n    if (!this.auction) return {\n      key: \"\"\n    };\n    return {\n      key: this.auction.lettingAuctionCode\n    };\n  },\n  chosenTenantCount: function () {\n    var PropertyManage = Session.get('PropertyManage');\n\n    if (PropertyManage.tenants) {\n      return PropertyManage.tenants.length;\n    } else {\n      return 0;\n    }\n  },\n  PropertyManage: function () {\n    return Session.get('PropertyManage');\n  }\n});\nTemplate.PM_propertyList.events({\n  \"click .prev_activations\": function (event, template) {\n    scrollTo('#activity_history_area', 0, 300);\n  },\n  \"click .viewTenants\": function (event, template) {\n    scrollTo('#viewTenantsArea', 0, 300);\n  },\n  \"click .showEditPropertyForm\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        pageno: FlowRouter.current().params.pageno\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go('account/editproperty', {\n      id: this._id\n    });\n  },\n  \"click .hideAddAuctionForm\": function (event, template) {\n    if (template.showAddAuctionForm.get()) template.showAddAuctionForm.set(false);\n    propId = this._id;\n    scrollTo('#property_' + propId, 0, 700);\n  },\n  \"click .viewApplications\": function (event, template) {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        pageno: FlowRouter.current().params.pageno\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go(\"account/propertyApplications\", {\n      id: this._id\n    });\n  },\n  \"click .showCopyDlg\": function (event, template) {\n    let user = Meteor.user();\n    let sluggedName = slugifyEmailAddress(user.profile.name);\n    if (!sluggedName) sluggedName = 'rent';\n    let email = sluggedName + '-let-' + this.auction.lettingAuctionCode.toLowerCase() + \"@spotmycrib.ie\";\n    $('#agentPropertyEmailField').val(email);\n    var url = FlowRouter.url('letting', {\n      key: this.auction.lettingAuctionCode\n    });\n    $('#propertyLinkField').val(url);\n    $.fancybox({\n      'padding': 0,\n      'href': '#propertyLinkDlg',\n      afterShow: function (template) {\n        $('#agentPropertyEmailField').select();\n        $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click', function () {\n          $('#agentPropertyEmailField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'managePropertyPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n        });\n        $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click', function () {\n          $('#propertyLinkField').select();\n\n          try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful'; // console.log('Copying text command was ' + msg);\n\n            $.fancybox.close();\n          } catch (err) {\n            console.log('Oops, unable to copy');\n          }\n\n          ga('send', 'event', 'managePropertyPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n        });\n        $('#propertyLinkDlg .cancelBtn').unbind().bind('click', function () {\n          $.fancybox.close();\n        });\n      }\n    });\n  }\n});\ninviteInProgress = '';\nTemplate.addTenantDlg.onCreated(function () {\n  console.log('invite for viewing created');\n  this.inviteInProgress = new ReactiveVar(false);\n  inviteInProgress = this.inviteInProgress;\n});\nTemplate.addTenantDlg.helpers({\n  data: function () {\n    return Session.get('inviteForViewingData');\n  },\n  inviteInProgress: function () {\n    inviteInProgress = Template.instance().inviteInProgress;\n    return Template.instance().inviteInProgress.get();\n  },\n  inviteDateFormated: function () {\n    var inviteForViewing = Session.get('inviteForViewingData');\n    var options = {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    };\n\n    try {\n      var d = inviteForViewing.inviteDate;\n      return d.toLocaleTimeString(\"en-us\", options);\n    } catch (e) {}\n\n    return;\n  },\n  propertyData: function () {\n    return Session.get('propertyData');\n  }\n});\nTemplate.addTenantDlg.events({\n  'change .inviteDate': function (event, template) {\n    var d = new Date($('.inviteDate').val());\n    var inviteForViewing = Session.get('inviteForViewingData');\n\n    try {\n      inviteForViewing.inviteDate = d;\n      Session.set('inviteForViewingData', inviteForViewing);\n    } catch (e) {}\n  },\n  'click .confirmInviteBtn': function () {\n    var inviteDate = $('.inviteDate').val();\n    var inviteMessage = $('.inviteMessage').val();\n    console.log(inviteDate);\n    var inviteForViewing = Session.get('inviteForViewingData');\n    inviteInProgress.set(true);\n    Meteor.call('sendInviteForViewingEmail', [inviteForViewing.bid._id, inviteDate], function (error, result) {\n      inviteInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      if (result.status == 'Success') {\n        console.log(\"Success\");\n        closePopupEvent();\n      }\n    });\n  },\n  'click .closePopupBtn': function () {\n    closePopupEvent();\n  }\n});\nTemplate.addTenantDlg.onRendered(function () {\n  console.log('inviteForViewing rendered'); //Needs to be optimised, this is not the right place to put this code, might cause JS errors if Jquery isn' loaded yet.\n\n  try {\n    this.$('#inviteDate').datetimepicker();\n    this.$('#moveindate').datetimepicker();\n  } catch (err) {\n    console.log('dp failed');\n  }\n});\nTemplate.activity_history.onCreated(function () {\n  this.loadingMoreText = new ReactiveVar(true);\n  var resultsPerPage = Session.get('resultsPerPage');\n  if (!resultsPerPage) Session.set('resultsPerPage', 50);\n});\nTemplate.activity_history.helpers({\n  data: function () {\n    var user = Meteor.user();\n\n    if (!user) {\n      Template.instance().loadingMoreText.set(false);\n      return {\n        results: [],\n        totalResultsCount: 0\n      };\n    }\n\n    var id = FlowRouter.current().params.id;\n\n    if (!id) {\n      Template.instance().loadingMoreText.set(false);\n      return {\n        results: [],\n        totalResultsCount: 0\n      };\n    }\n\n    var selector = {\n      propertyId: id\n    }; //let limit = 10;\n    // debugger;\n    // var FILTERS = Session.get('prop_activation_filters')\n    // var defaultFilters = getDefaultFilters();\n    // var arr = [];\n    // if(  FILTERS['homeType'] ){\n    //     if(FILTERS['homeType'].length) {\n    //         if(FILTERS['homeType'].length != defaultFilters.homeType.length)\n    //             selector['homeType'] = FILTERS['homeType'][0]\n    //         /*\n    //          // var arr = [];\n    //          for (var i = 0; i < FILTERS['homeType'].length; i++) {\n    //          arr.push({\"homeType\": FILTERS['homeType'][i]})\n    //          console.log(\"homeType\"+ FILTERS['homeType'][i])\n    //          }*/\n    //         // selector['$or'] = arr;//BUG: this or will over write or of facing; or of homeType will collide with this and\n    //         // while logic won't work\n    //\n    //     }\n    // }\n    // if(  FILTERS['facing'] ){\n    //     if(FILTERS['facing'].length) {\n    //         if(FILTERS['facing'].length != defaultFilters.facing.length)\n    //             selector['facing'] = FILTERS['facing'][0]\n    //         /*\n    //          var arr = [];\n    //          for (var i = 0; i < FILTERS['facing'].length; i++) {\n    //          arr.push({\"facing\": FILTERS['facing'][i]})\n    //          }\n    //          // selector['$or'] = arr;//BUG: this or will over write or of homeType; or of homeType will collide with this and\n    //          // while logic won't work\n    //          */\n    //     }\n    // }\n    // if(arr.length){\n    //     selector['$or'] = arr;\n    // }\n    // if( FILTERS['floor'] ){\n    //     var val_l = FILTERS['floor'][0];\n    //     var val_h = FILTERS['floor'][1];\n    //\n    //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n    //\n    //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n    //         selector['floorLevel'] =  { $gte: parseInt(val_l) }\n    //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n    //         selector['floorLevel'] =  { $lte: parseInt(val_h) }\n    //     }else{//Both are valid\n    //         selector['floorLevel'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n    //     }\n    // }\n    // if( FILTERS['priceRange'] ){\n    //     var val_l = FILTERS['priceRange'][0];\n    //     var val_h = FILTERS['priceRange'][1];\n    //\n    //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n    //\n    //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n    //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l) }\n    //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n    //         selector['priceBreakUp.totalAllInclusive'] =  { $lt: parseInt(val_h) }\n    //     }else{//Both are valid\n    //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n    //     }\n    // }\n    /////PAGINATION\n    // var resultsPerPage = 20;\n    // var currentPageNo = FlowRouter.current().params.pageno;\n    // if(!currentPageNo){currentPageNo = 1}\n    // var skip = (currentPageNo -1) * resultsPerPage;\n    // var urlBase = 'account/myproperies/';\n\n    var totalResultsCount = Collections.ActivityHistory.find(selector).count();\n    var ret = Collections.ActivityHistory.find(selector, {\n      limit: Session.get('resultsPerPage'),\n      sort: {\n        createdAt: -1\n      } // skip: skip\n\n    });\n    Template.instance().loadingMoreText.set(false);\n    return {\n      results: ret,\n      totalResultsCount: totalResultsCount\n    };\n  },\n  loadingMoreText: function () {\n    return Template.instance().loadingMoreText.get();\n  },\n  decideTemplate: function (type) {}\n});\nTemplate.activity_history.events({\n  'click .load_more': function (event, template) {\n    Template.instance().loadingMoreText.set(true);\n    var resultsPerPage = Session.get('resultsPerPage');\n    resultsPerPage *= 2;\n    Session.set('resultsPerPage', resultsPerPage);\n    var id = FlowRouter.current().params.id;\n    Meteor.subscribe(\"ActivityHistory\", {\n      limit: resultsPerPage,\n      id: id\n    });\n  }\n});\nTemplate.activity_history.onRendered(function () {\n  Template.instance().loadingMoreText.set(false);\n});\n\nfunction attachEvents() {\n  $(\".deactivateConfirmBtn\").unbind().bind(\"click\", function () {\n    deactivateConfEvent();\n  });\n  $(\".closePopupBtn\").unbind().bind(\"click\", function () {\n    closePopupEvent();\n  });\n}\n\nfunction deactivateConfEvent() {\n  var data = Session.get(\"propertyData\");\n  var auctionId = data.auctionId;\n  deactivateInProgress.set(true);\n  Meteor.call('deactivateAuction', auctionId, function (error, result) {\n    deactivateInProgress.set(false);\n\n    if (error) {\n      console.log(error);\n      var tmp = Session.get(\"showErrorDlg\");\n      if (!tmp) tmp = [];\n      tmp.push(\"Failed deactivating. Please try again, try checking your internet connectivity. Contact us if needed.\");\n      Session.set(\"showErrorDlg\", tmp);\n      return;\n    }\n\n    console.log(\"Success\");\n    closePopupEvent();\n    var prevRoute = Session.get('prevRoute');\n\n    if (prevRoute) {\n      FlowRouter.go(prevRoute.name, prevRoute.args);\n      Session.set('prevRoute', false);\n    } else {\n      FlowRouter.go(\"/account/myproperies/\", {\n        pageno: 1\n      });\n    }\n  });\n}\n\nfunction closePopupEvent() {\n  console.log('closePopupEvent');\n  if ($) if ($.fancybox) $.fancybox.close();\n}\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction slugifyEmailAddress(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '.') // Replace spaces with \".\"\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"shared.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/shared.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/**\n * Created by njanjanam on 20/05/2017.\n */\nupdateGalleriesInServer = function (editPropertyImages, propertyId, callback) {\n  if (!editPropertyImages || !propertyId) return;\n  var tmp = [],\n      arr = [];\n\n  if (editPropertyImages.length) {\n    for (var i = 0; i < editPropertyImages.length; i++) {\n      if (editPropertyImages[i].name) {\n        //Means file is not coming from our traditional file uploader\n        tmp.push(editPropertyImages[i]);\n      } else {\n        //Else its insert properties form\n        tmp.push({\n          name: editPropertyImages[i].file.original_name,\n          relative_url: editPropertyImages[i].relative_url,\n          url: editPropertyImages[i].secure_url\n        });\n      }\n    }\n  }\n\n  console.log(tmp);\n  Meteor.call('updateGalleries', [propertyId, tmp], callback);\n};\n\nupdateGalleriesInProfile = function (editPropertyImages, callback) {\n  if (!editPropertyImages) return;\n  var tmp = [],\n      arr = [];\n\n  if (editPropertyImages.length) {\n    for (var i = 0; i < editPropertyImages.length; i++) {\n      if (editPropertyImages[i].name) {\n        //Means file is not coming from our traditional file uploader\n        tmp.push(editPropertyImages[i]);\n      } else {\n        //Else its insert properties form\n        tmp.push({\n          name: editPropertyImages[i].file.original_name,\n          relative_url: editPropertyImages[i].relative_url,\n          url: editPropertyImages[i].secure_url\n        });\n      }\n    }\n  }\n\n  console.log(tmp);\n  Meteor.call('updateGalleriesInUserProfile', tmp, callback);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tenant.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/tenant.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./profile.js\");\nmodule.link(\"./tenant.html\");\nTemplate.tenant.onCreated(function () {\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('userData'); //works only if viewing your profile\n\n    instance.subscribe('userDataUsername', FlowRouter.getParam('username')); //works if viewing your profile and others\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.tenant.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  isViewingHisProfile: function () {\n    var currentUser = Accounts.user();\n    var username = FlowRouter.getParam('username');\n\n    try {\n      if (currentUser.profile.username == username) return true;\n    } catch (e) {}\n\n    return false;\n  },\n  isPublicProfile: function () {\n    var username = FlowRouter.getParam('username');\n    var u1 = Meteor.users.findOne({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    });\n\n    try {\n      if (u1.profile.isPublic) {\n        clearMeta();\n        DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n        DocHead.addMeta({\n          name: \"description\",\n          content: \"View and download \" + titleCase(u1.profile.name) + \"'s references.\"\n        });\n        return true;\n      }\n    } catch (e) {}\n\n    return false;\n  },\n  userFound: function () {\n    var username = FlowRouter.getParam('username');\n    var u1 = Meteor.users.findOne({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    });\n    if (u1) return true;\n    clearMeta();\n    DocHead.setTitle(' User not found | SpotMyCrib');\n    DocHead.addMeta({\n      name: \"description\",\n      content: \"\"\n    });\n    return false;\n  },\n  userFirstName: function () {\n    var username = FlowRouter.getParam('username');\n    var u1 = Meteor.users.find({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    }).fetch();\n\n    try {\n      clearMeta();\n      DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n      var tmp = u1.profile.name.split(' ');\n      return tmp[0];\n    } catch (e) {}\n\n    return 'Tenant';\n  },\n  user: function () {\n    var username = FlowRouter.getParam('username');\n    return Meteor.users.find({\n      \"profile.username\": username\n    }, {\n      limit: 1\n    });\n  }\n});\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tenants.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/templates/tenants.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./pagination.html\");\nmodule.link(\"./tenants.html\");\nTemplate.tenants.onCreated(function () {\n  var instance = this;\n  instance.isSubsLoaded = new ReactiveVar(false);\n  instance.autorun(function () {\n    instance.subscribe('userData');\n    var pageno = FlowRouter.getParam('pageno');\n    if (!pageno) pageno = 1;\n    instance.subscribe(\"tenants\", pageno);\n\n    if (instance.subscriptionsReady()) {\n      instance.isSubsLoaded.set(true);\n    }\n  });\n});\nTemplate.tenants.helpers({\n  isSubsLoaded: function () {\n    return Template.instance().subscriptionsReady();\n  },\n  userLoggedIn: function () {\n    if (Meteor.user()) return true;\n    return false;\n  },\n  dataFull: function () {\n    var pageno = FlowRouter.getParam('pageno');\n    if (!pageno) pageno = 1;\n    var totalResultsCount = Meteor.users.find().count(); /////PAGINATION\n\n    var resultsPerPage = 10;\n    var currentPageNo = FlowRouter.getParam('pageno');\n\n    if (!currentPageNo) {\n      currentPageNo = 1;\n    }\n\n    var urlBase = 'tenants/';\n    return {\n      totalResultsCount: totalResultsCount,\n      results: Meteor.users.find(),\n      pagination: getPaginationData(totalResultsCount, currentPageNo, urlBase, resultsPerPage)\n    };\n  }\n});\nTemplate.tenantList.helpers({\n  userFirstName: function () {\n    try {\n      var tmp = this.user.profile.name.split(' ');\n      return tmp[0];\n    } catch (e) {}\n  }\n});\nTemplate.tenantList.events({\n  'click .inviteToApply': function (event, template) {\n    ga('send', 'event', 'tenantsPage', 'inviteToApplyBtnClicked', 'Invite To Apply Btn Clicked');\n    var user = Meteor.user();\n\n    if (!user) {\n      //Login is needed.\n      Session.set('showForgotForm', false);\n      Session.set('showSignupForm', false);\n      Session.set('showLoginSignupFancyBoxDialog', true);\n      Session.set('showLoginDialog', true);\n      return;\n    }\n\n    Session.set('inviteToApplyData', {\n      user: this.user\n    });\n    $.fancybox({\n      'padding': 0,\n      'href': '#inviteToApplyDlg' // afterShow:function () {}\n\n    });\n  }\n});\ninviteInProgress = '';\nTemplate.inviteToApply.onCreated(function () {\n  this.inviteInProgress = new ReactiveVar(false);\n  inviteInProgress = this.inviteInProgress;\n  Meteor.subscribe('inviteToApply.MyActiveAdvertisements');\n});\nTemplate.inviteToApply.helpers({\n  data: function () {\n    return Session.get('inviteToApplyData');\n  },\n  myAdvertisements: function () {\n    var select = {\n      \"isArchived\": false,\n      \"createdByAgent\": Meteor.userId()\n    };\n    var totalResultsCount = Collections.Auctions.find(select).count();\n    return {\n      totalResultsCount: totalResultsCount,\n      results: Collections.Auctions.find(select)\n    };\n  },\n  userFirstName: function () {\n    var data = Session.get('inviteToApplyData');\n\n    try {\n      var tmp = data.user.profile.name.split(' ');\n      return tmp[0];\n    } catch (e) {}\n  },\n  inviteInProgress: function () {\n    // console.log('h 1 ')\n    // console.log(Template.instance().inviteInProgress.get())\n    inviteInProgress = Template.instance().inviteInProgress;\n    return Template.instance().inviteInProgress.get();\n  }\n});\nTemplate.inviteToApply.events({\n  'click .advertiseMyProperty': function () {\n    closePopupEvent();\n    FlowRouter.go('account/myProperties');\n  },\n  'click .confirmInviteBtn': function () {\n    var selectedAdvertisements = [];\n    $.each($(\".selectedAdvertisements option:selected\"), function () {\n      selectedAdvertisements.push($(this).val());\n    });\n\n    if (!selectedAdvertisements.length) {\n      alert('Please choose at least 1 advertisement to proceed');\n      return;\n    }\n\n    var data = Session.get('inviteToApplyData');\n    inviteInProgress.set(true);\n    Meteor.call('sendInviteToApplyEmail', [selectedAdvertisements, data.user._id], function (error, result) {\n      inviteInProgress.set(false);\n\n      if (error) {\n        console.log(error);\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n        Session.set(\"showErrorDlg\", tmp);\n        return;\n      }\n\n      if (result.status == 'Success') {\n        console.log(\"Success\");\n        closePopupEvent();\n      }\n    });\n  },\n  'click .closePopupBtn': function () {\n    closePopupEvent();\n  }\n});\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction getPaginationData(totalResultsCount, currentPageNo, urlBase, resultsPerPage) {\n  var pages = [],\n      prevPage = {},\n      nextPage = {};\n  var pgMin = currentPageNo - 4,\n      pgMax = currentPageNo + 5,\n      maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n  if (pgMin < 1) pgMin = 1;\n  if (pgMax < 1) pgMax = 1;\n  if (maxPages < 1) maxPages = 1;\n  if (pgMin > maxPages) currentPageNo = maxPages;\n  var tmp = {};\n\n  for (var i = pgMin; i <= maxPages; i++) {\n    var href = urlBase + i + \"/\";\n    tmp = {\n      \"href\": href,\n      \"text\": i\n    };\n\n    if (i == currentPageNo) {\n      tmp['href'] = 'javascript:void(0);';\n      tmp['current'] = true;\n    }\n\n    pages.push(tmp);\n  } // if(pgMin==maxPages){//Above loop won't work if only 1 page result\n  //     pages.push({\n  //         \"href\": 'javascript:void(0);',\n  //         \"text\": 1\n  //     })\n  // }\n\n\n  var prevPageNo = currentPageNo - 1,\n      nextPageNo = currentPageNo + 1;\n\n  if (prevPageNo < 1) {\n    prevPage['href'] = 'javascript:void(0)';\n    prevPage['text'] = 'Previous';\n    prevPage['disabled'] = 'disabled';\n  } else {\n    prevPage['href'] = urlBase + prevPageNo + \"/\";\n    prevPage['text'] = 'Previous';\n  }\n\n  if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n  if (nextPageNo == currentPageNo) {\n    nextPage['href'] = 'javascript:void(0)';\n    nextPage['text'] = 'Next';\n    nextPage['disabled'] = 'disabled';\n  } else {\n    nextPage['href'] = urlBase + nextPageNo + \"/\";\n    nextPage['text'] = 'Next';\n  }\n\n  return {\n    \"prevPage\": prevPage,\n    \"pages\": pages,\n    \"nextPage\": nextPage\n  };\n}\n\nfunction closePopupEvent() {\n  console.log('closePopupEvent');\n  if ($) if ($.fancybox) $.fancybox.close();\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"reactui\":{\"layout\":{\"LoginFormViews.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/layout/LoginFormViews.jsx                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  LoginFormSignInView: () => LoginFormSignInView,\n  LoginFormSignUpView: () => LoginFormSignUpView,\n  LoginFormSignUpViewLandlord: () => LoginFormSignUpViewLandlord,\n  LoginFormResetPasswordView: () => LoginFormResetPasswordView\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet LoginFormMessages, SocialLoginButtonsT;\nmodule.link(\"./MainLayoutHeader\", {\n  LoginFormMessages(v) {\n    LoginFormMessages = v;\n  },\n\n  SocialLoginButtonsT(v) {\n    SocialLoginButtonsT = v;\n  }\n\n}, 3);\n\nclass LoginFormSignInView extends Component {\n  constructor(props) {\n    super(props);\n    if (!props.onPage) props.onPage = false;\n    this.state = {\n      isLoading: true,\n      formMessages: {\n        errors: []\n      }\n    }; // this.forgotPwdHandler = this.forgotPwdHandler.bind(this)\n\n    this.signInHandler = this.signInHandler.bind(this); // this.signUpHandler = this.signUpHandler.bind(this)\n  }\n\n  componentDidMount() {\n    $('#signin-div').find('#email').focus();\n    $('.new-focus').click(function () {\n      $('#signin-div').find('#email').focus();\n    });\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  signInHandler(event) {\n    event.preventDefault();\n    let usernameInput = $(\".login-input-email-LoginFormSignInView\");\n    let passwordInput = $(\".login-input-password-LoginFormSignInView\");\n    let username = usernameInput.val().trim();\n    let password = passwordInput.val().trim();\n    let validatedEmail = LoginFormValidation.email(username);\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"exists\"\n    });\n    var errors = [];\n    this.setState({\n      formMessages: {}\n    });\n    this.setState({\n      isLoading: true\n    });\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      this.setState({\n        formMessages: {\n          errors: errors\n        }\n      });\n      this.setState({\n        isLoading: false\n      });\n      return;\n    }\n\n    this.loginCallBack = error => {\n      fbq('track', 'EmailUserLogin' + (error ? \"Failed\" : \"Successful\"));\n      ga('send', 'event', 'General', 'userLoginSignup', 'Email Login ' + (error ? \"Failed\" : \"Successful\"));\n      this.setState({\n        isLoading: false\n      });\n\n      if (error) {\n        console.log(error);\n\n        if (error.reason == 'User has no password set' || error.reason == 'User not found') {\n          this.isSocialAccountCallback = function (err1, result) {\n            if (err1) this.setState({\n              formMessages: {\n                errors: [err1]\n              }\n            });else this.setState({\n              formMessages: {\n                info: [result]\n              }\n            });\n          };\n\n          this.isSocialAccountCallback = this.isSocialAccountCallback.bind(this);\n          Meteor.call('isSocialAccount', username, this.isSocialAccountCallback);\n        } // Show some error messages above the form fields\n\n\n        this.setState({\n          formMessages: {\n            errors: [error]\n          }\n        });\n      } else {\n        var isOnPage = false;\n        if (this.props.onPage) isOnPage = true;\n\n        if (!isOnPage) {\n          $('#signin-div , .fancybox-overlay').hide();\n          Session.set('showLoginDialog', false);\n          Session.set('showSignupDialog', false);\n          Session.set('showLoginSignupFancyBoxDialog', false);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n        Meteor.call(\"userLoggedIn\");\n      }\n    };\n\n    this.loginCallBack = this.loginCallBack.bind(this);\n    Meteor.loginWithPassword(username, password, this.loginCallBack);\n  } // signUpHandler(){\n  //     Session.set('showForgotForm',false)\n  //     Session.set('showSignupForm',true)\n  //     Session.set('showLoginSignupFancyBoxDialog',true)\n  //     Session.set('showLoginDialog',true)\n  // }\n  // forgotPwdHandler(){\n  //     var isOnPage = false;\n  //     if(this.props.onPage)isOnPage = true;\n  //     if( !isOnPage ){\n  //         Session.set('showForgotForm',true)\n  //         Session.set('showSignupForm',false)\n  //         Session.set('showLoginSignupFancyBoxDialog',true)\n  //         Session.set('showLoginDialog',true)\n  //     }else{\n  //         Session.set('showForgotForm',true)\n  //     }\n  // }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Sign In \", this.props.loginFromApplyNowBtn ? \"Required\" : \"\")), this.props.loginFromApplyNowBtn ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text info-msg-text\"\n    }, \"Login is required to apply for this property. Quickly use the options below to Login or Create yourself an account.\") : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\",\n      style: {\n        paddingTop: '20px'\n      }\n    }, this.props.onPage ? \"\" : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SocialLoginButtonsT, {\n      buttonFor: \"login\",\n      usedInDlg: true\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"seperator\",\n      style: {\n        margin: '0 0 30px 0px'\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(\"h5\", null, \"Enter your email and password below\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-border\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input  \" + (this.state.formMessages.errors ? this.state.formMessages.errors.email ? \"has-error has-feedback\" : \"\" : \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"email\",\n      type: \"email\",\n      name: \"email\",\n      required: true,\n      htmlFor: \"email-loginFormSignInView\",\n      className: \"login-input-email-LoginFormSignInView\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email-loginFormSignInView\"\n    }, \"EMAIL ID\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input underline \" + (this.state.formMessages.errors ? this.state.formMessages.errors.password ? \"has-error has-feedback\" : \"\" : \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"current-password\",\n      type: \"password\",\n      name: \"password\",\n      className: \"login-input-password-LoginFormSignInView\",\n      required: true,\n      htmlFor: \"password-loginFormSignInView\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password-loginFormSignInView\"\n    }, \"PASSWORD\"), /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(LoginFormMessages, {\n      messages: this.state.formMessages\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"transparent-btn btns\"\n    }, \"Loading...\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"blue-btn btns\",\n      type: \"submit\",\n      \"data-event-action\": \"submitSignInForm\",\n      onClick: this.signInHandler\n    }, \"SIGN IN\"), /*#__PURE__*/React.createElement(\"h5\", {\n      \"data-event-action\": \"forgotPassword\",\n      onClick: this.props.showForgotFormHandler\n    }, \"Forgot password?\"), this.props.onPage ? \"\" : /*#__PURE__*/React.createElement(\"h6\", null, \"Not registered? \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: '#0c68a7'\n      },\n      \"data-event-action\": \"signUp\",\n      onClick: this.props.showSignupFormHandler\n    }, \"Sign Up now\"))))));\n  }\n\n}\n\n;\n\nclass LoginFormSignUpView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      formMessages: {\n        errors: []\n      }\n    };\n    this.forgotPwdHandler = this.forgotPwdHandler.bind(this); // this.signInHandler = this.signInHandler.bind(this)\n\n    this.signUpHandler = this.signUpHandler.bind(this);\n  }\n\n  componentDidMount() {\n    $(\".SignupFormMobileField\").intlTelInput({\n      preferredCountries: [\"ie\", \"gb\", 'in']\n    });\n    $('#signin-div').find('#name').focus();\n    $('.new-focus').click(function () {\n      $('#signin-div').find('#name').focus();\n    });\n    this.setState({\n      isLoading: false\n    });\n  } // signInHandler(){\n  //     Session.set('showForgotForm',false)\n  //     Session.set('showSignupForm',false)\n  //     Session.set('showLoginSignupFancyBoxDialog',true)\n  //     Session.set('showLoginDialog',true)\n  // }\n\n\n  signUpHandler(event) {\n    event.preventDefault(); // var usernameInput = $(\".login-input--username\");\n\n    let emailInput = $(\".login-input-email-LoginFormSignUpView\");\n    let passwordInput = $(\".login-input-password-LoginFormSignUpView\");\n    let fullNameInput = $(\".login-input-fullName-LoginFormSignUpView\");\n    let mobileInput = $(\".login-input-mobile-LoginFormSignUpView\");\n    let email = emailInput.val().trim();\n    let password = passwordInput.val().trim();\n    let fullName = fullNameInput.val().trim();\n    let mobile = mobileInput.val().trim();\n    let validatedEmail = LoginFormValidation.email(email);\n    let validatedFullName = LoginFormValidation.username(fullName);\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"length\"\n    });\n    let validatedMobile = LoginFormValidation.mobile(mobile);\n    var errors = [];\n    this.setState({\n      formMessages: {}\n    });\n    this.setState({\n      isLoading: true\n    });\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedFullName !== true) {\n      errors.push(validatedFullName);\n    }\n\n    if (validatedMobile !== true) {\n      errors.push(validatedMobile);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      this.setState({\n        formMessages: {\n          errors: errors\n        }\n      });\n      this.setState({\n        isLoading: false\n      });\n      return;\n    }\n\n    let newUserData = {\n      // username: username,\n      email: email,\n      password: password,\n      profile: {\n        name: fullName,\n        email: email,\n        mobile: mobile\n      }\n    };\n\n    this.createUserCallback = function (error, result) {\n      fbq('track', 'EmailUserSignup' + (error ? \"Failed\" : \"Successful\"));\n      ga('send', 'event', 'General', 'userLoginSignup', 'Email Signup ' + (error ? \"Failed\" : \"Successful\"));\n      this.setState({\n        isLoading: false\n      });\n\n      if (error) {\n        // Show some error message\n        this.setState({\n          formMessages: {\n            errors: [error]\n          }\n        });\n      } else {\n        var isOnPage = false;\n        if (this.props.onPage) isOnPage = true;\n\n        if (!isOnPage) {\n          $('#signin-div , .fancybox-overlay').hide();\n          Session.set('showLoginDialog', false);\n          Session.set('showSignupDialog', false);\n          Session.set('showLoginSignupFancyBoxDialog', false);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.createUserCallback = this.createUserCallback.bind(this);\n    Accounts.createUser(newUserData, this.createUserCallback);\n  }\n\n  forgotPwdHandler() {\n    var isOnPage = false;\n    if (this.props.onPage) isOnPage = true;\n\n    if (!isOnPage) {\n      Session.set('showForgotForm', true);\n      Session.set('showSignupForm', false);\n      Session.set('showLoginSignupFancyBoxDialog', true);\n      Session.set('showLoginDialog', true);\n    } else {\n      Session.set('showForgotForm', true);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Sign Up \", this.props.loginFromApplyNowBtn ? \"Required\" : \"\")), this.props.loginFromApplyNowBtn ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text info-msg-text\"\n    }, \"Login is required to apply for this property. Quickly use the options below to Login or Create yourself an account.\") : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\",\n      style: {\n        paddingTop: '20px'\n      }\n    }, this.props.onPage ? \"\" : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SocialLoginButtonsT, {\n      buttonFor: \"signup\",\n      usedInDlg: true\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"seperator\",\n      style: {\n        margin: '0 0 30px 0px'\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(\"h5\", null, \"Enter your details below\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-border\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"name\",\n      className: \"login-input-fullName-LoginFormSignUpView\",\n      type: \"text\",\n      name: \"name\",\n      required: true,\n      htmlFor: \"email-loginFormSignUpView\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email-loginFormSignUpView\"\n    }, \"FULL NAME\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"email\",\n      className: \"login-input-email-LoginFormSignUpView\",\n      type: \"email\",\n      name: \"email\",\n      required: true,\n      htmlFor: \"email-loginFormSignUpView\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email-loginFormSignUpView\"\n    }, \"EMAIL ID\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"new-password\",\n      className: \"login-input-password-LoginFormSignUpView\",\n      type: \"password\",\n      name: \"password\",\n      required: true,\n      htmlFor: \"password-loginFormSignUpView\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password-loginFormSignUpView\"\n    }, \"PASSWORD\"), /*#__PURE__*/React.createElement(\"span\", null), this.state.formMessages.errors ? this.state.formMessages.errors.password ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"help-block\"\n    }, this.state.formMessages.errors.password.map(function (p, i) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: i\n      }, p.reason);\n    })) : \"\" : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"tel\",\n      className: \"login-input-mobile-LoginFormSignUpView SignupFormMobileField\",\n      type: \"text\",\n      name: \"mobile\",\n      htmlFor: \"mobile-loginFormSignUpView\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"mobile-loginFormSignUpView\"\n    }, \"MOBILE\"), /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(LoginFormMessages, {\n      messages: this.state.formMessages\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"transparent-btn btns\"\n    }, \"Loading...\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"blue-btn btns\",\n      type: \"Submit\",\n      \"data-event-category\": \"accounts\",\n      \"data-event-action\": \"register\",\n      onClick: this.signUpHandler\n    }, \"SIGN UP\"), this.props.onPage ? \"\" : /*#__PURE__*/React.createElement(\"p\", null, \"Already have an account? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: '#0c67a6'\n      },\n      \"data-event-category\": \"accounts\",\n      \"data-event-action\": \"signIn\",\n      onClick: this.props.showSignInFormHandler\n    }, \"Sign In\")))))));\n  }\n\n}\n\n;\n\nclass LoginFormSignUpViewLandlord extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      formMessages: {\n        errors: []\n      }\n    };\n    this.forgotPwdHandler = this.forgotPwdHandler.bind(this);\n    this.signInHandler = this.signInHandler.bind(this);\n    this.signUpHandler = this.signUpHandler.bind(this);\n  }\n\n  componentDidMount() {\n    $(\".SignupFormMobileField\").intlTelInput({\n      preferredCountries: [\"ie\", \"gb\", 'in']\n    });\n    $('#signin-div').find('#name').focus();\n    $('.new-focus').click(function () {\n      $('#signin-div').find('#name').focus();\n    });\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  signInHandler() {\n    Session.set('showForgotForm', false);\n    Session.set('showSignupForm', false);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  }\n\n  signUpHandler(event) {\n    event.preventDefault(); // var usernameInput = $(\".login-input--username\");\n\n    let emailInput = $(\".login-input-email-LoginFormSignUpViewLandlord\");\n    let passwordInput = $(\".login-input-password-LoginFormSignUpViewLandlord\");\n    let fullNameInput = $(\".login-input-fullName-LoginFormSignUpViewLandlord\");\n    let mobileInput = $(\".login-input-mobile-LoginFormSignUpViewLandlord\");\n    let email = emailInput.val().trim();\n    let password = passwordInput.val().trim();\n    let fullName = fullNameInput.val().trim();\n    let mobile = mobileInput.val().trim();\n    let validatedEmail = LoginFormValidation.email(email);\n    let validatedFullName = LoginFormValidation.username(fullName);\n    let validatedPassword = LoginFormValidation.password(password, {\n      validationLevel: \"length\"\n    });\n    let validatedMobile = LoginFormValidation.mobile(mobile);\n    var errors = [];\n    this.setState({\n      formMessages: {}\n    });\n    this.setState({\n      isLoading: true\n    });\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedFullName !== true) {\n      errors.push(validatedFullName);\n    }\n\n    if (validatedMobile !== true) {\n      errors.push(validatedMobile);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      this.setState({\n        formMessages: {\n          errors: errors\n        }\n      });\n      this.setState({\n        isLoading: false\n      });\n      return;\n    }\n\n    let newUserData = {\n      // username: username,\n      email: email,\n      password: password,\n      profile: {\n        name: fullName,\n        email: email,\n        mobile: mobile\n      }\n    };\n\n    this.createUserCallback = function (error, result) {\n      fbq('track', 'EmailLandlordSignup' + (error ? \"Failed\" : \"Successful\"));\n      ga('send', 'event', 'General', 'userLoginSignup', 'Email Landlord Signup ' + (error ? \"Failed\" : \"Successful\"));\n      this.setState({\n        isLoading: false\n      });\n\n      if (error) {\n        // Show some error message\n        this.setState({\n          formMessages: {\n            errors: [error]\n          }\n        });\n      } else {\n        var isOnPage = false;\n        if (this.props.onPage) isOnPage = true;\n\n        if (!isOnPage) {\n          $('#signin-div , .fancybox-overlay').hide();\n          Session.set('showLoginDialog', false);\n          Session.set('showSignupDialog', false);\n          Session.set('showLoginSignupFancyBoxDialog', false);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.createUserCallback = this.createUserCallback.bind(this);\n    Accounts.createUser(newUserData, this.createUserCallback);\n  }\n\n  forgotPwdHandler() {\n    var isOnPage = false;\n    if (this.props.onPage) isOnPage = true;\n\n    if (!isOnPage) {\n      Session.set('showForgotForm', true);\n      Session.set('showSignupForm', false);\n      Session.set('showLoginSignupFancyBoxDialog', true);\n      Session.set('showLoginDialog', true);\n    } else {\n      Session.set('showForgotForm', true);\n    }\n  }\n\n  radioHandler() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"landlordSignup-div signup-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Landlord Join Now\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rd-details\"\n    }, /*#__PURE__*/React.createElement(\"span\", null, \"I am a\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\",\n      htmlFor: \"rd1\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"account-type-radio\",\n      name: \"accountType\",\n      value: \"LANDLORD\",\n      type: \"radio\",\n      defaultChecked: true,\n      onChange: this.radioHandler\n    }), \"Landlord\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"account-type-radio\",\n      name: \"accountType\",\n      value: \"LANDLORD\",\n      type: \"radio\"\n    }), \"Agent\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"account-type-radio\",\n      name: \"accountType\",\n      value: \"LANDLORD\",\n      type: \"radio\"\n    }), \"Building Manager\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"account-type-radio\",\n      name: \"accountType\",\n      value: \"LANDLORD\",\n      type: \"radio\"\n    }), \"Tenant\"))), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-border\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row frm-group\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"name\",\n      type: \"text\",\n      name: \"name\",\n      className: \"login-input-fullName-LoginFormSignUpViewLandlord\",\n      required: true\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", null, \"FULL NAME\"), /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"email\",\n      type: \"email\",\n      name: \"email\",\n      className: \"login-input-email-LoginFormSignUpViewLandlord\",\n      required: true\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"EMAIL ID\"), /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"new-password\",\n      type: \"password\",\n      name: \"password\",\n      className: \"login-input-password-LoginFormSignUpViewLandlord\",\n      required: true\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"PASSWORD\"), /*#__PURE__*/React.createElement(\"span\", null))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"tel\",\n      type: \"number\",\n      name: \"mobile\",\n      className: \"login-input-mobile-LoginFormSignUpViewLandlord SignupFormMobileField\",\n      required: true\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"MOBILE\"), /*#__PURE__*/React.createElement(\"span\", null)))), /*#__PURE__*/React.createElement(LoginFormMessages, {\n      messages: this.state.formMessages\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"transparent-btn btns\"\n    }, \"Loading...\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"blue-btn btns\",\n      type: \"submit\",\n      onClick: this.signUpHandler\n    }, \"SIGN UP\")), this.props.onPage ? \"\" : /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        paddingTop: 0\n      }\n    }, \"Already have an account? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: '#0c67a6'\n      },\n      \"data-event-category\": \"accounts\",\n      \"data-event-action\": \"signIn\",\n      onClick: this.props.showSignInFormHandler\n    }, \"Sign In\")))))));\n  }\n\n}\n\n;\n\nclass LoginFormResetPasswordView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      showForm: true,\n      formMessages: {\n        errors: []\n      }\n    };\n    this.forgotPwdHandler = this.forgotPwdHandler.bind(this); // this.signInHandler = this.signInHandler.bind(this)\n    // this.signUpHandler = this.signUpHandler.bind(this)\n\n    this.tryAgainBtnHandler = this.tryAgainBtnHandler.bind(this);\n  }\n\n  componentDidMount() {\n    $('#signin-div').find('#email').focus();\n    $('.new-focus').click(function () {\n      $('#signin-div').find('#email').focus();\n    });\n    this.setState({\n      isLoading: false\n    });\n  } // signInHandler(){\n  //     var isOnPage = false;\n  //     if(this.props.onPage)isOnPage = true;\n  //     if( !isOnPage ){\n  //         Session.set('showForgotForm',false)\n  //         Session.set('showSignupForm',false)\n  //         Session.set('showLoginSignupFancyBoxDialog',true)\n  //         Session.set('showLoginDialog',true)\n  //     }else{\n  //         this.props.showSignInFormHandler();\n  //         // Session.set('showForgotForm',false)\n  //     }\n  // }\n\n\n  forgotPwdHandler(event) {\n    event.preventDefault();\n    let emailAddress = $(\".login-input-email-LoginFormResetPasswordView\").val().trim();\n    let validatedEmail = LoginFormValidation.email(emailAddress);\n    var errors = [];\n    this.setState({\n      formMessages: {}\n    });\n    this.setState({\n      isLoading: true\n    });\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (errors.length) {\n      this.setState({\n        formMessages: {\n          errors: errors\n        }\n      });\n      this.setState({\n        isLoading: false\n      });\n      return;\n    }\n\n    this.forgotPwdCallback = error => {\n      fbq('track', 'ForgotPwd' + (error ? \"Failed\" : \"Successful\"));\n      ga('send', 'event', 'General', 'userLoginSignup', 'Forgot Password ' + (error ? \"Failed\" : \"Successful\"));\n      this.setState({\n        isLoading: false\n      }); // Show some message confirming result\n\n      if (error) {\n        console.log(error);\n        this.setState({\n          formMessages: {\n            errors: [error]\n          }\n        });\n      } else {\n        this.setState({\n          showForm: false\n        });\n        this.setState({\n          formMessages: {\n            info: [{\n              reason: \"Password reset mail sent.\"\n            }]\n          }\n        });\n      }\n    };\n\n    this.forgotPwdCallback = this.forgotPwdCallback.bind(this);\n    Accounts.forgotPassword({\n      email: emailAddress\n    }, this.forgotPwdCallback);\n  }\n\n  tryAgainBtnHandler() {\n    this.state.setState({\n      showForm: true\n    });\n  }\n\n  contactUsClickHandler() {\n    if ($) if ($.fancybox) $.fancybox.close();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, this.state.showForm ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Forgot password?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"no-capitalize\"\n    }, \"Enter your registered Email ID\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-border\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input  \" + (this.state.formMessages.errors ? this.state.formMessages.errors.email ? \"has-error has-feedback\" : \"\" : \"\")\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"email\",\n      type: \"email\",\n      name: \"email\",\n      required: true,\n      htmlFor: \"email-LoginFormResetPasswordView\",\n      className: \"login-input-email-LoginFormResetPasswordView\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email-LoginFormResetPasswordView\"\n    }, \"EMAIL ID\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(LoginFormMessages, {\n      messages: this.state.formMessages\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"transparent-btn btns\"\n    }, \"Loading...\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"blue-btn btns\",\n      type: \"submit\",\n      \"data-event-action\": \"accounts\",\n      onClick: this.forgotPwdHandler\n    }, \"Reset My Password\"), /*#__PURE__*/React.createElement(\"h6\", null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: '#0c68a7'\n      },\n      \"data-event-category\": \"accounts\",\n      \"data-event-action\": \"signIn\",\n      onClick: this.props.showSignInFormHandler\n    }, \"Sign In\"))))))) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"We just emailed you a link\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"no-capitalize\"\n    }, \"Please check your email and click the secure link.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"transparent-btn btns tryAgainBtn\",\n      onClick: this.tryAgainBtnHandler\n    }, \"Try again\")), /*#__PURE__*/React.createElement(\"p\", null), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text contactusBtn\"\n    }, \"If you don\\u2019t see our email, check your spam folder or \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus'),\n      onClick: this.contactUsClickHandler\n    }, \"Contact us\")))));\n  }\n\n}\n\n;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"MainLayoutFooter.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/layout/MainLayoutFooter.jsx                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => MainLayoutFooter\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\n\nclass MainLayoutFooter extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"footer-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9 col-sm-12 col-xs-12 foot-menu\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-sm-3 col-xs-12 foot-logo\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/spot-my-crib-logo.png\"),\n      height: \"32px\",\n      alt: \"\"\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9 col-sm-9 col-xs-12 pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-bot-2\"\n    }, \"TENANTS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('b', {\n        slug: 'rent-in-dublin-ireland'\n      })\n    }, \"Rent in Dublin\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('b', {\n        slug: 'rent-in-cork-ireland'\n      })\n    }, \"Rent in Cork\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('b', {\n        slug: 'rent-in-kildare-ireland'\n      })\n    }, \"Rent in Kildare\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('b', {\n        slug: 'rent-in-galway-ireland'\n      })\n    }, \"Rent in Galway\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('b', {\n        slug: 'rent-in-meath-ireland'\n      })\n    }, \"Rent in Meath\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-bot-2\"\n    }, \"LANDLORDS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus')\n    }, \"List My Property\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('estateagent')\n    }, \"Estate Agents/Landlords\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('howitworks')\n    }, \"How it Works?\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('faqs')\n    }, \"FAQs\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus')\n    }, \"Contact Us\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-bot-2\"\n    }, \"SPOTMYCRIB\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('about')\n    }, \"About Us\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('bloghome')\n    }, \"Blog\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('careers')\n    }, \"Careers\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('gdpr')\n    }, \"Data Protection / EU GDPR\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('terms')\n    }, \"Legal\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('privacy')\n    }, \"Privacy Policy\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('cookiepolicy')\n    }, \"Cookie Policy\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-sm-12 col-xs-12 social-icon\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-sm-12 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.facebook.com/SpotMyCrib/\",\n      target: \"_blank\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/facebook-icon.png\"),\n      alt: \"\"\n    }))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://twitter.com/SpotMyCrib\",\n      target: \"_blank\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/twitter-icon.png\"),\n      alt: \"\"\n    }))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.linkedin.com/company/11223356/\",\n      target: \"_blank\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/linkedin-icon.png\"),\n      alt: \"\"\n    }))))))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"copyright\",\n      style: {\n        display: 'none'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"footer-left visible-md\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, \"SpotMyCrib. \")), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"footer-left hidden-md\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, \"SpotMyCrib. \")))));\n  }\n\n}\n\n;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"MainLayoutHeader.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/layout/MainLayoutHeader.jsx                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  LoginFormHorizontalT: () => LoginFormHorizontalT,\n  SocialLoginButtonsT: () => SocialLoginButtonsT,\n  LoginPage: () => LoginPage,\n  LoginPageHorizontal: () => LoginPageHorizontal,\n  LoginFormT: () => LoginFormT,\n  LoginFormMessages: () => LoginFormMessages\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet LoginFormSignInView, LoginFormSignUpView, LoginFormSignUpViewLandlord, LoginFormResetPasswordView;\nmodule.link(\"./LoginFormViews.jsx\", {\n  LoginFormSignInView(v) {\n    LoginFormSignInView = v;\n  },\n\n  LoginFormSignUpView(v) {\n    LoginFormSignUpView = v;\n  },\n\n  LoginFormSignUpViewLandlord(v) {\n    LoginFormSignUpViewLandlord = v;\n  },\n\n  LoginFormResetPasswordView(v) {\n    LoginFormResetPasswordView = v;\n  }\n\n}, 3);\nemailAlerts = [// {\n//     heading: 'OH, HEY!',\n//     para: 'Get your dream place sooner without even searching for it! Sign up for our emails and we will send you the latest properties of your choice',\n//     yesButtonText: \"Awesome ðŸ¤˜ðŸ‘\"\n// },\n{\n  heading: 'Always First.',\n  para: 'Be the first to hear about the latest lettings in your area. Signup for our email alerts.',\n  yesButtonText: \"HELL YES!\"\n} // ,\n// {\n//     heading: 'Get Notified.',\n//     para: 'Get your rental soon by signing up for our email alerts. Be the first one to know when a letting is posted.',\n//     yesButtonText: \"Okays! Sign me up. :)\"\n// }\n];\nEMAIL_ALERT_VARIATION_count = 2; // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1, 2\n\nEMAIL_ALERT_VARIATION = 0; //Keeping only 1 variation.\n\nEMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION];\nisMobileMenuEventAttached = false;\n\nfunction delayedFunctions() {\n  // if(!isMobileMenuEventAttached) {\n  $(document).unbind('click').bind('click', function (e) {\n    if (!$('.xs-menu').hasClass('slide-right')) {\n      //Its not open\n      if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n        if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n        $('.xs-menu').addClass('slide-right');\n        return true;\n      } else return true;\n    } else {\n      //Its open\n      if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n        $('.xs-menu').removeClass('slide-right');\n        if (FlowRouter.current().route.name == 'home') setTimeout(function () {\n          if (FlowRouter.current().route.name == 'home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n        }, 250);\n        return true;\n      }\n    }\n  }); // isMobileMenuEventAttached = true;\n  // }\n}\n\nfunction showLoginDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', false);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showSignupDialog() {\n  Session.set('showForgotForm', false);\n  Session.set('showSignupForm', true);\n  Session.set('showLoginSignupFancyBoxDialog', true);\n  Session.set('showLoginDialog', true);\n}\n\nfunction showLoginPopup() {\n  // let doesDivStillExists = $('#signin-div').html()\n  // if( doesDivStillExists != \"\" ){//To prevent home page dialogs\n  $.fancybox({\n    'padding': 0,\n    'href': '#signin-div',\n    afterClose: function (template) {\n      console.log(template); //template.showLoginDialog.set(false);\n\n      Session.set('isLandLordMode', false);\n      Session.set('showLoginDialog', false);\n      Session.set('showLoginSignupFancyBoxDialog', false);\n      Session.set('loginFromApplyNowBtn', false);\n    }\n  });\n}\n\nfunction emailValidation(email) {\n  email = email.trim();\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // Valid\n\n  if (re.test(email)) {\n    return true;\n  } // Invalid\n\n\n  return {\n    error: \"INVALID_EMAIL\",\n    reason: \"Please enter a valid email address in format pat@gmail.com\"\n  };\n}\n\nfunction decideAndShowCreateAlertPopup() {\n  // console.log(\"Apply decideAndShowCreateAlertPopup\")\n  let showAlertCreate = true;\n  let saidNo = parseInt(readCookie('emailAlertNoThanks'));\n\n  if (!saidNo) {\n    let c = parseInt(readCookie('emailAlertShowedCount'));\n    let on = parseInt(readCookie('emailAlertShowedOnTime'));\n    let tmp = (Date.now() - on) / 60000; // time in mins\n    // console.log('Time is: '+tmp);\n\n    if (c > 1) {\n      if (tmp < 2) showAlertCreate = false; //its not even 2mns since last popup show, so wait\n    }\n\n    if (c > 2) {\n      if (tmp < 2) showAlertCreate = false; //its not even 2mns since last popup show, so wait\n    }\n\n    if (c > 3) {\n      if (tmp < 3) showAlertCreate = false; //its not even 3mns since last popup show, so wait\n    }\n\n    if (c > 4) {\n      if (tmp < 6) showAlertCreate = false; //its not even 6mns since last popup show, so wait\n    }\n\n    if (c > 5) {\n      if (tmp < 12) showAlertCreate = false; //its not even 12mns since last popup show, so wait\n    }\n  }\n\n  let user = Meteor.user();\n\n  if (user) {\n    if (user.profile.emailAlertsActive || user.profile.emailAlertsNoThanks) showAlertCreate = false; // he already has alerts or he said no to them.\n  }\n\n  if (parseInt(readCookie('emailAlertAlreadyHasIt')) || parseInt(readCookie('emailAlertNoThanks'))) showAlertCreate = false; // He already has alerts or He already said no\n  //you don't need above fallback because this function is called only after 3-5 sec , by then user subscription must be loaded.\n  // console.log(\"decision: \"+showAlertCreate)\n\n  if (showAlertCreate) {\n    showCreateAlertPopup();\n  }\n}\n\nfunction showCreateAlertPopup() {\n  if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n    let c = parseInt(readCookie('emailAlertShowedCount'));\n    c = parseInt(c);\n    if (isNaN(c)) c = 1;else {\n      c++;\n    }\n    createCookie('emailAlertShowedCount', c, 5);\n    createCookie('emailAlertShowedOnTime', Date.now(), 5);\n    $.fancybox({\n      'padding': 0,\n      'href': '#create-alert-popup',\n      afterShow: function () {\n        $('#emailAlertUserEmailAddress').focus();\n        ga('send', 'event', 'emailAlert', 'Show Email Alert', 'Route name: ' + FlowRouter.current().route.name + ' Variation: ' + EMAIL_ALERT_VARIATION);\n      },\n      afterClose: function () {\n        Session.set('showCreateAlertPopup', false);\n      }\n    });\n  }\n}\n\nfunction showAddPropertyHeaderPopup() {\n  $.fancybox({\n    'padding': 0,\n    'href': '#addPropertyHeader-div',\n    afterClose: function (template) {\n      //console.log(template);\n      Session.set('showAddPropertyHeaderTemplate', false);\n      Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n    }\n  });\n}\n\nfunction createCookie(name, value, days) {\n  var expires = \"\";\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toUTCString();\n  }\n\n  document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + \"=\";\n  var ca = document.cookie.split(';');\n\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n\n    while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n\n    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n  }\n\n  return null;\n}\n\nfunction eraseCookie(name) {\n  createCookie(name, \"\", -1);\n}\n\nfunction loadFonts() {\n  (function () {\n    var wf = document.createElement('link');\n    wf.href = cdnPath('/fonts/Montserrat/stylesheet.css');\n    wf.rel = 'stylesheet';\n    wf.async = 'true'; //link doesnt support async\n\n    var s = document.getElementsByTagName('link')[0];\n    s.parentNode.insertBefore(wf, s);\n    Session.set('fontsLoaded', true); // var wf = document.createElement('script');\n    // wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';\n    // wf.type = 'text/javascript';\n    // wf.async = 'true';\n    // var s = document.getElementsByTagName('script')[0];\n    // s.parentNode.insertBefore(wf, s);\n  })();\n}\n\nclass MainLayoutHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      emailAlertEmailAddress: this.props.currentUser ? this.props.currentUser.profile.email : \"\"\n    };\n    this.emailAlertEmailAddressHandler = this.emailAlertEmailAddressHandler.bind(this);\n    this.NeedsCreateAlertPopup = false;\n\n    if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n      this.NeedsCreateAlertPopup = true; // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1\n\n      EMAIL_ALERT_VARIATION = 0;\n      EMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION];\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser && !this.state.emailAlertEmailAddress) //update only if it has vals and emailAlertEmailAddress is empty.\n      this.setState({\n        emailAlertEmailAddress: nextProps.currentUser.profile.email\n      });\n  }\n\n  componentWillMount() {\n    if (Meteor.isClient) {\n      Session.set('showLoginDialog', false);\n      Session.set('showForgotForm', false);\n      Session.set('showLoginDialog', false);\n      Session.set('showLoginSignupFancyBoxDialog', false);\n      Session.set('showAddPropertyHeaderTemplate', false);\n      Session.set('showAddPropertyHeaderFancyBoxDialog', false);\n      if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n    }\n\n    this.state = {\n      newAlertCreateForm: true,\n      newAlertCreatedSuccessfully: false\n    };\n    this.emailAlertCreateBtnHandler = this.emailAlertCreateBtnHandler.bind(this);\n    this.emailAlertNoThanksBtnHandler = this.emailAlertNoThanksBtnHandler.bind(this);\n  }\n\n  emailAlertCreateBtnHandler() {\n    console.log('emailAlertCreateBtnHandler');\n    let val = $('#emailAlertUserEmailAddress').val();\n    let validatedEmail = emailValidation(val);\n\n    if (validatedEmail !== true) {\n      alert('Invalid email, please enter a valid email address.');\n      $('#emailAlertUserEmailAddress').focus();\n      return;\n    }\n\n    this.subscribeToEmailAlert = function (error, result) {\n      if (error) {\n        console.log(error);\n        alert('Error: ' + error.reason);\n        $('#emailAlertUserEmailAddress').focus();\n        return;\n      } else {\n        createCookie('emailAlertAlreadyHasIt', 1, 365);\n        this.setState({\n          newAlertCreateForm: false,\n          newAlertCreatedSuccessfully: true\n        });\n        setTimeout(function () {\n          if ($) if ($.fancybox) $.fancybox.close();\n        }, 10000);\n      }\n    };\n\n    this.subscribeToEmailAlert = this.subscribeToEmailAlert.bind(this);\n    Meteor.call('subscribeToEmailAlert', val, this.subscribeToEmailAlert);\n    ga('send', 'event', 'emailAlert', 'Created Email Alert', 'Route name: ' + FlowRouter.current().route.name + ' Variation: ' + EMAIL_ALERT_VARIATION);\n  }\n\n  emailAlertNoThanksBtnHandler() {\n    console.log('emailAlertNoThanksBtnHandler');\n    createCookie('emailAlertNoThanks', 1, 365);\n\n    if (this.props.currentUser) {\n      Meteor.call('emailAlertsNoThanks');\n    }\n\n    if ($) if ($.fancybox) $.fancybox.close();\n  }\n\n  componentDidMount() {\n    $.getScript(cdnPath('/js/bootstrap.min.js'), function () {// console.log(\"Bootstrap loaded\")\n    }); // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n    //     console.log(\"Filestack loaded\")\n    // });\n\n    $.getScript(cdnPath('/plugins/fancybox/js/jquery.fancybox.min.js'), function () {\n      // script should be loaded and do something with it.\n      $('.fancybox').fancybox({\n        scrolling: 'no',\n        helpers: {\n          overlay: {\n            locked: true\n          }\n        }\n      });\n    });\n\n    if (Meteor.isClient) {\n      var fontsLoaded = Session.get('fontsLoaded');\n\n      if (!fontsLoaded) {\n        //Below code is taken from https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\n        var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n        if (raf) raf(function () {\n          window.setTimeout(loadFonts, 0);\n        });else window.addEventListener('load', loadFonts);\n      }\n    }\n\n    setTimeout(delayedFunctions, 1500);\n\n    if (['rent', \"b\", 'letting'].includes(FlowRouter.current().route.name)) {\n      setTimeout(function () {\n        decideAndShowCreateAlertPopup();\n      }, 10000);\n      var runOnlyOnce = false;\n      $(document).off('scroll').on('scroll', function () {\n        try {\n          let addon = 50;\n          if (FlowRouter.current().route.name == 'b') addon = 300;\n\n          if ($(this).scrollTop() >= $('.subscribeTillPopop').position().top - addon && !runOnlyOnce) {\n            runOnlyOnce = true;\n            decideAndShowCreateAlertPopup();\n          }\n        } catch (e) {}\n      });\n    }\n  }\n\n  showLoginDialogClick(event) {\n    showLoginDialog();\n  }\n\n  showSignupDialogClick(event) {\n    showSignupDialog();\n  }\n\n  logoutBtnClick(event) {\n    Meteor.logout(function (err) {\n      if (err) {\n        throw new Meteor.Error(\"Logout failed\");\n      }\n    });\n  }\n\n  profileBtnClick(event) {\n    FlowRouter.go('account/profile');\n  }\n\n  cookieConsentBtnClick(event) {\n    createCookie('cookieConsent', 1, 365);\n    $('.cookieConsentArea').remove();\n  }\n\n  emailAlertEmailAddressHandler(event) {\n    this.setState({\n      emailAlertEmailAddress: event.target.value\n    });\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.showCookieConsent ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"cookieConsentArea\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cookieConsentArea-inner\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left-menu text-center\",\n      style: {\n        color: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('cookiepolicy')\n    }, \" cookie policy \"), \".\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"green-btn btns cookieConsentBtn\",\n      onClick: self.cookieConsentBtnClick.bind(this),\n      type: \"button\",\n      style: {\n        marginLeft: 20\n      }\n    }, \"I understand\")))))) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n      className: \"header\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-icon-master\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-icon\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"menu-xs sprite\"\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/spot-my-crib-logo.png\"),\n      alt: \"SpotMyCrib\",\n      title: \"SpotMyCrib - Safe and easy rentals\",\n      className: \"logo-big\"\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/spotmycrib-logo-130.jpg\"),\n      alt: \"SpotMyCrib\",\n      title: \"SpotMyCrib - Safe and easy rentals\",\n      className: \"logo-xs\"\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus'),\n      className: \"btns green-btn addPropertyHeaderBtn\",\n      type: \"button\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-object-align-bottom\",\n      \"aria-hidden\": \"true\"\n    }), \" Advertise property\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"login-menu hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/myProperties')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-check\",\n      \"aria-hidden\": \"true\"\n    }), \" MY PROPERTIES\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"login-menu hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/profile')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-check\",\n      \"aria-hidden\": \"true\"\n    }), \" MY REFERENCES\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"login-menu hidden-xs\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: self.logoutBtnClick.bind(this),\n      className: \"logoutBtn\"\n    }, \"SIGN OUT\")) : \"\", this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-accounts\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.path('account/profile')\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"circular-icon profileBtn\",\n      src: this.props.getProfilePic,\n      width: \"40px\",\n      height: \"40px\"\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"logged-in-display-name profileBtn\"\n    }, this.props.displayName)))) : /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"oval logedout-menu\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"right-border showLoginDialog\",\n      onClick: self.showLoginDialogClick.bind(this),\n      href: \"javascript:;\"\n    }, \"SIGN IN\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      onClick: self.showSignupDialogClick.bind(this),\n      className: \"showSignupDialog\"\n    }, \"SIGN UP\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu visible-xs transition\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-close-icon text-right\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sprite xs-close\"\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"transition\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, \"HOME / SEARCH\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.path('account/profile')\n    }, \"MY REFERENCES\")) : \"\", /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus')\n    }, \"LIST PROPERTY\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.path('account/myProperties')\n    }, \"MY PROPERTIES\")) : \"\", /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('estateagent')\n    }, \"AGENTS/LANDLORDS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('howitworks')\n    }, \"HOW IT WORKS?\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('faqs')\n    }, \"FAQ\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus')\n    }, \"CONTACT US\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('careers')\n    }, \"CAREERS\")), this.props.currentUserId ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      onClick: self.logoutBtnClick.bind(this)\n    }, \"SIGN OUT\")) : \"\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"errorModel\",\n      className: \"alert alert-danger \",\n      style: {\n        display: 'none'\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"signin-div\",\n      className: \"signin1\",\n      style: {\n        display: 'none'\n      }\n    }, this.props.showLoginDialog ? /*#__PURE__*/React.createElement(LoginFormT, null) : \"\"), this.NeedsCreateAlertPopup ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"create-alert-popup\",\n      style: {\n        display: 'none'\n      },\n      className: \"verification-div1\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"refund-div\"\n    }, this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully ? /*#__PURE__*/React.createElement(\"h2\", null, EMAILALERT.heading) : \"\", this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"green-text\"\n    }, \"Well Done! Alert Created.\") : \"\"), this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text\",\n      style: {\n        textAlign: 'center',\n        margin: '10px 0px',\n        fontSize: '14px'\n      }\n    }, EMAILALERT.para), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form\",\n      action: \"javascript:void(0);\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-border\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter your email address\",\n      id: \"emailAlertUserEmailAddress\",\n      required: \"required\",\n      style: {\n        fontSize: '14px',\n        marginBottom: '10px !important',\n        borderBottom: 'none !important'\n      },\n      value: this.state.emailAlertEmailAddress,\n      onChange: this.emailAlertEmailAddressHandler\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-btn\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.emailAlertCreateBtnHandler,\n      className: \"green-btn btns\",\n      type: \"submit\",\n      style: {\n        width: '100%',\n        marginTop: '10px'\n      }\n    }, EMAILALERT.yesButtonText))), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      onClick: this.emailAlertNoThanksBtnHandler,\n      className: 'noThanks'\n    }, \"No thanks, I'm happy to search myself\")) : \"\", this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text\",\n      style: {\n        textAlign: 'center',\n        margin: '10px 0px',\n        fontSize: '13px'\n      }\n    }, \"We will send you an email a day with new lettings. Be the first to apply for them. \"), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://giphy.com/embed/fxsqOYnIMEefC\",\n      frameBorder: 0,\n      className: \"giphy-embed\",\n      allowFullScreen: true,\n      style: {\n        width: '80%'\n      }\n    })) : \"\", false ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"green-text\",\n      style: {\n        textAlign: 'center',\n        margin: '10px 0px',\n        color: 'black'\n      }\n    }, \"You will now be notified of the new lettings in Dundrum of County Dubin.\"), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-text mar-top-20\",\n      style: {\n        textAlign: 'center',\n        margin: '20px 0px 10px',\n\n        /* display: 'none', */\n        fontSize: '14px'\n      }\n    }, \"Your active alerts are\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\"\n    }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, \"County\"), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, \"Area\"), /*#__PURE__*/React.createElement(\"th\", null))), /*#__PURE__*/React.createElement(\"tbody\", {\n      style: {\n        color: '#8b8b8b',\n        fontSize: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Dublin\"), /*#__PURE__*/React.createElement(\"td\", null, \"All Areas\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\"))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Limrick\"), /*#__PURE__*/React.createElement(\"td\", null, \"City Center North\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\"))), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", null, \"Limrick\"), /*#__PURE__*/React.createElement(\"td\", null, \"Madison square\"), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(\"a\", null, \"Delete\")))))) : \"\") : \"\");\n  }\n\n}\n\n;\nmodule.exportDefault(withTracker(() => {\n  var showCookieConsent = false;\n  var errorModel = false;\n  var showLoginDialog = false;\n\n  if (Meteor.isClient) {\n    if (Session.get('loginFlowComplete')) {\n      setTimeout(function () {\n        Session.set('loginFlowComplete', undefined);\n      }, 1000);\n    } ///////////////////// errorModel start\n\n\n    var tmp = Session.get(\"showErrorDlg\");\n    if (!tmp) tmp = [];\n    if (tmp) if (tmp.length) {\n      var timeoutVal = 0;\n      if (!$.fancybox) timeoutVal = 3000;\n      let tmpHTML = '';\n\n      for (let j = 0; j < tmp.length; j++) {\n        tmpHTML += '<p>' + tmp[j] + '</p>';\n      }\n\n      $('#errorModel').html(tmpHTML);\n      setTimeout(function () {\n        $.fancybox({\n          'padding': 0,\n          'href': '#errorModel',\n          // afterShow:function(template){\n          //     setTimeout(function () {\n          //         $.fancybox.close();\n          //     },3000)\n          // },\n          afterClose: function () {\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            tmp.shift();\n            Session.set(\"showErrorDlg\", tmp);\n          }\n        });\n      }, timeoutVal);\n    } ///////////////////// showLoginDialog start\n\n    if (Session.get('showLoginSignupFancyBoxDialog')) {\n      showLoginPopup();\n    } else {\n      if ($) if ($.fancybox) $.fancybox.close();\n    } ///////////////////// showCreateAlertPopup start\n\n\n    if (Session.get('showCreateAlertPopup')) {\n      showCreateAlertPopup();\n    } // else {//No need for any control over its closing.\n    //     if ($)\n    //         if ($.fancybox)\n    //             $.fancybox.close();\n    // }\n\n\n    showCookieConsent = !parseInt(readCookie('cookieConsent'));\n    errorModel = Session.get(\"showErrorDlg\");\n    showLoginDialog = Session.get(\"showLoginDialog\");\n  }\n\n  var user = Meteor.user(); ///////////////////// displayName start\n\n  var displayName = \"Guest\";\n\n  try {\n    if (user) {\n      if (user.profile && user.profile.name) {\n        displayName = user.profile.name;\n      }\n    }\n  } catch (e) {} ///////////////////// getProfilePic start\n\n\n  var getProfilePic = cdnPath(\"/images/user-img.png\");\n\n  try {\n    if (user.profile.picture) {\n      if (user.services.facebook) if (user.services.facebook.indexOf('?width=40') == -1) getProfilePic = user.profile.picture + \"?width=40\"; //@BCompatibility : adding ?width=40 to it\n\n      getProfilePic = user.profile.picture;\n    }\n  } catch (e) {}\n\n  return {\n    showCookieConsent: showCookieConsent,\n    currentUserId: Meteor.userId(),\n    errorModel: errorModel,\n    showLoginDialog: showLoginDialog,\n    displayName: displayName,\n    currentUser: Meteor.user()\n  };\n})(MainLayoutHeader));\n\nclass LoginFormMessages extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, this.props.messages ? /*#__PURE__*/React.createElement(\"div\", null, this.props.messages.info ? this.props.messages.info.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert alert-info\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-info-sign\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\", this.props.messages.warning ? this.props.messages.warning.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert alert-warning\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-warning-sign\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\", this.props.messages.success ? this.props.messages.success.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert success\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-ok\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\", this.props.messages.errors ? this.props.messages.errors.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"changePwdAlertMsgs alert alert-danger\",\n        role: \"alert\",\n        key: i\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-exclamation-sign\",\n        \"aria-hidden\": \"true\"\n      }), \"\\xA0 \", item.reason);\n    }) : \"\") : \"\");\n  }\n\n}\n\n;\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showForgotForm: props.showForgotForm ? true : false,\n      showSignupForm: props.showSignupForm ? true : false,\n      isLandLordMode: props.isLandLordMode ? true : false,\n      loginFromApplyNowBtn: props.loginFromApplyNowBtn ? true : false\n    };\n  }\n\n  showForgotFormHandler() {\n    this.setState({\n      showForgotForm: true\n    });\n    this.setState({\n      showSignupForm: false\n    });\n    this.setState({\n      isLandLordMode: false\n    });\n  }\n\n  showSignupFormHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n    this.setState({\n      showSignupForm: true\n    });\n    this.setState({\n      isLandLordMode: false\n    });\n  }\n\n  showSignInFormHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n    this.setState({\n      showSignupForm: false\n    });\n    this.setState({\n      isLandLordMode: false\n    });\n  }\n\n  showLandlordViewHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n    this.setState({\n      showSignupForm: true\n    });\n    this.setState({\n      isLandLordMode: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginForm\"\n    }, this.state.showForgotForm ? /*#__PURE__*/React.createElement(LoginFormResetPasswordView, {\n      onPage: false,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : this.state.showSignupForm ? this.state.isLandLordMode ? /*#__PURE__*/React.createElement(LoginFormSignUpViewLandlord, {\n      onPage: false,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : /*#__PURE__*/React.createElement(LoginFormSignUpView, {\n      loginFromApplyNowBtn: this.state.loginFromApplyNowBtn,\n      onPage: false,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : /*#__PURE__*/React.createElement(LoginFormSignInView, {\n      loginFromApplyNowBtn: this.state.loginFromApplyNowBtn,\n      onPage: false,\n      showSignupFormHandler: this.showSignupFormHandler.bind(this),\n      showForgotFormHandler: this.showForgotFormHandler.bind(this)\n    }));\n  }\n\n}\n\n;\nmodule.runSetters(LoginFormT = withTracker(() => {\n  var ret = {};\n\n  if (Meteor.isClient) {\n    ret.showSignupForm = Session.get('showSignupForm');\n    ret.showForgotForm = Session.get('showForgotForm');\n    ret.isLandLordMode = Session.get('isLandLordMode');\n    ret.loginFromApplyNowBtn = Session.get('loginFromApplyNowBtn');\n  }\n\n  return ret;\n})(LoginForm));\n\nclass LoginPage extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom\"\n    }, /*#__PURE__*/React.createElement(LoginFormT, null)))));\n  }\n\n}\n\n;\n\nclass SocialLoginButtons extends Component {\n  componentWillMount() {\n    if (Meteor.isClient) {\n      Session.set('loginFlowStart', true);\n      Session.set('loginFlowComplete', undefined);\n      delete Session.keys.loginFlowComplete;\n    }\n\n    this.state = {\n      errorMessages: {}\n    };\n    this.dontShow = true;\n    this.buttonForText = '';\n\n    switch (this.props.buttonFor) {\n      case 'login':\n        this.buttonForText = 'Login';\n        break;\n\n      case 'signup':\n        this.buttonForText = 'Signup';\n        break;\n\n      default:\n        this.buttonForText = 'Login / Signup';\n    }\n\n    this.handleFBLogin = this.handleFBLogin.bind(this);\n    this.handleTwitterLogin = this.handleTwitterLogin.bind(this);\n    this.handleGoogleLogin = this.handleGoogleLogin.bind(this);\n    this.handleLinkedInLogin = this.handleLinkedInLogin.bind(this);\n  }\n\n  handleFBLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.FBCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'FBUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'FB Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'FBUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'FB Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'FBUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'FB LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Facebook failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.FBCallback = this.FBCallback.bind(this);\n    Meteor.loginWithFacebook({}, this.FBCallback);\n  }\n\n  handleTwitterLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.TwitterCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'TwitterUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'TwitterUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'TwitterUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Twitter LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Twitter failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.TwitterCallback = this.TwitterCallback.bind(this);\n    Meteor.loginWithTwitter({}, this.TwitterCallback);\n  }\n\n  handleGoogleLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.GoogleCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'GoogleUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Google Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'GoogleUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Google Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'GoogleUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'Google LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with Google failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.GoogleCallback = this.GoogleCallback.bind(this);\n    Meteor.loginWithGoogle({}, this.GoogleCallback);\n  }\n\n  handleLinkedInLogin(event) {\n    this.setState({\n      errorMessages: {}\n    });\n\n    this.LinkedInCallback = function (err) {\n      switch (this.props.buttonFor) {\n        case 'login':\n          fbq('track', 'LinkedInUserLogin' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Login ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        case 'signup':\n          fbq('track', 'LinkedInUserSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Signup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n\n        default:\n          fbq('track', 'LinkedInUserLoginSignup' + (err ? \"Failed\" : \"Successful\"));\n          ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn LoginSignup ' + (err ? \"Failed\" : \"Successful\"));\n          break;\n      }\n\n      if (err) {\n        console.log(err);\n        var msg = 'Connect with LinkedIn failed. ';\n        if (err.errorType == 'Accounts.LoginCancelledError') msg += 'Seems like attempt was cancelled. ';else if (err.error == 'account-exists') {\n          msg += err.reason + ' ';\n        } else if (err.message) msg += err.message + '. ';\n        msg += \"Please try again. Contact us if needed.\";\n        var errors = [];\n        errors.push({\n          \"error\": \"SOCIALLOGIN_FAIL\",\n          \"reason\": msg\n        });\n        this.setState({\n          errorMessages: {\n            errors: errors\n          }\n        });\n      } else {\n        if (this.props.usedInDlg) {\n          Session.set('showLoginSignupFancyBoxDialog', false);\n          Session.set('showForgotForm', false);\n          Session.set('showSignupForm', true);\n          Session.set('showLoginDialog', true);\n        }\n\n        Session.set('loginFlowComplete', true);\n        Session.set('loginFlowStart', undefined);\n        delete Session.keys.loginFlowStart;\n      }\n    };\n\n    this.LinkedInCallback = this.LinkedInCallback.bind(this);\n    Meteor.loginWithLinkedIn({}, this.LinkedInCallback);\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleFBLogin,\n      id: \"facebook-login\",\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, this.buttonForText, \" with Facebook\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleTwitterLogin,\n      id: \"twitter-login\",\n      style: {\n        marginTop: '10px'\n      },\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, this.buttonForText, \" with Twitter\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleGoogleLogin,\n      id: \"google-login\",\n      style: {\n        marginTop: '10px'\n      },\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, this.buttonForText, \" with Google\"), this.dontShow ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      onClick: self.handleLinkedInLogin,\n      id: \"linkedin-login\",\n      style: {\n        marginTop: '10px'\n      },\n      className: \"blue-btn btns social-button\",\n      \"data-max-rows\": \"1\",\n      \"data-size\": \"medium\",\n      \"data-show-faces\": \"false\",\n      \"data-auto-logout-link\": \"false\"\n    }, \"Login with LinkedIn\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(LoginFormMessages, {\n      messages: this.state.errorMessages\n    }), /*#__PURE__*/React.createElement(\"br\", null));\n  }\n\n}\n\n;\nmodule.runSetters(SocialLoginButtonsT = withTracker(() => {\n  var ret = {};\n\n  if (Meteor.isClient) {\n    ret.showSignupForm = Session.get('showSignupForm');\n    ret.showForgotForm = Session.get('showForgotForm');\n  }\n\n  ret.user = Meteor.user();\n  return ret;\n})(SocialLoginButtons));\n\nclass LoginFormHorizontal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showForgotForm: props.showForgotForm ? true : false,\n      isLandLordMode: props.isLandLordMode ? true : false\n    };\n  }\n\n  showForgotFormHandler() {\n    this.setState({\n      showForgotForm: true\n    });\n  }\n\n  showSignInFormHandler() {\n    this.setState({\n      showForgotForm: false\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.user) Session.set('loginFlowComplete', true); //todo: check this\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginForm onpageSignin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(SocialLoginButtonsT, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-center\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-12\"\n    }, this.state.showForgotForm ? /*#__PURE__*/React.createElement(LoginFormResetPasswordView, {\n      onPage: true,\n      showSignInFormHandler: this.showSignInFormHandler.bind(this)\n    }) : /*#__PURE__*/React.createElement(LoginFormSignInView, {\n      onPage: true,\n      showForgotFormHandler: this.showForgotFormHandler.bind(this)\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-12\"\n    }, this.state.isLandLordMode ? /*#__PURE__*/React.createElement(LoginFormSignUpViewLandlord, {\n      onPage: true\n    }) : /*#__PURE__*/React.createElement(LoginFormSignUpView, {\n      onPage: true\n    }))));\n  }\n\n}\n\n;\nmodule.runSetters(LoginFormHorizontalT = withTracker(() => {\n  var ret = {};\n  ret.user = Meteor.user();\n  return ret;\n})(LoginFormHorizontal));\n\nclass LoginPageHorizontal extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print loginPageHorizontal\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom\"\n    }, /*#__PURE__*/React.createElement(LoginFormHorizontalT, null)))));\n  }\n\n}\n\n;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"NotFound.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/layout/NotFound.jsx                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => NotFound\n});\nlet Component;\nmodule.link(\"react\", {\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet MainLayoutHeader;\nmodule.link(\"./MainLayoutHeader\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"./MainLayoutFooter\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 3);\n\nclass NotFound extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      id: \"main\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Page Not Found\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"blue-btn btns backBtn\",\n      type: \"button\"\n    }, \"Try again\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n\n;\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"pages\":{\"AdvertiseWithUs.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/pages/AdvertiseWithUs.jsx                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet ReactDOM;\nmodule.link(\"react-dom\", {\n  default(v) {\n    ReactDOM = v;\n  }\n\n}, 2);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 3);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 4);\nlet MainLayoutHeader, LoginFormHorizontalT;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  },\n\n  LoginFormHorizontalT(v) {\n    LoginFormHorizontalT = v;\n  }\n\n}, 5);\nlet Collections;\nmodule.link(\"../../api/collections\", {\n  Collections(v) {\n    Collections = v;\n  }\n\n}, 6);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n} // function getAreas(countySelected) {\n//     var distinctEntries = _.uniq(Collections.Areas.find({County:countySelected}, {\n//         sort: {Area: 1}, fields: {Area: true}\n//     }).fetch().map(function(x) {\n//         return x.Area;\n//     }), true);\n//     allareas = []\n//     for(var i=0;i< distinctEntries.length;i++){\n//         if(!distinctEntries[i])continue;\n//         allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n//     }\n//     return allareas;\n// }\n\n\nsearialisedAdvertiseForm = '';\n\nfunction saveToLocalStorage() {\n  searialisedAdvertiseForm = $('#advertiseWithUsFormCF').serializeArray();\n\n  if (localStorage) {\n    // localStorage.searialisedAdvertiseForm=searialisedAdvertiseForm// doesn' work as it saves as string, but we need to store as object\n    localStorage.advertisewithusFormData = {};\n    localStorage.advertisewithusFormData_address = $(\"input[name='address.address']\").val();\n    localStorage.advertisewithusFormData_price = $(\"input[name='price']\").val();\n    localStorage.advertisewithusFormData_county = $(\"select[name='address.county']\").val();\n    localStorage.advertisewithusFormData_area = $(\"select[name='address.area']\").val();\n    localStorage.advertisewithusFormData_type = $(\"select[name='type']\").val();\n    localStorage.advertisewithusFormData_furnished = $(\"select[name='furnished']\").val();\n    localStorage.advertisewithusFormData_baths = $(\"input[name='baths']\").val();\n    localStorage.advertisewithusFormData_numBedRoomCount = $(\"input[name='numBedRoomCount']\").val();\n  }\n}\n\nclass AdvertiseWithUs extends Component {\n  constructor(props) {\n    super(props);\n    this.components = {\n      c1: AwsStep1,\n      c2: AwsStep2,\n      AwsStep1: AwsStep1,\n      AwsStep2: AwsStep2,\n      AwsStep3: AwsStep3\n    };\n  }\n\n  render() {\n    const self = this;\n    const TagName = this.components[this.props.curStepComponent];\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"video-div\",\n      style: {\n        display: \"none\"\n      }\n    }, /*#__PURE__*/React.createElement(\"iframe\", {\n      width: \"560\",\n      height: \"315\",\n      src: \"https://www.youtube.com/embed/L689NIDwFdc?autoplay=1&rel=0\",\n      frameBorder: \"0\",\n      allowFullScreen: true\n    })), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container background-white \"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder mar-top-20 pad-btm-20\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"autoFrm\"\n    }, /*#__PURE__*/React.createElement(TagName, null))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n\nmodule.exportDefault(withTracker(() => {\n  if (Meteor.isClient) {\n    var pageno = FlowRouter.getParam('pageno');\n    if (!pageno) pageno = 1;\n    var loginFlowComplete = Session.get('loginFlowComplete');\n\n    if (pageno == 2 && loginFlowComplete) {\n      FlowRouter.go('advertisewithus', {\n        pageno: 3\n      });\n      Session.set('loginFlowComplete', undefined);\n      if (typeof fbq !== 'undefined') fbq('track', 'Lead');\n      if (typeof ga !== 'undefined') ga('send', 'event', 'AdvertiseWithUsPage', 'UserLoginCompleted', 'User login / signup');\n    }\n  }\n\n  return {};\n})(AdvertiseWithUs));\n\nclass AwsStep1 extends Component {\n  componentDidMount() {\n    setTimeout(function () {\n      try {\n        $.fancybox({\n          'padding': 0,\n          'href': '#video-div'\n        });\n      } catch (e) {}\n    }, 3000);\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Advertise your property to rent for FREE!\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"List your property to rent in SpotMyCrib. Let thousands of verified tenants apply for your letting. Choose if you are a landlord, agent or the current tenant looking for a replacement so you can move. \"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Enter the details of the property below and click submit.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(AdvertiseWithUsFormT, null));\n  }\n\n}\n\nclass AwsStep2 extends Component {\n  constructor(props) {\n    super(props);\n    this.backBtnHandler = this.backBtnHandler.bind(this);\n  }\n\n  backBtnHandler() {\n    FlowRouter.go('advertisewithus');\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Advertise your property to rent (step 2 of 3)\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      className: \"backBtn\",\n      onClick: this.backBtnHandler\n    }, \"<< Back to step 1\"), /*#__PURE__*/React.createElement(\"p\", null, \"Connect your advert to your account. Login now or sign up with your social account. \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(LoginFormHorizontalT, {\n      isLandLordMode: true\n    }));\n  }\n\n}\n\nclass AwsStep3 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      propertyId: '',\n      auctionId: '',\n      myPropertyLink: ''\n    };\n    this.backBtnHandler = this.backBtnHandler.bind(this);\n    this.addPropImagesHandler = this.addPropImagesHandler.bind(this);\n  }\n\n  backBtnHandler() {\n    FlowRouter.go('advertisewithus');\n  }\n\n  addPropImagesHandler() {\n    if (typeof ga !== 'undefined') ga('send', 'event', 'AdvertiseWithUsPage', 'addPropertyImagesBtnClick', 'AddPropertyImages button clicked.');\n    Session.set('OpenImageUploader', true);\n    Session.set('fromAdvertiseWithUsPage', true);\n    FlowRouter.go('account/editproperty', {\n      id: this.state.propertyId\n    });\n  }\n\n  myPropertyLink() {\n    var propertyId = this.state.propertyId;\n    if (!propertyId) return '';\n    var auctionId = this.state.auctionId;\n    if (!auctionId) return '';\n    var prop = Collections.Properties.findOne(propertyId);\n    if (!prop) return '';\n    var auction = Collections.Auctions.findOne({\n      _id: auctionId\n    });\n    if (!auction) return '';\n    return FlowRouter.path('rent', {\n      slug: prop.slug,\n      key: auction.lettingAuctionCode\n    });\n  }\n\n  componentDidMount() {\n    if (Meteor.isClient) {\n      var user = Meteor.user();\n\n      if (!user) {\n        //\n        FlowRouter.go('advertisewithus', {\n          pageno: 2\n        });\n        return;\n      }\n\n      if (!searialisedAdvertiseForm) {\n        FlowRouter.go('advertisewithus');\n        return;\n      }\n\n      this.addPropertyCallback = function (error, propertyId) {\n        if (error) {\n          console.log(error);\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          var msg = 'An error occurred.';\n          if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n          tmp.push(msg);\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        }\n\n        this.setState({\n          propertyId: propertyId\n        });\n        Meteor.subscribe('editProperty', propertyId); //Can also be used for advertisewithus\n\n        this.addAdvertisementFormCallback = function (error, auctionId) {\n          if (error) {\n            console.log(error); //    validator.showErrors({\n            //         email: error.reason\n            //     });\n\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            var msg = 'An error occurred.';\n            if (error.reason) msg += ' ' + error.reason + '.';else if (error.message) msg += ' ' + error.message + '.';\n            tmp.push(msg);\n            Session.set(\"showErrorDlg\", tmp);\n            return;\n          }\n\n          console.log('addAdvertisement created successfully');\n          console.log(auctionId);\n          var templateInstance = this;\n          this.setState({\n            auctionId: auctionId\n          }, function () {\n            var propertyId = templateInstance.state.propertyId;\n            if (!propertyId) return '';\n            var auctionId = templateInstance.state.auctionId;\n            if (!auctionId) return '';\n            var prop = Collections.Properties.findOne({\n              _id: propertyId\n            });\n            if (!prop) return '';\n            var auction = Collections.Auctions.findOne({\n              _id: auctionId\n            });\n            if (!auction) return '';\n            var myPropertyLink = FlowRouter.url('rent', {\n              slug: prop.slug,\n              key: auction.lettingAuctionCode\n            });\n            this.setState({\n              myPropertyLink: myPropertyLink\n            });\n          });\n        };\n\n        this.addAdvertisementFormCallback = this.addAdvertisementFormCallback.bind(this);\n        Meteor.call('addAdvertisement', searialisedAdvertiseForm, propertyId, this.addAdvertisementFormCallback);\n      };\n\n      this.addPropertyCallback = this.addPropertyCallback.bind(this);\n      Meteor.call('addProperty', searialisedAdvertiseForm, this.addPropertyCallback);\n    }\n  } //todo: this is page is not developed. So finish it.\n\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", null, \"Congratulations! Your property is now live.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:void(0)\",\n      className: \"backBtn\",\n      onClick: this.backBtnHandler\n    }, \"<< Back to step 1\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        margin: '10px 0 10px 0px'\n      }\n    }, \"Choose add property images button below to add images to your advert to make it clear and attractive. Add description and choose amenities available by choosing edit option below. Choose preview below to view it, use the link from the preview window to share it with others. \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signin-form cf-1\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-full-width\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btns blue-btn addPropImages\",\n      onClick: self.addPropImagesHandler\n    }, \"Add property images\"), self.state.propertyId ? /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/editproperty', {\n        id: self.state.propertyId\n      }),\n      className: \"btns transparent-btn mar-left-10\"\n    }, \"Edit property\") : \"\", /*#__PURE__*/React.createElement(\"a\", {\n      href: self.state.myPropertyLink,\n      target: \"_blank\",\n      className: \"btns blue-btn mar-left-10\"\n    }, \"Preview property\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    }))), /*#__PURE__*/React.createElement(\"h2\", null, \"Whats next?\"), /*#__PURE__*/React.createElement(\"p\", null, \"Visit \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/myProperties')\n    }, \"my properties\"), \" from \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('account/myProperties')\n    }, \"here\"), \" or from top menu to see the list of all your properties. Visit \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-text\"\n    }, \"view applications\"), \" from my properties to see list of all applications your property receive. .\"));\n  }\n\n}\n\nclass AdvertiseWithUsForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addPropertyFormSaving: false,\n      numBedRoomCount: 0,\n      numBedRoomCountArr: 0,\n      counties: props.counties,\n      areas: props.areas,\n      countySelected: props.countySelected,\n      propertyTypes: props.propertyTypes\n    };\n    this.countySelectedHandler = this.countySelectedHandler.bind(this);\n    this.areaSelectedHandler = this.areaSelectedHandler.bind(this);\n    this.propertyTypeHandler = this.propertyTypeHandler.bind(this);\n  }\n\n  countySelectedHandler(event) {\n    var countySelected = event.target.value;\n    this.setState({\n      countySelected: countySelected\n    });\n    if (Meteor.isClient) Session.set('countySelected', countySelected); // if(countySelected) this.setState({areas:getAreas(countySelected)})\n\n    setTimeout(function () {\n      $('.areaSelected').val(\"\");\n      saveToLocalStorage();\n    }, 250);\n  }\n\n  areaSelectedHandler(event) {\n    this.setState({\n      areaSelected: event.target.value\n    });\n    setTimeout(saveToLocalStorage, 250);\n  }\n\n  propertyTypeHandler(event) {\n    this.setState({\n      propertyTypeSelected: event.target.value\n    });\n    setTimeout(saveToLocalStorage, 250);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      addPropertyFormSaving: true\n    });\n    var instance = this;\n    setTimeout(function () {\n      instance.setState({\n        addPropertyFormSaving: false\n      });\n    }, 2000);\n    const address = ReactDOM.findDOMNode(this.refs.address).value.trim();\n    const price = ReactDOM.findDOMNode(this.refs.price).value.trim();\n    const county = ReactDOM.findDOMNode(this.refs.county).value.trim();\n  }\n\n  updateNumBedRoomCount(event) {\n    this.setState({\n      numBedRoomCount: event.target.value\n    });\n    var countArr = [];\n\n    for (var i = 0; i < event.target.value; i++) {\n      countArr.push({\n        'index': i + 1\n      });\n    }\n\n    this.setState({\n      numBedRoomCountArr: countArr\n    });\n  }\n\n  componentDidMount() {\n    // console.log(this.props)\n    var instance = this;\n\n    if (Meteor.isClient) {\n      var validator = $('#advertiseWithUsFormCF').validate({\n        submitHandler: function (event) {\n          // addPropertyFormSaving.set(true);//Not needed on this form.\n          console.log(\"You just submitted the 'addPropertyForm' form.\");\n          saveToLocalStorage();\n\n          if (instance.props.user) {\n            FlowRouter.go('advertisewithus', {\n              pageno: 3\n            });\n          } else {\n            FlowRouter.go('advertisewithus', {\n              pageno: 2\n            });\n          }\n        }\n      });\n    }\n\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n\n      instance.restoreLocalStorageSettings();\n    }, 500);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.propertyTypes.length) //update only if it has vals.\n      this.setState({\n        propertyTypes: nextProps.propertyTypes\n      });\n    if (nextProps.areas.length) //update only if it has vals.\n      this.setState({\n        areas: nextProps.areas\n      });\n  }\n\n  restoreLocalStorageSettings() {\n    var county = '';\n\n    if (localStorage) {\n      if (localStorage.advertisewithusFormData_county) {\n        county = localStorage.advertisewithusFormData_county;\n      } else if (localStorage.advertisewithusFormData_county === undefined) {\n        //Only for first time users\n        county = 'Dublin';\n      }\n\n      if (localStorage.advertisewithusFormData_type) {\n        this.setState({\n          propertyTypeSelected: localStorage.advertisewithusFormData_type\n        });\n      }\n    }\n\n    this.setState({\n      countySelected: county\n    });\n    if (Meteor.isClient) Session.set('countySelected', county); // if(county)this.setState({areas:getAreas(county)})\n\n    if (localStorage) if (localStorage.advertisewithusFormData_area) {\n      this.setState({\n        areaSelected: localStorage.advertisewithusFormData_area\n      });\n    }\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"signin-form cf-1\",\n      id: \"advertiseWithUsFormCF\",\n      onSubmit: this.handleSubmit.bind(this)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input \"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"address.address\",\n      id: \"address.address\",\n      required: true,\n      ref: \"address\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"address.address-error\",\n      className: \"error\",\n      htmlFor: \"address.address\"\n    }, \"This field is required.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", null, \"Name and Street *\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input \"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"price\",\n      required: true,\n      ref: \"price\"\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"address.address-error\",\n      className: \"error\",\n      htmlFor: \"address.address\"\n    }, \"This field is required.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"label\", null, \"Rent *\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"label\", null, \"County\"), /*#__PURE__*/React.createElement(\"select\", {\n      autoComplete: \"on\",\n      name: \"address.county\",\n      ref: \"county\",\n      required: true,\n      className: \"countySelected\",\n      onChange: this.countySelectedHandler,\n      value: this.state.countySelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"(Select One)\"), this.state.counties.map(function (c, i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: c.value\n      }, c.label);\n    })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"label\", null, \"Area *\"), /*#__PURE__*/React.createElement(\"select\", {\n      autoComplete: \"on\",\n      name: \"address.area\",\n      required: true,\n      className: \"areaSelected\",\n      onChange: this.areaSelectedHandler,\n      value: this.state.areaSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"(Select One)\"), this.state.areas.map(function (c, i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: c.value\n      }, c.label);\n    })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"label\", null, \"Property type *\"), /*#__PURE__*/React.createElement(\"select\", {\n      autoComplete: \"on\",\n      name: \"type\",\n      ref: \"type\",\n      required: true,\n      className: \"\",\n      onChange: this.propertyTypeHandler,\n      value: this.state.propertyTypeSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"(Select One)\"), this.state.propertyTypes.map(function (c, i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: c.value\n      }, c.label);\n    })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"label\", null, \"Furnished? *\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      required: true,\n      autoComplete: \"on\",\n      ref: \"furnished\"\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"true\"\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"false\"\n    }, \"No\")), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input underline\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"baths\",\n      id: \"baths\",\n      required: true,\n      ref: \"baths\"\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"Number of bathrooms\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input underline\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"numBedRoomCount\",\n      id: \"numBedRoomCount\",\n      required: true,\n      ref: \"numBedRoomCount\",\n      onChange: this.updateNumBedRoomCount.bind(this),\n      value: self.state.numBedRoomCount\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"Number of bedrooms\"), /*#__PURE__*/React.createElement(\"span\", null)), self.state.numBedRoomCountArr ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-full-width\"\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"sep-label\"\n    }, \"Ensuite? \"), this.state.numBedRoomCountArr.map(function (arr, k) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: k,\n        className: \"styled-input-select styled-input-checkbox max-20\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"checkbox disabled\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"bedrooms.\" + arr.index + \".ensuite\"\n      }), \"Bedroom \", arr.index, \" Ensuite?\")), /*#__PURE__*/React.createElement(\"label\", null, \"Bed Type\"), /*#__PURE__*/React.createElement(\"select\", {\n        required: \"\",\n        autoComplete: \"\",\n        name: \"bedrooms.\" + arr.index + \".bedType\"\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"single\"\n      }, \"Single\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"double\"\n      }, \"Double\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"twin\"\n      }, \"Twin\")), /*#__PURE__*/React.createElement(\"span\", null));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    })) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-full-width\"\n    }, self.state.addPropertyFormSaving ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btns transparent-btn\"\n    }, \"Saving\") : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btns blue-btn addPropertyFormSaveBtn\"\n    }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btns transparent-btn addPropertyFormCancelBtn mar-left-10\"\n    }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    })));\n  }\n\n}\n\nAdvertiseWithUsFormT = withTracker(() => {\n  var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n  var allareas = [];\n  var allcounties = [];\n  var countySelected = 'Dublin';\n  if (Meteor.isClient) if (Session.get('countySelected')) countySelected = Session.get('countySelected');\n\n  for (var i = 0; i < staticCounties.length; i++) {\n    if (!staticCounties[i]) continue;\n    allcounties.push({\n      label: staticCounties[i],\n      value: staticCounties[i]\n    });\n  }\n\n  var distinctEntries = _.uniq(Collections.Areas.find({}, {\n    //County:countySelected ; Dynamically load areas based on the subscription.\n    sort: {\n      Area: 1\n    },\n    fields: {\n      Area: true\n    }\n  }).fetch().map(function (x) {\n    return x.Area;\n  }), true);\n\n  allareas = [];\n\n  for (var i = 0; i < distinctEntries.length; i++) {\n    if (!distinctEntries[i]) continue;\n    allareas.push({\n      label: titleCase(distinctEntries[i]),\n      value: distinctEntries[i]\n    });\n  }\n\n  var Config = Collections.Config.find().fetch();\n  Config = Config[0];\n  var propertyTypes = [];\n  if (Config) for (var i = 0; i < Config.propertyType.length; i++) {\n    propertyTypes.push({\n      label: titleCase(Config.propertyType[i].name),\n      value: Config.propertyType[i].value\n    });\n  }\n  const AreasSub = Meteor.subscribe('Areas', '', '', countySelected, '', '', function () {\n    if (ConfigSub.ready()) Session.set('subscriptionsReady', true);\n  });\n  const ConfigSub = Meteor.subscribe('Config', function () {\n    if (AreasSub.ready()) Session.set('subscriptionsReady', true);\n  });\n  if (Meteor.isClient) Session.get('subscriptionsReady'); // Meteor.subscribe('Areas');\n  // Meteor.subscribe('Config');\n\n  Meteor.subscribe('userData');\n  return {\n    user: Meteor.user(),\n    counties: allcounties,\n    countySelected: countySelected,\n    areas: allareas,\n    propertyTypes: propertyTypes\n  };\n})(AdvertiseWithUsForm);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"BlogDetail.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/pages/BlogDetail.jsx                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet ReactDOM;\nmodule.link(\"react-dom\", {\n  default(v) {\n    ReactDOM = v;\n  }\n\n}, 2);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 3);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 4);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 5);\nlet Collections;\nmodule.link(\"../../api/collections\", {\n  Collections(v) {\n    Collections = v;\n  }\n\n}, 6);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction dateFormat(text) {\n  var date = new Date(text);\n  if (date.toString() == \"Invalid Date\") return 'N/A';\n  return date.toDateString();\n}\n\nfunction chunkify(a, n, balanced) {\n  if (n < 2) return [a];\n  var len = a.length,\n      out = [],\n      i = 0,\n      size;\n\n  if (len % n === 0) {\n    size = Math.floor(len / n);\n\n    while (i < len) {\n      out.push(a.slice(i, i += size));\n    }\n  } else if (balanced) {\n    while (i < len) {\n      size = Math.ceil((len - i) / n--);\n      out.push(a.slice(i, i += size));\n    }\n  } else {\n    n--;\n    size = Math.floor(len / n);\n    if (len % size === 0) size--;\n\n    while (i < size * n) {\n      out.push(a.slice(i, i += size));\n    }\n\n    out.push(a.slice(size * n));\n  }\n\n  return out;\n}\n\nclass blogDetail extends Component {\n  constructor(props) {\n    super(props);\n    var current = FlowRouter.current();\n    this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n    this.backBtnHandler = this.backBtnHandler.bind(this);\n    this.propsListHTML = '';\n    this.isServerSSRReq = '';\n  }\n\n  backBtnHandler() {\n    var prevRoute = Session.get('prevRoute');\n\n    if (prevRoute) {\n      FlowRouter.go(prevRoute.name, prevRoute.args);\n      Session.set('prevRoute', false);\n    } else {\n      FlowRouter.go(\"/account/myproperies/\", {\n        pageno: 1\n      });\n    }\n  }\n\n  componentDidMount() {\n    try {\n      jQuery(\"html,body\").animate({\n        scrollTop: 0\n      }, 250);\n    } catch (e) {\n      document.body.scrollTop = document.documentElement.scrollTop = 0;\n    }\n\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n    }, 500);\n  }\n\n  componentDidUpdate() {}\n\n  renderMain() {\n    let blog = this.props.data;\n    let blogImage = '';\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"main-sec\",\n      style: {\n        marginTop: 0\n      }\n    }, false ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"banner\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"imagessection\",\n      className: \"col-md-7 padding0\"\n    }, /*#__PURE__*/React.createElement(\"figure\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"banner-holder\"\n    }, blog.image ? /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(blog.image),\n      alt: 'Photo of ' + blog.title,\n      title: blog.title\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/no-photo.png\"),\n      alt: 'Image not available',\n      title: 'Image not available'\n    })), false ? /*#__PURE__*/React.createElement(\"figcaption\", null, /*#__PURE__*/React.createElement(\"h2\", null, this.props.isAgent.name), /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        padding: 0\n      }\n    }, this.props.isAgent.address1)) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 purva-bg\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"purva\"\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      dangerouslySetInnerHTML: {\n        __html: blog.title\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blogContentArea\",\n      style: {\n        marginBottom: '10px'\n      },\n      dangerouslySetInnerHTML: {\n        __html: blog.excerpt\n      }\n    }))))))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"detailssection\",\n      className: \"border mar-btm-20 background-white col-md-9 col-sm-12 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom head-border-bottomTitleArea\"\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      dangerouslySetInnerHTML: {\n        __html: blog.title\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"developer proj-dtls \"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 blogContentArea\",\n      style: {\n        marginBottom: '10px'\n      },\n      dangerouslySetInnerHTML: {\n        __html: blog.content\n      }\n    })))), this.props.data.related ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"\",\n      className: \"rightRelatedSection mar-btm-30 amenities col-md-3 col-sm-12 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom head-border-bottomTitleArea\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Similar Articles\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"background-white\",\n      style: {\n        float: 'left',\n        display: 'block'\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        margin: '0px 0px 5px 5px'\n      }\n    }, \"Below are few more articles similar to \", /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: blog.title\n      }\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"thumbnails thumbRelated\"\n    }, this.props.data.related.map(function (relatedBlog, i) {\n      // style={{width: 250, height: 188}}\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"span4\",\n        key: i,\n        style: {\n          float: 'left'\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('blogdetail', {\n          slug: relatedBlog.slug\n        })\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail\"\n      }, relatedBlog.image.src ? /*#__PURE__*/React.createElement(\"img\", {\n        src: relatedBlog.image.src,\n        width: relatedBlog.image.width,\n        height: relatedBlog.image.height,\n        alt: relatedBlog.title,\n        className: \"img-responsive\"\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/no-photo.png\"),\n        alt: 'Image not available',\n        className: \"img-responsive\",\n        style: {\n          width: 250,\n          height: 188\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        dangerouslySetInnerHTML: {\n          __html: relatedBlog.title\n        }\n      }))));\n    })))) : \"\", this.props.recentBlogs ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"realtedsection\",\n      className: \"background-white mar-btm-30 amenities col-md-12 col-sm-12 col-xs-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-border-bottom head-border-bottomTitleArea\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Recent Articles\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"amenitiy-block\",\n      style: {\n        float: 'left',\n        display: 'block'\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        margin: '0 20px'\n      }\n    }, \"Below are few more recenty updated articles similar to \", /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: blog.title\n      }\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"thumbnails thumbRelated\"\n    }, this.props.recentBlogs.map(function (relatedBlog, i) {\n      // style={{width: 250, height: 188}}\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"span4\",\n        key: i,\n        style: {\n          float: 'left'\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('blogdetail', {\n          slug: relatedBlog.slug\n        })\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"thumbnail\"\n      }, relatedBlog.image ? /*#__PURE__*/React.createElement(\"img\", {\n        src: relatedBlog.image,\n        style: {\n          width: 250,\n          height: 188\n        },\n        alt: relatedBlog.title,\n        className: \"img-responsive\"\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/no-photo.png\"),\n        alt: 'Image not available',\n        className: \"img-responsive\",\n        style: {\n          width: 250,\n          height: 188\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        dangerouslySetInnerHTML: {\n          __html: relatedBlog.title\n        }\n      }))));\n    })))) : \"\")));\n  }\n\n  renderFullMain() {\n    if (Meteor.isClient) {\n      setTimeout(function () {\n        $('#lettingDetailCarousel').carousel();\n        $('#lettingDetailCarousel .carousel-control.right').unbind('click').bind('click', function () {\n          $('#lettingDetailCarousel').carousel('next');\n        });\n        $('#lettingDetailCarousel .carousel-control.left').unbind('click').bind('click', function () {\n          $('#lettingDetailCarousel').carousel('prev');\n        });\n      }, 1000);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"property-details-page\",\n      id: 'props_list'\n    }, Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"isservercheckdiv\"\n    }) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n      className: \"banner\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      \"aria-label\": \"breadcrumb\"\n    }, /*#__PURE__*/React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      style: {\n        margin: \"10px 0\"\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('bloghome')\n    }, \"Blogs\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      \"aria-current\": \"page\"\n    }, \"This Article\")))))), this.props.isSubsLoaded ? this.props.data ? this.renderMain() : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"This article is not found. Please check the url and try again.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('bloghome'),\n      className: \"blue-btn btns noPropBackBtn\"\n    }, \"Find recent articles\")))))) : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'h2-div'\n    }, \"Loading...\"))))));\n  }\n\n  render() {\n    const self = this;\n\n    if (Meteor.isClient && this.propsListHTML == \"\") {\n      this.propsListHTML = $('#props_list').html();\n    }\n\n    if (Meteor.isClient) {\n      this.isServerSSRReq = $('#isservercheckdiv').html();\n      if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n    } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded ? this.renderFullMain() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.propsListHTML\n      }\n    }) : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'h2-div'\n    }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n  }\n\n}\n\nmodule.exportDefault(withTracker(() => {\n  var slug = FlowRouter.getParam('slug');\n  if (!slug) return {\n    data: false,\n    isSubsLoaded: true\n  };\n  const viewBlogSub = Meteor.subscribe(\"viewBlog\", slug, function () {\n    Session.set('subscriptionsReady', true);\n  });\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  if (!viewBlogSub.ready()) {\n    return {\n      data: false,\n      isSubsLoaded: false\n    };\n  }\n\n  var blog = Collections.Blogs.find({\n    \"slug\": slug\n  }, {\n    limit: 1\n  }).fetch();\n\n  if (blog.length) {\n    blog = blog[0];\n  }\n\n  var recentBlogs = Collections.Blogs.find({\n    \"slug\": {\n      $not: slug\n    }\n  }, {\n    sort: {\n      updatedAt: -1\n    }\n  }).fetch();\n\n  if (!blog || blog.length == 0) {\n    //Blog not found\n    clearMeta();\n    DocHead.setTitle('Article not found | SpotMyCrib');\n    DocHead.addMeta({\n      name: \"description\",\n      content: \"\"\n    });\n    return {\n      data: false,\n      recentBlogs: recentBlogs,\n      isSubsLoaded: true\n    };\n  } else {\n    var title = blog.metaTitle; //Is Rental Cap Able to Control the Housing Market Crisis? - Blog - SpotMyCrib\n\n    var desc = blog.metaDesc;\n    clearMeta();\n    let titleTmp = title + ' | SpotMyCrib Blog';\n    if (titleTmp.length <= 75) title = titleTmp;\n    DocHead.setTitle(title);\n    DocHead.addMeta({\n      name: \"description\",\n      content: desc\n    });\n    var socialDesc = blog.metaDesc;\n    var socialTitle = blog.metaTitle;\n    var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n    DocHead.addMeta({\n      property: \"og:title\",\n      content: socialTitle\n    });\n    DocHead.addMeta({\n      property: \"og:description\",\n      content: socialDesc\n    });\n    DocHead.addMeta({\n      rel: \"canonical\",\n      href: currentURL\n    });\n    DocHead.addMeta({\n      property: \"og:type\",\n      content: \"article\"\n    });\n    DocHead.addMeta({\n      property: \"og:url\",\n      content: currentURL\n    });\n    DocHead.addMeta({\n      property: \"fb:app_id\",\n      content: '309356899476430'\n    });\n\n    try {\n      DocHead.addMeta({\n        property: \"og:image\",\n        content: blog.image\n      });\n    } catch (c) {//Putting this here is making FB take the first response from here. & its showing no image if if this meta is later updated. So better put it later after all rendering at a template level. For now lets not keep anywhere.\n      // DocHead.addMeta({name: \"og:image\", content: 'https://www.spotmycrib.ie/images/spot-my-crib-logo.png'  });\n    }\n  }\n\n  return {\n    data: blog,\n    recentBlogs: recentBlogs,\n    isSubsLoaded: true\n  };\n})(blogDetail));\n\nclass ImagesSlider extends Component {\n  constructor(props) {\n    super(props);\n    var current = FlowRouter.current();\n    this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n  }\n\n  componentDidMount() {\n    $(document).ready(function () {\n      // $('#lettingDetailCarousel').first().addClass('active');//not needed as bug of isActive helper not working is fixed.\n      $('#imagessection .item img').width('100%');\n      var w = $('#imagessection .item img').first().width();\n      var h = w / 1.33;\n      if (h > 250) $('#imagessection .item img').height(w / 1.33);\n      setTimeout(function () {\n        $('#imagessection .item img').width('100%');\n        var w = $('#imagessection .item img').first().width();\n        var h = w / 1.33;\n        if (h > 250) $('#imagessection .item img').height();\n      }, 3000); // $('#lettingDetailCarousel').carousel();\n      // $(\"#lettingDetailCarousel\").swiperight(function() {\n      //     $(this).carousel('prev');\n      // });\n      // $(\"#lettingDetailCarousel\").swipeleft(function() {\n      //     $(this).carousel('next');\n      // });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"lettingDetailCarousel\",\n      className: \"carousel slide\",\n      \"data-ride\": \"carousel\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"carousel-inner\"\n    }, this.props.images ? this.props.images.map(function (image, i) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        className: 'item ' + (i == 0 ? 'active' : \"\")\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: image.url,\n        alt: image.altText,\n        title: image.altText,\n        className: \"img-responsive\"\n      }));\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item active\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/no-photo.png\"),\n      alt: 'Image not available',\n      title: 'Image not available',\n      className: \"img-responsive\"\n    }))), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"left carousel-control\",\n      href: \"javascript:void(0)\",\n      \"data-slide\": \"prev\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-chevron-left\"\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, \"Previous\")), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"right carousel-control\",\n      href: \"javascript:void(0)\",\n      \"data-slide\": \"next\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-chevron-right\"\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, \"Next\")));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"BlogHome.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/pages/BlogHome.jsx                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 3);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 4);\nlet Collections;\nmodule.link(\"../../api/collections.js\", {\n  Collections(v) {\n    Collections = v;\n  }\n\n}, 5);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\nlet countsCollection = null;\n\nfunction dateFormat(text) {\n  var date = new Date(text);\n  if (date.toString() == \"Invalid Date\") return 'N/A';\n  return date.toDateString();\n}\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {// console.log(this.props)\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"nav\", null, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pagination\"\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item \" + self.props.pagination.prevPage.disabled\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: self.props.pagination.prevPage.href,\n      tabIndex: \"-1\",\n      onClick: self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)\n    }, self.props.pagination.prevPage.text)), self.props.pagination.pages.map((page, i) => {\n      if (typeof page.current !== 'undefined' && page.current) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"page-item active\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"page-link\",\n          href: page.href\n        }, page.text, \" \", /*#__PURE__*/React.createElement(\"span\", {\n          className: \"sr-only\"\n        }, \"(current)\")));\n      } else {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"page-item\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"page-link\",\n          onClick: self.props.handleChoosePage.bind(self, page.text, self.props.parent),\n          href: page.href\n        }, page.text));\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item \" + self.props.pagination.nextPage.disabled\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: self.props.pagination.nextPage.href,\n      onClick: self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)\n    }, self.props.pagination.nextPage.text))));\n  }\n\n}\n\nclass BlogHome extends Component {\n  constructor(props) {\n    super(props);\n    let pBlogs = props.blogs;\n    if (!pBlogs) pBlogs = [];\n    let pTotalCount = props.totalCount;\n    if (!pTotalCount) pTotalCount = 0;\n    let pPagination = props.pagination;\n    if (!pPagination) pPagination = 0;\n    this.state = {\n      blogs: pBlogs,\n      totalCount: pTotalCount,\n      pagination: pPagination\n    };\n    this.propsListHTML = '';\n    this.isServerSSRReq = '';\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      blogs: nextProps.blogs,\n      totalCount: nextProps.totalCount,\n      pagination: nextProps.pagination\n    });\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    const self = this;\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n    }, 500);\n  }\n\n  componentDidUpdate() {}\n\n  handleChoosePage(page, component) {\n    if (typeof page == \"undefined\") return; // var data = getSlugData();\n    // var slug = generateSlug(data);\n    //\n    // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n    //\n    // component.setState({pagination: pagination()});\n  }\n\n  propGrid() {\n    const self = this;\n    let blogImage = '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, self.state.blogs.map((blog, i) => {\n      if (blog.image) {\n        let tmp = blog.image.split('?');\n        blogImage = tmp[0] + \"?resize=200%2C140\";\n      } else {\n        blogImage = '';\n      }\n\n      return /*#__PURE__*/React.createElement(\"section\", {\n        key: i,\n        className: \"main-holder border-top mar-btm-10\",\n        id: true\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"act-box\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background-white\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder-div\",\n        style: {\n          padding: '10px 20px'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-holder\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('blogdetail', {\n          slug: blog.slug\n        })\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"pad-btm-0\",\n        dangerouslySetInnerHTML: {\n          __html: blog.title\n        }\n      }))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"apt-info1 background-white clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media\"\n      }, blogImage ? /*#__PURE__*/React.createElement(\"a\", {\n        className: \"pull-left\",\n        href: FlowRouter.url('blogdetail', {\n          slug: blog.slug\n        })\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"media-object\",\n        src: blogImage,\n        alt: blog.title\n      })) : /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/no-photo.png\"),\n        alt: 'Image not available',\n        className: \"img-responsive\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-left mar-btm-10\",\n        dangerouslySetInnerHTML: {\n          __html: blog.excerpt\n        }\n      }), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-inline list-unstyled\"\n      }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"glyphicon glyphicon-calendar\"\n      }), \" \", dateFormat(blog.created), \" \")))))))));\n    }));\n  }\n\n  mainAllPage() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"props_list\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"logo-below-div value-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        marginBottom: 10\n      }\n    }, \"Blog \\u2013 SpotMyCrib\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h4-div\",\n      style: {\n        paddingBottom: 5\n      }\n    }, \"Property renting tips, management and much more\"))))))), self.state.totalCount == 0 && this.props.isSubsLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"No blogs found.\")) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"paginationArea mar-top-20 \"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: 'mar-btm-20'\n    }, \"Found total \", self.state.totalCount ? self.state.totalCount : 'no', \" articles. Browse the latest property news, renting tips, management and much more. Use the navigation below to find more.\"), /*#__PURE__*/React.createElement(Pagination, {\n      pagination: self.state.pagination,\n      handleChoosePage: self.handleChoosePage,\n      parent: self\n    }))))) : \"\", Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"isservercheckdiv\"\n    }) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"proplist-sec property-list\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, this.propGrid())) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"paginationArea\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      pagination: self.state.pagination,\n      handleChoosePage: self.handleChoosePage,\n      parent: self\n    }))))) : \"\");\n  }\n\n  render() {\n    const self = this;\n    let totalCount = 0;\n\n    if (Meteor.isClient && this.propsListHTML == \"\") {\n      this.propsListHTML = $('#props_list').html();\n    }\n\n    if (Meteor.isClient) {\n      this.isServerSSRReq = $('#isservercheckdiv').html();\n      if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n    } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded && self.state.blogs ? this.mainAllPage() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.propsListHTML\n      }\n    }) : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'h2-div'\n    }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n  }\n\n}\n\n;\nmodule.exportDefault(withTracker(() => {\n  function getPaginationData(totalResultsCount, currentPageNo, resultsPerPage) {\n    currentPageNo = parseInt(currentPageNo);\n    var pages = [],\n        prevPage = {},\n        nextPage = {};\n    var pgMin = currentPageNo - 4,\n        pgMax = currentPageNo + 5,\n        maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n\n    if (!Number.isInteger(currentPageNo)) {\n      return {\n        \"prevPage\": prevPage,\n        \"pages\": pages,\n        \"nextPage\": nextPage\n      };\n    }\n\n    if (pgMin < 1) pgMin = 1;\n    if (pgMax < 1) pgMax = 1;\n    if (maxPages < 1) maxPages = 1;\n    if (pgMin > maxPages) currentPageNo = maxPages;\n    let tmp = {};\n    let href = '';\n    let cRoute = FlowRouter.current().route.name,\n        cParams = FlowRouter.current().params,\n        cQueryParams = FlowRouter.current().queryParams;\n\n    for (var i = pgMin; i <= maxPages; i++) {\n      cParams.pageno = i;\n      tmp = {\n        \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n        \"text\": i\n      };\n\n      if (i == currentPageNo) {\n        tmp['href'] = 'javascript:void(0);';\n        tmp['current'] = true;\n      }\n\n      pages.push(tmp);\n    }\n\n    var prevPageNo = currentPageNo - 1,\n        nextPageNo = currentPageNo + 1;\n\n    if (prevPageNo < 1) {\n      prevPage['href'] = 'javascript:void(0)';\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = prevPageNo;\n      prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), prevPage['prevPageNo'] = prevPageNo;\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = '';\n    }\n\n    if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n    if (nextPageNo == currentPageNo) {\n      nextPage['href'] = 'javascript:void(0)';\n      nextPage['text'] = 'Next';\n      nextPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = nextPageNo;\n      nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), nextPage['text'] = 'Next';\n      nextPage['nextPageNo'] = nextPageNo;\n      nextPage['disabled'] = '';\n    }\n\n    return {\n      \"prevPage\": prevPage,\n      \"pages\": pages,\n      \"nextPage\": nextPage\n    };\n  }\n\n  var pageno = FlowRouter.getParam('pageno');\n  if (!pageno) pageno = 1;\n  var resperpage = 6; // var query = FlowRouter.current().queryParams;\n\n  var current = FlowRouter.current();\n  var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams);\n  var sortOptions = {\n    updatedAt: -1\n  };\n  const bBlogsSub = Meteor.subscribe(\"browseBlogs\", {\n    viewName: 'browseBlogs.view',\n    pageno: pageno,\n    resperpage: resperpage\n  }, function () {\n    if (bBlogsSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  });\n  Meteor.subscribe(\"total-blogs-count\", {\n    viewName: 'browseBlogs.view',\n    pageno: pageno,\n    resperpage: resperpage\n  });\n\n  if (Meteor.isServer) {\n    if (countsCollection == null) countsCollection = new Mongo.Collection('counts');\n\n    Counts.get = function countsGet(name) {\n      const count = countsCollection.findOne(name);\n      return count && count.count || 0;\n    };\n\n    Counts.has = function countsHas(name) {\n      return !!countsCollection.findOne(name);\n    };\n\n    totalCount = Counts.get(\"total-blogs-count\");\n  } else {\n    totalCount = Counts.get(\"total-blogs-count\");\n  } // Meteor.subscribe('userData');\n  // Meteor.subscribe('Config');\n\n\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  if (!bBlogsSub.ready()) {\n    return {\n      isSubsLoaded: false\n    };\n  }\n\n  return {\n    totalCount: totalCount,\n    pagination: getPaginationData(totalCount, pageno, 6),\n    blogs: Collections.Blogs.find().fetch(),\n    isSubsLoaded: true\n  };\n})(BlogHome));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Home.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/pages/Home.jsx                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 3);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 4);\nlet Collections;\nmodule.link(\"../../api/collections\", {\n  Collections(v) {\n    Collections = v;\n  }\n\n}, 5);\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction saveToLocalStorage() {\n  if (Meteor.isServer) return;\n\n  if (localStorage) {\n    // if($( \".countySelected\" ).val().toString().trim()) //It needs to work even all options are reset, i.e its empty.\n    localStorage.homePageMainFormData_county = $(\".countySelected\").val(); // if($( \".areaSelected\" ).val().toString().trim())//it needs to reset to empty\n\n    localStorage.homePageMainFormData_area = $(\".areaSelected\").val();\n    var tmp = $(\"input:radio[name=propertyType]:checked\").val();\n    if (tmp) localStorage.homePageMainFormData_propertyType = tmp;\n    localStorage.homePageMainFormData_maxRent = $('.maxRent').val();\n  }\n}\n\nfunction slugify(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '') // Replace spaces with \"\"\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n\nfunction generateSlug(curURL) {\n  var propertyType = curURL.propertyType;\n  var county = curURL.county;\n  var area = curURL.area;\n  var maxRent = curURL.maxRent;\n  var country = curURL.country; // const territory = target.territory.value;\n\n  var slug = '';\n  var query = [];\n  if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n  if (county) county = county.replace(/\\s+/g, '_');\n  if (area) area = area.replace(/\\s+/g, '_');\n  if (country) country = country.replace(/\\s+/g, '_');\n  if (propertyType) slug = propertyType + \"-for-\";\n  slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n  slug += \"-in-\";\n  if (!county) area = '';\n  if (area) slug += area;\n  if (area && county) slug += \"-\";\n  if (county) slug += county;\n  if (country) slug += \"-\" + country;\n  var range = [{\n    cur: \"eur\",\n    min: 400,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  if (maxRent && maxRent != selectedCur.max) query[\"maxRent\"] = maxRent; // apartment-for-rent-in-dundrum-dublin-ireland\n  // apartment-for-rent-in-donnybroke-london-uk\n  // rent/apartment/dundrum/dublin\n  // rent/apartment/donnybroke/london/england/uk/\n\n  return [slugify(slug), query];\n}\n\nfunction chunkify(a, n, balanced) {\n  if (n < 2) return [a];\n  var len = a.length,\n      out = [],\n      i = 0,\n      size;\n\n  if (len % n === 0) {\n    size = Math.floor(len / n);\n\n    while (i < len) {\n      out.push(a.slice(i, i += size));\n    }\n  } else if (balanced) {\n    while (i < len) {\n      size = Math.ceil((len - i) / n--);\n      out.push(a.slice(i, i += size));\n    }\n  } else {\n    n--;\n    size = Math.floor(len / n);\n    if (len % size === 0) size--;\n\n    while (i < size * n) {\n      out.push(a.slice(i, i += size));\n    }\n\n    out.push(a.slice(size * n));\n  }\n\n  return out;\n}\n\nfunction generateSlug(curURL) {\n  var propertyType = curURL.propertyType;\n  var county = curURL.county;\n  var area = curURL.area;\n  var maxRent = curURL.maxRent;\n  var country = curURL.country;\n  var bedCount = curURL.bedCount;\n  var luxurySort = curURL.luxurySort;\n  var cheapSort = curURL.cheapSort; // const territory = target.territory.value;\n\n  var slug = '';\n  var query = {};\n  if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n  if (county) county = county.replace(/\\s+/g, '_');\n  if (area) area = area.replace(/\\s+/g, '_');\n  if (country) country = country.replace(/\\s+/g, '_');\n  if (propertyType) slug = propertyType + \"-for-\";\n  slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n  slug += \"-in-\";\n  if (!county) area = '';\n  if (area) slug += area;\n  if (area && county) slug += \"-\";\n  if (county) slug += county;\n  if (bedCount) query.bedCount = bedCount;\n  if (luxurySort) query.luxurySort = 1;\n  if (cheapSort) query.cheapSort = 1;\n  if (country) slug += \"-\" + country;else slug += \"-ireland\";\n  var range = [{\n    cur: \"eur\",\n    min: 400,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  if (maxRent && maxRent != selectedCur.max) query.maxRent = maxRent; // apartment-for-rent-in-dundrum-dublin-ireland\n  // apartment-for-rent-in-donnybroke-london-uk\n  // rent/apartment/dundrum/dublin\n  // rent/apartment/donnybroke/london/england/uk/\n\n  return [slugify(slug), query];\n}\n\nfunction generateSlugURL(curURL) {\n  var ret = generateSlug(curURL);\n  return FlowRouter.url('b', {\n    slug: ret[0]\n  }, ret[1]);\n}\n\nfunction fixImageSize() {\n  var avgW = 0;\n  $('.image-holder img').each(function () {\n    if (!avgW) avgW = $(this).width();else {\n      avgW += $(this).width();\n      avgW = avgW / 2;\n    }\n  });\n  if (!avgW) avgW = 250;\n  $('.image-holder img').width('100%');\n  $('.image-holder img').height(avgW * 0.7);\n}\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    var searchCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var fCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var areaCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var countyCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n\n    if (props.searchCrumbs) {\n      var chunks = chunkify(props.searchCrumbs, 3, true);\n      searchCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.fCrumbs) {\n      var chunks = chunkify(props.fCrumbs, 3, true);\n      fCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.areaCrumbs) {\n      var chunks = chunkify(props.areaCrumbs, 3, true);\n      areaCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.countyCrumbs) {\n      var chunks = chunkify(props.countyCrumbs, 3, true);\n      countyCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    this.state = {\n      'searchCrumbs': searchCrumbs,\n      fCrumbs: fCrumbs,\n      areaCrumbs: areaCrumbs,\n      countyCrumbs: countyCrumbs\n    };\n    this.searchCrumbsLoaded = false;\n  }\n\n  componentWillMount() {\n    if (Meteor.isClient) Session.set('showLoginInPlace', false); // console.log('In componentWillMount');\n  }\n\n  componentDidMount() {\n    // console.log('In componentDidMount');\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      $('select').addClass('safariSelect'); //css('-moz-appearance','none');\n    }\n\n    $('.iamarenterbtn').click(function (e) {\n      e.preventDefault();\n      $('html,body').animate({\n        scrollTop: $(this.hash).offset().top\n      }, 500, function () {\n        $(\".bigsearchbox\").css({\n          border: '0 solid red',\n          'background-color': \"rgba(0, 0, 0, 0.8)\"\n        }).animate({\n          borderWidth: 2,\n          'background-color': \"rgba(0, 0, 0, 1)\"\n        }, 500, function () {\n          $(\".bigsearchbox\").animate({\n            borderWidth: 0,\n            'background-color': \"rgba(0, 0, 0, 0.8)\"\n          }, 500);\n        });\n      });\n    });\n\n    if (Meteor.isClient) {\n      setTimeout(function () {\n        if (window.location.hash) {\n          jQuery(\"html,body\").animate({\n            scrollTop: $(window.location.hash).offset().top\n          }, 250);\n        }\n      }, 2000);\n    }\n  }\n\n  componentDidUpdate() {}\n\n  crumbsUpdate() {\n    if (!this.searchCrumbsLoaded) {\n      var searchCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var fCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var areaCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var countyCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n\n      if (this.props.searchCrumbs) {\n        var chunks = chunkify(this.props.searchCrumbs, 3, true);\n        searchCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.props.fCrumbs) {\n        var chunks = chunkify(this.props.fCrumbs, 3, true);\n        fCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.props.areaCrumbs) {\n        var chunks = chunkify(this.props.areaCrumbs, 3, true);\n        areaCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.props.countyCrumbs) {\n        var chunks = chunkify(this.props.countyCrumbs, 3, true);\n        countyCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.searchCrumbsLoaded) //Update the state only once; when its true\n        this.setState({\n          'searchCrumbs': searchCrumbs,\n          fCrumbs: fCrumbs,\n          areaCrumbs: areaCrumbs,\n          countyCrumbs: countyCrumbs\n        });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // console.log(nextProps)\n    // console.log(this)\n    // console.log('In componentWillReceiveProps');\n    this.crumbsUpdate();\n  }\n\n  handleJoinNow() {\n    Session.set('showForgotForm', false);\n    Session.set('isLandLordMode', true);\n    Session.set('showSignupForm', true);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  }\n\n  handlePostYourProperty(event) {\n    event.preventDefault();\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        scrollTo: 0\n      },\n      instructions: {\n        openPostNewProp: true\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go('account/myProperties');\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index home\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"\",\n      id: \"searchform\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index-main-banner\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index-bnr-cont\"\n    }, true ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"homeSliderParent\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"homeSlider\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"carousel-inner\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item active\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"Best properties to rent in Ireland. Find them, right here!\"))))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home-banner\",\n      style: {\n        marginBottom: \"50px\"\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns green-btn \",\n      href: FlowRouter.url('estateagent'),\n      style: {\n        fontSize: '15px'\n      }\n    }, \"I'm a Landlord\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns transparent-btn iamarenterbtn\",\n      href: \"#searchform\"\n    }, \"I'm a Renter\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-places home-page-box-places bigsearchbox\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(HomePageMainFormT, null)))))))), /*#__PURE__*/React.createElement(HomePageLatestPropsT, null), true ? /*#__PURE__*/React.createElement(\"section\", {\n      id: \"homeLinks\",\n      className: \"sec-holder how-it-works\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"\",\n      className: \"mar-btm-30 amenities\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      style: {\n        paddingTop: 0\n      }\n    }, this.props.fCrumbs === undefined || this.props.fCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      className: 'bottomcrumbs row'\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Browse properties to rent in top cities\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bottom-line\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.fCrumbs.c1 ? this.state.fCrumbs.c1.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.fCrumbs.c2 ? this.state.fCrumbs.c2.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.fCrumbs.c3 ? this.state.fCrumbs.c3.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\", /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        display: \"block\"\n      },\n      className: \"iamarenterbtn\",\n      href: \"#searchform\"\n    }, \"More\")))), this.props.countyCrumbs === undefined || this.props.countyCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      className: 'bottomcrumbs row mar-top-30'\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bottom-line\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.countyCrumbs.c1 ? this.state.countyCrumbs.c1.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.countyCrumbs.c2 ? this.state.countyCrumbs.c2.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.countyCrumbs.c3 ? this.state.countyCrumbs.c3.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\", /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        display: \"block\"\n      },\n      className: \"iamarenterbtn\",\n      href: \"#searchform\"\n    }, \"More\")))))))))) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n      id: \"whatis\",\n      className: \"sec-holder how-it-works whatissmc\",\n      style: {\n        background: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"What is SpotMyCrib?\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bottom-line\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib is the safest platform to find your next rental home. It brings 100% verified landlords with genuine rentals to you. Just search for your ideal home, apply, get screened, e-sign your lease and pay rent online.\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#how-works\",\n      className: \"scroll1 transparent-btn btns \"\n    }, \"Know More\")))), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"how-works\",\n      className: \"sec-holder how-it-works\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"How it works\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bottom-line\"\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-btm-30\"\n    }, \"Search Property\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/how-it-works/search-and-find-property-apartment-flat.png\"),\n      alt: \"Search and find your rental property\",\n      className: \"pad-btm-30\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Search and find an apartment/house you like from our \", /*#__PURE__*/React.createElement(\"a\", {\n      className: \"iamarenterbtn\",\n      href: FlowRouter.url('home') + '#searchform'\n    }, \"browse form\"), \". Or choose your county from our \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home') + '#homeLinks'\n    }, \"county list\"), \".\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-btm-30\"\n    }, \"Set Your Rent\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/how-it-works/set-your-rent-apartment.png\"),\n      alt: \"Apply and set your rent for Apartment\",\n      className: \"pad-btm-30\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Make your offer for the house and click apply. Remember to upload all your references in your profile.\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-btm-30\"\n    }, \"Confirm your Home\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/how-it-works/confirm-your-rent-in-dublin.png\"),\n      alt: \"Confirm your rental\",\n      className: \"pad-btm-30\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Landlord chooses a tenant based on your references and your offer. If you are chosen, you would receive a confirmation email. \")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('faqs'),\n      className: \"transparent-btn btns \",\n      type: \"button\"\n    }, \"Learn more\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pad-btm-30 visible-xs visible-sm\"\n    }, \"\\xA0\"))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"sec-holder about-us\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Manage all your lettings at one place\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: \"10px\",\n        color: \"white\"\n      }\n    }, \"From finding tenants to verifying their social profiles\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: \"10px\",\n        color: \"white\"\n      }\n    }, \"From collecting rents to logging maintenance costs\"), /*#__PURE__*/React.createElement(\"div\", null, self.props.currentUserId ? /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#TODO\",\n      style: {\n        marginTop: \"10px\"\n      },\n      onClick: self.handlePostYourProperty,\n      className: \"pink-btn oval-btn postYourProperty\"\n    }, \"Post your property\") : /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      style: {\n        marginTop: \"10px\"\n      },\n      onClick: self.handleJoinNow,\n      className: \"pink-btn oval-btn joinNowBtn\"\n    }, \"Start Your Free 30-Day Trial\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n\n;\nmodule.exportDefault(withTracker(() => {\n  ////////// ADV BREADCRUMBS MORE LINKS\n  advancedCrumbs = function (propertyType) {\n    let fCrumbs = [],\n        tmpCrumbs = [],\n        areaCrumbs = [],\n        countyCrumbs = [];\n    if (propertyType) propertyType = propertyType.toLowerCase(); // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n    //Property Size\n    //Property Size - Property Type\n    //Property Size - Property Type - County\n    //Property Type - county\n    //Counties\n    //Areas\n    //Property Size - Property Type - area - County\n    //Property Size - area - County\n    //Property Type - area - county\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        propertyType: 'studio'\n      }),\n      name: 'Studios'\n    }); //Property Size\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1\n      }),\n      name: '1-Beds'\n    }); //Property Size\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2\n      }),\n      name: '2-Beds'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3\n      }),\n      name: '3-Beds'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        cheapSort: true,\n        propertyType: 'house'\n      }),\n      name: 'Cheap Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1,\n        propertyType: 'house'\n      }),\n      name: '1-Bed Houses'\n    }); //Property Size - Property Type\n\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2,\n        propertyType: 'house'\n      }),\n      name: '2-Bed Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3,\n        propertyType: 'house'\n      }),\n      name: '3-Bed Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        luxurySort: true,\n        propertyType: 'house'\n      }),\n      name: 'Luxury Houses'\n    });\n\n    if (propertyType == 'house') {\n      fCrumbs = fCrumbs.concat(tmpCrumbs);\n    }\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        cheapSort: true,\n        propertyType: 'apartment'\n      }),\n      name: 'Cheap Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1,\n        propertyType: 'apartment'\n      }),\n      name: '1-Bed Apartments'\n    }); //Property Size - Property Type\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2,\n        propertyType: 'apartment'\n      }),\n      name: '2-Bed Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3,\n        propertyType: 'apartment'\n      }),\n      name: '3-Bed Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        luxurySort: true,\n        propertyType: 'apartment'\n      }),\n      name: 'Luxury Apartments'\n    });\n\n    if (propertyType != 'house') {\n      fCrumbs = fCrumbs.concat(tmpCrumbs);\n    } //dublin-apartments\n    //Not doing dublin-houses due to less searches for Dublin apartments\n\n\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n    for (var i = 0; i < staticCounties.length; i++) {\n      if (!staticCounties[i]) continue;\n      countyCrumbs.push({\n        url: generateSlugURL({\n          county: staticCounties[i]\n        }),\n        name: staticCounties[i] + ' Apartments'\n      });\n    }\n\n    return {\n      fCrumbs: fCrumbs,\n      areaCrumbs: areaCrumbs,\n      countyCrumbs: countyCrumbs\n    };\n  };\n\n  let advC = {\n    fCrumbs: [],\n    areaCrumbs: [],\n    countyCrumbs: []\n  };\n\n  if (true) {\n    let propertyType = '';\n    if (Meteor.isClient) propertyType = Session.get('HPFpropertyTypeSelected');\n    if (!propertyType) propertyType = 'Apartment';\n    advC = advancedCrumbs(propertyType);\n  } ////////// END ADV BREADCRUMBS\n  // Meteor.subscribe('Areas')\n  // Meteor.subscribe('Config');\n\n\n  return {\n    currentUserId: Meteor.userId(),\n    fCrumbs: advC.fCrumbs,\n    areaCrumbs: advC.areaCrumbs,\n    countyCrumbs: advC.countyCrumbs\n  };\n})(Home));\n\nclass HomePageMainForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      counties: props.counties,\n      areas: props.areas,\n      countySelected: props.countySelected\n    };\n    this.isLocalAlreadySet = false;\n    this.isLocalAreaAlreadySet = false;\n    this.countySelectedHandler = this.countySelectedHandler.bind(this);\n    this.areaSelectedHandler = this.areaSelectedHandler.bind(this);\n    this.propertyTypeHandler = this.propertyTypeHandler.bind(this);\n    this.maxRentHandler = this.maxRentHandler.bind(this);\n    this.localHistorySet = this.localHistorySet.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // console.log(nextProps)\n    this.setState({\n      areas: nextProps.areas\n    });\n  }\n\n  localHistorySet() {\n    if (this.props.isSubsLoaded && this.isLocalAlreadySet && !this.isLocalAreaAlreadySet) {\n      if (localStorage.homePageMainFormData_area) {\n        this.setState({\n          areaSelected: localStorage.homePageMainFormData_area\n        });\n      }\n\n      this.isLocalAreaAlreadySet = true;\n    }\n\n    if (this.props.isSubsLoaded && !this.isLocalAlreadySet) {\n      var county = '';\n\n      if (localStorage) {\n        if (localStorage.homePageMainFormData_maxRent) {\n          $('.maxRent').val(localStorage.homePageMainFormData_maxRent);\n        }\n\n        if (localStorage.homePageMainFormData_county) {\n          county = localStorage.homePageMainFormData_county;\n        } else if (localStorage.homePageMainFormData_county === undefined) {\n          //Only for first time users\n          county = 'Dublin';\n        }\n\n        if (localStorage.homePageMainFormData_propertyType) {\n          var tmp = localStorage.homePageMainFormData_propertyType;\n          $('input:radio[name=propertyType]').removeAttr('checked');\n          $('input:radio[name=propertyType][value=\"' + tmp + '\"]').prop('checked', true);\n        }\n      }\n\n      this.setState({\n        countySelected: county\n      });\n      if (Meteor.isClient) Session.set('countySelected', county); // if(county)this.setState({areas:getAreas(county)})\n\n      this.isLocalAreaAlreadySet = false;\n      this.isLocalAlreadySet = true;\n    }\n  }\n\n  componentDidMount() {\n    this.localHistorySet(); // setTimeout(function () {\n    //     $('.countySelected').val(county)\n    // },100)\n    // setTimeout(function () {\n    //     if (localStorage.homePageMainFormData_area) {\n    //         Session.set('areaRestored',localStorage.homePageMainFormData_area)\n    //         // setTimeout(function () {\n    //         //     $('.areaSelected').val(localStorage.homePageMainFormData_area)\n    //         // },100)\n    //     }\n    // },1000)\n  }\n\n  componentDidUpdate() {\n    this.localHistorySet();\n  }\n\n  countySelectedHandler(event) {\n    var countySelected = event.target.value;\n    this.setState({\n      countySelected: countySelected\n    });\n    if (Meteor.isClient) Session.set('countySelected', countySelected); //if(countySelected) this.setState({areas:getAreas(countySelected)})\n\n    this.isLocalAreaAlreadySet = false;\n    if (localStorage) localStorage.homePageMainFormData_county = countySelected;\n  }\n\n  areaSelectedHandler(event) {\n    this.setState({\n      areaSelected: event.target.value\n    });\n    if (localStorage) localStorage.homePageMainFormData_area = event.target.value;\n  }\n\n  propertyTypeHandler(event) {\n    if (localStorage) localStorage.homePageMainFormData_propertyType = event.target.value;\n  }\n\n  maxRentHandler(event) {\n    if (localStorage) localStorage.homePageMainFormData_maxRent = event.target.value;\n  }\n\n  submitFormHandler(event) {\n    event.preventDefault();\n    const target = event.target;\n    const key = target.propertykey.value;\n\n    if (key) {\n      if (key.length != 5) {\n        alert('Invalid property key! It should of 5 characters in length.');\n        return;\n      }\n\n      FlowRouter.go('letting', {\n        key: key.toUpperCase()\n      });\n      return;\n    } // const territory = target.territory.value;\n\n\n    var data = {\n      country: target.country.value,\n      county: target.countySelected.value == 'all' ? '' : target.countySelected.value,\n      area: target.areaSelected.value == 'all' ? '' : target.areaSelected.value,\n      maxRent: target.maxRent.value,\n      propertyType: target.propertyType.value\n    };\n    var slug = generateSlug(data);\n    FlowRouter.go('b', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"propertykey-form\",\n      onSubmit: this.submitFormHandler\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"searchformSec\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      name: \"country\",\n      defaultValue: \"ireland\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-text\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rd-details\"\n    }, false ? /*#__PURE__*/React.createElement(\"span\", null, \"I am looking for an\") : \"\", /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\",\n      htmlFor: \"rd1\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"on\",\n      className: \"account-type-radio propertyType\",\n      id: \"rd1\",\n      name: \"propertyType\",\n      defaultValue: \"apartment\",\n      type: \"radio\",\n      defaultChecked: true,\n      onChange: this.propertyTypeHandler\n    }), \"Apartment for rent\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"on\",\n      className: \"account-type-radio propertyType\",\n      name: \"propertyType\",\n      defaultValue: \"house\",\n      type: \"radio\",\n      onChange: this.propertyTypeHandler\n    }), \"House for rent\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"on\",\n      className: \"account-type-radio propertyType\",\n      name: \"propertyType\",\n      defaultValue: \"student\",\n      type: \"radio\",\n      onChange: this.propertyTypeHandler\n    }), \"Student Accommodation\"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"on\",\n      className: \"account-type-radio propertyType\",\n      name: \"propertyType\",\n      defaultValue: \"share\",\n      type: \"radio\",\n      onChange: this.propertyTypeHandler\n    }), \"Share\"), false ? /*#__PURE__*/React.createElement(\"label\", {\n      className: \"account-type-label\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"on\",\n      className: \"account-type-radio propertyType\",\n      name: \"propertyType\",\n      defaultValue: \"holidayhomes\",\n      type: \"radio\",\n      onChange: this.propertyTypeHandler\n    }), \"Holiday Homes\") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signin-form\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"frm-group clearfix\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      autoComplete: \"on\",\n      name: \"countySelected\",\n      className: \"countySelected\",\n      onChange: this.countySelectedHandler,\n      value: this.state.countySelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"Choose City/County\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"all\"\n    }, \"All\"), this.state.counties.map(function (c, i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: c.value\n      }, c.label);\n    })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      autoComplete: \"on\",\n      name: \"areaSelected\",\n      className: \"areaSelected\",\n      onChange: this.areaSelectedHandler,\n      value: this.state.areaSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"Choose Area\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"all\"\n    }, \"All\"), this.state.areas.map(function (c, i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: c.value\n      }, c.label);\n    })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      autoComplete: \"on\",\n      name: \"maxRent\",\n      className: \"maxRent\",\n      onChange: this.maxRentHandler\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"Max Rent\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"Any\"), this.props.maxRent.map(function (c, i) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: c.value\n      }, c.label);\n    })), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"on\",\n      type: \"text\",\n      className: \"form-control propertykey\",\n      name: \"propertykey\",\n      placeholder: \"Property KEY\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-btn\",\n      style: {\n        zIndex: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn white-btn\",\n      type: \"submit\",\n      style: {\n        width: '100%'\n      }\n    }, \"Find\")))))))));\n  }\n\n}\n\nHomePageMainFormT = withTracker(() => {\n  var countries = [{\n    label: \"Ireland\",\n    value: \"Ireland\"\n  }]; //Both capital\n\n  var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n  var allareas = [];\n  var allcounties = [];\n  var countySelected = 'Dublin';\n  if (Meteor.isClient) if (Session.get('countySelected')) countySelected = Session.get('countySelected');\n  let isSubsLoaded = false;\n  const areasSub = Meteor.subscribe('Areas', '', '', countySelected, '', '', function () {\n    if (areasSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  }); // Meteor.subscribe('Config');\n\n  if (Meteor.isClient) if (Session.get('subscriptionsReady')) {\n    isSubsLoaded = true;\n  }\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  for (var i = 0; i < staticCounties.length; i++) {\n    if (!staticCounties[i]) continue;\n    allcounties.push({\n      label: staticCounties[i],\n      value: staticCounties[i]\n    });\n  } ////////////////////////START AREAS PROCESSING\n\n\n  var distinctEntries = _.uniq(Collections.Areas.find({}, {\n    //Dynamically load areas based on the subscription.\n    sort: {\n      Area: 1\n    },\n    fields: {\n      Area: true\n    }\n  }).fetch().map(function (x) {\n    return x.Area;\n  }), true);\n\n  allareas = [];\n\n  for (var i = 0; i < distinctEntries.length; i++) {\n    if (!distinctEntries[i]) continue;\n    allareas.push({\n      label: titleCase(distinctEntries[i]),\n      value: distinctEntries[i]\n    });\n  } ////////////////////////END AREAS PROCESSING\n\n\n  var range = [{\n    cur: \"eur\",\n    min: 400,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  var maxRent = [];\n\n  for (var i = selectedCur.min; i < selectedCur.max + 1; i = i + 50) {\n    maxRent.push({\n      label: i,\n      value: i\n    });\n  } // var Config = Collections.Config.find().fetch();Config = Config[0];\n\n\n  var propertyTypes = []; // if(Config)\n  // for(var i=0;i< Config.propertyType.length;i++){\n  //     propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n  // }\n\n  return {\n    // countries: countries,\n    counties: allcounties,\n    countySelected: countySelected,\n    areas: allareas,\n    maxRent: maxRent,\n    isSubsLoaded: isSubsLoaded // propertyTypes: propertyTypes,\n\n  };\n})(HomePageMainForm);\n\nclass HomePageLatestProps extends Component {\n  constructor(props) {\n    super(props);\n    let pAuctions = props.auctions;\n    if (!pAuctions) pAuctions = [];\n    let pProperties = props.properties;\n    if (!pProperties) pProperties = [];\n    this.state = {\n      auctions: pAuctions,\n      properties: pProperties\n    };\n    this.propsListHTML = '';\n    this.isServerSSRReq = '';\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // console.log(nextProps)\n    this.setState({\n      auctions: nextProps.auctions,\n      properties: nextProps.properties\n    });\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    const self = this; // console.log('In componentDidMount');\n    // console.log(this)\n\n    setTimeout(fixImageSize, 1000);\n    setTimeout(fixImageSize, 3000);\n    setTimeout(fixImageSize, 5000);\n    $(window).resize(fixImageSize);\n  }\n\n  componentDidUpdate() {\n    // console.log('In did update');\n    // console.log(this)\n    setTimeout(fixImageSize, 1000);\n    setTimeout(fixImageSize, 3000);\n    setTimeout(fixImageSize, 5000);\n  }\n\n  propGrid() {\n    const self = this;\n    let propType = '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      id: \"props_list\"\n    }, Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"isservercheckdiv\"\n    }) : \"\", self.state.auctions.map((auction, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        className: \"col-md-4 col-sm-6 img-hold-div\"\n      }, this.state.properties.map(function (property, a) {\n        if (auction.propertyId !== property._id) return false;\n        if (typeof property.gallery === 'undefined' || property.gallery.length == 0 || typeof property.gallery[0] !== 'object') return false;\n        propType = '';\n\n        switch (property.type) {\n          case 'apartment':\n            propType = 'Apartment to rent';\n            break;\n\n          case 'house':\n            propType = 'House for rent';\n            break;\n\n          case 'student':\n            propType = 'Student Accommodation';\n            break;\n\n          case 'share':\n            propType = 'Flat Share';\n            break;\n\n          case 'holidayhomes':\n            propType = 'Holiday Home';\n            break;\n\n          case 'studio':\n            propType = 'Studio for rent';\n            break;\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: a,\n          className: \"proj-card\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"prop-img-hold\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n            slug: property.slug,\n            key: auction.lettingAuctionCode\n          }) : FlowRouter.url('letting', {\n            key: auction.lettingAuctionCode\n          })\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"image-holder\"\n        }, typeof property.gallery !== 'undefined' && property.gallery.length > 0 && typeof property.gallery[0] === 'object' ? /*#__PURE__*/React.createElement(\"img\", {\n          className: \"img-responsive\",\n          src: property.gallery[0].url,\n          alt: 'Photo 1 of ' + titleCase(property.address.address) + (property.address.area ? \", \" + titleCase(property.address.area) : '') + (property.address.county ? \", \" + titleCase(property.address.county) : '')\n        }) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"item active\"\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: cdnPath(\"/images/no-photo.png\"),\n          alt: 'Image not available',\n          className: \"img-responsive\"\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"image-position\"\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"color-white\",\n          style: {\n            paddingBottom: \"2px\"\n          }\n        }, property.address.area ? titleCase(property.address.area) : '', property.address.county ? (property.address.area ? \", \" : \"\") + titleCase(property.address.county) : ''), propType ? /*#__PURE__*/React.createElement(\"h4\", {\n          style: {\n            paddingBottom: '4px'\n          }\n        }, propType) : '', /*#__PURE__*/React.createElement(\"h4\", null, property.bedCount ? property.bedCount : '1', \" Beds, \", property.baths ? property.baths : '1', \" Baths \"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"bg-opacity\"\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"textbox-holder\",\n          style: {\n            margin: 0,\n            padding: 20,\n            height: 130\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n            slug: property.slug,\n            key: auction.lettingAuctionCode\n          }) : FlowRouter.url('letting', {\n            key: auction.lettingAuctionCode\n          })\n        }, titleCase(property.address.address), property.address.area ? \" \" + titleCase(property.address.area) : '')), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"left-border\"\n        }, /*#__PURE__*/React.createElement(\"h4\", null, \"Rent\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: 'h2-div'\n        }, \"\\u20AC\", /*#__PURE__*/React.createElement(\"span\", null, auction.price))), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"pad-right-0\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"transparent-btn btns view-details\",\n          href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n            slug: property.slug,\n            key: auction.lettingAuctionCode\n          }) : FlowRouter.url('letting', {\n            key: auction.lettingAuctionCode\n          }),\n          type: \"button\",\n          id: \"enter-auction\"\n        }, \"view details\")))));\n      }));\n    }));\n  }\n\n  render() {\n    if (Meteor.isClient && this.propsListHTML == \"\") {\n      this.propsListHTML = $('#props_list').html();\n    }\n\n    if (Meteor.isClient) {\n      this.isServerSSRReq = $('#isservercheckdiv').html();\n      if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n    } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"property-list\",\n      id: \"latestRentals\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, true ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"prop-wrap\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Latest Rentals\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bottom-line\"\n    })) : '', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auction\"\n    }, false ? /*#__PURE__*/React.createElement(\"h5\", null, \"Ends on endsDate\") : \"\", /*#__PURE__*/React.createElement(\"section\", null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"proplist-sec\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row blogs\"\n    }, this.props.isSubsLoaded && this.state.auctions && this.state.properties ? this.propGrid() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.propsListHTML\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: 'h2-div',\n      style: {\n        textAlign: 'center'\n      }\n    }, \"Loading...\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pink-div col-xs-12 col-sm-12 col-md-12 col-lg-12\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('b', {\n        'slug': \"rent-in-ireland\"\n      }, {\n        'mostRecentSort': 1\n      }),\n      className: \"pink-btn oval-btn \"\n    }, \"View All\"))))))));\n  }\n\n}\n\nHomePageLatestPropsT = withTracker(() => {\n  const bLettingsSub = Meteor.subscribe(\"browseLettings\", {\n    viewName: 'browseLettings.view',\n    slug: 'rent-in-ireland',\n    pageno: 1,\n    resperpage: 6,\n    query: {\n      mostRecentSort: 1\n    },\n    propertykey: ''\n  }, function () {\n    if (bLettingsSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  });\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  if (!bLettingsSub.ready()) {\n    return {\n      isSubsLoaded: false\n    };\n  }\n\n  return {\n    auctions: Collections.Auctions.find({}, {\n      sort: {\n        updatedAt: -1\n      }\n    }).fetch(),\n    properties: Collections.Properties.find().fetch(),\n    isSubsLoaded: true\n  };\n})(HomePageLatestProps);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"HousesForrent.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/pages/HousesForrent.jsx                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet withTracker;\nmodule.link(\"meteor/react-meteor-data\", {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 2);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 3);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 4);\nlet Collections;\nmodule.link(\"../../api/collections.js\", {\n  Collections(v) {\n    Collections = v;\n  }\n\n}, 5);\nlet countsCollection = null;\nif (Meteor.isClient) Session.set('subscriptionsReady', false);\n\nfunction titleCase(str) {\n  if (!str) return;\n  return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction titleCaseAllWords(str) {\n  if (!str) return;\n  return str.split(' ').map(function (str) {\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n  }).join(' ');\n}\n\nfunction chunkify(a, n, balanced) {\n  if (n < 2) return [a];\n  var len = a.length,\n      out = [],\n      i = 0,\n      size;\n\n  if (len % n === 0) {\n    size = Math.floor(len / n);\n\n    while (i < len) {\n      out.push(a.slice(i, i += size));\n    }\n  } else if (balanced) {\n    while (i < len) {\n      size = Math.ceil((len - i) / n--);\n      out.push(a.slice(i, i += size));\n    }\n  } else {\n    n--;\n    size = Math.floor(len / n);\n    if (len % size === 0) size--;\n\n    while (i < size * n) {\n      out.push(a.slice(i, i += size));\n    }\n\n    out.push(a.slice(size * n));\n  }\n\n  return out;\n}\n\nfunction slugify(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '') // Replace spaces with \"\"\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with ''\n  .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n\nfunction getSlugData() {\n  var query = FlowRouter.current().queryParams;\n  var slug = FlowRouter.current().params.slug;\n  var propertyType = \"\";\n  var county = \"\";\n  var area = \"\";\n  var maxRent = \"\";\n  var minRent = \"\";\n  var minBeds = \"\";\n  var maxBeds = \"\";\n  var country = \"\";\n  var bedCount = \"\";\n  var luxurySort = \"\";\n  var cheapSort = \"\";\n  var mostRecentSort = \"\";\n  var leastRecentSort = \"\";\n  var range = [{\n    cur: \"eur\",\n    min: 0,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n\n  if (query) {\n    if (query.minRent) minRent = query.minRent;\n    if (query.maxRent) maxRent = query.maxRent;\n    if (query.minBeds) minBeds = query.minBeds;\n    if (query.maxBeds) maxBeds = query.maxBeds;\n    if (query.bedCount) bedCount = query.bedCount;\n    if (query.luxurySort) luxurySort = query.luxurySort;\n    if (query.cheapSort) cheapSort = query.cheapSort;\n    if (query.mostRecentSort) mostRecentSort = query.mostRecentSort;\n    if (query.leastRecentSort) leastRecentSort = query.leastRecentSort;\n  }\n\n  if (!slug) {\n    return {\n      country: country,\n      county: county,\n      area: area,\n      minRent: minRent,\n      maxRent: maxRent,\n      minBeds: minBeds,\n      maxBeds: maxBeds,\n      bedCount: bedCount,\n      luxurySort: luxurySort,\n      cheapSort: cheapSort,\n      mostRecentSort: mostRecentSort,\n      leastRecentSort: leastRecentSort,\n      propertyType: propertyType\n    };\n  }\n\n  if (slug.indexOf('-for-') != -1) {\n    propertyType = slug.split('-for-')[0];\n    propertyType = propertyType.split('-').join(' ');\n  }\n\n  if (slug.indexOf('-in-') != -1) {\n    var tmp = slug.split('-in-')[1].split('-');\n\n    switch (tmp.length) {\n      case 3:\n        country = tmp[2];\n        county = tmp[1];\n        area = tmp[0];\n        break;\n\n      case 2:\n        country = tmp[1];\n        county = tmp[0];\n        break;\n\n      case 1:\n        country = tmp[0];\n        break;\n    }\n\n    if (propertyType) propertyType = propertyType.replace(/_/g, ' ');\n    if (county) county = titleCaseAllWords(county.replace(/_/g, ' '));\n    if (country) country = titleCaseAllWords(country.replace(/_/g, ' '));\n    if (area) area = titleCaseAllWords(area.replace(/_/g, ' '));\n  }\n\n  return {\n    country: country,\n    county: county,\n    area: area,\n    minRent: minRent,\n    maxRent: maxRent,\n    minBeds: minBeds,\n    maxBeds: maxBeds,\n    bedCount: bedCount,\n    luxurySort: luxurySort,\n    cheapSort: cheapSort,\n    mostRecentSort: mostRecentSort,\n    leastRecentSort: leastRecentSort,\n    propertyType: propertyType\n  };\n}\n\nfunction generateSlug(curURL) {\n  var propertyType = curURL.propertyType;\n  var county = curURL.county;\n  var area = curURL.area;\n  var minRent = curURL.minRent;\n  var maxRent = curURL.maxRent;\n  var minBeds = curURL.minBeds;\n  var maxBeds = curURL.maxBeds;\n  var sortBy = curURL.sortBy;\n  var country = curURL.country;\n  var bedCount = curURL.bedCount;\n  var luxurySort = curURL.luxurySort;\n  var cheapSort = curURL.cheapSort;\n  var mostRecentSort = curURL.mostRecentSort;\n  var leastRecentSort = curURL.leastRecentSort; // const territory = target.territory.value;\n\n  var slug = '';\n  var query = {};\n  if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n  if (county) county = county.replace(/\\s+/g, '_');\n  if (area) area = area.replace(/\\s+/g, '_');\n  if (country) country = country.replace(/\\s+/g, '_');\n  if (propertyType) slug = propertyType + \"-for-\";\n  slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n  slug += \"-in-\";\n  if (!county) area = '';\n  if (area) slug += area;\n  if (area && county) slug += \"-\";\n  if (county) slug += county;\n  if (bedCount) query.bedCount = bedCount;\n  if (country) slug += \"-\" + country;else slug += \"-ireland\";\n  var range = [{\n    cur: \"eur\",\n    min: 200,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n  if (minRent && minRent != selectedCur.min) query.minRent = minRent;\n  if (maxRent && maxRent != selectedCur.max) query.maxRent = maxRent;\n  if (minBeds) query.minBeds = minBeds;\n  if (maxBeds) query.maxBeds = maxBeds;\n\n  if (sortBy) {\n    switch (sortBy) {\n      case 'ascRent':\n        query.cheapSort = 1;\n        break;\n\n      case 'descRent':\n        query.luxurySort = 1;\n        break;\n\n      case 'mRecent':\n        query.mostRecentSort = 1;\n        break;\n\n      case 'lRecent':\n        query.leastRecentSort = 1;\n        break;\n    }\n  } else {\n    if (luxurySort) query.luxurySort = 1;\n    if (cheapSort) query.cheapSort = 1;\n    if (mostRecentSort) query.mostRecentSort = 1;\n    if (leastRecentSort) query.leastRecentSort = 1;\n  } // apartment-for-rent-in-dundrum-dublin-ireland\n  // apartment-for-rent-in-donnybroke-london-uk\n  // rent/apartment/dundrum/dublin\n  // rent/apartment/donnybroke/london/england/uk/\n\n\n  return [slugify(slug), query];\n}\n\nfunction generateSlugURL(curURL) {\n  var ret = generateSlug(curURL);\n  return FlowRouter.url('b', {\n    slug: ret[0]\n  }, ret[1]);\n}\n\nfunction updateRoute() {\n  // Function is not in use\n  //console.log(\"In updateRoute\")\n  // TODO Router.query.clear();\n  var baseURL = window.location.href.split('?')[0];\n  var route = baseURL; //debugger;\n\n  var curCity = Session.get('curCity');\n  if (curCity && curCity != 'All') route = updateQueryStringParameter(route, 'city', curCity);\n  var curBuilder = Session.get('curBuilder');\n  if (curBuilder && curBuilder != 'All') route = updateQueryStringParameter(route, 'builder', curBuilder); //console.log(\"New Route\"+route);\n\n  FlowRouter.go(route);\n}\n\nfunction fixImageSize() {\n  var avgW = 0;\n  $('.image-holder img').each(function () {\n    if (!avgW) avgW = $(this).width();else {\n      avgW += $(this).width();\n      avgW = avgW / 2;\n    }\n  });\n  if (!avgW) avgW = 250;\n  $('.image-holder img').width('100%');\n  $('.image-holder img').height(avgW * 0.7);\n}\n\nfunction saveToLocalStorage() {\n  //There is no restore local on this page; its not needed as people come to this page from other pages and they might have diff preferences every time.\n  if (localStorage) {\n    localStorage.homePageMainFormData_county = $(\".countySelected\").val();\n    localStorage.homePageMainFormData_area = $(\".areaSelected\").val();\n    var tmp = $(\"input:radio[name=propertyType]:checked\").val();\n    if (tmp) localStorage.homePageMainFormData_propertyType = tmp;\n    tmp = $('.maxRent').val();\n    if (tmp) localStorage.homePageMainFormData_maxRent = $('.maxRent').val();\n  }\n}\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {// console.log(this.props)\n  }\n\n  render() {\n    const self = this;\n    return /*#__PURE__*/React.createElement(\"nav\", null, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"pagination\"\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item \" + self.props.pagination.prevPage.disabled\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: self.props.pagination.prevPage.href,\n      tabIndex: \"-1\",\n      onClick: self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)\n    }, self.props.pagination.prevPage.text)), self.props.pagination.pages.map((page, i) => {\n      if (typeof page.current !== 'undefined' && page.current) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"page-item active\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"page-link\",\n          href: page.href\n        }, page.text, \" \", /*#__PURE__*/React.createElement(\"span\", {\n          className: \"sr-only\"\n        }, \"(current)\")));\n      } else {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"page-item\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"page-link\",\n          onClick: self.props.handleChoosePage.bind(self, page.text, self.props.parent),\n          href: page.href\n        }, page.text));\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"page-item \" + self.props.pagination.nextPage.disabled\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"page-link\",\n      href: self.props.pagination.nextPage.href,\n      onClick: self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)\n    }, self.props.pagination.nextPage.text))));\n  }\n\n}\n\nclass HousesForrent extends Component {\n  constructor(props) {\n    super(props);\n    var searchCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var fCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var areaCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n    var countyCrumbs = {\n      c1: [],\n      c2: [],\n      c3: []\n    };\n\n    if (props.searchCrumbs) {\n      var chunks = chunkify(props.searchCrumbs, 3, true);\n      searchCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.fCrumbs) {\n      var chunks = chunkify(props.fCrumbs, 3, true);\n      fCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.areaCrumbs) {\n      var chunks = chunkify(props.areaCrumbs, 3, true);\n      areaCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    if (props.countyCrumbs) {\n      var chunks = chunkify(props.countyCrumbs, 3, true);\n      countyCrumbs = {\n        c1: chunks[0],\n        c2: chunks[1],\n        c3: chunks[2]\n      };\n    }\n\n    let pCS = props.countySelected;\n    if (!pCS) pCS = '';\n    let pAS = props.areaSelected;\n    if (!pAS) pAS = '';\n    let pTS = props.propertyTypeSelected;\n    if (!pTS) pTS = '';\n    let pCounties = props.counties;\n    if (!pCounties) pCounties = [];\n    let pPropertyTypes = props.propertyTypes;\n    if (!pPropertyTypes) pPropertyTypes = [];\n    let pAreas = props.areas;\n    if (!pAreas) pAreas = [];\n    let pAuctions = props.auctions;\n    if (!pAuctions) pAuctions = [];\n    let pProperties = props.properties;\n    if (!pProperties) pProperties = [];\n    let pTotalCount = props.totalCount;\n    if (!pTotalCount) pTotalCount = 0;\n    let pPagination = props.pagination;\n    if (!pPagination) pPagination = 0;\n    this.state = {\n      showXSMenu: false,\n      countySelected: pCS,\n      areaSelected: pAS,\n      propertyTypeSelected: pTS,\n      counties: pCounties,\n      propertyTypes: pPropertyTypes,\n      areas: pAreas,\n      auctions: pAuctions,\n      properties: pProperties,\n      totalCount: pTotalCount,\n      pagination: pPagination,\n      'searchCrumbs': searchCrumbs,\n      fCrumbs: fCrumbs,\n      areaCrumbs: areaCrumbs,\n      countyCrumbs: countyCrumbs\n    };\n    this.searchCrumbsLoaded = false;\n    this.propsListHTML = '';\n    this.isServerSSRReq = '';\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // console.log(nextProps)\n    this.setState({\n      counties: nextProps.counties,\n      areas: nextProps.areas,\n      propertyTypes: nextProps.propertyTypes,\n      auctions: nextProps.auctions,\n      properties: nextProps.properties,\n      totalCount: nextProps.totalCount,\n      pagination: nextProps.pagination\n    }); // if(!this.state.countySelected)\n\n    this.setState({\n      countySelected: nextProps.countySelected\n    }); // if(!this.state.areaSelected)\n\n    this.setState({\n      areaSelected: nextProps.areaSelected\n    }); // if(!this.state.propertyTypeSelected)\n\n    this.setState({\n      propertyTypeSelected: nextProps.propertyTypeSelected\n    });\n    this.setState({\n      minRentSelected: nextProps.minRentSelected\n    });\n    this.setState({\n      maxRentSelected: nextProps.maxRentSelected\n    });\n    this.setState({\n      minBedCountSelected: nextProps.minBedCountSelected\n    });\n    this.setState({\n      maxBedCountSelected: nextProps.maxBedCountSelected\n    });\n    this.setState({\n      sortBySelected: nextProps.sortBySelected\n    });\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    const self = this; // console.log('In componentDidMount');\n    // console.log(this)\n\n    try {\n      jQuery(\"html,body\").animate({\n        scrollTop: 0\n      }, 250);\n    } catch (e) {\n      document.body.scrollTop = document.documentElement.scrollTop = 0;\n    }\n\n    setTimeout(fixImageSize, 1000);\n    setTimeout(fixImageSize, 3000);\n    setTimeout(fixImageSize, 5000);\n    $(window).resize(fixImageSize);\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n    }, 500);\n  }\n\n  componentDidUpdate() {\n    // console.log('In did update');\n    // console.log(this)\n    setTimeout(fixImageSize, 1000);\n    setTimeout(fixImageSize, 3000);\n    setTimeout(fixImageSize, 5000);\n    this.crumbsUpdate();\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n    }, 500);\n  }\n\n  minRentOptions() {\n    var range = [{\n      cur: \"eur\",\n      min: 200,\n      max: 9900\n    }];\n    var selectedCur = range[0];\n    var maxRent = [];\n\n    for (var i = selectedCur.min; i < selectedCur.max + 1;) {\n      maxRent.push({\n        label: i,\n        value: i\n      });\n      if (i < 1000) i = i + 50;else if (i <= 4000) i = i + 100;else if (i <= 8000) i = i + 500;else i = i + 1000;\n    }\n\n    return maxRent;\n  }\n\n  maxRentOptions() {\n    var range = [{\n      cur: \"eur\",\n      min: 400,\n      max: 10000\n    }];\n    var selectedCur = range[0];\n    var maxRent = [];\n\n    for (var i = selectedCur.min; i < selectedCur.max + 1;) {\n      maxRent.push({\n        label: i,\n        value: i\n      });\n      if (i < 1000) i = i + 50;else if (i <= 4000) i = i + 100;else if (i <= 8000) i = i + 500;else i = i + 1000;\n    }\n\n    return maxRent;\n  }\n\n  minBedOptions() {\n    var range = [{\n      min: 1,\n      max: 9\n    }];\n    var selectedCur = range[0];\n    var maxRent = [];\n\n    for (var i = selectedCur.min; i < selectedCur.max + 1; i = i + 1) {\n      maxRent.push({\n        label: i,\n        value: i\n      });\n    }\n\n    return maxRent;\n  }\n\n  maxBedOptions() {\n    var range = [{\n      min: 2,\n      max: 10\n    }];\n    var selectedCur = range[0];\n    var maxRent = [];\n\n    for (var i = selectedCur.min; i < selectedCur.max + 1; i = i + 1) {\n      maxRent.push({\n        label: i,\n        value: i\n      });\n    }\n\n    return maxRent;\n  }\n\n  sortByOptions() {\n    var sortBy = [{\n      label: \"Most recent\",\n      value: \"mRecent\"\n    }, {\n      label: \"Least recent\",\n      value: \"lRecent\"\n    }, {\n      label: \"Rent: Cheaper first\",\n      value: \"ascRent\"\n    }, {\n      label: \"Rent: Luxury first\",\n      value: \"descRent\"\n    }];\n    return sortBy;\n  }\n\n  crumbsUpdate() {\n    if (!this.searchCrumbsLoaded) {\n      var searchCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var fCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var areaCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var countyCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n\n      if (this.props.searchCrumbs) {\n        var chunks = chunkify(this.props.searchCrumbs, 3, true);\n        searchCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.props.fCrumbs) {\n        var chunks = chunkify(this.props.fCrumbs, 3, true);\n        fCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.props.areaCrumbs) {\n        var chunks = chunkify(this.props.areaCrumbs, 3, true);\n        areaCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.props.countyCrumbs) {\n        var chunks = chunkify(this.props.countyCrumbs, 3, true);\n        countyCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        };\n        this.searchCrumbsLoaded = true;\n      }\n\n      if (this.searchCrumbsLoaded) //Update the state only once; when its true\n        this.setState({\n          'searchCrumbs': searchCrumbs,\n          fCrumbs: fCrumbs,\n          areaCrumbs: areaCrumbs,\n          countyCrumbs: countyCrumbs\n        });\n    }\n  }\n\n  isEqualSelect(a, b) {\n    if (a == b) return ' selected ';\n    return '';\n  }\n\n  updateQueryStringParameter(uri, key, value) {\n    var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n    var separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\n\n    if (uri.match(re)) {\n      return uri.replace(re, '$1' + key + \"=\" + value + '$2');\n    } else {\n      return uri + separator + key + \"=\" + value;\n    }\n  }\n\n  handleChoosePage(page, component) {\n    if (typeof page == \"undefined\") return; // var data = getSlugData();\n    // var slug = generateSlug(data);\n    //\n    // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n    //\n    // component.setState({pagination: pagination()});\n  }\n\n  handleCountyDropdown(event) {\n    var val = event.target.value;\n    var countyChanged = false;\n    var data = getSlugData();\n    var countySelected = data.county;\n    this.setState({\n      countySelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_county = val;\n    this.setState({\n      areaSelected: \"\"\n    }); // if(val!=countySelected)\n    //     countyChanged=true;\n    // if(countyChanged)\n    //     this.setState({areaSelected: \"\"});\n\n    data.county = val;\n    data.area = ''; // if(countyChanged)data.area='';\n\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handleAreaDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      areaSelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_area = val;\n    var data = getSlugData();\n    data.area = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handlePropertyTypeDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      propertyTypeSelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_propertyType = val;\n    var data = getSlugData();\n    data.propertyType = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handleMinRentDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      minRentSelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_minRent = val;\n    var data = getSlugData();\n    data.minRent = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handleMaxRentDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      maxRentSelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_maxRent = val;\n    var data = getSlugData();\n    data.maxRent = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handleMinBedDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      minBedCountSelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_minBed = val;\n    var data = getSlugData();\n    data.minBeds = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handleMaxBedDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      maxBedCountSelected: val\n    });\n    if (localStorage) localStorage.homePageMainFormData_maxBed = val;\n    var data = getSlugData();\n    data.maxBeds = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  handleSortByDropdown(event) {\n    var val = event.target.value;\n    this.setState({\n      sortBySelected: val\n    });\n    var data = getSlugData();\n    data.sortBy = val;\n    var slug = generateSlug(data);\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: slug[0]\n    }, slug[1]);\n  }\n\n  searchXSMenu(event) {\n    console.log('searchXSMenu');\n    this.setState({\n      showXSMenu: false\n    });\n    ga('send', 'event', 'BrowsePage', 'searchXSMenuBtn', 'Mobile: searchXSMenu Btn Clicked');\n  }\n\n  cancelSearchXSMenu(event) {\n    console.log('cancelSearchXSMenu');\n    this.setState({\n      showXSMenu: false\n    });\n    ga('send', 'event', 'BrowsePage', 'cancelFilterBtn', 'Mobile: cancelFilter Btn Clicked');\n  }\n\n  handleShowFilters(event) {\n    this.setState({\n      showXSMenu: true\n    });\n    ga('send', 'event', 'BrowsePage', 'showFilterBtn', 'Mobile: showFilter Btn Clicked');\n  }\n\n  showFilterText(state) {\n    var text = [];\n\n    if (state.countySelected) {\n      text.push(\"County: \" + state.countySelected);\n    } //else text.push(\"all counties\")\n\n\n    if (state.areaSelected) {\n      text.push(\"Area: \" + state.areaSelected);\n    } //else text.push(\"Area: all areas\")\n\n\n    if (state.propertyTypeSelected) {\n      text.push(\"Type: \" + this.formatedPT(state.propertyTypeSelected));\n    } //else text.push(\"Type: all property types\")\n\n\n    if (state.minRentSelected && state.maxRentSelected) {\n      text.push(\"Rent: between &euro;\" + state.minRentSelected + \" and &euro;\" + state.maxRentSelected + \"\");\n    } else if (state.minRentSelected) {\n      text.push(\"Rent: greater than &euro;\" + state.minRentSelected + \"\");\n    } else if (state.maxRentSelected) {\n      text.push(\"Rent: less than &euro;\" + state.maxRentSelected + \"\");\n    } else {// text.push(\"Rent: Any\")\n    }\n\n    if (state.minBedCountSelected && state.maxBedCountSelected) {\n      text.push(\"Beds: between \" + state.minBedCountSelected + \" and \" + state.maxBedCountSelected);\n    } else if (state.minBedCountSelected) {\n      text.push(\"Beds: has at least \" + state.minBedCountSelected + \"\");\n    } else if (state.maxBedCountSelected) {\n      text.push(\"Beds: at most \" + state.maxBedCountSelected + \"\");\n    } else {// text.push(\"Rent: Any\")\n    }\n\n    switch (this.state.sortBySelected) {\n      case 'mRecent':\n        text.push('Showing: Most recent first');\n        break;\n\n      case 'lRecent':\n        text.push('Showing: Oldest first');\n        break;\n    }\n\n    if (state.propertyTypeSelected) {\n      switch (this.state.sortBySelected) {\n        case 'ascRent':\n          text.push('Showing: Cheap ' + this.formatedPT(state.propertyTypeSelected) + ' first');\n          break;\n\n        case 'descRent':\n          text.push('Showing: Luxury ' + this.formatedPT(state.propertyTypeSelected) + ' first');\n          break;\n      }\n    } else {\n      switch (this.state.sortBySelected) {\n        case 'ascRent':\n          text.push('Showing: Least expensive first');\n          break;\n\n        case 'descRent':\n          text.push('Showing: Most expensive first');\n          break;\n      }\n    }\n\n    return 'Chosen filters are <br/>' + text.join('<br/>'); // Searching in county Dublin<br>\n    // Area: Amiens Street<br>\n    // Rent: between 200 to 1200 Euros<br>\n    // Bedrooms: between 2 to 4<br>\n    // Showing: Most recent first\n  }\n\n  handleClearFilters() {\n    FlowRouter.go('/b/:slug/:pageno?', {\n      slug: 'rent-in-ireland'\n    });\n  }\n\n  formatedPT(propertyTypeSelected) {\n    propertyTypeSelected = propertyTypeSelected.toLowerCase();\n    if (propertyTypeSelected == 'student') return 'Student Accommodation';\n    if (propertyTypeSelected == 'holidayhomes') return 'Holiday Homes';\n    if (propertyTypeSelected == 'parkingspace') return 'Parking Space';\n    return titleCaseAllWords(propertyTypeSelected);\n  }\n\n  propGrid() {\n    const self = this;\n    let propType = '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, self.state.auctions.map((auction, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        className: \"col-md-4 col-sm-6 img-hold-div\"\n      }, this.state.properties.map(function (property, a) {\n        if (auction.propertyId !== property._id) return false;\n        propType = '';\n\n        switch (property.type) {\n          case 'apartment':\n            propType = 'Apartment to rent';\n            break;\n\n          case 'house':\n            propType = 'House for rent';\n            break;\n\n          case 'student':\n            propType = 'Student Accommodation';\n            break;\n\n          case 'share':\n            propType = 'Flat Share';\n            break;\n\n          case 'holidayhomes':\n            propType = 'Holiday Home';\n            break;\n\n          case 'studio':\n            propType = 'Studio for rent';\n            break;\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: a,\n          className: \"proj-card\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"prop-img-hold\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n            slug: property.slug,\n            key: auction.lettingAuctionCode\n          }) : FlowRouter.url('letting', {\n            key: auction.lettingAuctionCode\n          })\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"image-holder\"\n        }, typeof property.gallery !== 'undefined' && property.gallery.length > 0 && typeof property.gallery[0] === 'object' ? /*#__PURE__*/React.createElement(\"img\", {\n          className: \"img-responsive\",\n          src: property.gallery[0].url,\n          alt: 'Photo 1 of ' + titleCase(property.address.address) + (property.address.area ? \", \" + titleCase(property.address.area) : '') + (property.address.county ? \", \" + titleCase(property.address.county) : '')\n        }) : /*#__PURE__*/React.createElement(\"div\", {\n          className: \"item active\"\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: cdnPath(\"/images/no-photo.png\"),\n          alt: 'Image not available',\n          className: \"img-responsive\"\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"image-position\"\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"color-white\",\n          style: {\n            paddingBottom: \"2px\"\n          }\n        }, property.address.area ? titleCase(property.address.area) : '', property.address.county ? (property.address.area ? \", \" : \"\") + titleCase(property.address.county) : ''), propType ? /*#__PURE__*/React.createElement(\"h4\", {\n          style: {\n            paddingBottom: '4px'\n          }\n        }, propType) : '', /*#__PURE__*/React.createElement(\"h4\", null, property.bedCount ? property.bedCount : '1', \" Beds, \", property.baths ? property.baths : '1', \" Baths \"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"bg-opacity\"\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"textbox-holder\",\n          style: {\n            margin: 0,\n            padding: 20,\n            height: 130\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", null, /*#__PURE__*/React.createElement(\"a\", {\n          href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n            slug: property.slug,\n            key: auction.lettingAuctionCode\n          }) : FlowRouter.url('letting', {\n            key: auction.lettingAuctionCode\n          })\n        }, titleCase(property.address.address), property.address.area ? \" \" + titleCase(property.address.area) : '')), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n          className: \"left-border\"\n        }, /*#__PURE__*/React.createElement(\"h4\", null, \"Rent\"), /*#__PURE__*/React.createElement(\"div\", {\n          className: 'h2-div'\n        }, \"\\u20AC\", /*#__PURE__*/React.createElement(\"span\", null, auction.price))), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"pad-right-0\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \"transparent-btn btns view-details\",\n          href: property.slug && auction.lettingAuctionCode ? FlowRouter.url('rent', {\n            slug: property.slug,\n            key: auction.lettingAuctionCode\n          }) : FlowRouter.url('letting', {\n            key: auction.lettingAuctionCode\n          }),\n          type: \"button\",\n          id: \"enter-auction\"\n        }, \"view details\")))));\n      }));\n    }));\n  }\n\n  mainAllPage() {\n    const self = this;\n    var slugData = getSlugData();\n    this.sluggedTitle = '';\n    this.sluggedTitleWithoutType = '';\n    this.sluggedType = '';\n\n    try {\n      this.sluggedType = slugData.propertyType ? slugData.propertyType : 'Property';\n      this.sluggedTitle += slugData.propertyType ? slugData.propertyType + \" for\" : '';\n      this.sluggedTitle += this.sluggedTitle ? ' rent in' : 'rent in';\n      this.sluggedTitle += slugData.area ? ' ' + slugData.area + \"\" : '';\n      this.sluggedTitle += slugData.county ? ' ' + slugData.county + \"\" : '';\n      this.sluggedTitle += ' Ireland';\n      this.sluggedTitleWithoutType = 'rent in';\n      this.sluggedTitleWithoutType += slugData.area ? ' ' + slugData.area + \"\" : '';\n      this.sluggedTitleWithoutType += slugData.county ? ' ' + slugData.county + \"\" : '';\n      this.sluggedTitleWithoutType += ' Ireland';\n    } catch (e) {}\n\n    try {\n      this.sluggedTitle = this.props.slug.replace(/[-_]/g, ' ');\n    } catch (e) {}\n\n    this.propertyTypePlural = this.state.propertyTypeSelected;\n\n    switch (this.propertyTypePlural) {\n      case 'apartment':\n        this.propertyTypePlural = 'Apartments ';\n        break;\n\n      case 'house':\n        this.propertyTypePlural = 'Houses ';\n        break;\n\n      case 'student':\n        this.propertyTypePlural = 'Student Accommodations ';\n        break;\n\n      case 'share':\n        this.propertyTypePlural = 'Flat Shares ';\n        break;\n\n      case 'holidayhomes':\n        this.propertyTypePlural = 'Holiday Homes ';\n        break;\n\n      case 'studio':\n        this.propertyTypePlural = 'Studios ';\n        break;\n\n      case '':\n        this.propertyTypePlural = 'advertisements ';\n        break;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"props_list\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"logo-below-div value-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder-div\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo-holder\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        marginBottom: 10\n      }\n    }, self.state.propertyTypeSelected ? this.formatedPT(self.state.propertyTypeSelected) : 'Houses', \"\\xA0for rent\", self.state.countySelected ? /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0in \", self.state.areaSelected ? self.state.areaSelected + \" \" : '', self.state.countySelected) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h4-div\",\n      style: {\n        paddingBottom: 5\n      }\n    }, \"Found \", self.state.totalCount, this.props.pageno > 1 ? ' (Showing page 3)' : \"\")))), this.state.showXSMenu ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-filter-menu xs-menu visible-xs transition\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"xs-menu-close-icon text-right\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"h2-h2\",\n      style: {\n        float: \"left\",\n        marginLeft: '12px'\n      }\n    }, \"FILTERS\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sprite xs-close\",\n      onClick: self.cancelSearchXSMenu.bind(this)\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"transition\",\n      style: {\n        paddingTop: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Change County\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleCountyDropdown.bind(this),\n      value: self.state.countySelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.state.counties ? self.state.counties.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    }) : \"\"))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Area\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown areaSelected\",\n      onChange: self.handleAreaDropdown.bind(this),\n      value: self.state.areaSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.state.areas ? self.state.areas.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    }) : \"\"))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-6 col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Min Rent\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleMinRentDropdown.bind(this),\n      value: self.state.minRentSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.minRentOptions().map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-6 col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Max Rent\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleMaxRentDropdown.bind(this),\n      value: self.state.maxRentSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.maxRentOptions().map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    })))))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"How many bedrooms?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-6 col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Min Beds\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleMinBedDropdown.bind(this),\n      value: self.state.minBedCountSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.minBedOptions().map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-6 col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Max Beds\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleMaxBedDropdown.bind(this),\n      value: self.state.maxBedCountSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.maxBedOptions().map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    })))))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Property Type? \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handlePropertyTypeDropdown.bind(this),\n      value: self.state.propertyTypeSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.state.propertyTypes ? self.state.propertyTypes.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    }) : \"\"))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Sort by\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleSortByDropdown.bind(this),\n      value: self.state.sortBySelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.sortByOptions().map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    })))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btns green-btn\",\n      onClick: self.searchXSMenu.bind(this)\n    }, \"Search\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btns transparent-btn\",\n      style: {\n        marginLeft: 5\n      },\n      onClick: self.cancelSearchXSMenu.bind(this)\n    }, \"Cancel\")))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu houseForRentFilters\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"left-border pad-right-0 cf-1\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"visible-xs\",\n      dangerouslySetInnerHTML: {\n        __html: this.showFilterText(this.state)\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"visible-xs\",\n      href: \"javascript:void(0)\",\n      onClick: self.handleShowFilters.bind(this)\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"hfr-h4\"\n    }, \"Edit Filters \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-filter\"\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Change County\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleCountyDropdown.bind(this),\n      value: self.state.countySelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.state.counties ? self.state.counties.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    }) : \"\"))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"cf-1 pad-right-0\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"color-grey\"\n    }, \"Area\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input styled-input-select\"\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"furnished\",\n      autoComplete: \"true\",\n      style: {\n        margin: 0\n      },\n      className: \"countyDropdown countySelected\",\n      onChange: self.handleAreaDropdown.bind(this),\n      value: self.state.areaSelected\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\"\n    }, \"All\"), self.state.areas ? self.state.areas.map((item, i) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: item.value\n      }, item.label);\n    }) : \"\")))))))), self.state.totalCount == 0 && this.props.isSubsLoaded ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"No \", this.propertyTypePlural, \"found\", self.state.countySelected ? /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0in \", self.state.areaSelected ? self.state.areaSelected + \" of \" : '', \"county \", self.state.countySelected) : \"\", \".\\xA0 Click show all below to search other areas.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"blue-btn btns clearFilters\",\n      onClick: self.handleClearFilters,\n      type: \"button\"\n    }, \"Show all\")) : \"\", self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"paginationArea mar-top-20 \"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: 'mar-btm-20'\n    }, this.props.pageno > 1 ? 'Showing page 3 of ' : 'Found ', \"total \", self.state.totalCount ? self.state.totalCount : 'no', \" \", this.sluggedTitle, \". Browse through the apartments, houses, studios, 1 bed, 2 bed, 3 bed rooms available to \", this.sluggedTitleWithoutType, \". Choose county and area from the top right drop-down options. Click view details button by the \", this.sluggedType.toLowerCase(), \" to know more about it. Use the navigation below to find more \", this.sluggedTitle, \".\"), /*#__PURE__*/React.createElement(Pagination, {\n      pagination: self.state.pagination,\n      handleChoosePage: self.handleChoosePage,\n      parent: self\n    }))))) : \"\", Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"isservercheckdiv\"\n    }) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n      className: \"proplist-sec property-list\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, this.propGrid())), self.state.totalCount > 0 ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"paginationArea subscribeTillPopop\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      pagination: self.state.pagination,\n      handleChoosePage: self.handleChoosePage,\n      parent: self\n    }))))) : \"\", true ? /*#__PURE__*/React.createElement(\"section\", {\n      className: \"\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"homeLinks\",\n      className: \"mar-btm-30 amenities\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"amenitiy-block-removed\",\n      style: {\n        paddingTop: 0,\n        textAlign: \"center\"\n      }\n    }, this.props.searchCrumbs === undefined || this.props.searchCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      id: \"searchsection\",\n      className: 'row'\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Search more properties to rent\"), /*#__PURE__*/React.createElement(\"p\", null, \"Chooes a link below to browse through more relavent properties to rent.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-sm-5 col-xs-12\"\n    }, this.state.searchCrumbs.c1 ? this.state.searchCrumbs.c1.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.searchCrumbs.c2 ? this.state.searchCrumbs.c2.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-sm-3 col-xs-12\"\n    }, this.state.searchCrumbs.c3 ? this.state.searchCrumbs.c3.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"))), this.props.fCrumbs === undefined || this.props.fCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      className: 'row mar-top-30'\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Property types to rent\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 col-sm-3 col-xs-12\"\n    }, this.state.fCrumbs.c1 ? this.state.fCrumbs.c1.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.fCrumbs.c2 ? this.state.fCrumbs.c2.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 col-sm-5 col-xs-12\"\n    }, this.state.fCrumbs.c3 ? this.state.fCrumbs.c3.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"))), this.props.areaCrumbs === undefined || this.props.areaCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      className: 'row mar-top-30'\n    }, /*#__PURE__*/React.createElement(\"h2\", null, self.state.countySelected, \" neighbourhoods\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.areaCrumbs.c1 ? this.state.areaCrumbs.c1.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.areaCrumbs.c2 ? this.state.areaCrumbs.c2.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.areaCrumbs.c3 ? this.state.areaCrumbs.c3.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"))), this.props.countyCrumbs === undefined || this.props.countyCrumbs.length == 0 ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n      className: 'row mar-top-30'\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Other counties\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad0\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.countyCrumbs.c1 ? this.state.countyCrumbs.c1.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.countyCrumbs.c2 ? this.state.countyCrumbs.c2.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 col-sm-4 col-xs-12\"\n    }, this.state.countyCrumbs.c3 ? this.state.countyCrumbs.c3.map(function (crumb, i) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: i,\n        style: {\n          display: \"block\"\n        },\n        href: crumb.url\n      }, crumb.name);\n    }) : \"\"))))))) : \"\");\n  }\n\n  render() {\n    const self = this;\n    let totalCount = 0;\n\n    if (Meteor.isClient && this.propsListHTML == \"\") {\n      this.propsListHTML = $('#props_list').html();\n    }\n\n    if (Meteor.isClient) {\n      this.isServerSSRReq = $('#isservercheckdiv').html();\n      if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n    } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded && self.state.auctions && self.state.properties ? this.mainAllPage() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.propsListHTML\n      }\n    }) : /*#__PURE__*/React.createElement(\"section\", {\n      className: \"mar-top-20 mar-btm-20 no-print\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center mar-top-20 pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter-holder\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: 'h2-div'\n    }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n  }\n\n}\n\n;\nvar startTime = Date.now();\nmodule.exportDefault(withTracker(() => {\n  var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n  function counties() {\n    var ret = [];\n\n    for (var i = 0; i < staticCounties.length; i++) {\n      if (!staticCounties[i]) continue;\n      ret.push({\n        label: titleCase(staticCounties[i]),\n        value: staticCounties[i]\n      });\n    }\n\n    return ret;\n  }\n\n  function areas() {\n    var distinctEntries = _.uniq(Collections.Areas.find({}, {\n      //Dynamically load areas based on the subscription.\n      sort: {\n        Area: 1\n      },\n      fields: {\n        Area: true\n      }\n    }).fetch().map(function (x) {\n      return x.Area;\n    }), true);\n\n    var ret = [];\n\n    for (var i = 0; i < distinctEntries.length; i++) {\n      if (!distinctEntries[i]) continue;\n      ret.push({\n        label: titleCase(distinctEntries[i]),\n        value: distinctEntries[i]\n      });\n    }\n\n    return ret;\n  }\n\n  function propertyTypes() {\n    var Config = Collections.Config.find().fetch();\n    Config = Config[0];\n    var propertyTypes = [];\n    if (Config) for (var i = 0; i < Config.propertyType.length; i++) {\n      propertyTypes.push({\n        label: titleCase(Config.propertyType[i].name),\n        value: Config.propertyType[i].value\n      });\n    }\n    return propertyTypes;\n  }\n\n  function areaSelected() {\n    var data = getSlugData();\n    var areaSelected = data.area;\n    if (areaSelected != false) return areaSelected;else {\n      var data = getSlugData();\n      return data.area;\n    }\n  }\n\n  function propertyTypeSelected() {\n    var data = getSlugData();\n    var propertyTypeSelected = data.propertyType;\n\n    if (propertyTypeSelected != false) {\n      propertyTypeSelected = propertyTypeSelected.toLowerCase();\n      return propertyTypeSelected;\n    } else {\n      var data = getSlugData();\n      propertyTypeSelected = data.propertyType;\n      propertyTypeSelected = propertyTypeSelected.toLowerCase();\n      return propertyTypeSelected;\n    }\n  }\n\n  function getPaginationData(totalResultsCount, currentPageNo, resultsPerPage) {\n    currentPageNo = parseInt(currentPageNo);\n    var pages = [],\n        prevPage = {},\n        nextPage = {};\n    var pgMin = currentPageNo - 4,\n        pgMax = currentPageNo + 5,\n        maxPages = Math.ceil(totalResultsCount / resultsPerPage);\n\n    if (!Number.isInteger(currentPageNo)) {\n      return {\n        \"prevPage\": prevPage,\n        \"pages\": pages,\n        \"nextPage\": nextPage\n      };\n    }\n\n    if (pgMin < 1) pgMin = 1;\n    if (pgMax < 1) pgMax = 1;\n    if (maxPages < 1) maxPages = 1;\n    if (pgMin > maxPages) currentPageNo = maxPages;\n    let tmp = {};\n    let href = '';\n    let cRoute = FlowRouter.current().route.name,\n        cParams = FlowRouter.current().params,\n        cQueryParams = FlowRouter.current().queryParams;\n\n    for (var i = pgMin; i <= maxPages; i++) {\n      cParams.pageno = i;\n      tmp = {\n        \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n        \"text\": i\n      };\n\n      if (i == currentPageNo) {\n        tmp['href'] = 'javascript:void(0);';\n        tmp['current'] = true;\n      }\n\n      pages.push(tmp);\n    }\n\n    var prevPageNo = currentPageNo - 1,\n        nextPageNo = currentPageNo + 1;\n\n    if (prevPageNo < 1) {\n      prevPage['href'] = 'javascript:void(0)';\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = prevPageNo;\n      prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), prevPage['prevPageNo'] = prevPageNo;\n      prevPage['text'] = 'Previous';\n      prevPage['disabled'] = '';\n    }\n\n    if (nextPageNo > maxPages) nextPageNo = maxPages;\n\n    if (nextPageNo == currentPageNo) {\n      nextPage['href'] = 'javascript:void(0)';\n      nextPage['text'] = 'Next';\n      nextPage['disabled'] = 'disabled';\n    } else {\n      cParams.pageno = nextPageNo;\n      nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams), nextPage['text'] = 'Next';\n      nextPage['nextPageNo'] = nextPageNo;\n      nextPage['disabled'] = '';\n    }\n\n    return {\n      \"prevPage\": prevPage,\n      \"pages\": pages,\n      \"nextPage\": nextPage\n    };\n  }\n\n  advancedCrumbs = function (countyParam, areaParam, propertyType) {\n    let fCrumbs = [],\n        tmpCrumbs = [],\n        areaCrumbs = [],\n        countyCrumbs = [];\n    if (propertyType) propertyType = propertyType.toLowerCase(); // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n    //Property Size\n    //Property Size - Property Type\n    //Property Size - Property Type - County\n    //Property Type - county\n    //Counties\n    //Areas\n    //Property Size - Property Type - area - County\n    //Property Size - area - County\n    //Property Type - area - county\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        propertyType: 'studio'\n      }),\n      name: 'Studios'\n    }); //Property Size\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1\n      }),\n      name: '1-Bed'\n    }); //Property Size\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2\n      }),\n      name: '2-Beds'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3\n      }),\n      name: '3-Beds'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        cheapSort: true,\n        propertyType: 'house'\n      }),\n      name: 'Cheap Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1,\n        propertyType: 'house'\n      }),\n      name: '1-Bed Houses'\n    }); //Property Size - Property Type\n\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2,\n        propertyType: 'house'\n      }),\n      name: '2-Bed Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3,\n        propertyType: 'house'\n      }),\n      name: '3-Bed Houses'\n    });\n    tmpCrumbs.push({\n      url: generateSlugURL({\n        luxurySort: true,\n        propertyType: 'house'\n      }),\n      name: 'Luxury Houses'\n    });\n\n    if (propertyType == 'house') {\n      fCrumbs = fCrumbs.concat(tmpCrumbs);\n    }\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        cheapSort: true,\n        propertyType: 'apartment'\n      }),\n      name: 'Cheap Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 1,\n        propertyType: 'apartment'\n      }),\n      name: '1-Bed Apartments'\n    }); //Property Size - Property Type\n\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 2,\n        propertyType: 'apartment'\n      }),\n      name: '2-Bed Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        bedCount: 3,\n        propertyType: 'apartment'\n      }),\n      name: '3-Bed Apartments'\n    });\n    fCrumbs.push({\n      url: generateSlugURL({\n        luxurySort: true,\n        propertyType: 'apartment'\n      }),\n      name: 'Luxury Apartments'\n    });\n\n    if (propertyType != 'house') {\n      fCrumbs = fCrumbs.concat(tmpCrumbs);\n    } //dublin-apartments\n    //Not doing dublin-houses due to less searches for Dublin apartments\n\n\n    for (var i = 0; i < staticCounties.length; i++) {\n      if (!staticCounties[i]) continue;\n      countyCrumbs.push({\n        url: generateSlugURL({\n          county: staticCounties[i]\n        }),\n        name: staticCounties[i] + ' Apartments'\n      });\n    }\n\n    if (countyParam) {\n      // var propertyType = curURL.propertyType;\n      // var county = curURL.county\n      // var area = curURL.area\n      // var maxRent = curURL.maxRent\n      // var country = curURL.country;\n      // var bedCount = curURL.bedCount;\n      // var luxurySort = curURL.luxurySort;\n      // var cheapSort = curURL.cheapSort;\n      //////////////////////////// WITH COUNTY\n      tmpCrumbs = [];\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          cheapSort: true,\n          propertyType: 'house',\n          county: countyParam\n        }),\n        name: 'Cheap Houses to rent in ' + titleCase(countyParam)\n      });\n\n      if (propertyType == 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      }\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          cheapSort: true,\n          propertyType: 'apartment',\n          county: countyParam\n        }),\n        name: 'Cheap Apartments to rent in ' + titleCase(countyParam)\n      });\n\n      if (propertyType != 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      }\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          propertyType: 'studio',\n          county: countyParam\n        }),\n        name: 'Studio to rent in ' + titleCase(countyParam)\n      });\n      tmpCrumbs = [];\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1,\n          propertyType: 'house',\n          county: countyParam\n        }),\n        name: '1-Bed Houses to rent in ' + titleCase(countyParam)\n      }); //Property Size - Property Type\n\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2,\n          propertyType: 'house',\n          county: countyParam\n        }),\n        name: '2-Bed Houses to rent in ' + titleCase(countyParam)\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3,\n          propertyType: 'house',\n          county: countyParam\n        }),\n        name: '3-Bed Houses to rent in ' + titleCase(countyParam)\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          luxurySort: true,\n          propertyType: 'house',\n          county: countyParam\n        }),\n        name: 'Luxury Houses to rent in ' + titleCase(countyParam)\n      });\n\n      if (propertyType == 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      }\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1,\n          propertyType: 'apartment',\n          county: countyParam\n        }),\n        name: '1-Bed Apartments to rent in ' + titleCase(countyParam)\n      }); //Property Size - Property Type\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2,\n          propertyType: 'apartment',\n          county: countyParam\n        }),\n        name: '2-Bed Apartments to rent in ' + titleCase(countyParam)\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3,\n          propertyType: 'apartment',\n          county: countyParam\n        }),\n        name: '3-Bed Apartments to rent in ' + titleCase(countyParam)\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          luxurySort: true,\n          propertyType: 'apartment',\n          county: countyParam\n        }),\n        name: 'Luxury Apartments to rent in ' + titleCase(countyParam)\n      });\n\n      if (propertyType != 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      }\n\n      if (areaParam) {\n        //////////////////////////// WITH AREA COUNTY\n        tmpCrumbs = [];\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            cheapSort: true,\n            propertyType: 'house',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: 'Cheap Houses to rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n\n        if (propertyType == 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            cheapSort: true,\n            propertyType: 'apartment',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: 'Cheap Apartments to rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n\n        if (propertyType != 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            propertyType: 'studio',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: 'Studio to rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n        tmpCrumbs = [];\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 1,\n            propertyType: 'house',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: '1-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        }); //Property Size - Property Type\n\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 2,\n            propertyType: 'house',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: '2-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 3,\n            propertyType: 'house',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: '3-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            luxurySort: true,\n            propertyType: 'house',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: 'Luxury Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n\n        if (propertyType == 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 1,\n            propertyType: 'apartment',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: '1-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        }); //Property Size - Property Type\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 2,\n            propertyType: 'apartment',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: '2-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 3,\n            propertyType: 'apartment',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: '3-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n        fCrumbs.push({\n          url: generateSlugURL({\n            luxurySort: true,\n            propertyType: 'apartment',\n            county: countyParam,\n            area: areaParam\n          }),\n          name: 'Luxury Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n        });\n\n        if (propertyType != 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n      }\n\n      var distinctEntries = _.uniq(Collections.Areas.find({}, {\n        //County: countyParam ; Dynamically load areas based on the subscription.\n        sort: {\n          Area: 1\n        },\n        fields: {\n          Area: true\n        }\n      }).fetch().map(function (x) {\n        return x.Area;\n      }), true);\n\n      areaCrumbs = [];\n\n      for (var i = 0; i < distinctEntries.length; i++) {\n        if (!distinctEntries[i]) continue; // if (distinctEntries[i] == areaParam) continue;//Don't show the same area in this list\n\n        areaCrumbs.push({\n          url: generateSlugURL({\n            county: countyParam,\n            area: distinctEntries[i]\n          }),\n          name: distinctEntries[i] + ' Apartments'\n        });\n      } // let ptypeString='';\n      // switch(propertyType){\n      //     case 'apartment': ptypeString = 'Apartments '; break;\n      //     case 'house': ptypeString = 'Houses '; break;\n      // }\n      // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'Studio for rent in county '+titleCase(PD.address.county)})\n      // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'1-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n      // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'2-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n      // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'3-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n\n    }\n\n    return {\n      fCrumbs: fCrumbs,\n      areaCrumbs: areaCrumbs,\n      countyCrumbs: countyCrumbs\n    };\n  };\n\n  var pageno = FlowRouter.getParam('pageno');\n  if (!pageno) pageno = 1;\n  var resperpage = 20;\n  var minBeds = FlowRouter.getQueryParam('minBeds');\n  if (!minBeds) minBeds = \"\";\n  var maxBeds = FlowRouter.getQueryParam('maxBeds');\n  if (!maxBeds) maxBeds = \"\";\n  var minRent = FlowRouter.getQueryParam('minRent');\n  if (!minRent) minRent = \"\";\n  var maxRent = FlowRouter.getQueryParam('maxRent');\n  if (!maxRent) maxRent = \"\";\n  var bedCount = FlowRouter.getQueryParam('bedCount');\n  if (!bedCount) bedCount = null;\n  var luxurySort = FlowRouter.getQueryParam('luxurySort');\n  if (!luxurySort) luxurySort = null;\n  var cheapSort = FlowRouter.getQueryParam('cheapSort');\n  if (!cheapSort) cheapSort = null;\n  var mostRecentSort = FlowRouter.getQueryParam('mostRecentSort');\n  if (!mostRecentSort) mostRecentSort = null;\n  var leastRecentSort = FlowRouter.getQueryParam('leastRecentSort');\n  if (!leastRecentSort) leastRecentSort = null;\n  var propertykey = FlowRouter.getQueryParam('propertykey');\n  if (!propertykey) propertykey = null;\n  var slug = FlowRouter.getParam('slug');\n  var query = FlowRouter.current().queryParams;\n  var current = FlowRouter.current();\n  var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams); // try{if(!slug)slug = FlowRouter.current().params.slug;}catch(e){}\n\n  if (!slug || slug.indexOf('-in-') == -1) {\n    return {\n      isSubsLoaded: false\n    }; // if( (Date.now() - startTime) < 1000 )\n    //     return {\n    //         isSubsLoaded : false\n    //     }\n    // // this.render('notFound');\n    // var prevRoute = {name: 'home',args:{scrollTo:0} }\n    // Session.set('prevRoute',prevRoute);\n    // FlowRouter.go('pagenotfound');\n    // return;\n  }\n\n  let sortBySelected = \"mRecent\";\n  var sortOptions = {\n    updatedAt: -1\n  };\n\n  if (luxurySort) {\n    sortBySelected = \"descRent\";\n    sortOptions = {\n      rentMonthly: -1\n    };\n  } else if (cheapSort) {\n    sortBySelected = \"ascRent\";\n    sortOptions = {\n      rentMonthly: 1\n    };\n  } else if (mostRecentSort) {\n    sortBySelected = \"mRecent\";\n    sortOptions = {\n      updatedAt: -1\n    };\n  } else if (leastRecentSort) {\n    sortBySelected = \"lRecent\";\n    sortOptions = {\n      updatedAt: 1\n    };\n  }\n\n  const bLettingsSub = Meteor.subscribe(\"browseLettings\", {\n    viewName: 'browseLettings.view',\n    slug: slug,\n    pageno: pageno,\n    resperpage: resperpage,\n    query: query,\n    propertykey: propertykey\n  }, function () {\n    if (bLettingsSub.ready() && areasSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  });\n  Meteor.subscribe(\"total-houses-for-rent-count\", {\n    viewName: 'browseLettings.view',\n    slug: slug,\n    pageno: pageno,\n    resperpage: resperpage,\n    query: query,\n    propertykey: propertykey\n  });\n\n  if (Meteor.isServer) {\n    if (countsCollection == null) countsCollection = new Mongo.Collection('counts');\n\n    Counts.get = function countsGet(name) {\n      const count = countsCollection.findOne(name);\n      return count && count.count || 0;\n    };\n\n    Counts.has = function countsHas(name) {\n      return !!countsCollection.findOne(name);\n    };\n\n    totalCount = Counts.get(\"total-houses-for-rent-count\");\n  } else {\n    totalCount = Counts.get(\"total-houses-for-rent-count\");\n  }\n\n  var slugData = getSlugData();\n  var countySelected = slugData.county;\n  Meteor.subscribe('userData');\n  const areasSub = Meteor.subscribe('Areas', '', '', countySelected, '', '', function () {\n    if (bLettingsSub.ready() && areasSub.ready() && Meteor.isClient) Session.set('subscriptionsReady', true);\n  });\n  Meteor.subscribe('Config');\n  if (Meteor.isClient) Session.get('subscriptionsReady');\n\n  if (!bLettingsSub.ready() || !areasSub.ready()) {\n    return {\n      isSubsLoaded: false\n    };\n  } ////////// ADV BREADCRUMBS MORE LINKS\n\n\n  let advC = {\n    fCrumbs: [],\n    areaCrumbs: [],\n    countyCrumbs: []\n  };\n\n  if (true) {\n    advC = advancedCrumbs(slugData.county, slugData.area, slugData.propertyType);\n  } ////////// END ADV BREADCRUMBS\n\n\n  var title = ''; //slug.replace(/[-_]/g,' ')\n\n  title += slugData.propertyType ? slugData.propertyType + \" for\" : '';\n  title += title ? ' rent in' : 'Rent in';\n  title += slugData.area ? ' ' + slugData.area + \"\" : '';\n  title += slugData.county ? ' ' + slugData.county + \"\" : '';\n  title += ' Ireland';\n  var description = \"\";\n  description = 'Find';\n  description += slugData.propertyType ? ' an ' + slugData.propertyType + \" for\" : '';\n  description += ' rent in';\n  description += slugData.area ? ' ' + slugData.area + \"\" : '';\n  description += slugData.county ? ' ' + slugData.county + \"\" : '';\n  description += ' Ireland.';\n  description += \" Browse through the apartments, houses, studios, 1 bed, 2 bed, 3 bed rooms available to rent in Ireland.\"; // Find an apartment for rent in Ireland. Browse through the studio, apartments, houses, 1 bed, 2 bed, 3 bed rooms available to rent in Ireland.\n  // Found total 32 apartment for rent in Ireland. Browse through the studio, apartments, houses, 1 bed, 2 bed, 3 bed rooms available to rent in Ireland. Choose county and area from the top right drop-down options. Click view details button by the apartment to know more about it. Use the navigation below to find more apartment for rent in Ireland.\n\n  clearMeta();\n  let titleTmp = title + ' | SpotMyCrib';\n  if (titleTmp.length <= 75) title = titleTmp;\n  DocHead.setTitle(title);\n  DocHead.addMeta({\n    name: \"description\",\n    content: description\n  });\n  return {\n    // currentUserId: Meteor.userId(),\n    counties: counties(),\n    totalCount: totalCount,\n    pagination: getPaginationData(totalCount, pageno, 20),\n    pageno: pageno,\n    areas: areas(),\n    propertyTypes: propertyTypes(),\n    auctions: Collections.Auctions.find({}, {\n      sort: sortOptions\n    }).fetch(),\n    properties: Collections.Properties.find().fetch(),\n    areaSelected: areaSelected(),\n    countySelected: countySelected,\n    propertyTypeSelected: propertyTypeSelected(),\n    isSubsLoaded: true,\n    slug: slug,\n    fCrumbs: advC.fCrumbs,\n    areaCrumbs: advC.areaCrumbs,\n    countyCrumbs: advC.countyCrumbs,\n    minRentSelected: slugData.minRent,\n    maxRentSelected: slugData.maxRent,\n    minBedCountSelected: slugData.minBeds,\n    maxBedCountSelected: slugData.maxBeds,\n    sortBySelected: sortBySelected\n  };\n})(HousesForrent));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"LettingDetail.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/pages/LettingDetail.jsx                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (module1) {\n  let Meteor;\n  module1.link(\"meteor/meteor\", {\n    Meteor(v) {\n      Meteor = v;\n    }\n\n  }, 0);\n  let React, Component;\n  module1.link(\"react\", {\n    default(v) {\n      React = v;\n    },\n\n    Component(v) {\n      Component = v;\n    }\n\n  }, 1);\n  let ReactDOM;\n  module1.link(\"react-dom\", {\n    default(v) {\n      ReactDOM = v;\n    }\n\n  }, 2);\n  let withTracker;\n  module1.link(\"meteor/react-meteor-data\", {\n    withTracker(v) {\n      withTracker = v;\n    }\n\n  }, 3);\n  let MainLayoutFooter;\n  module1.link(\"../layout/MainLayoutFooter.jsx\", {\n    default(v) {\n      MainLayoutFooter = v;\n    }\n\n  }, 4);\n  let MainLayoutHeader;\n  module1.link(\"../layout/MainLayoutHeader.jsx\", {\n    default(v) {\n      MainLayoutHeader = v;\n    }\n\n  }, 5);\n  let Collections;\n  module1.link(\"../../api/collections\", {\n    Collections(v) {\n      Collections = v;\n    }\n\n  }, 6);\n  let isArray;\n  module1.link(\"util\", {\n    isArray(v) {\n      isArray = v;\n    }\n\n  }, 7);\n  updateViewsCalled = false;\n  propertyKeyOfThisPage = '';\n  if (Meteor.isClient) Session.set('subscriptionsReady', false);\n  if (Meteor.isClient) Session.set('subscriptionsReady2', false);\n\n  function titleCase(str) {\n    if (!str) return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n  }\n\n  function dateFormat(text) {\n    var date = new Date(text);\n    if (date.toString() == \"Invalid Date\") return 'N/A';\n    return date.toDateString();\n  }\n\n  function addCommaToEach(arr) {\n    if (!arr) return '';\n    return arr.join(', ');\n  }\n\n  function nlToBr(str) {\n    if (!str) return '';\n    return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n  }\n\n  function validateMobileNumber(mobile) {\n    let tmp = mobile.split('+');\n    if (tmp.length > 1) mobile = tmp[1];\n    if (mobile.length < 6) return false;\n    return /^\\d+$/.test(mobile);\n  }\n\n  function attachEvents() {\n    $(\".confirmApplyBtn\").unbind().bind(\"click\", function () {\n      ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n    });\n    $(\".redirectToProfilePage\").unbind().bind(\"click\", function () {\n      redirectToProfilePageEvent();\n    });\n    $(\".pd_cap_btn\").unbind().bind(\"click\", function () {\n      console.log('pd_cap_btn');\n      ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n      redirectToProfilePageEvent();\n    });\n    $(\".pd_cap_a\").unbind().bind(\"click\", function () {\n      console.log('pd_cap_a');\n      ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n      redirectToProfilePageEvent();\n    });\n    $(\".cap_closePopupBtn\").unbind().bind(\"click\", function () {\n      console.log('cap_closePopupBtn');\n      ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n      closePopupEvent();\n    });\n  }\n\n  function showConfDialog() {\n    $.fancybox({\n      'padding': 0,\n      'href': '#fully-confirm',\n      afterShow: function () {\n        attachEvents();\n      },\n      afterClose: function (template) {}\n    });\n  }\n\n  function redirectToProfilePageEvent() {\n    var prevRoute = {\n      name: FlowRouter.current().route.name,\n      args: {\n        key: FlowRouter.current().params.key\n      }\n    };\n    Session.set('prevRoute', prevRoute);\n    FlowRouter.go(\"account/profile\");\n    closePopupEvent();\n  }\n\n  function closePopupEvent() {\n    if ($) if ($.fancybox) $.fancybox.close();\n  }\n\n  function generateSlug(curURL) {\n    var propertyType = curURL.propertyType;\n    var county = curURL.county;\n    var area = curURL.area;\n    var maxRent = curURL.maxRent;\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort; // const territory = target.territory.value;\n\n    var slug = '';\n    var query = {};\n    if (propertyType) propertyType = propertyType.replace(/\\s+/g, '_');\n    if (county) county = county.replace(/\\s+/g, '_');\n    if (area) area = area.replace(/\\s+/g, '_');\n    if (country) country = country.replace(/\\s+/g, '_');\n    if (propertyType) slug = propertyType + \"-for-\";\n    slug += \"rent\"; // if(areaSelected||countySelected||country)\n\n    slug += \"-in-\";\n    if (!county) area = '';\n    if (area) slug += area;\n    if (area && county) slug += \"-\";\n    if (county) slug += county;\n    if (bedCount) query.bedCount = bedCount;\n    if (luxurySort) query.luxurySort = 1;\n    if (cheapSort) query.cheapSort = 1;\n    if (country) slug += \"-\" + country;else slug += \"-ireland\";\n    var range = [{\n      cur: \"eur\",\n      min: 400,\n      max: 10000\n    }];\n    var selectedCur = range[0];\n    if (maxRent && maxRent != selectedCur.max) query.maxRent = maxRent; // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n\n    return [slugify(slug), query];\n  }\n\n  function generateSlugURL(curURL) {\n    var ret = generateSlug(curURL);\n    return FlowRouter.url('b', {\n      slug: ret[0]\n    }, ret[1]);\n  }\n\n  function slugify(text) {\n    if (!text) return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/,:;';\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n    const p = new RegExp(a.split('').join('|'), 'g');\n    return text.toString().toLowerCase().replace(/\\s+/g, '') // Replace spaces with \"\"\n    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n    .replace(/&/g, '-and-') // Replace & with ''\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single ''\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n  }\n\n  function showLoginDialog() {\n    Session.set('showForgotForm', false);\n    Session.set('showSignupForm', false);\n    Session.set('showLoginSignupFancyBoxDialog', true);\n    Session.set('showLoginDialog', true);\n  }\n\n  function fixImageSize() {\n    var avgW = 0;\n    $('#relatedsection .thumbnail img').each(function () {\n      if (!avgW) avgW = $(this).width();else {\n        avgW += $(this).width();\n        avgW = avgW / 2;\n      }\n    });\n    if (!avgW) avgW = 250;\n    $('#relatedsection .thumbnail img').width('100%');\n    $('#relatedsection .thumbnail img').height(avgW * 0.7);\n  }\n\n  function chunkify(a, n, balanced) {\n    if (n < 2) return [a];\n    if (!Array.isArray(a)) return [];\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n      size = Math.floor(len / n);\n\n      while (i < len) {\n        out.push(a.slice(i, i += size));\n      }\n    } else if (balanced) {\n      while (i < len) {\n        size = Math.ceil((len - i) / n--);\n        out.push(a.slice(i, i += size));\n      }\n    } else {\n      n--;\n      size = Math.floor(len / n);\n      if (len % size === 0) size--;\n\n      while (i < size * n) {\n        out.push(a.slice(i, i += size));\n      }\n\n      out.push(a.slice(size * n));\n    }\n\n    return out;\n  }\n\n  function autoExpandDelayed() {\n    setTimeout(autoExpand, 500);\n  }\n\n  function autoExpand() {\n    let field = $('#bidMessage')[0];\n    if (!field) return; // Reset field height\n\n    field.style.height = 'inherit'; // Get the computed styles for the element\n\n    var computed = window.getComputedStyle(field); // Calculate the height\n\n    var height = parseInt(computed.getPropertyValue('border-top-width'), 10) + parseInt(computed.getPropertyValue('padding-top'), 10) + field.scrollHeight + parseInt(computed.getPropertyValue('padding-bottom'), 10) + parseInt(computed.getPropertyValue('border-bottom-width'), 10);\n    field.style.height = height - 20 + 'px'; //adding -40 due to the result of test case that its causing too much space extra in a normal way, may be due to font size, line height etc.\n  }\n\n  ;\n  isApplySuccessfulOpen = false;\n\n  function showApplySuccessfulDialog() {\n    // console.log(\"Apply showApplySuccessfulDialog\")\n    $.fancybox({\n      'padding': 0,\n      'href': '#apply-successful-popup',\n      afterShow: function () {\n        isApplySuccessfulOpen = true;\n      },\n      afterClose: function () {\n        isApplySuccessfulOpen = false;\n      }\n    });\n  }\n\n  class LettingDetail extends Component {\n    constructor(props) {\n      super(props);\n      var current = FlowRouter.current();\n      this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n      var searchCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var fCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var areaCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var countyCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n\n      if (props.data) {\n        if (props.data.searchCrumbs) {\n          var chunks = chunkify(props.data.searchCrumbs, 3, true);\n          searchCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n\n        if (props.data.fCrumbs) {\n          var chunks = chunkify(props.data.fCrumbs, 3, true);\n          fCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n\n        if (props.data.areaCrumbs) {\n          var chunks = chunkify(props.data.areaCrumbs, 3, true);\n          areaCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n\n        if (props.data.countyCrumbs) {\n          var chunks = chunkify(props.data.countyCrumbs, 3, true);\n          countyCrumbs = {\n            c1: chunks[0],\n            c2: chunks[1],\n            c3: chunks[2]\n          };\n        }\n      }\n\n      this.state = {\n        isApplicationInProgress: false,\n        'searchCrumbs': searchCrumbs,\n        fCrumbs: fCrumbs,\n        areaCrumbs: areaCrumbs,\n        countyCrumbs: countyCrumbs,\n        personalMessage: \"\"\n      };\n      this.searchCrumbsLoaded = false;\n      this.applyNowBtnHandler = this.applyNowBtnHandler.bind(this);\n      this.redirectToProfilePageHandler = this.redirectToProfilePageHandler.bind(this);\n      this.confirmApplyBtnHandler = this.confirmApplyBtnHandler.bind(this);\n      this.cap_closePopupBtnHandler = this.cap_closePopupBtnHandler.bind(this);\n      this.cap_viewSimilarLettingsBtnHandler = this.cap_viewSimilarLettingsBtnHandler.bind(this);\n      this.backBtnHandler = this.backBtnHandler.bind(this);\n      this.noPropBackBtnHandler = this.noPropBackBtnHandler.bind(this);\n      this.pd_cap_btnHandler = this.pd_cap_btnHandler.bind(this);\n      this.pd_cap_aHandler = this.pd_cap_aHandler.bind(this);\n      this.headerApplyNowBtnHandler = this.headerApplyNowBtnHandler.bind(this);\n      this.mainUploadRefBtnHandler = this.mainUploadRefBtnHandler.bind(this);\n      this.mainUpdateRefBtnHandler = this.mainUpdateRefBtnHandler.bind(this);\n      this.mainApplyNowBtnHandler = this.mainApplyNowBtnHandler.bind(this);\n      this.createAlertBtnHandler = this.createAlertBtnHandler.bind(this);\n      updateViewsCalled = false;\n      this.propsListHTML = '';\n      this.isServerSSRReq = '';\n      this.handlePersonalMessageChange = this.handlePersonalMessageChange.bind(this);\n    }\n\n    backBtnHandler() {\n      var prevRoute = Session.get('prevRoute');\n\n      if (prevRoute) {\n        FlowRouter.go(prevRoute.name, prevRoute.args);\n        Session.set('prevRoute', false);\n      } else {\n        FlowRouter.go(\"/account/myproperies/\", {\n          pageno: 1\n        });\n      }\n    }\n\n    noPropBackBtnHandler() {\n      var prevRoute = Session.get('prevRoute');\n\n      if (prevRoute) {\n        FlowRouter.go(prevRoute.name, prevRoute.args);\n        Session.set('prevRoute', false);\n      } else {\n        FlowRouter.go(\"home\");\n      }\n    }\n\n    cap_closePopupBtnHandler() {\n      console.log('cap_closePopupBtn');\n      ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n      closePopupEvent();\n    }\n\n    cap_viewSimilarLettingsBtnHandler() {\n      console.log('cap_viewSimilarLettingsBtnHandler');\n      ga('send', 'event', 'PDPage', 'CAPViewSimilarLettingsBtn', 'CAP: View Simiar Lettings Btn Clicked'); //CAP: Confirm Apply Popup\n\n      closePopupEvent();\n      var element = document.getElementById(\"relatedsection\");\n      element.scrollIntoView();\n    }\n\n    redirectToProfilePageHandler() {\n      redirectToProfilePageEvent();\n    }\n\n    handlePersonalMessageChange(event) {\n      this.setState({\n        personalMessage: event.target.value\n      });\n      autoExpandDelayed();\n    }\n\n    confirmApplyBtnHandler() {\n      console.log('confirmApplyBtn');\n      ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n      var auctionId = this.props.data._id;\n      var price = $('#bidPrice').val();\n      price = parseInt(price);\n\n      if (isNaN(price)) {\n        alert(\"Please enter a valid offer price.\");\n        return;\n      } // var bidMessage = $('#bidMessage').val();\n\n\n      var bidMessage = this.state.personalMessage;\n      bidMessage = bidMessage.substring(0, 500);\n      var min = this.props.data.price * 0.7,\n          max = this.props.data.price * 1.5;\n\n      if (!auctionId) {\n        console.log(\"invalid data\");\n        return;\n      }\n\n      if (price < min || price > max) {\n        alert(\"Offer price should be between \" + min + \" and \" + max + \". Please adjust your offer price again.\");\n        return;\n      } // debugger;\n\n\n      this.setState({\n        isApplicationInProgress: true\n      });\n\n      this.placeBidCallback = function (error, result) {\n        this.setState({\n          isApplicationInProgress: false\n        });\n\n        if (error) {\n          console.log(error);\n          var tmp = Session.get(\"showErrorDlg\");\n          if (!tmp) tmp = [];\n          tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n          Session.set(\"showErrorDlg\", tmp);\n          return;\n        }\n\n        if (result.status == 'Success') {\n          console.log(\"Success\");\n          closePopupEvent(); //Dont close it, instead show the successful part of that dialog\n\n          setTimeout(showApplySuccessfulDialog, 500);\n          setTimeout(function () {\n            if (!isApplySuccessfulOpen) showApplySuccessfulDialog();\n          }, 1500);\n          setTimeout(function () {\n            if (!isApplySuccessfulOpen) showApplySuccessfulDialog();\n          }, 3000);\n        }\n      };\n\n      this.placeBidCallback = this.placeBidCallback.bind(this);\n      Meteor.call('placeBid', [auctionId, price, bidMessage], this.placeBidCallback);\n      var user = Accounts.user();\n      if (user) if (user.profile) if (!user.profile.mobile) {\n        let mobile = false,\n            isValid = false;\n        mobile = prompt(\"You don't have a mobile number attached to your profile. Please enter mobile to proceed. \");\n        let tmp = mobile.split('+');\n        if (tmp.length > 1) mobile = tmp[1];\n        if (validateMobileNumber(mobile)) isValid = true;\n\n        while (!isValid) {\n          //This is an un limited loop of mobile number.\n          mobile = prompt(\"Error! invalid format. Please enter mobile number in format +353 893456789.\");\n          if (validateMobileNumber(mobile)) isValid = true;\n        } // if(/^\\d{10}$/.test(mobile)) {\n\n\n        if (isValid) {\n          Meteor.call('updateMobile', mobile, function (error, result) {\n            if (error) {\n              console.log(error.error);\n              var tmp = Session.get(\"showErrorDlg\");\n              var msg = 'Mobile number update failed. Please try again. Contact us if needed.';\n              tmp.push(msg);\n              Session.set(\"showErrorDlg\", tmp);\n              return;\n            }\n          });\n        }\n      }\n    }\n\n    applyNowBtnHandler(event) {\n      // Prevent default browser form submit\n      if (event) event.preventDefault();\n      console.log(\"Apply now btn clicked\");\n\n      if (!this.props.user) {\n        Session.set('loginFromApplyNowBtn', true);\n        showLoginDialog();\n        return;\n      } // if(user._id == this._createdByAgent ){\n      //     console.log(\"Owner cannot apply for the house.\");\n      //     return;\n      // }\n      //Do mobile verification\n\n\n      if (this.props.user.profile) if (this.props.user.profile.personalMessage && !this.state.personalMessage) {\n        //Do this only if the current sessions personal message is empty\n        this.setState({\n          personalMessage: this.props.user.profile.personalMessage\n        });\n      }\n\n      if (this.props.myBid) {\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        tmp.push(\"Error: You have an existing application, please refresh the page.\");\n        Session.set(\"showErrorDlg\", tmp);\n        console.log(\"Already has a bid\");\n        return;\n      }\n\n      this.afterCFun = function () {\n        attachEvents();\n        setTimeout(function () {\n          $('#bidPrice').focus().select();\n          autoExpandDelayed();\n        }, 500);\n      };\n\n      this.afterCFun = this.afterCFun.bind(this);\n      $.fancybox({\n        'padding': 0,\n        'href': '#confirm-apply-pop',\n        afterShow: this.afterCFun,\n        afterClose: function () {}\n      });\n    }\n\n    headerApplyNowBtnHandler() {\n      console.log('headerApplyNowBtn');\n      ga('send', 'event', 'PDPage', 'HeaderApplyNowBtnClicked', 'Header: Apply now Btn Clicked');\n      this.applyNowBtnHandler();\n    }\n\n    mainApplyNowBtnHandler(event) {\n      console.log('mainApplyNowBtn');\n      ga('send', 'event', 'PDPage', 'ApplyNowBtnClicked', 'Main: Apply now Btn Clicked');\n      this.applyNowBtnHandler(event);\n    }\n\n    pd_cap_btnHandler(event) {\n      if (event) event.preventDefault();\n      console.log('pd_cap_btn');\n      ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n      redirectToProfilePageEvent();\n    }\n\n    pd_cap_aHandler(event) {\n      if (event) event.preventDefault();\n      console.log('pd_cap_a');\n      ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n      redirectToProfilePageEvent();\n    }\n\n    mainUploadRefBtnHandler() {\n      console.log('mainUploadRefBtn');\n      ga('send', 'event', 'PDPage', 'UploadRefBtnClicked', 'Main: Upload Reference Btn Clicked');\n      redirectToProfilePageEvent();\n    }\n\n    mainUpdateRefBtnHandler() {\n      console.log('mainUpdateRefBtn');\n      ga('send', 'event', 'PDPage', 'UpdateRefBtnClicked', 'Main: Update Reference Btn Clicked');\n      redirectToProfilePageEvent();\n    }\n\n    createAlertBtnHandler() {\n      console.log('createAlertBtnHandler');\n      ga('send', 'event', 'PDPage', 'createAlertBtnClicked', 'Main: Create Alert Btn Clicked');\n      Session.set('showCreateAlertPopup', true);\n    }\n\n    componentDidMount() {\n      $(document).ready(function () {\n        $('.scroll-menu-div').hide();\n        $(window).on(\"scroll\", function () {\n          var scrollPercent = 100 * $(window).scrollTop() / ($(document).height() - $(window).height());\n\n          if (scrollPercent > 10) {\n            $('.scroll-menu-div').fadeIn();\n            $(\".scroll-menu-div\").addClass('fixed-header');\n          } else {\n            $('.scroll-menu-div').hide();\n            $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n          }\n        });\n        setTimeout(function () {\n          try {\n            jQuery(\"html,body\").animate({\n              scrollTop: 0\n            }, 250);\n          } catch (e) {\n            document.body.scrollTop = document.documentElement.scrollTop = 0;\n          }\n\n          $('.scroll-menu-div').hide();\n          $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n        }, 500);\n      });\n      setTimeout(fixImageSize, 1000);\n      setTimeout(fixImageSize, 3000);\n      setTimeout(fixImageSize, 5000); // setTimeout(function(){addthis.init();addthis.layers.refresh();},5000)\n\n      $(window).resize(fixImageSize);\n      $(window).resize(autoExpandDelayed);\n    }\n\n    componentDidUpdate() {\n      setTimeout(fixImageSize, 1000);\n      setTimeout(fixImageSize, 3000);\n      setTimeout(fixImageSize, 5000);\n\n      if (this.props.data && !updateViewsCalled) {\n        updateViewsCalled = true;\n        Meteor.call('updateViews', this.props.data._id);\n      }\n\n      if (propertyKeyOfThisPage && this.props.data.lettingAuctionCode) {\n        if (this.props.data.lettingAuctionCode != propertyKeyOfThisPage) {\n          //lettingAuctionCode changed, means page is changed\n          //Constructor elements needs to be called again\n          updateViewsCalled = true;\n          Meteor.call('updateViews', this.props.data._id);\n          this.setState({\n            isApplicationInProgress: false,\n            personalMessage: \"\"\n          });\n          this.searchCrumbsLoaded = false;\n          Session.set('subscriptionsReady2', false);\n          propertyKeyOfThisPage = this.props.data.lettingAuctionCode;\n          setTimeout(function () {\n            try {\n              jQuery(\"html,body\").animate({\n                scrollTop: 0\n              }, 250);\n            } catch (e) {\n              document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n          }, 500);\n        }\n      }\n    }\n\n    componentWillReceiveProps(props) {\n      var searchCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var fCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var areaCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n      var countyCrumbs = {\n        c1: [],\n        c2: [],\n        c3: []\n      };\n\n      if (props.data.searchCrumbs != this.state.searchCrumbs) {\n        var chunks = chunkify(props.data.searchCrumbs, 3, true);\n        searchCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        }; // console.log('in the setState for searchCrumbs')\n\n        this.setState({\n          'searchCrumbs': searchCrumbs\n        });\n      }\n\n      if (props.data.fCrumbs != this.state.fCrumbs) {\n        var chunks = chunkify(props.data.fCrumbs, 3, true);\n        fCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        }; // console.log('in the setState for fCrumbs')\n\n        this.setState({\n          fCrumbs: fCrumbs\n        });\n      }\n\n      if (props.data.areaCrumbs != this.state.areaCrumbs) {\n        var chunks = chunkify(props.data.areaCrumbs, 3, true);\n        areaCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        }; // console.log('in the setState for areaCrumbs')\n\n        this.setState({\n          areaCrumbs: areaCrumbs\n        });\n      }\n\n      if (props.data.countyCrumbs != this.state.countyCrumbs) {\n        var chunks = chunkify(props.data.countyCrumbs, 3, true);\n        countyCrumbs = {\n          c1: chunks[0],\n          c2: chunks[1],\n          c3: chunks[2]\n        }; // console.log('in the setState for countyCrumbs')\n\n        this.setState({\n          countyCrumbs: countyCrumbs\n        });\n      }\n    } // currentURL:function () {\n    //     return Router.current().originalUrl;\n    // },\n\n\n    isCurUserBid() {\n      //todo: test this\n      debugger;\n      if (!this.props.user) return false;\n      if (this.userId == user._id) return true;\n      return false;\n    }\n\n    renderMain() {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"scroll-menu-div\",\n        style: {\n          zIndex: '1000'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"scroll-menu\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"left-menu\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + \"#imagessection\",\n        className: \"active scroll1\"\n      }, \"PHOTOS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + \"#detailssection\",\n        className: \"scroll1\"\n      }, \"DETAILS\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + \"#amenitiessection\",\n        className: \"scroll1\"\n      }, \"AMENITIES\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"right-menu\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"left-line\"\n      }, /*#__PURE__*/React.createElement(\"p\", null, \"Applications received\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"pad-btm-0 text-center\"\n      }, this.props.data.applicationsReceivedCount)), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"left-line\"\n      }, /*#__PURE__*/React.createElement(\"p\", null, \"Owner's Current Rent\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"pad-btm-0 text-center\"\n      }, \"\\u20AC \", this.props.data.price + \" (\" + this.props.data.rentType + \")\")), /*#__PURE__*/React.createElement(\"li\", null, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + '#relatedsection',\n        className: \"green-btn  btns\",\n        type: \"button\"\n      }, \"View similar lettings\") : this.props.myBid ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"green-btn  btns viewMyApplication\",\n        type: \"button\"\n      }, \"Already applied\") : /*#__PURE__*/React.createElement(\"buttons\", {\n        onClick: this.headerApplyNowBtnHandler,\n        className: \"blue-btn btns headerApplyNowBtn applyNowBtn\"\n      }, \"Apply for this \", this.props.PD.type))))))), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"banner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"imagessection\",\n        className: \"col-md-7 padding0\"\n      }, /*#__PURE__*/React.createElement(\"figure\", null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"banner-holder\"\n      }, /*#__PURE__*/React.createElement(ImagesSlider, {\n        images: this.props.sliderImages\n      })), this.props.isAgent ? /*#__PURE__*/React.createElement(\"figcaption\", null, /*#__PURE__*/React.createElement(\"h2\", null, this.props.isAgent.name), /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          padding: 0\n        }\n      }, this.props.isAgent.address1)) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-5 purva-bg\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"purva\"\n      }, this.props.isAgent ? /*#__PURE__*/React.createElement(\"img\", {\n        src: this.props.isAgent.logourl,\n        alt: this.props.isAgent.name,\n        style: this.props.isAgent.style\n      }) : \"\", /*#__PURE__*/React.createElement(\"h1\", null, titleCase(this.props.PD.address.address), this.props.PD.address.area ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.area)) : '', this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : ''), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          marginBottom: '10px'\n        }\n      }, titleCase(this.props.PD.type), \" to rent in \", titleCase(this.props.PD.address.area), this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : '', \". Its \", this.props.PD.furnished ? \"a furnished\" : \"an Unfurnished\", \" \", titleCase(this.props.PD.type), \" with \", this.props.PD.bedroomsCount, \" beds, \", this.props.PD.baths, \" baths, \", this.props.PD.ensuiteCount ? this.props.PD.ensuiteCount : \"no\", \" Ensuite and \", this.props.PD.doubleBedCount ? this.props.PD.doubleBedCount : \"has no\", \" Double bed property/accommodation, your next my home. \", this.props.isAgent ? /*#__PURE__*/React.createElement(\"span\", null, \"Its posted by \", this.props.isAgent.name, \".\") : \"\", \" Click apply below to send your interest to the landlord and he would contact you soon. \"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: '#b3b3b3'\n        }\n      }, \"Views\"), \" :  \", this.props.data.views)), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('howitworks')\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: '#39b54a',\n          fontFamily: '\"montserratregular\"',\n          padding: 0\n        }\n      }, \"How it works?\"))), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('contactus')\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          color: '#39b54a',\n          fontFamily: '\"montserratregular\"',\n          padding: 0\n        }\n      }, \"Need help?\")))), /*#__PURE__*/React.createElement(\"p\", null, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"purva-developer\"\n      }, /*#__PURE__*/React.createElement(\"h5\", null, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: '#b3b3b3'\n        }\n      }, \"Owner's Current Rent :\"), \"\\u20AC \", this.props.data.price + \" (\" + this.props.data.rentType + \")\")), this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontFamily: '\"montserratregular\"'\n        }\n      }, \"This property is already leased. Please use one of the options below.\") : \"\", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"purva-btns\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + '#relatedsection',\n        className: \"green-btn  btns\",\n        type: \"button\"\n      }, \"View similar lettings\"), /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + '#searchsection',\n        className: \"transparent-btn btns mar-left-10\",\n        type: \"button\"\n      }, \"Search More\")) : this.props.myBid ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"green-btn  btns viewMyApplication\",\n        type: \"button\"\n      }, \"Already applied\"), this.hasAllReqReferences ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparent-btn btns mainUpdateRefBtn mar-left-10\",\n        onClick: this.mainUpdateRefBtnHandler,\n        type: \"button\",\n        title: \"View your references\"\n      }, \"Update references\") : /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparent-btn btns mainUploadRefBtn mar-left-10\",\n        onClick: this.mainUploadRefBtnHandler,\n        type: \"button\",\n        title: \"You dont have all your references updated in your profile. Missing files are  {addCommaToEach(this.props.refListArr)}\"\n      }, \"Upload references\")) : /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"buttons\", {\n        onClick: this.mainApplyNowBtnHandler,\n        className: \"blue-btn btns mainApplyNowBtn applyNowBtn\"\n      }, \"Apply for this \", this.props.PD.type), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"hidden-xs\"\n      }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"visible-xs\",\n        style: {\n          height: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", null)), this.hasAllReqReferences ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparent-btn btns mainUpdateRefBtn\",\n        onClick: this.mainUpdateRefBtnHandler,\n        type: \"button\",\n        title: \"View your references\"\n      }, \"Update references\") : /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparent-btn btns mainUploadRefBtn\",\n        onClick: this.mainUploadRefBtnHandler,\n        type: \"button\",\n        title: \"You dont have all your references updated in your profile. Missing files are  \" + addCommaToEach(this.props.refListArr)\n      }, \"Upload references\")), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"hidden-xs\"\n      }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"visible-xs\",\n        style: {\n          height: 1\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"green-btn btns\",\n        onClick: this.createAlertBtnHandler,\n        type: \"button\",\n        title: \"Be the first to hear about the latest lettings in your area. Signup for our email alerts.\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-bell\"\n      }), \" Create Alert\"))))))))), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"main-sec\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"detailssection\",\n        className: \"border mar-btm-20 background-white\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head-border-bottom head-border-bottomTitleArea\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Details\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"developer proj-dtls \"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-9\"\n      }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-inline\"\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: true\n      }, /*#__PURE__*/React.createElement(\"h3\", null, \"Rent type\"), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"pad-btm-0\"\n      }, titleCase(this.props.data.rentType))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"left-line\"\n      }, /*#__PURE__*/React.createElement(\"h3\", null, \"Available from\"), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"pad-btm-0\"\n      }, dateFormat(this.props.data.readyFrom))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"left-line\"\n      }, /*#__PURE__*/React.createElement(\"h3\", null, \"Available until\"), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"pad-btm-0\"\n      }, this.props.data.lease))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"project-detail\"\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"bdr-btm\"\n      }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"color-grey\"\n      }, \"Location\"), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"heading-reg\"\n      }, \" \", titleCase(this.props.PD.address.address), \", \", titleCase(this.props.PD.address.area), \", \", titleCase(this.props.PD.address.county))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pad-left-35\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"color-grey\"\n      }, \"BER\"), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"heading-reg\"\n      }, \" \", addCommaToEach(this.props.PD.BER)))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-top-20 \"\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"heading-reg\"\n      }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-grey pad-btm-10\",\n        dangerouslySetInnerHTML: {\n          __html: nlToBr(this.props.PD.about)\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-3\"\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"heading-reg\"\n      }, \"Bedrooms : \", this.props.PD.bedroomsCount), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"handed-proj-bg clearfix\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6\"\n      }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, this.props.PD.doubleBedCount), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"pad-btm-0\"\n      }, \"Double\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6\",\n        style: {\n          padding: 0\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"left-line\"\n      }, /*#__PURE__*/React.createElement(\"h3\", null, this.props.PD.ensuiteCount), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"pad-btm-0\"\n      }, \"Ensuite\")))), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"heading-reg mar-top-30\"\n      }, \"Contact\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"handed-proj-bg clearfix\"\n      }, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontFamily: '\"montserratregular\"'\n        },\n        className: \"text-center\"\n      }, \"This property is already leased.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + '#relatedsection',\n        title: \"Browse through more available lettings for rent in \" + titleCase(this.props.PD.address.area) + \", \" + titleCase(this.props.PD.address.county)\n      }, \"View similar lettings\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + '#searchsection',\n        title: \"Search more available properties for rent in \" + titleCase(this.props.PD.address.area) + \", \" + titleCase(this.props.PD.address.county)\n      }, \"Search More\")) : this.props.data.primaryContact.phone ? this.props.PD.contacts.map(function (contact, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          className: \"col-md-12\"\n        }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, titleCase(contact.name), \" : \", /*#__PURE__*/React.createElement(\"a\", {\n          href: \"tel:\" + contact.phone\n        }, contact.phone))));\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12\"\n      }, \"Apply for this property to email owner\")))))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"amenitiessection\",\n        className: \"mar-btm-30 amenities\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head-border-bottom head-border-bottomTitleArea\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Amenities\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"amenitiy-block\"\n      }, /*#__PURE__*/React.createElement(\"ul\", null, this.props.PD.amenitiesWithImgs.map(function (aminity, i) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i\n        }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"img\", {\n          src: aminity.src\n        })), titleCase(aminity.name)));\n      })))), this.props.data.relatedProps ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"relatedsection\",\n        className: \"mar-btm-30 amenities subscribeTillPopop\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head-border-bottom head-border-bottomTitleArea\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Similar \", titleCase(this.props.PD.type), \" to rent in \", titleCase(this.props.PD.address.area), this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : '')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"amenitiy-block\",\n        style: {\n          float: 'left',\n          display: 'block'\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          margin: '0 20px'\n        }\n      }, \"Below are few more \", titleCase(this.props.PD.type), \" to rent in \", this.props.PD.address.area ? /*#__PURE__*/React.createElement(\"span\", null, titleCase(this.props.PD.address.area)) : '', this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : '', \". They are also located near \", titleCase(this.props.PD.address.address), this.props.PD.address.area ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.area)) : '', this.props.PD.address.county ? /*#__PURE__*/React.createElement(\"span\", null, \", \", titleCase(this.props.PD.address.county)) : ''), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"thumbnails thumbRelated\"\n      }, this.props.data.relatedProps.map(function (property, i) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          className: \"span4\",\n          key: i,\n          style: {\n            float: 'left'\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: FlowRouter.url('rent', {\n            slug: property.slug,\n            key: property.auction.lettingAuctionCode\n          })\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"thumbnail\"\n        }, property.firstImg ? property.firstImg.url ? property.firstImg.url.indexOf('amazonaws') ? /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://process.filestackapi.com/AIPACLEs7ShGwwPh6fMTxz/resize=width:250/\" + property.firstImg.url,\n          alt: titleCase(property.address.address) + property.address.area ? \", \" + titleCase(property.address.area) : '' + property.address.county ? \", \" + titleCase(property.address.county) : ''\n        }) : /*#__PURE__*/React.createElement(\"img\", {\n          src: \"https://process.filestackapi.com/resize=width:250/\" + property.firstImg.url,\n          alt: titleCase(property.address.address) + property.address.area ? \", \" + titleCase(property.address.area) : '' + property.address.county ? \", \" + titleCase(property.address.county) : ''\n        }) : /*#__PURE__*/React.createElement(\"img\", {\n          src: cdnPath(\"/images/no-photo.png\"),\n          style: {\n            width: 250,\n            height: 188\n          }\n        }) : \"\", /*#__PURE__*/React.createElement(\"h3\", null, titleCase(property.address.address), property.address.area ? /*#__PURE__*/React.createElement(\"as\", null, \", \", titleCase(property.address.area)) : '', property.address.county ? /*#__PURE__*/React.createElement(\"as\", null, \", \", titleCase(property.address.county)) : '', \" for rent\"))));\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"amenitiy-block\",\n        style: {\n          paddingTop: 0\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"searchsection\",\n        className: 'bottomcrumbs row'\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Search more properties to rent\"), /*#__PURE__*/React.createElement(\"p\", null, \"Chooes a link below to browse through more relavent properties to rent.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-5 col-sm-5 col-xs-12\"\n      }, this.state.searchCrumbs.c1 ? this.state.searchCrumbs.c1.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.searchCrumbs.c2 ? this.state.searchCrumbs.c2.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-3 col-sm-3 col-xs-12\"\n      }, this.state.searchCrumbs.c3 ? this.state.searchCrumbs.c3.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: 'bottomcrumbs row'\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Property types to rent\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-3 col-sm-3 col-xs-12\"\n      }, this.state.fCrumbs.c1 ? this.state.fCrumbs.c1.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.fCrumbs.c2 ? this.state.fCrumbs.c2.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-5 col-sm-5 col-xs-12\"\n      }, this.state.fCrumbs.c3 ? this.state.fCrumbs.c3.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: 'bottomcrumbs row'\n      }, /*#__PURE__*/React.createElement(\"h2\", null, this.props.PD.address.county, \" neighbourhoods\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.areaCrumbs.c1 ? this.state.areaCrumbs.c1.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.areaCrumbs.c2 ? this.state.areaCrumbs.c2.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.areaCrumbs.c3 ? this.state.areaCrumbs.c3.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: 'bottomcrumbs row'\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Other counties to rent\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 col-xs-12 pad0\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.countyCrumbs.c1 ? this.state.countyCrumbs.c1.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.countyCrumbs.c2 ? this.state.countyCrumbs.c2.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-12\"\n      }, this.state.countyCrumbs.c3 ? this.state.countyCrumbs.c3.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          key: i,\n          style: {\n            display: \"block\"\n          },\n          href: crumb.url\n        }, crumb.name);\n      }) : \"\"))))) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"apply-successful-popup\",\n        style: {\n          display: 'none'\n        },\n        className: \"verification-div1 isApplicationSuccessful\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"refund-div\"\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"green-text\"\n      }, \"Application Successful\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-text\"\n      }, /*#__PURE__*/React.createElement(\"h3\", null, \"Good Job!\"), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          padding: 0\n        }\n      }, \"Landlord is notified of your application and would contact you via email if successful.\"), false ? \"\" : this.hasAllReqReferences ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\"\n      }, /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"h3\", null, \"Improve your chances of securing this letting\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-text\",\n        style: {\n          textAlign: \"center\",\n          margin: \"10px 0\"\n        }\n      }, \"Upload your references in your profile to have an higher chance over other applicants. Missing files are\\xA0\", addCommaToEach(this.props.refListArr), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url(\"account/profile\"),\n        onClick: this.pd_cap_aHandler,\n        className: \"pd_cap_a \"\n      }, \"Upload them now?\")), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url(\"account/profile\"),\n        style: {\n          margin: '0 auto',\n          width: \"200px\"\n        },\n        className: \"blue-btn btns\",\n        onClick: this.pd_cap_btnHandler,\n        type: \"button\"\n      }, \"Upload references \"))), /*#__PURE__*/React.createElement(\"hr\", null), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          padding: 0\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: this.currentURL + \"#relatedsection\",\n        onClick: this.cap_viewSimilarLettingsBtnHandler,\n        className: \"transparent-btn btns\",\n        style: {\n          margin: '0 auto',\n          width: \"200px\"\n        }\n      }, \"View Similar lettings\")))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"confirm-apply-pop\",\n        style: {\n          display: 'none'\n        },\n        className: \"verification-div1 \"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"refund-div\"\n      }, /*#__PURE__*/React.createElement(\"h2\", null, \"Confirm Apply\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profile-text\"\n      }, /*#__PURE__*/React.createElement(\"h3\", null, \"Landlords asking rent is \", this.props.data.price + \" (\" + this.props.data.rentType + \")\"), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"signin-form\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-border\",\n        style: {\n          padding: '20px 0'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input underline\",\n        style: {\n          borderBottom: '1px solid #2169a8'\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"bidPrice\",\n        type: \"number\",\n        placeholder: this.props.data.price,\n        defaultValue: this.props.data.price,\n        name: \"number\",\n        id: \"bidPrice\",\n        required: true,\n        min: this.props.priceRange.min,\n        max: this.props.priceRange.max\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"styled-input underline\"\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"form-control bidMessage\",\n        id: \"bidMessage\",\n        rows: 1,\n        placeholder: \"You may enter a personal message to landlord if you wish.\",\n        maxLength: 500,\n        value: this.state.personalMessage,\n        onChange: this.handlePersonalMessageChange,\n        style: {\n          textAlign: \"center\"\n        }\n      })))), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-text\",\n        style: {\n          marginTop: '20px',\n          textAlign: \"center\"\n        }\n      }, \"We will submit all the references available in your profile. \"), false ? \"\" : this.hasAllReqReferences ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"radio-bg register\"\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          lineHeight: '22px',\n          marginBottom: '10px'\n        }\n      }, \"Oops! You dont have all your references updated in your profile. \"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"color-text\",\n        style: {\n          textAlign: \"center\"\n        }\n      }, \"Missing files are\\xA0\", addCommaToEach(this.props.refListArr), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url(\"account/profile\"),\n        onClick: this.pd_cap_aHandler,\n        className: \"pd_cap_a \"\n      }, \"Upload them now?\")), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url(\"account/profile\"),\n        style: {\n          margin: '0 auto',\n          width: \"200px\"\n        },\n        className: \"transparent-btn btns pd_cap_btn\",\n        onClick: this.pd_cap_btnHandler,\n        type: \"button\"\n      }, \"Upload references \")), /*#__PURE__*/React.createElement(\"p\", null, \"Your chances of getting the house will be more if you apply with all the references. To proceed anyways click Submit below.\")), /*#__PURE__*/React.createElement(\"ul\", null, this.state.isApplicationInProgress ? /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparent-btn  btns\",\n        type: \"button\"\n      }, \"Applying... \")) : /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.confirmApplyBtnHandler,\n        className: \"blue-btn  btns confirmApplyBtn\",\n        type: \"button\"\n      }, \"Submit \")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.cap_closePopupBtnHandler,\n        style: {\n          marginLeft: '10px'\n        },\n        className: \"transparent-btn btns cap_closePopupBtn\",\n        disabled: this.state.isApplicationInProgress,\n        type: \"button\"\n      }, \"Cancel\"))))));\n    }\n\n    renderFullMain() {\n      if (Meteor.isClient) {\n        setTimeout(function () {\n          $('#lettingDetailCarousel').carousel();\n          $('#lettingDetailCarousel .carousel-control.right').unbind('click').bind('click', function () {\n            $('#lettingDetailCarousel').carousel('next');\n          });\n          $('#lettingDetailCarousel .carousel-control.left').unbind('click').bind('click', function () {\n            $('#lettingDetailCarousel').carousel('prev');\n          });\n        }, 1000);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"property-details-page\",\n        id: 'props_list'\n      }, Meteor.isServer ? /*#__PURE__*/React.createElement(\"div\", {\n        id: \"isservercheckdiv\"\n      }) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n        className: \"banner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        \"aria-label\": \"breadcrumb\"\n      }, /*#__PURE__*/React.createElement(\"ol\", {\n        className: \"breadcrumb\"\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"breadcrumb-item\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: FlowRouter.url('home')\n      }, \"Home\")), this.props.data ? this.props.data.bcrumbs.map(function (crumb, i) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          className: \"breadcrumb-item\"\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: crumb.url\n        }, crumb.name));\n      }) : \"\", /*#__PURE__*/React.createElement(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\"\n      }, \"This property\")))))), this.props.isSubsLoaded ? this.props.data ? this.renderMain() : /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container text-center mar-top-20 pad-btm-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-top-30\"\n      }, this.props.alreadyLeased ? /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Property already leased. Your landlord would contact you if you are chosen as a tenant.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.backBtnHandler,\n        className: \"blue-btn btns backBtn\",\n        type: \"button\"\n      }, \"Try again\")) : /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"This property is not found. Please check your key and try again.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.noPropBackBtnHandler,\n        className: \"blue-btn btns noPropBackBtn\",\n        type: \"button\"\n      }, \"Try again\")))))) : /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20 mar-btm-20 no-print\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container text-center mar-top-20 pad-btm-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-top-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'h2-div'\n      }, \"Loading...\"))))));\n    }\n\n    render() {\n      const self = this;\n\n      if (Meteor.isClient && this.propsListHTML == \"\") {\n        this.propsListHTML = $('#props_list').html();\n      }\n\n      if (Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html();\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true;else this.isServerSSRReq = false;\n      } // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), this.props.isSubsLoaded ? this.renderFullMain() : this.isServerSSRReq && this.propsListHTML ? /*#__PURE__*/React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: this.propsListHTML\n        }\n      }) : /*#__PURE__*/React.createElement(\"section\", {\n        className: \"mar-top-20 mar-btm-20 no-print\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container text-center mar-top-20 pad-btm-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filter-holder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mar-top-30\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'h2-div'\n      }, \"Loading...\"))))), /*#__PURE__*/React.createElement(MainLayoutFooter, null));\n    }\n\n  }\n\n  module1.exportDefault(withTracker(() => {\n    var key = FlowRouter.getParam('key');\n    if (!key) return {\n      data: false,\n      alreadyLeased: false,\n      isSubsLoaded: true\n    };\n    if (key && !propertyKeyOfThisPage) propertyKeyOfThisPage = key; //This will init the var\n\n    const viewLettingSub = Meteor.subscribe(\"viewLetting\", key, function () {\n      if (ConfigSub.ready()) Session.set('subscriptionsReady', true); //AreasSub.ready() &&  make areas sub not req\n    }); // const AreasSub = Meteor.subscribe('Areas',function(){\n    //     if(viewLettingSub.ready() && ConfigSub.ready()  )Session.set('subscriptionsReady',true);\n    // });\n\n    const ConfigSub = Meteor.subscribe('Config', function () {\n      if (viewLettingSub.ready()) Session.set('subscriptionsReady', true);\n    });\n    if (Meteor.isClient) Session.get('subscriptionsReady');\n\n    if (!viewLettingSub.ready() || !ConfigSub.ready()) {\n      return {\n        data: false,\n        alreadyLeased: false,\n        isSubsLoaded: false\n      };\n    }\n\n    var globalConfig = Collections.Config.findOne();\n    var deletedList = [];\n\n    if (globalConfig) {\n      deletedList = globalConfig.deletedList;\n    }\n\n    if (deletedList.includes(key)) {\n      return {\n        data: false,\n        alreadyLeased: false,\n        isSubsLoaded: true\n      };\n    }\n\n    var user = Meteor.user();\n    var priceRange = {\n      min: 0,\n      max: 10000\n    };\n    var myBid = false;\n    var otherBids = false;\n    var PD = {};\n    var sliderImages = [];\n\n    advancedCrumbs = function (countyParam, areaParam, propertyType) {\n      let fCrumbs = [],\n          tmpCrumbs = [],\n          areaCrumbs = [],\n          countyCrumbs = [];\n      if (propertyType) propertyType = propertyType.toLowerCase(); // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n      //Property Size\n      //Property Size - Property Type\n      //Property Size - Property Type - County\n      //Property Type - county\n      //Counties\n      //Areas\n      //Property Size - Property Type - area - County\n      //Property Size - area - County\n      //Property Type - area - county\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          propertyType: 'studio'\n        }),\n        name: 'Studios'\n      }); //Property Size\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1\n        }),\n        name: '1-Beds'\n      }); //Property Size\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2\n        }),\n        name: '2-Beds'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3\n        }),\n        name: '3-Beds'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          cheapSort: true,\n          propertyType: 'house'\n        }),\n        name: 'Cheap Houses'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1,\n          propertyType: 'house'\n        }),\n        name: '1-Bed Houses'\n      }); //Property Size - Property Type\n\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2,\n          propertyType: 'house'\n        }),\n        name: '2-Bed Houses'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3,\n          propertyType: 'house'\n        }),\n        name: '3-Bed Houses'\n      });\n      tmpCrumbs.push({\n        url: generateSlugURL({\n          luxurySort: true,\n          propertyType: 'house'\n        }),\n        name: 'Luxury Houses'\n      });\n\n      if (propertyType == 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      }\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          cheapSort: true,\n          propertyType: 'apartment'\n        }),\n        name: 'Cheap Apartments'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 1,\n          propertyType: 'apartment'\n        }),\n        name: '1-Bed Apartments'\n      }); //Property Size - Property Type\n\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 2,\n          propertyType: 'apartment'\n        }),\n        name: '2-Bed Apartments'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          bedCount: 3,\n          propertyType: 'apartment'\n        }),\n        name: '3-Bed Apartments'\n      });\n      fCrumbs.push({\n        url: generateSlugURL({\n          luxurySort: true,\n          propertyType: 'apartment'\n        }),\n        name: 'Luxury Apartments'\n      });\n\n      if (propertyType != 'house') {\n        fCrumbs = fCrumbs.concat(tmpCrumbs);\n      } //dublin-apartments\n      //Not doing dublin-houses due to less searches for Dublin apartments\n\n\n      var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n      for (var i = 0; i < staticCounties.length; i++) {\n        if (!staticCounties[i]) continue;\n        countyCrumbs.push({\n          url: generateSlugURL({\n            county: staticCounties[i]\n          }),\n          name: staticCounties[i] + ' Apartments'\n        });\n      }\n\n      if (countyParam) {\n        // var propertyType = curURL.propertyType;\n        // var county = curURL.county\n        // var area = curURL.area\n        // var maxRent = curURL.maxRent\n        // var country = curURL.country;\n        // var bedCount = curURL.bedCount;\n        // var luxurySort = curURL.luxurySort;\n        // var cheapSort = curURL.cheapSort;\n        //////////////////////////// WITH COUNTY\n        tmpCrumbs = [];\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            cheapSort: true,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: 'Cheap Houses for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType == 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            cheapSort: true,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: 'Cheap Apartments for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType != 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            propertyType: 'studio',\n            county: countyParam\n          }),\n          name: 'Studio for rent in county ' + titleCase(countyParam)\n        });\n        tmpCrumbs = [];\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 1,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: '1-Bed Houses for rent in county ' + titleCase(countyParam)\n        }); //Property Size - Property Type\n\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 2,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: '2-Bed Houses for rent in county ' + titleCase(countyParam)\n        });\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 3,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: '3-Bed Houses for rent in county ' + titleCase(countyParam)\n        });\n        tmpCrumbs.push({\n          url: generateSlugURL({\n            luxurySort: true,\n            propertyType: 'house',\n            county: countyParam\n          }),\n          name: 'Luxury Houses for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType == 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 1,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: '1-Bed Apartments for rent in county ' + titleCase(countyParam)\n        }); //Property Size - Property Type\n\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 2,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: '2-Bed Apartments for rent in county ' + titleCase(countyParam)\n        });\n        fCrumbs.push({\n          url: generateSlugURL({\n            bedCount: 3,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: '3-Bed Apartments for rent in county ' + titleCase(countyParam)\n        });\n        fCrumbs.push({\n          url: generateSlugURL({\n            luxurySort: true,\n            propertyType: 'apartment',\n            county: countyParam\n          }),\n          name: 'Luxury Apartments for rent in county ' + titleCase(countyParam)\n        });\n\n        if (propertyType != 'house') {\n          fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        if (areaParam) {\n          //////////////////////////// WITH AREA COUNTY\n          tmpCrumbs = [];\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              cheapSort: true,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Cheap Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              cheapSort: true,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Cheap Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              propertyType: 'studio',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Studio for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          tmpCrumbs = [];\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 1,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '1-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          }); //Property Size - Property Type\n\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 2,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '2-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 3,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '3-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          tmpCrumbs.push({\n            url: generateSlugURL({\n              luxurySort: true,\n              propertyType: 'house',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Luxury Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 1,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '1-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          }); //Property Size - Property Type\n\n          fCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 2,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '2-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          fCrumbs.push({\n            url: generateSlugURL({\n              bedCount: 3,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: '3-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n          fCrumbs.push({\n            url: generateSlugURL({\n              luxurySort: true,\n              propertyType: 'apartment',\n              county: countyParam,\n              area: areaParam\n            }),\n            name: 'Luxury Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n          });\n\n          if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n          }\n        }\n\n        var distinctEntries = _.uniq(Collections.Areas.find({}, {\n          //County: countyParam ; Dynamically load areas based on the subscription.\n          sort: {\n            Area: 1\n          },\n          fields: {\n            Area: true\n          }\n        }).fetch().map(function (x) {\n          return x.Area;\n        }), true);\n\n        areaCrumbs = [];\n\n        for (var i = 0; i < distinctEntries.length; i++) {\n          if (!distinctEntries[i]) continue; // if (distinctEntries[i] == areaParam) continue;//Don't show the same area in this list\n\n          areaCrumbs.push({\n            url: generateSlugURL({\n              county: countyParam,\n              area: distinctEntries[i]\n            }),\n            name: distinctEntries[i] + ' Apartments'\n          });\n        } // let ptypeString='';\n        // switch(propertyType){\n        //     case 'apartment': ptypeString = 'Apartments '; break;\n        //     case 'house': ptypeString = 'Houses '; break;\n        // }\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'Studio for rent in county '+titleCase(PD.address.county)})\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'1-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'2-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'3-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n\n      }\n\n      return {\n        fCrumbs: fCrumbs,\n        areaCrumbs: areaCrumbs,\n        countyCrumbs: countyCrumbs\n      };\n    };\n\n    var data = Collections.Auctions.findOne({\n      \"lettingAuctionCode\": key\n    }, {\n      limit: 1\n    });\n\n    if (data) {\n      data.applicationsReceivedCount = Collections.Bids.find({\n        auctionId: data._id\n      }).count();\n      PDret = Collections.Properties.find(data.propertyId).fetch();\n      PD = PDret[0];\n      PD.bedroomsCount = 0;\n      PD.ensuiteCount = 0;\n      PD.doubleBedCount = 0;\n\n      if (PD.bedrooms) {\n        PD.bedroomsCount = PD.bedrooms.length;\n\n        for (var i = 0; i < PD.bedrooms.length; i++) {\n          if (PD.bedrooms[i][\"ensuite\"]) {\n            PD.ensuiteCount++;\n          }\n\n          if (PD.bedrooms[i][\"bedType\"] == 'double') {\n            PD.doubleBedCount++;\n          }\n        }\n      }\n\n      if (PD.contacts) {\n        //Take the contact of activation not property\n        data.primaryContact = PD.contacts[0];\n      } else data.primaryContact = {};\n\n      tmp = [];\n\n      if (PD.amenities) {\n        for (var i = 0; i < PD.amenities.length; i++) {\n          var src = globalConfig.amenitiesLogos[PD.amenities[i]];\n          if (!src) src = globalConfig.amenitiesLogos[\"default\"];\n          tmp.push({\n            name: PD.amenities[i],\n            src: cdnPath(src)\n          });\n        }\n      }\n\n      PD.amenitiesWithImgs = tmp;\n\n      if (PD.gallery) {\n        for (var i = 0; i < PD.gallery.length; i++) {\n          let altText = 'Photo ' + (i + 1) + ' of ' + titleCase(PD.address.address);\n          if (PD.address.area) altText += ', ' + titleCase(PD.address.area);\n          if (PD.address.county) altText += ', ' + titleCase(PD.address.county); // sliderImages.push(PD.gallery[i].url)\n\n          sliderImages.push({\n            url: PD.gallery[i].url,\n            altText: altText\n          });\n        }\n      } ////////// BREADCRUMBS\n\n\n      let bcrumbs = [];\n      let slugTemp,\n          searchCrumbs = []; // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n\n      if (PD.address.county) {\n        slugTemp = generateSlug({\n          county: PD.address.county\n        });\n        bcrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: titleCase(PD.address.county)\n        });\n        searchCrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: 'rent in ' + titleCase(PD.address.county)\n        });\n      }\n\n      if (PD.address.area && PD.address.county) {\n        slugTemp = generateSlug({\n          county: PD.address.county,\n          area: PD.address.area\n        });\n        bcrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: titleCase(PD.address.area)\n        });\n        searchCrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: 'rent in ' + titleCase(PD.address.area) + \" of county \" + titleCase(PD.address.county)\n        });\n      }\n\n      if (PD.address.area && PD.address.county && PD.type) {\n        slugTemp = generateSlug({\n          county: PD.address.county,\n          area: PD.address.area,\n          propertyType: PD.type\n        });\n        bcrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: titleCase(PD.type)\n        });\n        searchCrumbs.push({\n          url: FlowRouter.url('b', {\n            slug: slugTemp[0]\n          }),\n          name: '' + titleCase(PD.type) + \" for rent in \" + titleCase(PD.address.area) + \" of county \" + titleCase(PD.address.county)\n        });\n      }\n\n      data.bcrumbs = bcrumbs;\n      data.searchCrumbs = searchCrumbs.reverse(); ////////// END BREADCRUMBS\n      ////////// ADV BREADCRUMBS MORE LINKS\n\n      if (true) {\n        if (PD.address.county) {\n          AreasSub = Meteor.subscribe('Areas', '', '', PD.address.county, '', '', function () {\n            Session.set('subscriptionsReady2', true);\n          });\n        }\n\n        if (Meteor.isClient) Session.get('subscriptionsReady2');\n        var advC = advancedCrumbs(PD.address.county, PD.address.area, PD.type);\n        data.fCrumbs = advC.fCrumbs;\n        data.areaCrumbs = advC.areaCrumbs;\n        data.countyCrumbs = advC.countyCrumbs;\n      } ////////// END ADV BREADCRUMBS\n      //////// RELATED PROPS\n\n\n      var notArr = [PD._id];\n      var filters = {\n        \"type\": PD.type,\n        \"address.county\": PD.address.county,\n        \"address.area\": PD.address.area,\n        \"auctionId\": {\n          $exists: true,\n          $gt: \"\"\n        },\n        \"isArchived\": false,\n        \"_id\": {\n          $not: {\n            $in: notArr\n          }\n        }\n      };\n      data.relatedProps = [];\n      var tmpRelated = Collections.Properties.find(filters, {\n        transform: function (doc) {\n          doc.auction = Collections.Auctions.findOne({\n            _id: doc.auctionId\n          });\n\n          if (doc.gallery) {\n            if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n          }\n\n          return doc;\n        },\n        limit: 4\n      }).fetch();\n      data.relatedProps = data.relatedProps.concat(tmpRelated);\n      notArr = [PD._id];\n\n      for (var i = 0; i < data.relatedProps.length; i++) {\n        notArr.push(data.relatedProps[i]._id);\n      }\n\n      filters[\"_id\"] = {\n        $not: {\n          $in: notArr\n        }\n      };\n\n      if (data.relatedProps.length < 4) {\n        delete filters[\"address.area\"];\n        var tmpRelated = Collections.Properties.find(filters, {\n          transform: function (doc) {\n            doc.auction = Collections.Auctions.findOne({\n              _id: doc.auctionId\n            });\n\n            if (doc.gallery) {\n              if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n            }\n\n            return doc;\n          },\n          limit: 4\n        }).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n      }\n\n      notArr = [PD._id];\n\n      for (var i = 0; i < data.relatedProps.length; i++) {\n        notArr.push(data.relatedProps[i]._id);\n      }\n\n      filters[\"_id\"] = {\n        $not: {\n          $in: notArr\n        }\n      };\n\n      if (data.relatedProps.length < 4) {\n        delete filters[\"address.county\"];\n        var tmpRelated = Collections.Properties.find(filters, {\n          transform: function (doc) {\n            doc.auction = Collections.Auctions.findOne({\n              _id: doc.auctionId\n            });\n\n            if (doc.gallery) {\n              if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n            }\n\n            return doc;\n          },\n          limit: 4\n        }).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n        tmpRelated;\n      }\n\n      notArr = [PD._id];\n\n      for (var i = 0; i < data.relatedProps.length; i++) {\n        notArr.push(data.relatedProps[i]._id);\n      }\n\n      filters[\"_id\"] = {\n        $not: {\n          $in: notArr\n        }\n      };\n\n      if (data.relatedProps.length < 4) {\n        delete filters[\"type\"];\n        var tmpRelated = Collections.Properties.find(filters, {\n          transform: function (doc) {\n            doc.auction = Collections.Auctions.findOne({\n              _id: doc.auctionId\n            });\n\n            if (doc.gallery) {\n              if (doc.gallery[0]) doc.firstImg = doc.gallery[0];\n            }\n\n            return doc;\n          },\n          limit: 4\n        }).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n        tmpRelated;\n      }\n\n      if (data.relatedProps.length > 4) {\n        data.relatedProps = data.relatedProps.slice(0, 4);\n      } ///////// END FILTERS\n\n\n      var min = data.price * 0.7,\n          max = data.price * 1.5; // also used in propertyApplications.onRendered\n\n      priceRange = {\n        min: min,\n        max: max\n      }; ///////// START MY BIG AND OTHER BIDS\n\n      if (user) {\n        var ret = Collections.Bids.find({\n          auctionId: data._id,\n          userId: user._id,\n          isArchived: false\n        }, {\n          limit: 1\n        }).fetch();\n        myBid = ret[0];\n        var maxLen = 5;\n        var forTotCount = Collections.Bids.find({\n          auctionId: data._id,\n          isArchived: false\n        }, {\n          limit: maxLen,\n          sort: {\n            yourBid: -1\n          }\n        }); // debugger;\n\n        if (!forTotCount.count()) {\n          //No results, return\n          otherBids = {\n            needed: false,\n            arr: []\n          };\n        } else {\n          if (!myBid || !user) otherBids = {\n            needed: true,\n            arr: forTotCount.fetch()\n          };else {\n            var weNeedOnSides = Math.floor(maxLen / 2);\n            var needAbove = weNeedOnSides;\n            var back = Collections.Bids.find({\n              auctionId: data._id,\n              userId: {\n                $ne: user._id\n              },\n              yourBid: {\n                $lt: myBid.yourBid\n              },\n              isArchived: false\n            }, {\n              limit: maxLen - 1,\n              sort: {\n                yourBid: -1\n              }\n            });\n            var backCount = back.count();\n\n            if (backCount < weNeedOnSides) {\n              // if count isn't enough, then change back itself.\n              back = Collections.Bids.find({\n                auctionId: data._id,\n                userId: {\n                  $ne: user._id\n                },\n                yourBid: {\n                  $lte: myBid.yourBid\n                },\n                isArchived: false\n              }, {\n                limit: maxLen - 1,\n                sort: {\n                  yourBid: -1\n                }\n              });\n            }\n\n            backCount = back.count();\n\n            if (backCount < weNeedOnSides) {\n              //if its still less, then update we needAbove value\n              needAbove += weNeedOnSides - backCount;\n            }\n\n            var above = Collections.Bids.find({\n              auctionId: data._id,\n              userId: {\n                $ne: user._id\n              },\n              yourBid: {\n                $gt: myBid.yourBid\n              },\n              isArchived: false\n            }, {\n              limit: maxLen - 1,\n              sort: {\n                yourBid: -1\n              }\n            });\n            var aboveCount = above.count();\n\n            if (aboveCount < needAbove) {\n              // if count isn't enough, then change back itself.\n              above = Collections.Bids.find({\n                auctionId: data._id,\n                userId: {\n                  $ne: user._id\n                },\n                yourBid: {\n                  $gte: myBid.yourBid\n                },\n                isArchived: false\n              }, {\n                limit: maxLen - 1,\n                sort: {\n                  yourBid: -1\n                }\n              });\n            }\n\n            aboveCount = above.count();\n            var retAbove = above.fetch();\n            var retBack = back.fetch();\n            retAbove.push(myBid);\n            otherBids = {\n              needed: true,\n              arr: retAbove.concat(retBack)\n            };\n          }\n        }\n      } ///////// START MY BIG AND OTHER BIDS\n\n    }\n\n    var isAgent = false; // switch(data.createdByAgent){\n    //     case '':\n    //         isAgent = {\n    //             \"logourl\":Meteor.absoluteUrl()+'images/property-rental-agents/Bell-Property-Consultants.jpeg',\n    //             \"name\": 'Bell Property Consultants Ltd',\n    //             \"address1\":\"Harolds Cross, Dublin\",\n    //             \"style\":{height:\"100px\"}\n    //         }\n    // }\n\n    var alreadyLeased = false;\n\n    if (data) {\n      if (data.isArchived) alreadyLeased = true;\n    }\n\n    var refListArr = [];\n    var hasAllReqReferences = false;\n    if (user) if (user.profile) if (user.profile.references) {\n      // if (!user.profile.references.hasResume) refListArr.push(\"Resume\");//Why do you need it?\n      if (!user.profile.references.hasLandlordRef) refListArr.push(\"Landlord reference\");\n      if (!user.profile.references.employerName) refListArr.push(\"Employer name\");\n      if (!user.profile.references.hasWorkRef) refListArr.push(\"Work reference\");\n      if (!user.profile.references.hasFinancialRef) refListArr.push(\"Financial reference\");\n      if (!user.profile.references.hasGovtID) refListArr.push(\"Government ID\");\n      if (!user.profile.references.hasPassport) refListArr.push(\"Passport\");\n      if (!user.profile.references.hasPPS) refListArr.push(\"PPS\");\n\n      try {\n        if (user.profile.references.hasResume && user.profile.references.hasLandlordRef && user.profile.references.hasGovtID && user.profile.references.hasWorkRef) hasAllReqReferences = true;\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    try {\n      var title = '';\n      title = PD.address.address + ', ' + PD.address.area;\n      if (PD.address.county) title += ', ' + PD.address.county;\n      var desc = '';\n      if (PD.type) desc += titleCase(PD.type) + ' for rent at ';\n      desc += PD.address.address + ', ' + PD.address.area;\n      if (PD.address.county) desc += ', ' + PD.address.county + '. ';\n      desc += 'Its ' + (PD.furnished ? \"a furnished \" : \"an Unfurnished \") + titleCase(PD.type) + \" with \" + (PD.bedroomsCount ? PD.bedroomsCount : 'no') + \" beds, \" + (PD.baths ? PD.baths : 'no') + \" baths, \" + (PD.ensuiteCount ? PD.ensuiteCount : \"no\") + \" Ensuite and \" + (PD.doubleBedCount ? PD.doubleBedCount : \"has no\") + \" Double bed property. \";\n      desc += \"Apply for this \" + PD.type + \", view its images, details and much more.\"; // Apartment for rent in\n      //     Newbrook road, mullingar, co. westmeath, murrisk, mayo | SpotMyCrib\n\n      clearMeta();\n      let titleTmp = title + ' | SpotMyCrib';\n      if (titleTmp.length <= 75) title = titleTmp;\n      DocHead.setTitle(title);\n      DocHead.addMeta({\n        name: \"description\",\n        content: desc\n      });\n      var socialDesc = \"Apply for this \" + PD.type + \", view its images, details and much more.\";\n      var socialTitle = '';\n      if (PD.bedroomsCount) socialTitle += PD.bedroomsCount + ' Bed ';\n      if (PD.type) socialTitle += PD.type + ' available at ';\n      socialTitle += title;\n      socialTitle = '' + titleCase(socialTitle) + ' | SpotMyCrib';\n      DocHead.addMeta({\n        property: \"og:title\",\n        content: socialTitle\n      });\n      DocHead.addMeta({\n        property: \"og:description\",\n        content: socialDesc\n      });\n      {\n        /*<link rel=\"canonical\" href=\"http://example.com/wordpress/seo-plugin/\" />*/\n      }\n      if (FlowRouter.current().route.name == 'letting') DocHead.addMeta({\n        rel: \"canonical\",\n        href: FlowRouter.url('rent', {\n          slug: PD.slug,\n          key: key\n        })\n      });\n      DocHead.addMeta({\n        property: \"og:type\",\n        content: \"place\"\n      });\n      DocHead.addMeta({\n        property: \"og:url\",\n        content: FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n      });\n      DocHead.addMeta({\n        property: \"fb:app_id\",\n        content: '309356899476430'\n      });\n\n      try {\n        DocHead.addMeta({\n          property: \"og:image\",\n          content: PD.gallery[0].url\n        });\n      } catch (c) {//Putting this here is making FB take the first response from here. & its showing no image if if this meta is later updated. So better put it later after all rendering at a template level. For now lets not keep anywhere.\n        // DocHead.addMeta({name: \"og:image\", content: 'https://www.spotmycrib.ie/images/spot-my-crib-logo.png'  });\n      }\n    } catch (err) {\n      clearMeta();\n      DocHead.setTitle(' Property not found | SpotMyCrib');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"\"\n      });\n    }\n\n    return {\n      data: data,\n      alreadyLeased: alreadyLeased,\n      isAgent: isAgent,\n      user: user,\n      refListArr: refListArr,\n      priceRange: priceRange,\n      hasAllReqReferences: hasAllReqReferences,\n      myBid: myBid,\n      otherBids: otherBids,\n      PD: PD,\n      sliderImages: sliderImages,\n      isSubsLoaded: true\n    };\n  })(LettingDetail));\n\n  class ImagesSlider extends Component {\n    constructor(props) {\n      super(props);\n      var current = FlowRouter.current();\n      this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n    }\n\n    componentDidMount() {\n      $(document).ready(function () {\n        // $('#lettingDetailCarousel').first().addClass('active');//not needed as bug of isActive helper not working is fixed.\n        $('#imagessection .item img').width('100%');\n        var w = $('#imagessection .item img').first().width();\n        var h = w / 1.33;\n        if (h > 250) $('#imagessection .item img').height(w / 1.33);\n        setTimeout(function () {\n          $('#imagessection .item img').width('100%');\n          var w = $('#imagessection .item img').first().width();\n          var h = w / 1.33;\n          if (h > 250) $('#imagessection .item img').height();\n        }, 3000); // $('#lettingDetailCarousel').carousel();\n        // $(\"#lettingDetailCarousel\").swiperight(function() {\n        //     $(this).carousel('prev');\n        // });\n        // $(\"#lettingDetailCarousel\").swipeleft(function() {\n        //     $(this).carousel('next');\n        // });\n      });\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"lettingDetailCarousel\",\n        className: \"carousel slide\",\n        \"data-ride\": \"carousel\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"carousel-inner\"\n      }, this.props.images ? this.props.images.map(function (image, i) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          className: 'item ' + (i == 0 ? 'active' : \"\")\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: image.url,\n          alt: image.altText,\n          title: image.altText,\n          className: \"img-responsive\"\n        }));\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item active\"\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: cdnPath(\"/images/no-photo.png\"),\n        alt: 'Image not available',\n        title: 'Image not available',\n        className: \"img-responsive\"\n      }))), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"left carousel-control\",\n        href: \"javascript:void(0)\",\n        \"data-slide\": \"prev\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-chevron-left\"\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sr-only\"\n      }, \"Previous\")), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"right carousel-control\",\n        href: \"javascript:void(0)\",\n        \"data-slide\": \"next\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-chevron-right\"\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sr-only\"\n      }, \"Next\")));\n    }\n\n  }\n\n  class AddThisReact extends Component {\n    constructor(props) {\n      super(props);\n      console.log('Add this started');\n    }\n\n    componentDidMount() {\n      console.log('Add this rendered');\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"addThis\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"addthis_inline_share_toolbox\"\n      }));\n    }\n\n  } // Error: Can't find npm module 'aws-sdk'. Did you forget to call 'Npm.depends' in package.js within the 'jns_flow-router-ssr' package?\n\n}.call(this, module);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"static\":{\"About.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/About.jsx                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => About\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass About extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"about-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"About Us\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"abt-content1\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center\",\n      style: {\n        maxWidth: 750\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"no-capitalize\"\n    }, \"Renting in Ireland is a pain, let us make it easy.\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"bottom-line\"\n    }), /*#__PURE__*/React.createElement(\"q\", {\n      className: \"color-grey\",\n      style: {\n        display: 'block',\n        marginBottom: 20\n      }\n    }, \"An average tenant spends around 1 month of their time, viewing 10+ houses and submitting manual printed references to find their rental home. In the same way, a landlord shows their letting to 50+ potential tenants, manually verifying all of their paper refrences before finalising one of them. \"), /*#__PURE__*/React.createElement(\"h6\", null, \"We are spotmycrib. A couple of months ago, we had an intuition : A painless renting system. One where people can find their dream home for rent without any pain, unnecessary viewings and disappointment. That gave us our inspiration \\\"Renting made digital\\\". That means both landlords and tenants can use spotmycrib to save their time and money - For the better. We are just getting started. So, join us. \", /*#__PURE__*/React.createElement(\"br\", null), \" Write to us at \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus')\n    }, \"Contact\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Careers.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/Careers.jsx                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Careers\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nvar TxtType = function (el, toRotate, period) {\n  this.toRotate = toRotate;\n  this.el = el;\n  this.loopNum = 0;\n  this.period = parseInt(period, 10) || 2000;\n  this.txt = '';\n  this.tick();\n  this.isDeleting = false;\n};\n\nTxtType.prototype.tick = function () {\n  var i = this.loopNum % this.toRotate.length;\n  var fullTxt = this.toRotate[i];\n\n  if (this.isDeleting) {\n    this.txt = fullTxt.substring(0, this.txt.length - 1);\n  } else {\n    this.txt = fullTxt.substring(0, this.txt.length + 1);\n  }\n\n  this.el.innerHTML = '<span class=\"wrap\">' + this.txt + '</span>';\n  var that = this;\n  var delta = 200 - Math.random() * 100;\n\n  if (this.isDeleting) {\n    delta /= 2;\n  }\n\n  if (!this.isDeleting && this.txt === fullTxt) {\n    delta = this.period;\n    this.isDeleting = true;\n  } else if (this.isDeleting && this.txt === '') {\n    this.isDeleting = false;\n    this.loopNum++;\n    delta = 500;\n  }\n\n  setTimeout(function () {\n    that.tick();\n  }, delta);\n};\n\nclass Careers extends Component {\n  componentDidMount() {\n    var elements = document.getElementsByClassName('typewrite');\n\n    for (var i = 0; i < elements.length; i++) {\n      var toRotate = elements[i].getAttribute('data-type');\n      var period = elements[i].getAttribute('data-period');\n\n      if (toRotate) {\n        new TxtType(elements[i], JSON.parse(toRotate), period);\n      }\n    } // INJECT CSS\n\n\n    var css = document.createElement(\"style\");\n    css.type = \"text/css\";\n    css.innerHTML = \".typewrite > .wrap { border-right: 0.08em solid #fff}\";\n    document.body.appendChild(css);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"We are looking for talented \", /*#__PURE__*/React.createElement(\"a\", {\n      className: \"typewrite\",\n      \"data-period\": 2000,\n      \"data-type\": \"[ \\\"marketers\\\", \\\"sales\\\", \\\"engineers\\\" ]\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"wrap\"\n    })))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-content career-content\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"bnr-txt\"\n    }, \"Join our team in Dublin to transform the online real estate industry. Build tools that help hundreds of people find their dream home everyday. \"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: 14\n      }\n    }, \"Why wait? tell us about you and why you want to join us. \"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://goo.gl/forms/nYxSp8YmuyMYTMEc2\",\n      className: \"btns blue-btn\"\n    }, \"Apply\")))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ContactUs.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/ContactUs.jsx                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => ContactUs\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nfunction updateFormFromLocalStorage() {\n  if (localStorage) {\n    if (localStorage.contactFormData_name) {\n      $(\"input[name='name']\").val(localStorage.contactFormData_name);\n    }\n\n    if (localStorage.contactFormData_email) {\n      $(\"input[name='email']\").val(localStorage.contactFormData_email);\n    }\n\n    if (localStorage.contactFormData_mobile) {\n      $(\"input[name='mobile']\").val(localStorage.contactFormData_mobile);\n    }\n\n    if (localStorage.contactFormData_message) {\n      $(\"textarea[name='message']\").val(localStorage.contactFormData_message);\n\n      try {\n        var element = $(\"textarea[name='message']\")[0];\n        element.style.height = \"5px\";\n        if (element.scrollHeight < 310) element.style.height = element.scrollHeight + \"px\";else element.style.height = \"310px\";\n      } catch (e) {}\n    }\n  }\n}\n\nfunction saveToLocalStorage() {\n  searialisedContactUsForm = $('#contactUsForm').serializeArray();\n\n  if (localStorage) {\n    localStorage.contactFormData_name = $(\"input[name='name']\").val();\n    localStorage.contactFormData_email = $(\"input[name='email']\").val();\n    localStorage.contactFormData_mobile = $(\"input[name='mobile']\").val();\n    localStorage.contactFormData_message = $(\"textarea[name='message']\").val();\n  }\n}\n\nfunction clearLocalStorage() {\n  searialisedContactUsForm = $('#contactUsForm').serializeArray();\n\n  if (localStorage) {\n    localStorage.removeItem('contactFormData_name');\n    localStorage.removeItem('contactFormData_email');\n    localStorage.removeItem('contactFormData_mobile');\n    localStorage.removeItem('contactFormData_message');\n  }\n}\n\nclass ContactUs extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contactFormSaving: false,\n      contactFormSavedSuccess: false\n    };\n    this.takeBackupHandler = this.takeBackupHandler.bind(this);\n    this.formSubmitHandler = this.formSubmitHandler.bind(this);\n    this.autoGrowTAHandler = this.autoGrowTAHandler.bind(this);\n  }\n\n  takeBackupHandler() {\n    saveToLocalStorage();\n  }\n\n  formSubmitHandler(event) {\n    event.preventDefault();\n  }\n\n  autoGrowTAHandler(event) {\n    var element = event.target;\n    element.style.height = \"5px\";\n    if (element.scrollHeight < 310) element.style.height = element.scrollHeight + \"px\";else element.style.height = \"310px\";\n  }\n\n  componentDidMount() {\n    updateFormFromLocalStorage();\n    const self = this;\n    var validator = $('#contactUsForm').validate({\n      submitHandler: function (event) {\n        self.setState({\n          contactFormSaving: true\n        });\n        self.setState({\n          contactFormSavedSuccess: true\n        });\n        console.log(\"You just submitted the 'contact us' form.\");\n        var userId = Meteor.userId();\n        if (!userId) userId = '';\n        var sub = 'Contact form request ';\n        var desc = \"\\n\\nName: \" + $(\"input[name='name']\").val() + \"<br/>\\nEmail: \" + $(\"input[name='email']\").val() + \"<br/>\\nMobile: \" + $(\"input[name='mobile']\").val() + \"<br/>\\nMessage: \" + $(\"textarea[name='message']\").val() + \"<br/>\\nUser ID: \" + userId + \"<br/>\\n\";\n        Meteor.call('notifyAdmin', sub, desc, function () {\n          $('#contactUsForm')[0].reset();\n          clearLocalStorage();\n          self.setState({\n            contactFormSaving: false\n          });\n          self.setState({\n            contactFormSavedSuccess: false\n          });\n        }); //             var sub = 'Thank you for getting in touch!'\n        //             var desc = `\n        // We will look over your message and get back to you by soon. In the meantime, you can check the <a href=\"https://www.spotmycrib.ie/faqs\">FAQ section</a>, our <a href=\"https://www.spotmycrib.ie/estateagent\">EstateAgent / Landlord page</a>, our <a href=\"https://www.spotmycrib.com/b/rent-in-ireland/?\">latest letting listings</a> or browse through our <a href=\"http://blog.spotmycrib.com/\">latest blog posts</a>.\n        //\n        // Your friends at SpotMyCrib.ie\n        // `\n        //             Meteor.call('notifyAdmin', sub, desc,function(){\n        //\n        //             });\n        // fbq('track', 'ViewContent');No FB Q here, let keep fb thing only for pre planned areas, just to make sure it doesn' give wrong success notices .\n\n        ga('send', 'event', 'ContactUsPage', 'formSubmitted', 'Contact us form is submitted');\n      }\n    });\n    setTimeout(function () {\n      fbq('track', 'ViewContent');\n      ga('send', 'event', 'ContactUsPage', 'formRendered', 'Contact us form is viewed');\n    }, 2000);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Contact Us\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-content mar-btm-20\",\n      style: {\n        background: 'white'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center\",\n      style: {\n        marginBottom: 10\n      }\n    }, \"Please contact the owner directly for queries regarding the properties advertised on our site as we do not own or deal diretly with them. For other queries please email at below email or fill the form below.\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: '#428bca'\n      },\n      href: \"mailto:support@spotmycrib.com\"\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-envelopee\"\n    }), \" support@spotmycrib.com\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center\"\n    }, \" Or \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.formSubmitHandler,\n      className: \"signin-form cf-1\",\n      id: \"contactUsForm\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sep-section\"\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"sep-label\"\n    }, \"Write to us\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input underline\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.takeBackupHandler,\n      type: \"text\",\n      name: \"name\",\n      required: true\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"Name *\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input underline\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.takeBackupHandler,\n      type: \"email\",\n      name: \"email\",\n      required: true\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"Email *\"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-input underline\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.takeBackupHandler,\n      type: \"text\",\n      name: \"mobile\"\n    }), /*#__PURE__*/React.createElement(\"label\", null, \"Mobile \"), /*#__PURE__*/React.createElement(\"span\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-full-width\"\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      onChange: this.takeBackupHandler,\n      onKeyUp: this.autoGrowTAHandler,\n      name: \"message\",\n      className: \"styled-input-textarea autoGrowTA\",\n      id: \"contactAG\",\n      placeholder: \"Enter your message\",\n      required: true,\n      defaultValue: \"\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-full-width mar-top-10\"\n    }, this.state.contactFormSaving ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btns transparent-btn\"\n    }, \"Saving\") : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btns blue-btn\"\n    }, \"Submit\")), this.state.contactFormSavedSuccess ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-full-width\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      role: \"alert\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-ok\",\n      \"aria-hidden\": \"true\"\n    }), \"\\xA0Thank you for contacting us, we will reach out to you as soon as possible.\")) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\"\n    }))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"CookiePolicy.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/CookiePolicy.jsx                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => CookiePolicy\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass CookiePolicy extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"about-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Cookie Policy\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"faq-content cookieconsent-content pad-btm-30\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"faq-section-hold\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"By using this website, you consent to the use of cookies in accordance with the SpotMyCrib.ie Cookie Policy below.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"SpotMyCrib.ie uses small pieces of data called cookies to help customise your user experience. Learn more about cookies and how you can control them by reading our Cookies Policy.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"We may update our Cookies Policy to reflect any changes in technology or data protection legislation. Any updates or changes that may affect how we use cookies or how you as a user can manage cookies will appear on this page.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"What is a Cookie?\"), /*#__PURE__*/React.createElement(\"p\", null, \"A cookie is a small piece of data sent by a website\\u2019s server to your computer or mobile device and stored in your browser (e.g. Google Chrome, Firefox, Internet Explorer etc). It consists of anonymous information, including a unique user identifier. When you revisit a site or navigate between pages, this data is passed from your browser to the site\\u2019s server. With this data, the website is able to \\u2018remember\\u2019 your browser, enabling it to retrieve your user preferences, to personalise your visits and to simplify any sign-in procedures.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Cookies are intended to improve your user experience by making it easier and faster to navigate through a website. For example, some websites require that you log in to gain access. If such sites did not use cookies, then you would be required to enter your login details every time you navigated to a new page because the website would not be able to remember that you had already logged in.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Many websites also use cookies for advertising purposes. For example, certain cookies allow a website to determine if you\\u2019ve already seen a particular ad and therefore it may not display that ad on subsequent pages that you visit.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"All of the information a cookie collects can only be retrieved by the website server that sent the cookie to your browser.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"Cookies on SpotMyCrib.ie\"), /*#__PURE__*/React.createElement(\"p\", null, \"We use the following Cookies on sections of SpotMyCrib.ie site and the mobile application:\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Strictly necessary cookies: These are cookies that are required for the operation of our website. They include, for example, cookies that enable you to log into secure areas of our website.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Analytical / Performance Cookies: They are set by SpotMyCrib.ie and third parties, including Comscore and Google Analytics. Performance cookies allow us to collect statistical information about our visitors, such as whether they have visited the site before and the pages they view. This information is gathered anonymously - it does NOT enable us to identify who you are. We use these cookies to determine the kind of content and services our visitors value most, which in turn helps us improve our website and its content.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Third Party Cookies: We and third-party vendors, including Google, use first-party cookies and third-party cookies together to inform, optimise and serve ads based on users\\u2019 past visits to this website. We use data from Google's Interest-based advertising or 3rd-party audience data (such as age, gender and interests) with Google Analytics to understand who our users are in order to create a better experience for them while visiting our website. We may use Remarketing with Google Analytics to advertise online. Third-party vendors, including Google, show our ads on sites across the Internet.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Google Analytics: Users can opt out of Google Analytics for Display Advertising and customise Google Display Network ads using the Ads Settings found here: www.google.com/settings/ads.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Functionality cookies: These are used to recognise you when you return to our website. This enables us to personalise our content for you, greet you by name and remember your preferences.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"Targeting cookies: These cookies record your visit to our website, the pages you have visited and the links you have followed. We will use this information to make our website and the advertising displayed on it more relevant to your interests. We may also share this information with third parties for this purpose.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"We do not control which cookies are set by third parties or how the cookie information is used \\u2013 a cookie can only be accessed by the party who set it. For more information on these cookies, please visit the third-party website.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"Controlling cookies\"), /*#__PURE__*/React.createElement(\"p\", null, \"Cookies are meant to improve the user experience, but some users prefer to set restrictions on the types of cookies that can be stored on their computer or mobile phone.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"By modifying your browser preferences, you have the choice to accept all cookies, to be notified when a cookie is set or to reject all cookies.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), \"It is important to note that you will lose some functions of a website if you choose to restrict or disable its cookies.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Have more questions? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus')\n    }, \"Submit a request\")))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"EstateAgent.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/EstateAgent.jsx                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => EstateAgent\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\n\nclass EstateAgent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      f2Success: false,\n      knowMore: false\n    };\n    this.sinterestformHandler = this.sinterestformHandler.bind(this);\n    this.sinterestformtryagainHandler = this.sinterestformtryagainHandler.bind(this);\n    this.knowMoreBtnHandler = this.knowMoreBtnHandler.bind(this);\n  }\n\n  componentDidMount() {\n    // var $zoho=$zoho || {};$zoho.salesiq = $zoho.salesiq ||\n    //     {widgetcode:\"5e6f4b070bdd6e53b8a76febfd867047f48220a3f0e688fad51400b27169fabc7e3e6a8594601225fa1324917f66ed28\", values:{},ready:function(){}};\n    // var d=document;s=d.createElement(\"script\");s.type=\"text/javascript\";s.id=\"zsiqscript\";s.defer=true;\n    // s.src=\"https://salesiq.zoho.eu/widget\";t=d.getElementsByTagName(\"script\")[0];t.parentNode.insertBefore(s,t);d.write(\"<div id='zsiqwidget'></div>\");\n    try {\n      jQuery(\"html,body\").animate({\n        scrollTop: 0\n      }, 250);\n    } catch (e) {\n      document.body.scrollTop = document.documentElement.scrollTop = 0;\n    }\n\n    var data = [[30, 1, 2, 20], ['300', 10, 20, '200'], //333 //10\n    ['3,000', 100, 200, '2,000'], //333 //100\n    ['6,000', 200, 400, '4,000'], //333 //200\n    ['12,000', 400, 800, '8,000'], //333 //400\n    ['30,000', '1,000', '2,000', '20,000'], //333 //1000\n    ['60,000', '2,000', '4,000', '40,000'] //333 //2000\n    ]; // $(\"#slider\").slider({\n    //\n    //     value: \"1\",\n    //     min: 0,\n    //     max: 6,\n    //     step: 1,\n    //     slide: function(event, ui) {\n    //         console.log('Sliding in progress');\n    //         // debugger;\n    //         $(\".viewingsSaved\").html(data[ui.value][0]);\n    //         $(\".tripsSaved\").html(data[ui.value][1]);\n    //         $(\".hoursSaved\").html(data[ui.value][2]);\n    //         $(\".moneySaved\").html(data[ui.value][3]);\n    //\n    //     }\n    // });\n\n    $(\"#many_properties_area_slider\").noUiSlider({\n      start: [10],\n      range: {\n        'min': [1],\n        '30%': [10],\n        '50%': [100],\n        '60%': [500],\n        '70%': [1000],\n        'max': [2000]\n      }\n    }).on('slide', function (ev, val) {\n      // set real values on 'slide' event\n      var i = Math.round(val); // $('#lcountInline').html(i);\n\n      $('#lcount').html(i);\n      $(\".viewingsSaved\").html(30 * i);\n      $(\".tripsSaved\").html(1 * i);\n      $(\".hoursSaved\").html(2 * i);\n      $(\".moneySaved\").html(80 * i);\n    }).on('change', function (ev, val) {// round off values on 'change' event\n    }); // setTimeout(function() {\n    //     var slider = document.getElementById('many_properties_area_slider');\n    //     templateInstance.noUiSlider.create(slider, {\n    //         start: [ 10 ],\n    //         range: {\n    //             'min': [  1 ],\n    //             '30%': [  200 ],\n    //             '50%': [  500 ],\n    //             '70%': [  1000 ],\n    //             'max': [ 2000 ]\n    //         },\n    //         // tooltips: [wNumb({ decimals: 1 })]\n    //         tooltips: true\n    //\n    //\n    //     });\n    //\n    //     slider.noUiSlider.on('update', function( values, handle ) {\n    //         var i = Math.round(values[handle]);\n    //         $('#lcount').html(i);\n    //         $(\".viewingsSaved\").html(30*i);\n    //         $(\".tripsSaved\").html(1*i);\n    //         $(\".hoursSaved\").html(2*i);\n    //         $(\".moneySaved\").html(80*i);\n    //     });\n    // },500);\n    // setTimeout(function() {\n    //     // $.scrollify({\n    //     //     section: \"section\",\n    //     // });\n    // },500);\n  }\n\n  joinNowBtnHandler() {\n    FlowRouter.go('joinnowlandlord');\n  }\n\n  sinterestformHandler(event) {\n    event.preventDefault();\n    const target = event.target;\n    const email = target.emailaddress.value;\n    const fullname = target.fullname.value;\n    const company = target.company.value;\n    const phone = target.phone.value; // import \"../accounts/validation.js\";\n\n    let validatedEmail = LoginFormValidation.email(email);\n\n    if (validatedEmail !== true) {\n      console.log(validatedEmail.error);\n      alert(validatedEmail.reason); // var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n      // if(!validatedEmail.reason)error.reason = 'Invalid email. Please correct the email address entered.';\n      // tmp.push(validatedEmail.reason);\n      // Session.set(\"showErrorDlg\",tmp)\n    } else {\n      ga('send', 'event', 'estateAgentPage', 'sinterestForm', 'Special intro offer form submitted');\n      Meteor.call('introOfferRequestReceived', email, fullname, company, phone);\n      this.setState({\n        f2Success: true\n      });\n    }\n  }\n\n  sinterestformtryagainHandler() {\n    this.setState({\n      f2Success: false\n    });\n  }\n\n  knowMoreBtnHandler() {\n    if (this.state.knowMore) this.setState({\n      knowMore: false\n    });else {\n      this.setState({\n        knowMore: true\n      });\n      setTimeout(function () {\n        try {\n          $('html, body').animate({\n            scrollTop: $(\"#knowmorebegin\").offset().top\n          }, 500);\n        } catch (e) {}\n      }, 500);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"css/estateagent.css\"\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"topheader\",\n      id: \"topheader\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 logo\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home')\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/logo.png\")\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-md-offset-1 property_listings\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Post Your Property listings and Select your tenant now\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-places home-page-box-places\",\n      style: {\n        background: 'none',\n        padding: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(KnowMoreForm, null)))))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"spotyourtenant\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 \"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Spot Your Tenant\"), /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib makes your work easy. You can \", /*#__PURE__*/React.createElement(\"br\", null), \"post your property and screen tenants online. The screening process includes a rental application \", /*#__PURE__*/React.createElement(\"br\", null), \"with their references and their complete social profiles.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 \"\n    }, false ? /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/video.png\"),\n      className: \"img-responsive\"\n    }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      id: \"video-div\"\n    }, /*#__PURE__*/React.createElement(\"iframe\", {\n      width: \"462.2\",\n      height: \"260\",\n      src: \"https://www.youtube.com/embed/L689NIDwFdc?rel=0\",\n      frameBorder: \"0\",\n      allowFullScreen: true\n    }))))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"many_properties_area\",\n      style: {\n        minHeight: 700\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container rdc container-fixed\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc text-center\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"How Many Properties are you listing?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrappernew\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"colThree\",\n      style: {\n        margin: '0px 0 20px 0px',\n        textAlign: 'left'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"contenta\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"lcount\"\n    }, \"10\"), /*#__PURE__*/React.createElement(\"span\", null, \"1\"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        float: 'right'\n      }\n    }, \"2000\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"many_properties_area_slider\"\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc\"\n    }, /*#__PURE__*/React.createElement(\"article\", {\n      className: \"col oneline\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle-in\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"viewingsSaved\"\n    }, \"300\"), /*#__PURE__*/React.createElement(\"p\", null, \"Viewings Saved\"))), /*#__PURE__*/React.createElement(\"article\", {\n      className: \"col oneline\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle-in\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tripsSaved\"\n    }, \"10\"), /*#__PURE__*/React.createElement(\"p\", null, \"Travel trips Saved\"))), /*#__PURE__*/React.createElement(\"article\", {\n      className: \"col oneline\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle-in\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"hoursSaved\"\n    }, \"20\"), /*#__PURE__*/React.createElement(\"strong\", null, \"Hours\")), /*#__PURE__*/React.createElement(\"p\", null, \"Time Saved\"))), /*#__PURE__*/React.createElement(\"article\", {\n      className: \"col oneline\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle-in\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"\\u20AC\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"moneySaved\"\n    }, \"800\")), /*#__PURE__*/React.createElement(\"p\", null, \"Money Saved\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 btn-account_area\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn green-btn joinNowBtn\",\n      onClick: this.joinNowBtnHandler\n    }, \"Claim your Free Account\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container rdc\"\n    })))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"business_area\",\n      style: {\n        minHeight: 970\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container  rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc business_area_onesecton\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Expand / Develop Your Business with these BENEFITS\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_01.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Competitive Advantage\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Get the competitive edge you need to excel in this extremely competitive market. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_02.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Reduced Admin\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Save time and money by automating \", /*#__PURE__*/React.createElement(\"br\", null), \"renting, managing and maintaining \", /*#__PURE__*/React.createElement(\"br\", null), \"your property.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_03.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Safe secure system\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"SpotMyCrib uses state of the art\", /*#__PURE__*/React.createElement(\"br\", null), \"technology to keep your data\", /*#__PURE__*/React.createElement(\"br\", null), \" safe and secure.\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc business_area_onesecton\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_04.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Digital accounting and maintenance\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Post your property instantly on the\", /*#__PURE__*/React.createElement(\"br\", null), \"go, from your mobile phone. Save valuable time.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_05.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Screen tenants\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Receive and access all your tenant \", /*#__PURE__*/React.createElement(\"br\", null), \"references and applications from one centralised account. Access them anytime, anywhere across the globe. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_06.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Verify social profiles\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \" LinkedIn, twitter and facebook profile verification.\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc business_area_onesecton\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_10.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Report\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Get intelligent reports on rental and maintenance costs identifying patterns to add revenue streams.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_08.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"Get Paid\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Auto-rent collection, friendly rental reminders 24 hours prior to rental date, failure to pay on time leads to warning notices being issued and much more.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 competitive\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/img_09.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"h3\", null, \"e-Sign Lease\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Generate and sign lease/contracts\", /*#__PURE__*/React.createElement(\"br\", null), \"online.\")))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"howitwork_section\",\n      style: {\n        minHeight: 650\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container rdc\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"How it works\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 posting_section\",\n      style: {\n        paddingBottom: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"POSTING LETTING\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/workimg_01.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Market your property through spotmycrib.ie and find your ideal tenant effortlessly. Post your property photographs n details.\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Market your property through spotmycrib.ie and find your ideal tenant effortlessly. Post your property photographs and particulars.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 posting_section\",\n      style: {\n        paddingBottom: 56\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"SCREEN TENANTS\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/workimg_02.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Our applicants apply for your property online via SpotMyCrib. View all their details, references, social profiles online and screen them. Click \\\"choose\\\" and select your tenant. It is as simple as that.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 posting_section\",\n      style: {\n        paddingBottom: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"SIGN DIGITAL LEASE\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/workimg_03.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Generate and sign legally binding lease/contracts online. Automatic reminder and reporting on lease expiry dates. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3 posting_section\",\n      style: {\n        paddingBottom: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"COLLECT RENTS\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/workimg_04.png\"),\n      className: \"img-responsive\"\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        lineHeight: '30px',\n        fontSize: '17px'\n      }\n    }, \"Let your tenants pay rent online. Automated rent collection and owner disbursements. Reminders and reporting on all payments.\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 btn-account_area\"\n    }, this.state.knowMore ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn green-btn knowMoreBtn\",\n      onClick: this.knowMoreBtnHandler\n    }, \"Know Less!\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn green-btn knowMoreBtn\",\n      onClick: this.knowMoreBtnHandler\n    }, \"Know More!\"))))), this.state.knowMore ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"section\", {\n      id: \"knowmorebegin\",\n      className: \"property_area\",\n      style: {\n        minHeight: 700\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        marginBottom: 60\n      }\n    }, \"Make your life faster and easier!!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Post your property\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {}\n    }, \"Here is your chance to post your property in the best light possible. Describe it, is it furnished? What amenities are available? Pets allowed? Add all the desirable features of it. Post the best photographs of it. Have tenants fall in love with your property time and time again.\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus'),\n      className: \"btn green-btn\"\n    }, \"Post your letting\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/post.png\"),\n      className: \"img-responsive\",\n      style: {\n        boxShadow: 'none'\n      }\n    })))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"screentenants_area\",\n      style: {\n        minHeight: 700\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/estateagentpage/screen-tenants.jpg\"),\n      className: \"img-responsive\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-1\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Screen Tenants\"), /*#__PURE__*/React.createElement(\"p\", null, \"Find your best tenant by screening them online. You get all their details, references, social profiles as they apply for your property. Their application package will also include credentials like their experian credit check, criminal check, previous rental history and all other necessary details. Screen them faster and close your deal.\")))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"property_area\",\n      style: {\n        minHeight: 700\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Manage Rent Online\"), /*#__PURE__*/React.createElement(\"p\", null, \"No more paperwork. Manage your rental income online. SpotMyCrib is safe and reliable. You can also check the deposits, rent amount and deadlines here. No more hassle with cash payments or standing orders.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/payment.png\"),\n      className: \"img-responsive\"\n    })))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"property_area\",\n      style: {\n        minHeight: 700\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/e-sign.png\"),\n      className: \"img-responsive\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-1\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Online Lease Signing\"), /*#__PURE__*/React.createElement(\"p\", null, \"Simply upload your necessary details. Get your legally binding document back with minimal effort. SpotMyCrib makes your job much easier and simpler. Store your contract online and view it any time you wish.\"))))))) : \"\", /*#__PURE__*/React.createElement(\"section\", {\n      className: \"receive_area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 rdc text-center\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Receive a Special Introductory Offer\"), this.state.f2Success ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        marginBottom: 20,\n        color: 'black'\n      },\n      className: \"text-center\"\n    }, \"Thank you for your interest.\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn green-btn sinterestformtryagain\",\n      type: \"submit\",\n      onClick: this.sinterestformtryagainHandler\n    }, \"Add another\")) : /*#__PURE__*/React.createElement(\"form\", {\n      role: \"form\",\n      className: \"sinterest-form\",\n      onSubmit: this.sinterestformHandler\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"email\",\n      type: \"email\",\n      className: \"form-control\",\n      id: \"emailaddress\",\n      name: \"emailaddress\",\n      placeholder: \"Enter your email\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"name\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"fullname\",\n      name: \"fullname\",\n      placeholder: \"Your full name\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"organization\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"company\",\n      name: \"company\",\n      placeholder: \"Company\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\"\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"tel\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"phone\",\n      name: \"phone\",\n      placeholder: \"Phone\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clearfix\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-12 col-md-12 col-lg-12 submit\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btns green-btn\"\n    }, \"Learn More!\"))))))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"frequently_area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"faq-content mar-btm-20\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container container-fixed rdc\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"faq-section-hold\"\n    }, /*#__PURE__*/React.createElement(\"h2\", null, \"Frequently asked questions\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-group agent-panel-group\",\n      id: \"accordion\",\n      role: \"tablist\",\n      \"aria-multiselectable\": \"true\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseOne\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseOne\",\n      className: \"collapsed\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title \"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"1\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"It is my understanding that current legislation will not allow for bidding that exceeds the permitted rent amount. \"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseOne\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingOne\",\n      \"aria-expanded\": \"false\",\n      style: {\n        height: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We have an option to disable the bidding and have done so.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We have contacted the RTB: Residential Tenancies Board in Ireland (in writing) and asked them if a tenant offers more rent and a landlord agrees to it - is that legal. They confirmed it is legal if both sides agree to it.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseTwo\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseOne\",\n      className: \"collapsed\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title \"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"2\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"What would the knock effect be should there be arrears, can warning letters be sent? etc\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseTwo\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingOne\",\n      \"aria-expanded\": \"false\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We can send warning emails/reminder emails and report on who are due rents, arrears.\"), \"                                              \", /*#__PURE__*/React.createElement(\"li\", null, \"SpotMyCrib also remembers the history of a tenants arrears, etc\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseThree\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseTwo\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingTwo\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"3\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"What responsibility is there on the agent, from a Data Protection perspective, If references are sent to a website?\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseThree\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingTwo\",\n      \"aria-expanded\": \"false\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"All Data is being held and maintained by SpotMyCrib within Europe and the key system ensures the data is being shared within in the terms of the consumer's signup.\"), /*#__PURE__*/React.createElement(\"li\", null, \"There is no responsibility on the agent, Users agree to terms of service, privacy when they upload their references. This actively operates within the GDPR (\", /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      href: \"https://en.wikipedia.org/wiki/General_Data_Protection_Regulation\"\n    }, \" Data protection Regulation\"), \") framework. \"), /*#__PURE__*/React.createElement(\"li\", null, \"Customers retain at all times the option to have all of their data removed, inspected or deletion if we're contacted in writing directly or indirectly by the agent on the consumer's behalf.\"), /*#__PURE__*/React.createElement(\"li\", null, \"The key system ensures the agent can deal with all Data Protection issues for a renter, speedily and thoroughly within the regulations.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Plus we are 100% compliant with data being stored within Europe, all of our data is stored on Amazon Ireland.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We also use https encryption, which encrypts all the communication between user and spotmycrib.ie\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseFour\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"4\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"Is there a benefit to the references being collect by Spot my crib rather than say our personal emails? \"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseFour\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingThree\",\n      \"aria-expanded\": \"false\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"There are many other advantages as given below. \"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Centralised records, no more going through emails back and forth to gain references.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Time tracking applications and sequencing\"), /*#__PURE__*/React.createElement(\"li\", null, \"Elimination of duplication.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Time-saving - as discussed on our previous meeting, let's say Neptune gets 30 viewings per house and for 100 units, its 3000 viewings - that is 3k digital applications\"), /*#__PURE__*/React.createElement(\"li\", null, \"Instant social profile checks - verify users to check if they would they be a good fit for the property.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Digital fingerprint background Checks - of all the references\"), /*#__PURE__*/React.createElement(\"li\", null, \"Instant salary affordability checks - Check if the tenants can afford the house\"), /*#__PURE__*/React.createElement(\"li\", null, \"No more paper to get lose.\"), /*#__PURE__*/React.createElement(\"li\", null, \"No longer tied to office - checks can be made from anywhere, any device, laptop/mobile.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Customised filters - to choose only the best tenants using an Agent's experience.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Set up invites for viewing - only invite selected applicants for the viewing.\"), /*#__PURE__*/React.createElement(\"li\", null, \"The key ensures it is a particular property and eliminates confusion for the renter.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseFive\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"5\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"How does someone who Is looking for an Apartment know to go to Spot my Crib?. They will think My Home and Daft. \"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseFive\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingThree\",\n      \"aria-expanded\": \"false\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Tenants can search for the property directly from our home page.\"), /*#__PURE__*/React.createElement(\"li\", null, \"A property's link/key is shared either in the ad or with the ad in daft, myhome etc.\"), /*#__PURE__*/React.createElement(\"li\", null, \"A property's link/key can also be posted on the Agent's website.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Agents can print the key and give a hardcopy of the key to viewers when they visit the property. \")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 btn-account_area\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('faqs'),\n      className: \"btn green-btn\"\n    }, \"More FAQs!\"))))))));\n  }\n\n}\n\nclass KnowMoreForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      f1Success: false\n    };\n    this.knowmoreformtryagainHandler = this.knowmoreformtryagainHandler.bind(this);\n    this.knowmoreformHandler = this.knowmoreformHandler.bind(this);\n  }\n\n  knowmoreformtryagainHandler() {\n    this.setState({\n      f1Success: false\n    });\n  }\n\n  knowmoreformHandler(event) {\n    event.preventDefault();\n    const target = event.target;\n    const email = target.emailaddress.value;\n    let validatedEmail = LoginFormValidation.email(email);\n\n    if (validatedEmail !== true) {\n      console.log(validatedEmail.error);\n      alert(validatedEmail.reason); // var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n      // if(!validatedEmail.reason)error.reason = 'Invalid email. Please correct the email address entered.';\n      // tmp.push(validatedEmail.reason);\n      // Session.set(\"showErrorDlg\",tmp)\n    } else {\n      ga('send', 'event', 'estateAgentPage', 'knowmoreForm', 'Know more form submitted');\n      Meteor.call('knowMoreRequestReceived', email);\n      this.setState({\n        f1Success: true\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"knowmore-form\",\n      onSubmit: this.knowmoreformHandler\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-btn\",\n      style: {\n        zIndex: 0,\n        margin: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('advertisewithus'),\n      className: \"btn green-btn\"\n    }, \"Advertise your property\")), this.state.f1Success ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        marginBottom: 20,\n        display: 'inline',\n        paddingRight: '15px'\n      }\n    }, \"Thank you for your interest.\") : /*#__PURE__*/React.createElement(\"input\", {\n      autoComplete: \"email\",\n      type: \"text\",\n      className: \"form-control emailaddress\",\n      name: \"emailaddress\",\n      placeholder: \"Enter your email.\",\n      style: {\n        paddingLeft: 10,\n        zIndex: 0\n      }\n    }), this.state.f1Success ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn transparent-btn knowmoreformtryagain\",\n      type: \"submit\",\n      onClick: this.knowmoreformtryagainHandler\n    }, \"Add another\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-btn\",\n      style: {\n        zIndex: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn transparent-btn\",\n      type: \"submit\"\n    }, \"Know More!\"))));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Faqs.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/Faqs.jsx                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Faqs\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass Faqs extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Frequently Asked Questions\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"faq-content\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"faq-section-hold\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"About SpotMyCrib\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-group\",\n      id: \"accordion1\",\n      role: \"tablist\",\n      \"aria-multiselectable\": \"true\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion1\",\n      href: \"#collapseOne1\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseOne\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title \"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"1\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"What is SpotMyCrib?\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseOne1\",\n      className: \"panel-collapse collapse in\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"Spotmycrib is an honest and open platform to provide you an ultimately safe and secure way make your renting experience an incredibly convenient experience for you. We understand your pain of standing in cold long queues and not getting called for. Say goodbye to your worries as spotmycrib is just a click away to bring together the landlord and the renter.\"), /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib brings renters and property owners together in one\\xA0transparent platform.\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion1\",\n      href: \"#collapseTwo1\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseTwo\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingTwo\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"2\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"Why do you need it?\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseTwo1\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingTwo\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"Your pain in waiting for the call after a long reference is about to end. This is the platform to view and apply to your future home conveniently using your mobile and get screened sooner. This platform provides you the ideal experience like no other.\"), /*#__PURE__*/React.createElement(\"p\", null, \"Save your precious time and valuable money! You don\\u2019t need to wait for long. Submit your online application along with your personal credentials and make this process much easier and faster. Get your dream house with just a few clicks. Our online rental payment system is reliable and safe to pay your rent once you are in your home. Monthly payment is digital now.\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion1\",\n      href: \"#collapseThree1\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"3\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"How it works?\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseThree1\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"hidden-xs\"\n    }, \"I am a\", /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns transparent-btn mar-left-10\",\n      href: FlowRouter.url('estateagent')\n    }, \"Landlord\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns green-btn scroll1 mar-left-10\",\n      href: FlowRouter.url('howitworks')\n    }, \"Renter\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"visible-xs\"\n    }, \"Choose from below options\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns transparent-btn mar-left-10\",\n      href: FlowRouter.url('estateagent')\n    }, \"Landlord\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns green-btn scroll1 mar-left-10\",\n      href: FlowRouter.url('howitworks')\n    }, \"Renter\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"faq-section-hold pad-btm-60\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"Estate Agents/Landlords/Property Owners\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-group agent-panel-group\",\n      id: \"accordion\",\n      role: \"tablist\",\n      \"aria-multiselectable\": \"true\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseOne\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseOne\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title \"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"1\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"It is my understanding that current legislation will not allow for bidding that exceeds the permitted rent amount. \"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseOne\",\n      className: \"panel-collapse collapse in\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We have an option to disable the bidding and have done so.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We have contacted the RTB: Residential Tenancies Board in Ireland (in writing) and asked them if a tenant offers more rent and a landlord agrees to it - is that legal. They confirmed it is legal if both sides agree to it.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseTwo\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseOne\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title \"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"2\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"What would the knock effect be should there be arrears, can warning letters be sent? etc\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseTwo\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingOne\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We can send warning emails/ reminder emails and report on who are due rents, arrears.\"), \"                                              \", /*#__PURE__*/React.createElement(\"li\", null, \"SpotMyCrib also remembers the history of a tenants arrears, etc\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseThree\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseTwo\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingTwo\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"3\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"What responsibility is there on the agent, from a Data Protection perspective, If references are sent to a website?\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseThree\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingTwo\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"All Data is being held and maintained by Spot My Crib within Europe and the key system ensures the data is being shared within in the terms of the consumer's signup.\"), /*#__PURE__*/React.createElement(\"li\", null, \"There is no responsibility on the agent, Users agree to terms of service, privacy when they upload their references. This actively operates within the GDPR (\", /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_blank\",\n      href: \"https://en.wikipedia.org/wiki/General_Data_Protection_Regulation\"\n    }, \" Data protection Regulation\"), \") framework. \"), /*#__PURE__*/React.createElement(\"li\", null, \"Customers retain at all times the option to have all of their data removed, inspected or deletion if we're contacted in writing directly or indirectly by the agent on the consumer's behalf.\"), /*#__PURE__*/React.createElement(\"li\", null, \"The key system ensures the agent can deal with all Data Protection issues for a renter, speedily and thoroughly within the regulations.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Plus we are 100% compliant with data being stored within Europe, all of our data is stored on Amazon Ireland.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We also use https encryption, which encrypts all the communication between user and spotmycrib.ie\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseFour\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"4\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"Is there a benefit to the references being collect by Spot my crib rather than say our personal emails? \"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseFour\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"There are many other advantages as given below. \"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Centralised records, no more going through emails back and forth to gain references.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Time tracking applications and sequencing\"), /*#__PURE__*/React.createElement(\"li\", null, \"Elimination of duplication.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Time-saving - as discussed on our previous meeting, let's say Neptune gets 30 viewings per house and for 100 units, its 3000 viewings - that is 3k digital applications\"), /*#__PURE__*/React.createElement(\"li\", null, \"Instant social profile checks - verify users to check if they would they be a good fit for the property.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Digital fingerprint background Checks - of all the references\"), /*#__PURE__*/React.createElement(\"li\", null, \"Instant salary affordability checks - Check if the tenants can afford the house\"), /*#__PURE__*/React.createElement(\"li\", null, \"No more paper to get lose.\"), /*#__PURE__*/React.createElement(\"li\", null, \"No longer tied to office - checks can be made from anywhere, any device, laptop/mobile.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Customised filters - to choose only the best tenants using an Agent's experience.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Set up invites for viewing - only invite selected applicants for the viewing.\"), /*#__PURE__*/React.createElement(\"li\", null, \"The key ensures it is a particular property and eliminates confusion for the renter.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"collapsed\",\n      role: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-parent\": \"#accordion\",\n      href: \"#collapseFive\",\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": \"collapseThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      role: \"tab\",\n      id: \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"panel-title\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"green-circle\"\n    }, \"5\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"position\"\n    }, \"How does someone who Is looking for an Apartment know to go to Spot my Crib?. They will think My Home and Daft. \"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"glyphicon glyphicon-menu-down active-arrow\"\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapseFive\",\n      className: \"panel-collapse collapse\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"headingThree\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\"\n    }, /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Tenants can search for the property directly from our home page.\"), /*#__PURE__*/React.createElement(\"li\", null, \"A property's link/key is shared either in the ad or with the ad in daft, myhome etc.\"), /*#__PURE__*/React.createElement(\"li\", null, \"A property's link/key can also be posted on the Agent's website.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Agents can print the key and give a hardcopy of the key to viewers when they visit the property. \")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mar-top-30\",\n      style: {\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"Learn more\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns transparent-btn mar-left-10\",\n      href: FlowRouter.url('estateagent')\n    }, \"I'm a Landlord\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btns green-btn scroll1 mar-left-10\",\n      href: FlowRouter.url('howitworks')\n    }, \"I'm a Renter\")))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Gdpr.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/Gdpr.jsx                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Gdpr\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass Gdpr extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Data Protection / GDPR\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"faq-content conditions\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad-top-btm-30 for-font\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"EU General Data Protection Regulation (GDPR)\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: true\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"The EU General Data Protection Regulation (GDPR) will set a new standard for how companies use and protect EU citizens' data. It will take effect from May 2018.\"), /*#__PURE__*/React.createElement(\"p\", null, \"At SpotMyCrib, we've been working hard to prepare for GDPR, to ensure that we fulfil its obligations and maintain our transparency about user and customer data and how we use data.\"), /*#__PURE__*/React.createElement(\"p\", null, \"Here's an overview of GDPR, and how we are preparing for it at SpotMyCrib.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"Overview\"), /*#__PURE__*/React.createElement(\"h4\", null, \"What is GDPR?\"), /*#__PURE__*/React.createElement(\"p\", null, \"The GDPR is a comprehensive European data protection law that provides significant data rights for protecting the privacy of natural persons residing in the EU. SpotMyCrib is committed to ensuring that our platform is GDPR-compliant when the regulation becomes enforceable on May 25, 2018.\"), /*#__PURE__*/React.createElement(\"h4\", null, \"How is GDPR applicable to SpotMyCrib?\"), /*#__PURE__*/React.createElement(\"p\", null, \"We collect data from our users and customers to better serve them. We also take ID proofs, references from our users as a supporting document for their letting application. We respect everyone's personal information, and it makes perfect sense for us to have one privacy policy and set of procedures to protect everyone's interests, including compliance with applicable local laws.\"), /*#__PURE__*/React.createElement(\"h4\", null, \"What personal information does SpotMyCrib process on behalf of its customers?\"), /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We collect and maintain personal contact details which includes contact name, job title, email address, telephone number, and company name. If the customer is an individual sole proprietor or unaffiliated with any commercial or non-profit entity, it's possible that additional information such as street address and credit cardholder data is included.\"), /*#__PURE__*/React.createElement(\"li\", null, \"All customer data, that is, data controlled by our customers which we process according to their instructions, is appropriately classified as Confidential. This confidential data could contain personally-identifiable information about our Customers' End Users, which we cannot identify because it is encrypted and not accessible by SpotMyCrib staff.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We also collect personal identity information as references to users application to a property. For example passport ID, PPS, resume or other details are collected to help you with your application process.\"), /*#__PURE__*/React.createElement(\"li\", null, \"More covered on \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('privacy')\n    }, \"privacy page\"), \".\")), /*#__PURE__*/React.createElement(\"h4\", null, \"What are Data Controllers and Data Processors?\"), /*#__PURE__*/React.createElement(\"p\", null, \"GDPR is designed to ensure protection of the privacy rights of data subjects. Data subjects are people from whom or about whom you collect information in connection with your business and its operations. Your obligations with regard to data subjects and their personal data depend on whether you're considered a controller or a processor under GDPR.\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Data Controllers\")), /*#__PURE__*/React.createElement(\"p\", null, \"GDPR defines a data controller as \\\"the natural or legal person, public authority, agency or another body which, alone or jointly with others, determines the purposes and means of the processing of personal data.\\\" In other words, if your organization processes personal data for your own organization's purposes and needs-not merely as a service provider acting on behalf of another organization-then you are likely to be a data controller.\"), /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib is a Data Controller for our direct customers.\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Data Processor\")), /*#__PURE__*/React.createElement(\"p\", null, \"Businesses or organizations that process personal data solely on behalf of, and as directed by, data controllers are data processors. In other words, when a data controller outsources a data processing function to another entity, that other entity is generally a data processor.\"), /*#__PURE__*/React.createElement(\"p\", null, \"For purposes of the GDPR, SpotMyCrib is also considered a Data Processor for our customers' end-users.\"), /*#__PURE__*/React.createElement(\"h4\", null, \"What steps is SpotMyCrib taking to ensure GDPR compliance?\"), /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We conducted an internal review of all data our data points, how its collected, stored and how it's being used.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We conducted an internal Data Protection Impact Assessment (DPIA) to discover what information we collect, and how it's being used.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We will provide users and customers with resources and helpful information about privacy and GDPR, including whitepapers and blog posts.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We will announce an update of our Privacy Policy for GDPR.\")), /*#__PURE__*/React.createElement(\"h3\", null, \"Our Customers and the GDPR\"), /*#__PURE__*/React.createElement(\"h4\", null, \"As a SpotMyCrib customer, what are my main responsibilities under the GDPR?\"), /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib customers are responsible for protecting the personal information of their end users, as Data Controllers and/or Data Exporters.\"), /*#__PURE__*/React.createElement(\"p\", null, \"Your responsibilities under GDPR will depend on the nature of your business and your personal data processing activities.  Nonetheless, broadly speaking, GDPR requires that personal data be:\"), /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Processed lawfully, fairly and in a transparent manner,\"), /*#__PURE__*/React.createElement(\"li\", null, \"Collected for specified, explicit and legitimate purposes and not further processed in a manner incompatible with those purposes,\"), /*#__PURE__*/React.createElement(\"li\", null, \"Adequate, relevant, and limited to what is necessary for achieving those purposes,\"), /*#__PURE__*/React.createElement(\"li\", null, \"Accurate and kept up to date\"), /*#__PURE__*/React.createElement(\"li\", null, \"Stored no longer than necessary to achieve the purposes for which it was collected, and\"), /*#__PURE__*/React.createElement(\"li\", null, \"Properly secured against accidental loss, destruction or damage.\")), /*#__PURE__*/React.createElement(\"p\", null, \"It is our customer's responsibility to obtain the EXPRESS CONSENT of individual Data Subjects (for example, tenants, applications) to transfer their Personal Data to SpotMyCrib as a Data Processor and/or Data Importer. SpotMyCrib processes all such information as Confidential Data in accordance with the terms of our Data Processing Agreement and/or this Privacy Policy.\"), /*#__PURE__*/React.createElement(\"h4\", null, \"What actions does our customers need to take?\"), /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, \"In addition to seeking independent legal advice regarding your obligations under the GDPR, here are some tips to get you started:\"), /*#__PURE__*/React.createElement(\"li\", null, \"Educate yourself on the provisions of the \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://gdpr-info.eu/\",\n      target: \"_blank\"\n    }, \"GDPR\"), \" to understand how they may differ from your existing data protection obligations and practices.\"), /*#__PURE__*/React.createElement(\"li\", null, \"If you don't have dedicated data privacy or security personnel in-house, consider appointing a directly responsible individual (DRI) or small team to manage your company's GDPR compliance efforts.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Create an up-to-date inventory of personal data that you collect and manage.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Create a list of vendors who you send data to (analytics tools, CRMs, email tools, etc.), and understand whether they are a controller or a processor. Then, determine what their obligations are, and make sure they have a plan to be ready for the GDPR.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Develop a plan for obtaining and managing \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://gdpr-info.eu/art-7-gdpr/\",\n      target: \"_blank\"\n    }, \"consent\"), \" in accordance with the GDPR or establish other lawful grounds for using personal data.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Determine if your company needs to appoint a \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://gdpr-info.eu/art-37-gdpr/\",\n      target: \"_blank\"\n    }, \"Data Protection Officer\"), \" (DPO). For public authorities, and companies processing large amounts of special categories of personal data, the appointment of a \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://secure.edps.europa.eu/EDPSWEB/edps/EDPS/DPO\",\n      target: \"_blank\"\n    }, \"data protection officer\"), \" (DPO) is mandatory. Organizations will be expected to hire someone who has real expertise and knowledge of the latest laws and practices.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Becoming GDPR compliant takes time, and will require you to rethink how you collect and manage customer data. If you have any questions about the GDPR or want to learn how SpotMyCrib can help you prepare, please let us know.\")), /*#__PURE__*/React.createElement(\"h4\", null, \"What are the penalties for non-compliance with GDPR?\"), /*#__PURE__*/React.createElement(\"p\", null, \"Depending on the nature of the violation, data protection authorities may issue fines or penalties for non-compliance up to \\u20AC 20 million or 4% of global revenue.\"), /*#__PURE__*/React.createElement(\"h4\", null, \"Where can I get more information about GDPR?\"), /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, \"From the original source: The Council of the European Union where the legislation was approved. \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://publications.europa.eu/en/publication-detail/-/publication/c7d157e6-fccd-11e7-b8f5-01aa75ed71a1/language-en/format-PDF/source-62885347\",\n      target: \"_blank\"\n    }, \"https://publications.europa.eu/en/publication-detail/-/publication/c7d157e6-fccd-11e7-b8f5-01aa75ed71a1/language-en/format-PDF/source-62885347\")), /*#__PURE__*/React.createElement(\"li\", null, \"For more general GDPR readiness portals, we suggest:\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.eugdpr.org/\",\n      target: \"_blank\"\n    }, \"https://www.eugdpr.org/\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"GDPR FAQs: \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.eugdpr.org/gdpr-faqs.html\",\n      target: \"_blank\"\n    }, \"https://www.eugdpr.org/gdpr-faqs.html\")))), /*#__PURE__*/React.createElement(\"li\", null, \"From leading Privacy advocacy organizations:\", /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://iapp.org/resources/topics/eu-gdpr/\",\n      target: \"_blank\"\n    }, \"https://iapp.org/resources/topics/eu-gdpr/\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.epic.org/international/eu_general_data_protection_reg.html\",\n      target: \"_blank\"\n    }, \"https://www.epic.org/international/eu_general_data_protection_reg.html\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"http://www.truste.com\",\n      target: \"_blank\"\n    }, \"www.truste.com\"))))), /*#__PURE__*/React.createElement(\"p\", null, \"Have more questions? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus'),\n      target: \"_blank\"\n    }, \"Submit a request\"))))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"HowItWorks.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/HowItWorks.jsx                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => HowItWorks\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass HowItWorks extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"about-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"How it Works\")), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"how-works\",\n      className: \"sec-holder how-it-works\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-btm-30\"\n    }, \"Search Property\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/how-it-works/search-and-find-property-apartment-flat.png\"),\n      alt: \"Search and find your rental property\",\n      className: \"pad-btm-30\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Search and find an apartment/house you like from our \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home') + '#searchform'\n    }, \"browse form\"), \". Or choose your county from our \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('home') + '#homeLinks'\n    }, \"county list\"), \" in our home page.\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-btm-30\"\n    }, \"Set Your Rent\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/how-it-works/set-your-rent-apartment.png\"),\n      alt: \"Apply and set your rent for Apartment\",\n      className: \"pad-btm-30\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Make your offer for the house and click apply. Remember to upload all your references in your profile.\")), /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"pad-btm-30\"\n    }, \"Confirm your Home\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: cdnPath(\"/images/how-it-works/confirm-your-rent-in-dublin.png\"),\n      alt: \"Confirm your rental\",\n      className: \"pad-btm-30\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Landlord chooses a tenant based on your references and your offer. If you are chosen, you would receive a confirmation email. \")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mar-top-30\"\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('faqs'),\n      className: \"green-btn btns \",\n      type: \"button\"\n    }, \"Learn more\")))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Privacy.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/Privacy.jsx                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Privacy\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass Privacy extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Privacy Policy\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"faq-content conditions\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad-top-btm-30 for-font\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-grey\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Your privacy is important to us. This privacy policy explains what personal data SpotMyCrib collects from you, through our interactions with you and through our products, and how we use that data.\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"infoCo\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"It is compiled to better serve those who are concerned with how their 'Personally Identifiable Information' (PII) is being used online. PII, as described in privacy law and information security, is information that can be used on its own or with other information to identify, contact, or locate a single person, or to identify an individual in context. Please read our privacy policy carefully to get a clear understanding of how we collect, use, protect or otherwise handle your Personally Identifiable Information in accordance with our website.\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"infoCo\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"What personal information do we collect from the people that visit website?\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"ol\", null, /*#__PURE__*/React.createElement(\"li\", null, \"We collect and maintain personal contact details which includes contact name, job title, email address, telephone number, and company name. If the customer is an individual sole proprietor or unaffiliated with any commercial or non-profit entity, it's possible that additional information such as street address and credit cardholder data is included.\"), /*#__PURE__*/React.createElement(\"li\", null, \"All customer data, that is, data controlled by our customers which we process according to their instructions, is appropriately classified as Confidential. This confidential data could contain personally-identifiable information about our Customers' End Users, which we cannot identify because it is encrypted and not accessible by SpotMyCrib staff.\"), /*#__PURE__*/React.createElement(\"li\", null, \"We also collect personal identity information as references to users application to a property. For example passport ID, PPS, resume or other details are collected to help you with your application process.\"), /*#__PURE__*/React.createElement(\"li\", null, \"More covered on \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('gdpr')\n    }, \"Data Protection\"), \" page.\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"When do we collect information?\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We collect information from you when you register on our site, applying for a letting, upload references to your profile, browse through the site, search for properties, fill out a form or enter information on our site.\"), /*#__PURE__*/React.createElement(\"br\", null), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      id: \"infoUs\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"How do we use your information? \")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \" We may use the information we collect from you when you register, apply for a letting, sign up for our newsletter, respond to a survey or marketing communication, surf the website, or use certain other site features in the following ways:\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" As a reference to your letting application process, your references and personal info will only be shared with the landlord or the agents who posted the property. Your information will not be shared with anyone else and will be kept confidential. \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" To personalize your experience and to allow us to deliver the type of content and product offerings in which you are most interested.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" To improve our website in order to better serve you.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" To quickly process your transactions.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" To send periodic emails regarding your rental application, profile, property alerts or other similar services.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" To follow up with them after correspondence (live chat, email or phone inquiries)\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"infoPro\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"How do we protect your information?\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We do not use vulnerability scanning and/or scanning to PCI standards.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We only provide articles and information. We never ask for credit card numbers.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We do not use Malware Scanning.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Your personal information is contained behind secured networks and is only accessible by a limited number of persons who have special access rights to such systems, and are required to keep the information confidential. In addition, all sensitive/credit information you supply is encrypted via Secure Socket Layer (SSL) technology. \"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We implement a variety of security measures when a user enters, submits, or accesses their information to maintain the safety of your personal information.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"coUs\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"How to Access & Control Your Personal Data?\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"You can view, edit, or delete your personal data online for your profile. You can always choose whether you wish to receive promotional email, SMS messages, telephone calls and postal mail from SpotMyCrib. You can also opt out from receiving interest-based advertising from SpotMyCrib by clicking on unsubscribe from our emails or by writing to us at \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"mailto:support@spotmycrib.com\"\n    }, \"support@spotmycrib.com\"), \" .\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"coUs\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Do we use 'cookies'?\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Yes. Cookies are small files that a site or its service provider transfers to your computer's hard drive through your Web browser (if you allow) that enables the site's or service provider's systems to recognize your browser and capture and remember certain information. For instance, we use cookies to help us remember and process the items in your shopping cart. They are also used to help us understand your preferences based on previous or current site activity, which enables us to provide you with improved services. We also use cookies to help us compile aggregate data about site traffic and site interaction so that we can offer better site experiences and tools in the future.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"We use cookies to:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" Understand and save user's preferences for future visits.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), \"You can choose to have your computer warn you each time a cookie is being sent, or you can choose to turn off all cookies. You do this through your browser settings. Since browser is a little different, look at your browser's Help Menu to learn the correct way to modify your cookies.\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"If you turn cookies off, Some of the features that make your site experience more efficient may not function properly.It won't affect the user's experience that make your site experience more efficient and may not function properly.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"More information about out cookies are in our \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('cookiepolicy')\n    }, \"Cookie Policy\"), \" page.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"trDi\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Third-party disclosure\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Do we disclose the information we collect to Third-Parties?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We sell,trade, or otherwise transfer to outside parties your name, address,city,town, any form or online contact identifier email, name of chat account etc., screen name or user names, phone number\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"We engage in this practice because,:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Users references and personal details uploaded in profile will only be shared with landlord or agents, as a proof of your application. \"), \"Personally Identifiable Information.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"trLi\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-black\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Third-party links\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Occasionally, at our discretion, we may include or offer third-party products or services on our website. These third-party sites have separate and independent privacy policies. We therefore have no responsibility or liability for the content and activities of these linked sites. Nonetheless, we seek to protect the integrity of our site and welcome any feedback about these sites.\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"gooAd\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blueText\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Google\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Google's advertising requirements can be summed up by Google's Advertising Principles. They are put in place to provide a positive experience for users. https://support.google.com/adwordspolicy/answer/1316548?hl=en \", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We use Google AdSense Advertising on our website.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), \"Google, as a third-party vendor, uses cookies to serve ads on our site. Google's use of the DART cookie enables it to serve ads to our users based on previous visits to our site and other sites on the Internet. Users may opt-out of the use of the DART cookie by visiting the Google Ad and Content Network privacy policy.\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"We have implemented the following:\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We, along with third-party vendors such as Google use first-party cookies (such as the Google Analytics cookies) and third-party cookies (such as the DoubleClick cookie) or other third-party identifiers together to compile data regarding user interactions with ad impressions and other ad service functions as they relate to our website. \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"Opting out:\"), /*#__PURE__*/React.createElement(\"br\", null), \"Users can set preferences for how Google advertises to you using the Google Ad Settings page. Alternatively, you can opt out by visiting the Network Advertising Initiative Opt Out page or by using the Google Analytics Opt Out Browser add on.\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"calOppa\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blueText\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"California Online Privacy Protection Act\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy.  The law's reach stretches well beyond California to require any person or company in the United States (and conceivably the world) that operates websites collecting Personally Identifiable Information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals or companies with whom it is being shared. -  See more at: http://consumercal.org/california-online-privacy-protection-act-caloppa/#sthash.0FdRbT51.dpuf\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"According to CalOPPA, we agree to the following:\"), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Users can visit our site anonymously.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Once this privacy policy is created, we will add a link to it on our home page or as a minimum, on the first significant page after entering our website.\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Our Privacy Policy link includes the word 'Privacy' and can easily be found on the page specified above.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), \"You will be notified of any Privacy Policy changes:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" On our Privacy Policy Page\", /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Can change your personal information:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" By logging in to your account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"How does our site handle Do Not Track signals?\"), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We honor Do Not Track signals and Do Not Track, plant cookies, or use advertising when a Do Not Track (DNT) browser mechanism is in place. \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"strong\", null, \"Does our site allow third-party behavioral tracking?\"), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"It's also important to note that we do not allow third-party behavioral tracking\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"coppAct\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blueText\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"COPPA (Children Online Privacy Protection Act)\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"When it comes to the collection of personal information from children under the age of 13 years old, the Children's Online Privacy Protection Act (COPPA) puts parents in control.  The Federal Trade Commission, United States' consumer protection agency, enforces the COPPA Rule, which spells out what operators of websites and online services must do to protect children's privacy and safety online.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We do not specifically market to children under the age of 13 years old.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"Do we let third-parties, including ad networks or plug-ins collect PII from children under 13?\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"ftcFip\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blueText\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Fair Information Practices\")), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"The Fair Information Practices Principles form the backbone of privacy law in the United States and the concepts they include have played a significant role in the development of data protection laws around the globe. Understanding the Fair Information Practice Principles and how they should be implemented is critical to comply with the various privacy laws that protect personal information.\", /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"In order to be in line with Fair Information Practices we will take the following responsive action, should a data breach occur:\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" Within 7 business days\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"We will notify the users via in-site notification\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"strong\", null, \"\\u2022\"), \" Within 7 business days\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerText\"\n    }, /*#__PURE__*/React.createElement(\"br\", null), \"We also agree to the Individual Redress Principle which requires that individuals have the right to legally pursue enforceable rights against data collectors and processors who fail to adhere to the law. This principle requires not only that individuals have enforceable rights against data users, but also that individuals have recourse to courts or government agencies to investigate and/or prosecute non-compliance by data processors.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Have more questions? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: FlowRouter.url('contactus')\n    }, \"Submit a request\"))))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Terms.jsx\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/reactui/static/Terms.jsx                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Terms\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 1);\nlet MainLayoutFooter;\nmodule.link(\"../layout/MainLayoutFooter.jsx\", {\n  default(v) {\n    MainLayoutFooter = v;\n  }\n\n}, 2);\nlet MainLayoutHeader;\nmodule.link(\"../layout/MainLayoutHeader.jsx\", {\n  default(v) {\n    MainLayoutHeader = v;\n  }\n\n}, 3);\n\nclass Terms extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MainLayoutHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"index\"\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"contact-bnr\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Terms of Service\")), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"faq-content conditions\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pad-top-btm-30 for-font\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"color-grey\"\n    }, /*#__PURE__*/React.createElement(\"h3\", null, \"1. Terms\"), /*#__PURE__*/React.createElement(\"p\", null, \"By accessing the website at \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.spotmycrib.ie/\"\n    }, \"https://www.spotmycrib.ie/\"), \", you are agreeing to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site. The materials contained in this website are protected by applicable copyright and trademark law.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"2. Use License\"), /*#__PURE__*/React.createElement(\"ol\", {\n      type: \"a\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, \"Permission is granted to temporarily download one copy of the materials (information or software) on SpotMyCrib.ie's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:\", /*#__PURE__*/React.createElement(\"ol\", {\n      type: \"i\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, \"modify or copy the materials;\"), /*#__PURE__*/React.createElement(\"li\", null, \"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);\"), /*#__PURE__*/React.createElement(\"li\", null, \"attempt to decompile or reverse engineer any software contained on SpotMyCrib.ie's website;\"), /*#__PURE__*/React.createElement(\"li\", null, \"remove any copyright or other proprietary notations from the materials; or\"), /*#__PURE__*/React.createElement(\"li\", null, \"transfer the materials to another person or \\\"mirror\\\" the materials on any other server.\"))), /*#__PURE__*/React.createElement(\"li\", null, \"This license shall automatically terminate if you violate any of these restrictions and may be terminated by SpotMyCrib.ie at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format.\")), /*#__PURE__*/React.createElement(\"h3\", null, \"3. Disclaimer\"), /*#__PURE__*/React.createElement(\"ol\", {\n      type: \"a\"\n    }, /*#__PURE__*/React.createElement(\"li\", null, \"The materials on SpotMyCrib.ie's website are provided on an 'as is' basis. SpotMyCrib.ie makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.\"), /*#__PURE__*/React.createElement(\"li\", null, \"Further, SpotMyCrib.ie does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its website or otherwise relating to such materials or on any sites linked to this site.\")), /*#__PURE__*/React.createElement(\"h3\", null, \"4. Limitations\"), /*#__PURE__*/React.createElement(\"p\", null, \"In no event shall SpotMyCrib.ie or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on SpotMyCrib.ie's website, even if SpotMyCrib.ie or a SpotMyCrib.ie authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"5. Accuracy of materials\"), /*#__PURE__*/React.createElement(\"p\", null, \"The materials appearing on SpotMyCrib.ie website could include technical, typographical, or photographic errors. SpotMyCrib.ie does not warrant that any of the materials on its website are accurate, complete or current. SpotMyCrib.ie may make changes to the materials contained on its website at any time without notice. However SpotMyCrib.ie does not make any commitment to update the materials.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"6. Links\"), /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib.ie has not reviewed all of the sites linked to its website and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by SpotMyCrib.ie of the site. Use of any such linked website is at the user's own risk.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"7. Modifications\"), /*#__PURE__*/React.createElement(\"p\", null, \"SpotMyCrib.ie may revise these terms of service for its website at any time without notice. By using this website you are agreeing to be bound by the then current version of these terms of service.\"), /*#__PURE__*/React.createElement(\"h3\", null, \"8. Governing Law\"), /*#__PURE__*/React.createElement(\"p\", null, \"These terms and conditions are governed by and construed in accordance with the laws of Dublin and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location.\")))))), /*#__PURE__*/React.createElement(\"footer\", {\n      className: \"footer-default\"\n    }, /*#__PURE__*/React.createElement(MainLayoutFooter, null)));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"api\":{\"collections.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/api/collections.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Collections: () => Collections\n});\nlet Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 0);\n// import \"./schemas.js\";\n// export const Tasks = new Mongo.Collection('Property');\n// import SimpleSchema from \"simpl-schema\";\n// SimpleSchema.extendOptions(['autoform']);\nmodule.runSetters(Collections = {});\nCollections.Properties = new Mongo.Collection(\"Properties\");\nCollections.Bids = new Mongo.Collection(\"Bids\");\nCollections.Auctions = new Mongo.Collection(\"Auctions\");\nCollections.Agents = new Mongo.Collection(\"Agents\");\nCollections.Config = new Mongo.Collection(\"Config\");\nCollections.PropertyManage = new Mongo.Collection(\"PropertyManage\");\nCollections.ActivityHistory = new Mongo.Collection(\"ActivityHistory\");\nCollections.Areas = new Mongo.Collection(\"Areas\");\nCollections.Blogs = new Mongo.Collection(\"Blogs\");\nCollections.EmailEnquiries = new Mongo.Collection(\"EmailEnquiries\");\nCollections.EmailRequests = new Mongo.Collection(\"EmailRequests\");\nCollections.Properties.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Properties.before.update(function (userId, doc, fieldNames, modifier, options) {\n  var skip = false;\n  if (Array.isArray(fieldNames)) if (fieldNames.indexOf('auctionHistory') != -1) {\n    if (modifier['$set']['auctionId'] == \"\" && modifier['$set']['rent'] == \"\") skip = true; //This is for deactivate\n  }\n\n  if (!skip) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date();\n  }\n});\nCollections.Bids.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Bids.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.Auctions.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Auctions.before.update(function (userId, doc, fieldNames, modifier, options) {\n  var skip = false;\n  if (Array.isArray(fieldNames)) if (fieldNames.length == 1 && fieldNames.indexOf('views') != -1) {\n    // console.log('Its just view, so skipping')\n    skip = true;\n  }\n  if (fieldNames['isArchived'] == true) skip = true; //This is for deactivate\n\n  if (!skip) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date();\n  }\n});\nCollections.Agents.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Agents.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.Config.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Config.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.PropertyManage.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.PropertyManage.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.ActivityHistory.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.ActivityHistory.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.Areas.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Areas.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.Blogs.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.Blogs.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.EmailEnquiries.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.EmailEnquiries.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\nCollections.EmailRequests.before.insert(function (userId, doc) {\n  doc.createdAt = new Date();\n  doc.updatedAt = new Date();\n});\nCollections.EmailRequests.before.update(function (userId, doc, fieldNames, modifier, options) {\n  modifier.$set = modifier.$set || {};\n  modifier.$set.updatedAt = new Date();\n});\n\nif (Meteor.isClient) {\n  Collections.PA_AvgOffer = new Mongo.Collection(\"avgOffer\");\n}\n\nif (Meteor.isServer) {\n  Collections.propertyAlerts = new Mongo.Collection(\"propertyAlerts\");\n  Collections.propertyAlerts.before.insert(function (userId, doc) {\n    if (userId) doc.userId = userId;\n    doc.createdAt = new Date();\n    doc.updatedAt = new Date();\n  });\n  Collections.propertyAlerts.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date();\n  });\n} // Collections.Auctions.attachSchema(Schema.Auctions);\n// Collections.Properties.attachSchema(Schema.Properties);\n// Collections.Bids.attachSchema(Schema.Bids);\n\n\nUI.registerHelper(\"retCollectionProperties\", function () {\n  return Collections.Properties;\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"profile.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/api/profile.js                                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./collections.js\");\nlet check;\nmodule.link(\"meteor/check\", {\n  check(v) {\n    check = v;\n  }\n\n}, 0);\nMeteor.methods({\n  updateReferenceFile: function (args) {\n    // check([], []);\n    console.log(\"server method updateReferenceFile called\");\n    const userId = Meteor.userId();\n    var p1 = '';\n    var p2 = '';\n\n    switch (args[0]) {\n      case \"Resume\":\n        p1 = \"hasResume\";\n        p2 = \"resume\";\n        break;\n\n      case \"Work Reference\":\n        p1 = \"hasWorkRef\";\n        p2 = \"workRef\";\n        break;\n\n      case \"Landlord Reference\":\n        p1 = \"hasLandlordRef\";\n        p2 = \"landlordRef\";\n        break;\n\n      case \"Financial Reference\":\n        p1 = \"hasFinancialRef\";\n        p2 = \"financialRef\";\n        break;\n\n      case \"Government ID\":\n        p1 = \"hasGovtID\";\n        p2 = \"govtID\";\n        break;\n\n      case \"Passport\":\n        p1 = \"hasPassport\";\n        p2 = \"passport\";\n        break;\n\n      case \"PPS\":\n        p1 = \"hasPPS\";\n        p2 = \"PPS\";\n        break;\n    }\n\n    if (p1 && p2) {\n      p1 = \"profile.references.\" + p1;\n      p2 = \"profile.references.\" + p2;\n      var setObj = {};\n      setObj[p1] = true;\n      setObj[p2] = args[1];\n      console.log(p1);\n      console.log(p2);\n      console.log(setObj);\n      Meteor.users.update(userId, {\n        $set: setObj\n      });\n    }\n\n    return {\n      status: 'Success'\n    };\n  },\n  updateMobile: function (newMobile) {\n    // check(newMobile, []);\n    console.log(\"server method updateMobile called\");\n    const userId = Meteor.userId();\n    Meteor.users.update({\n      \"_id\": userId\n    }, {\n      $set: {\n        \"profile.mobile\": newMobile,\n        \"profile.isMobileVerified\": false\n      }\n    });\n    return {\n      status: 'Success'\n    };\n  },\n  updateEmployerName: function (newEmp) {\n    check(newEmp, String);\n\n    if (!newEmp.length || newEmp.length < 2) {\n      throw new Meteor.Error(500, 'Invalid employee name', 'Employee name cannot be less then 2 characters.');\n    }\n\n    console.log(\"server method updateEmployerName called: \" + newEmp);\n    const userId = Meteor.userId();\n    Meteor.users.update({\n      \"_id\": userId\n    }, {\n      $set: {\n        \"profile.references.employerName\": newEmp\n      }\n    });\n    return {\n      status: 'Success'\n    };\n  },\n  updateEmployerTakeHome: function (salary) {\n    check(salary, Number);\n\n    if (salary < 0 || salary > Number.MAX_VALUE) {\n      throw new Meteor.Error(500, 'Invalid employee take home', 'Employee take home salary cannot be less then 0 or too large.');\n    }\n\n    console.log(\"server method updateEmployerTakeHome called: \" + salary);\n    const userId = Meteor.userId();\n    Meteor.users.update({\n      \"_id\": userId\n    }, {\n      $set: {\n        \"profile.references.employerTakeHome\": salary\n      }\n    });\n    return {\n      status: 'Success'\n    };\n  },\n  sendOTP: function (args) {\n    check(args, Match.Any);\n    console.log(\"server method sendOTP called\");\n\n    if (!isLoggedOn()) {\n      throw new Meteor.Error(500, 'Error 500: Login needed', 'Please login before you request.');\n    }\n\n    const user = Meteor.user();\n\n    if (user.profile.isMobileVerified) {\n      throw new Meteor.Error(500, 'Error 500: Mobile already verified. ', 'Your mobile is already verified.');\n    } //DON'T need below code as we will be using this method for both send and RESEND.\n    //if(user.profile.OTPValue){\n    //  var today = new Date();\n    //  var OTPSentOn = new Date(user.profile.OTPSentOn);\n    //  var diffMs = (OTPSentOn - today); // milliseconds between now & Christmas\n    //  var diffMins = Math.round(((diffMs % 86400000) % 3600000) / 60000); // minutes\n    //  if(diffMins > 15){//OTP has expired\n    //\n    //  }else{//OTP previous OTP is still valid.\n    //\n    //  }\n    //}\n\n\n    const newOTP = Math.floor(100000 + Math.random() * 900000);\n    const userEmail = user.profile.email;\n    const username = user.profile.name; //TODO separate SMS sending in an this.unblock method\n\n    /* Send OTP via email */\n\n    Meteor.call(\"sendNotificationEmail\", {\n      template: \"otpEmail\",\n      user: {\n        profile: {\n          username: username\n        }\n      },\n      otp: newOTP,\n      subject: \"IBidMyHome OTP: Verify your mobile number\",\n      mailTo: user.profile.email\n    });\n    /* Send OTP via mobile*/\n\n    var OPTsmsText = 'Your OTP is: ' + newOTP;\n    var APIURL = 'http://atrans.smscuppa.com/sendsms.jsp?user=mybids&password=mybids&mobiles=' + user.profile.mobile + '&general=' + OPTsmsText + '&senderid=MYBIDS&version=3';\n    var APIURL = 'http://atrans.smscuppa.com/sendsms.jsp';\n    var options = {\n      \"params\": {\n        \"user\": \"mybids\",\n        \"password\": \"mybids\",\n        \"mobiles\": user.profile.mobile,\n        \"sms\": OPTsmsText,\n        \"senderid\": \"MYBIDS\",\n        \"version\": \"3\"\n      },\n      \"headers\": {//\"X-API-KEY\" : APIKey,\n        //\"X-Auth-Token\" : AUTHToken\n      }\n    };\n    var response = HTTP.get(APIURL, options);\n    Meteor.users.update({\n      \"_id\": user._id\n    }, {\n      $currentDate: {\n        \"profile.OTPSentOn\": {\n          $type: \"timestamp\"\n        }\n      },\n      $set: {\n        \"profile.OTPValue\": newOTP\n      }\n    });\n    return {\n      status: 'Success'\n    };\n  },\n  verifyOTP: function (args) {\n    check(args, Match.Any);\n    var otp = args[0];\n    console.log(\"server method verifyOTP called\");\n\n    if (!isLoggedOn()) {\n      throw new Meteor.Error(500, 'Error 500: Login needed', 'Please login before you request.');\n    }\n\n    const user = Meteor.user();\n\n    if (user.profile.OTPValue) {\n      var today = new Date();\n      var OTPSentOn = new Date(user.profile.OTPSentOn);\n      var diffMs = OTPSentOn - today; // milliseconds between now & Christmas\n\n      var diffMins = Math.round(diffMs % 86400000 % 3600000 / 60000); // minutes\n\n      if (diffMins > 15) {\n        //OTP has expired\n        throw new Meteor.Error(500, 'Error 500: OTP has expired', 'Your OTP has expired.');\n      } else {//OTP previous OTP is still valid.\n      }\n    } else {\n      throw new Meteor.Error(500, 'Error 500: OTP is not valid', 'You need an OTP to verify.');\n    }\n\n    if (user.profile.OTPValue == otp) {\n      Meteor.users.update({\n        \"_id\": user._id\n      }, {\n        $set: {\n          \"profile.isMobileVerified\": true\n        }\n      });\n    } else {\n      throw new Meteor.Error(500, 'Error 500: OTP is not valid', 'OTP entered is wrong.');\n    }\n\n    return {\n      status: 'Success'\n    };\n  }\n});\n\nfunction randomString(length, chars) {\n  var mask = '';\n  if (chars.indexOf('a') > -1) mask += 'abcdefghijklmnopqrstuvwxyz';\n  if (chars.indexOf('A') > -1) mask += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  if (chars.indexOf('#') > -1) mask += '0123456789';\n  if (chars.indexOf('!') > -1) mask += '~`!@#$%^&*()_+-={}[]:\";\\'<>?,./|\\\\';\n  var result = '';\n\n  for (var i = length; i > 0; --i) result += mask[Math.floor(Math.random() * mask.length)];\n\n  return result;\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"properties.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/api/properties.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./collections.js\");\nlet check;\nmodule.link(\"meteor/check\", {\n  check(v) {\n    check = v;\n  }\n\n}, 0);\n// import TokenGen from 'token-gen';\nMeteor.methods({\n  addProperty: function (data) {\n    console.log(\"common method addProperty called\");\n    const userId = Meteor.userId();\n    console.log(userId);\n\n    if (!userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    var doc = {\n      \"address\": {\n        \"address\": getA(data, 'address.address'),\n        \"county\": getA(data, 'address.county'),\n        \"area\": getA(data, 'address.area'),\n        \"country\": \"Ireland\"\n      },\n      \"type\": getA(data, 'type'),\n      \"baths\": parseInt(getA(data, 'baths')),\n      \"furnished\": getA(data, 'furnished') == \"true\" ? true : false,\n      \"contacts\": [{\n        \"name\": getA(data, 'contacts.0.name'),\n        \"phone\": getA(data, 'contacts.0.phone'),\n        \"email\": getA(data, 'contacts.0.email')\n      }],\n      \"about\": getA(data, 'about'),\n      \"amenities\": getA(data, 'amenities'),\n      \"createdByAgent\": userId,\n      \"isArchived\": false,\n      \"createdAt\": new Date(),\n      \"updatedAt\": new Date()\n    };\n    var slug = '';\n    if (doc.type) slug = doc.type;\n    if (doc.address.address) slug += '-' + doc.address.address;\n    if (doc.address.area) slug += '-' + doc.address.area;\n    if (doc.address.county) slug += '-' + doc.address.county;\n    doc.slug = slugify(slug); // {name: \"bedrooms.0.ensuite\", value: \"on\"}\n    // 8\n    // :\n    // {name: \"bedrooms.0.bedType\", value: \"single\"}\n    // \"bedrooms\" : [\n    //     {\n    //         \"bedType\" : \"double\",\n    //         \"ensuite\" : true\n    //     },\n    //     {\n    //         \"bedType\" : \"single\",\n    //         \"ensuite\" : false\n    //     }\n    // ],\n\n    var isImported = getA(data, 'isImported');\n\n    if (isImported == 'true') {\n      doc['isImported'] = true;\n      let url = getA(data, 'url');\n\n      if (url) {\n        doc.importData = {\n          'url': url,\n          'lastCheckedDate': new Date()\n        };\n      }\n    }\n\n    var numBedRoomCount = getA(data, 'numBedRoomCount');\n\n    if (numBedRoomCount) {\n      var bedrooms = [];\n\n      for (var i = 0; i < numBedRoomCount; i++) {\n        var bne = \"bedrooms.\" + i + \".ensuite\";\n        var bnt = \"bedrooms.\" + i + \".bedType\";\n        var tmp = {};\n        if (getA(data, bne)) tmp.ensuite = true;else tmp.ensuite = false;\n        tmp.bedType = getA(data, bnt);\n        bedrooms.push(tmp);\n      }\n\n      doc['bedrooms'] = bedrooms;\n      doc['bedCount'] = bedrooms.length;\n    } else {\n      doc['bedrooms'] = [];\n      doc['bedCount'] = '1'; //default 1\n    }\n\n    var docId = Collections.Properties.insert(doc); //, {validationContext: 'create'}, function(err, res) {\n    //     if (err) {\n    //         throw new Meteor.Error(400, Collections.Properties.simpleSchema().namedContext('create').invalidKeys());\n    //     }\n    //     return res;\n    // });\n\n    Meteor.call('addManageProperty', docId); //Don't show meteor error as users can also enable this later.\n\n    return docId;\n  }\n});\n\nArray.prototype.pushUnique = function (item) {\n  if (this.indexOf(item) == -1) {\n    //if(jQuery.inArray(item, this) == -1) {\n    this.push(item);\n    return true;\n  }\n\n  return false;\n};\n\nfunction getA(arr, find) {\n  if (!Array.isArray(arr)) return;\n  var eles = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]['name'] == find) eles.push(arr[i]['value']);\n  }\n\n  if (find == 'amenities') return eles;\n  if (eles.lenght > 1) return eles;\n  if (eles.lenght == 0) return false;\n  return eles[0];\n}\n\nfunction slugify(text) {\n  if (!text) return '';\n  const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/_,:;';\n  const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n  .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n  .replace(/&/g, '-and-') // Replace & with 'and'\n  .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n  .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"publications.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/api/publications.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"./collections.js\");\n\nif (Meteor.isClient) {} //PUBLICATIONS\n\n\nif (Meteor.isServer) {\n  Meteor.publish(\"PropertyManage\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    return Collections.PropertyManage.find(parameters.find, parameters.options);\n  });\n  Meteor.publish(\"ActivityHistory\", function (terms) {\n    // console.log('ActivityHistory');\n    return Collections.ActivityHistory.find({\n      propertyId: terms.id\n    }, {\n      limit: terms.limit,\n      sort: {\n        createdAt: -1\n      }\n    });\n  });\n  Meteor.publish(\"avgOffer\", function (auctionId) {\n    // console.log(\"Subscribed: auctionId: \"+auctionId)\n    // var self = this;\n    // var handle = Collections.Bids.aggregate([\n    //     { $match : { \"auctionId\" : auctionId } },\n    //     { $group : {\n    //             '_id': this.userId,\n    //             'avgOffer': {\n    //                 // In this case, we're running summation.\n    //                 $avg: '$yourBid'\n    //             }\n    //         }\n    //     }\n    // ]).forEach(function(data) {\n    //     self.added('avgOffer', 'first', data);\n    // });\n    ReactiveAggregate(this, Collections.Bids, [{\n      $match: {\n        \"auctionId\": auctionId\n      }\n    }, {\n      $group: {\n        '_id': this.userId,\n        'avgOffer': {\n          // In this case, we're running summation.\n          $avg: '$yourBid'\n        }\n      }\n    }], {\n      clientCollection: \"avgOffer\"\n    });\n  });\n  Meteor.publish(\"Property\", function (terms) {\n    // console.log('Property');\n    var parameters = queryConstructor(terms); // console.log(parameters.find)\n    // console.log(parameters.options)\n    // console.log(Collections.Properties.find(parameters.find, parameters.options).count())\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    return Collections.Properties.find(parameters.find, parameters.options);\n  });\n  Meteor.publish(\"userData\", function () {\n    if (!this.userId) return []; //Need to login\n    // 'services.password':1,Don use this , we have a method for this\n\n    return Meteor.users.find({\n      _id: this.userId\n    }, {\n      limit: 1,\n      fields: {\n        'services.facebook.id': 1,\n        'services.twitter.screenName': 1,\n        'services.linkedin.publicProfileUrl': 1,\n        'services.google.id': 1,\n        'createdAt': 1,\n        'lastLoginDate': 1,\n        'profile': 1,\n        'isSA': 1\n      }\n    });\n  });\n  Meteor.publish(\"userDataUsername\", function (username) {\n    if (!username) return [];\n    var ret = Meteor.users.find({\n      \"profile.username\": username\n    }, {\n      limit: 1,\n      fields: {\n        'createdAt': 1,\n        'lastLoginDate': 1,\n        'profile.name': 1,\n        'profile.email': 1,\n        'profile.role': 1,\n        'profile.picture': 1,\n        'profile.mobile': 1,\n        'profile.isPublic': 1,\n        'profile.username': 1\n      }\n    });\n    var user = ret.fetch(); // console.log(username)\n    // console.log(user)\n\n    if (!user.length) {\n      return [];\n    }\n\n    try {\n      if (user[0].profile.isPublic) {\n        //If public then include social info as well.\n        return Meteor.users.find({\n          \"profile.username\": username\n        }, {\n          limit: 1,\n          fields: {\n            'createdAt': 1,\n            'lastLoginDate': 1,\n            'profile': 1,\n            'services.facebook.id': 1,\n            'services.twitter.screenName': 1,\n            'services.linkedin.publicProfileUrl': 1,\n            'services.google.id': 1\n          }\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n\n    return ret;\n  });\n  Meteor.publish(\"allUserData\", function () {\n    return Meteor.users.find({}, {\n      fields: {\n        'createdAt': 1,\n        'lastLoginDate': 1,\n        'profile': 1,\n        'services.facebook.id': 1,\n        'services.twitter.screenName': 1,\n        'services.linkedin.publicProfileUrl': 1,\n        'services.google.id': 1\n      }\n    }); //fields: {'nested.things': 1}\n  });\n  Meteor.publish(\"tenants\", function (pageno) {\n    var pg = 1;\n\n    try {\n      pg = parseInt(pageno);\n    } catch (e) {}\n\n    if (isNaN(pg)) pg = 1;\n    var resperpage = 10;\n    var skip = (pg - 1) * resperpage;\n    return Meteor.users.find({\n      \"profile.isPublic\": true\n    }, {\n      skip: skip,\n      limit: resperpage,\n      fields: {\n        'createdAt': 1,\n        'lastLoginDate': 1,\n        'profile.name': 1,\n        'profile.email': 1,\n        'profile.role': 1,\n        'profile.picture': 1,\n        'profile.mobile': 1,\n        'profile.isPublic': 1,\n        'services.facebook.id': 1,\n        'services.twitter.screenName': 1,\n        'services.linkedin.publicProfileUrl': 1,\n        'services.google.id': 1 // 'profile.username':1,\n\n      }\n    });\n  });\n  Meteor.publish(\"browseLettings\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    var auctions = [],\n        properties = [];\n    parameters.options.fields = {\n      address: 1,\n      createdByAgent: 1,\n      type: 1,\n      createdAt: 1,\n      updatedAt: 1,\n      isArchived: 1,\n      auctionId: 1,\n      slug: 1,\n      bedCount: 1,\n      baths: 1,\n      rent: 1,\n      rentType: 1,\n      gallery: 1\n    }; // console.log('property key is')\n    // console.log(parameters.propertykey)\n\n    if (parameters.propertykey) if (parameters.propertykey.length > 0) {\n      console.log('inside propertykey');\n      auctions = Collections.Auctions.find({\n        lettingAuctionCode: {\n          $in: parameters.propertykey\n        },\n        isArchived: false\n      }, parameters.options);\n      var tmp = auctions.fetch();\n      var propertyIds = [];\n\n      for (var i = 0; i < tmp.length; i++) {\n        propertyIds.push(tmp[i].propertyId);\n        if (i > parameters.options.limit) break;\n      }\n\n      properties = [];\n\n      if (propertyIds.length) {\n        properties = Collections.Properties.find({\n          _id: {\n            $in: propertyIds\n          }\n        }, {\n          limit: parameters.options.limit,\n          sort: parameters.options.sort\n        });\n      }\n\n      if (!propertyIds.length) return [];\n      return [properties, auctions];\n    }\n    parameters.find.isArchived = false;\n    parameters.find.auctionId = {\n      $exists: true,\n      $gt: \"\"\n    }; //if we don' put $gt, then its also giving results of records with empty vals - but we don' need deactivated properties\n\n    if (parameters.minRent && parameters.maxRent) {\n      parameters.find.rent = {\n        $gte: parseInt(parameters.minRent),\n        $lte: parseInt(parameters.maxRent)\n      };\n    } else if (parameters.minRent) {\n      parameters.find.rent = {\n        $gte: parseInt(parameters.minRent)\n      };\n    } else if (parameters.maxRent) {\n      parameters.find.rent = {\n        $lte: parseInt(parameters.maxRent)\n      };\n    }\n\n    if (parameters.minBeds && parameters.maxBeds) {\n      parameters.find.bedCount = {\n        $gte: parseInt(parameters.minBeds),\n        $lte: parseInt(parameters.maxBeds)\n      };\n    } else if (parameters.minBeds) {\n      parameters.find.bedCount = {\n        $gte: parseInt(parameters.minBeds)\n      };\n    } else if (parameters.maxBeds) {\n      parameters.find.bedCount = {\n        $lte: parseInt(parameters.maxBeds)\n      };\n    } else if (parameters.bedCount && !isNaN(parameters.bedCount)) {\n      parameters.find.bedCount = parseInt(parameters.bedCount);\n    } // console.log('In browseLettings start')\n    // console.log(parameters.find)\n    // console.log(parameters.options)\n    // console.log(Collections.Properties.find(parameters.find, parameters.options).count())\n    // console.log('In browseLettings end')\n\n\n    properties = Collections.Properties.find(parameters.find, parameters.options);\n    var tmp = properties.fetch();\n    var propertyIds = [];\n\n    for (var i = 0; i < tmp.length; i++) {\n      propertyIds.push(tmp[i].auctionId);\n      if (i > parameters.options.limit) break;\n    }\n\n    auctions = [];\n\n    if (propertyIds.length) {\n      auctions = Collections.Auctions.find({\n        _id: {\n          $in: propertyIds\n        }\n      }, {\n        limit: parameters.options.limit,\n        sort: parameters.options.sort\n      });\n    }\n\n    if (!propertyIds.length) return properties;\n    return [properties, auctions];\n  });\n  Meteor.publish(\"total-houses-for-rent-count\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    parameters.options.fields = {\n      _id: 1\n    };\n\n    if (parameters.propertykey) {\n      if (parameters.propertykey.length > 0) {\n        Counts.publish(this, \"total-houses-for-rent-count\", Collections.Auctions.find({\n          lettingAuctionCode: {\n            $in: parameters.propertykey\n          },\n          isArchived: false\n        }), parameters.options);\n      }\n    } else {\n      parameters.find.isArchived = false;\n      parameters.find.auctionId = {\n        $exists: true,\n        $gt: \"\"\n      }; //if we don' put $gt, then its also giving results of records with empty vals - but we don' need deactivated properties\n\n      if (parameters.minRent && parameters.maxRent) {\n        parameters.find.rent = {\n          $gte: parseInt(parameters.minRent),\n          $lte: parseInt(parameters.maxRent)\n        };\n      } else if (parameters.minRent) {\n        parameters.find.rent = {\n          $gte: parseInt(parameters.minRent)\n        };\n      } else if (parameters.maxRent) {\n        parameters.find.rent = {\n          $lte: parseInt(parameters.maxRent)\n        };\n      }\n\n      if (parameters.minBeds && parameters.maxBeds) {\n        parameters.find.bedCount = {\n          $gte: parseInt(parameters.minBeds),\n          $lte: parseInt(parameters.maxBeds)\n        };\n      } else if (parameters.minBeds) {\n        parameters.find.bedCount = {\n          $gte: parseInt(parameters.minBeds)\n        };\n      } else if (parameters.maxBeds) {\n        parameters.find.bedCount = {\n          $lte: parseInt(parameters.maxBeds)\n        };\n      } else if (parameters.bedCount && !isNaN(parameters.bedCount)) {\n        parameters.find.bedCount = parseInt(parameters.bedCount);\n      } // console.log('In count start')\n      // console.log(parameters.find)\n      // console.log(parameters.options)\n      // console.log(Collections.Properties.find(parameters.find, parameters.options).count())\n      // console.log('In count end')\n\n\n      Counts.publish(this, \"total-houses-for-rent-count\", Collections.Properties.find(parameters.find), parameters.options);\n    }\n  });\n  Meteor.publish(\"viewLetting\", function (key) {\n    // var auctions = Collections.Auctions.find({lettingAuctionCode:key,isArchived:false},{\n    var auctions = Collections.Auctions.find({\n      lettingAuctionCode: key\n    }, {\n      limit: 1\n    });\n    var tmp = auctions.fetch();\n    var properties = [],\n        bids = [],\n        mainProperty = {},\n        relatedPropsTmp = [],\n        maxRel = 5,\n        //Max rel always needs to be 1 number higher than the req, due to the logic below.\n    relPropIds = [],\n        relAuctionIds = [],\n        i = 0;\n\n    try {\n      relPropIds.push(tmp[0].propertyId);\n      relAuctionIds.push(tmp[0]._id);\n      bids = Collections.Bids.find({\n        auctionId: tmp[0]._id\n      }, {\n        limit: 100,\n        sort: {\n          updatedAt: -1\n        }\n      }); //////// RELATED PROPS\n\n      mainProperty = Collections.Properties.findOne({\n        _id: tmp[0].propertyId\n      });\n      var notArr = [mainProperty._id];\n      var filters = {\n        \"type\": mainProperty.type,\n        \"address.county\": mainProperty.address.county,\n        \"address.area\": mainProperty.address.area,\n        \"auctionId\": {\n          $exists: true,\n          $gt: \"\"\n        },\n        \"isArchived\": false,\n        \"_id\": {\n          $not: {\n            $in: relPropIds\n          }\n        }\n      };\n      relatedPropsTmp = Collections.Properties.find(filters, {\n        fields: {\n          _id: 1,\n          auctionId: 1\n        },\n        limit: maxRel\n      }).fetch();\n\n      for (i = 0; i < relatedPropsTmp.length; i++) {\n        relPropIds.push(relatedPropsTmp[i]._id);\n        relAuctionIds.push(relatedPropsTmp[i].auctionId);\n      }\n\n      if (relPropIds.length < maxRel) {\n        delete filters[\"address.area\"];\n        filters[\"_id\"] = {\n          $not: {\n            $in: relPropIds\n          }\n        };\n        relatedPropsTmp = Collections.Properties.find(filters, {\n          fields: {\n            _id: 1,\n            auctionId: 1\n          },\n          limit: maxRel - relPropIds.length\n        }).fetch();\n\n        for (i = 0; i < relatedPropsTmp.length; i++) {\n          relPropIds.push(relatedPropsTmp[i]._id);\n          relAuctionIds.push(relatedPropsTmp[i].auctionId);\n        }\n      }\n\n      if (relPropIds.length < maxRel) {\n        delete filters[\"address.county\"];\n        filters[\"_id\"] = {\n          $not: {\n            $in: relPropIds\n          }\n        };\n        relatedPropsTmp = Collections.Properties.find(filters, {\n          fields: {\n            _id: 1,\n            auctionId: 1\n          },\n          limit: maxRel - relPropIds.length\n        }).fetch();\n\n        for (i = 0; i < relatedPropsTmp.length; i++) {\n          relPropIds.push(relatedPropsTmp[i]._id);\n          relAuctionIds.push(relatedPropsTmp[i].auctionId);\n        }\n      }\n\n      if (relPropIds.length < maxRel) {\n        delete filters[\"type\"];\n        filters[\"_id\"] = {\n          $not: {\n            $in: relPropIds\n          }\n        };\n        relatedPropsTmp = Collections.Properties.find(filters, {\n          fields: {\n            _id: 1,\n            auctionId: 1\n          },\n          limit: maxRel - relPropIds.length\n        }).fetch();\n\n        for (i = 0; i < relatedPropsTmp.length; i++) {\n          relPropIds.push(relatedPropsTmp[i]._id);\n          relAuctionIds.push(relatedPropsTmp[i].auctionId);\n        }\n      }\n\n      properties = Collections.Properties.find({\n        _id: {\n          $in: relPropIds\n        }\n      }, {\n        limit: maxRel + 1\n      });\n      auctions = Collections.Auctions.find({\n        _id: {\n          $in: relAuctionIds\n        }\n      }, {\n        limit: maxRel + 1\n      });\n    } catch (e) {\n      console.log(e);\n    }\n\n    if (!tmp.length) return [];\n    return [properties, auctions, bids];\n  });\n\n  let transformMyActiveAdvertisements = data => {\n    // console.log('in transformMyActiveAdvertisements');\n    // console.log(data.propertyId)\n    data.property = Collections.Properties.findOne(data.propertyId, {\n      fields: {\n        address: 1,\n        createdByAgent: 1,\n        createdAt: 1,\n        updatedAt: 1,\n        isArchived: 1,\n        auctionId: 1\n      }\n    });\n    return data;\n  };\n\n  Meteor.publish(\"inviteToApply.MyActiveAdvertisements\", function () {\n    if (!this.userId) return []; //Need to login\n\n    var self = this;\n    let subHandle = Collections.Auctions.find().observeChanges({\n      added: (id, fields) => {\n        fields = transformMyActiveAdvertisements(fields);\n        this.added('Auctions', id, fields);\n      },\n      changed: (id, fields) => {\n        this.changed('Auctions', id, fields);\n      },\n      removed: id => {\n        this.removed('Auctions', id);\n      }\n    });\n    this.ready();\n    this.onStop(() => {\n      subHandle.stop();\n    });\n    self.ready();\n  });\n  Meteor.publish(\"MyProperties\", function (terms) {\n    console.log('In MyProperties Publish ');\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    if (!this.userId) return [];\n    find = {};\n    find['createdByAgent'] = {\n      $in: [this.userId, 'demoproperty']\n    };\n    find['isArchived'] = false;\n    if (terms.onlyActive) find.auctionId = {\n      $exists: true,\n      $gt: \"\"\n    };\n    var properties = Collections.Properties.find(find, parameters.options);\n    var relAuctionIds = [];\n    var props = properties.fetch();\n\n    for (var i = 0; i < props.length; i++) if (props[i].auctionId) relAuctionIds.push(props[i].auctionId);\n\n    var auctions = Collections.Auctions.find({\n      _id: {\n        $in: relAuctionIds\n      }\n    }, {\n      limit: parameters.options.limit ? parameters.options.limit + 2 : 22\n    });\n    var bids = Collections.Bids.find({\n      auctionId: {\n        $in: relAuctionIds\n      }\n    }, {\n      limit: parameters.options.limit ? parameters.options.limit + 2 : 22\n    });\n    return [properties, auctions, bids];\n    this.ready();\n  });\n  Meteor.publish(\"total-MyProperties\", function (terms) {\n    if (!this.userId) return [];\n    find = {};\n    find['createdByAgent'] = {\n      $in: [this.userId, 'demoproperty']\n    };\n    find['isArchived'] = false;\n    if (terms.onlyActive) find.auctionId = {\n      $exists: true,\n      $gt: \"\"\n    };\n    Counts.publish(this, \"total-MyProperties\", Collections.Properties.find(find));\n  });\n  Meteor.publish(\"PropertyApplications\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    if (!this.userId) return [];\n    find = {\n      _id: parameters.id\n    };\n    find['isArchived'] = false;\n    let properties = Collections.Properties.find(find, {\n      limit: 1\n    });\n    let tmp = properties.fetch();\n    if (tmp.length == 0) return [];\n    let auctionId = tmp[0].auctionId;\n    let propertyId = tmp[0]._id; // console.log('In PropertyApplications start')\n    // console.log(parameters)\n    // console.log('Auctions')\n    // console.log(Collections.Auctions.find({_id:auctionId,isArchived:false},{limit:1 } ).count())\n    // console.log(Collections.Bids.find({auctionId:auctionId,isArchived:false},parameters.propertyApplications.options ).count())\n    // console.log(Collections.EmailEnquiries.find({propertyId:propertyId,isArchived:false},parameters.emailEnquiries.options ).count())\n    // console.log('In PropertyApplications end')\n\n    let auctions = Collections.Auctions.find({\n      _id: auctionId,\n      isArchived: false\n    }, {\n      limit: 1\n    });\n    tmp = auctions.fetch();\n    if (tmp.length == 0) return [];\n    let bids = Collections.Bids.find({\n      auctionId: auctionId,\n      isArchived: false\n    }, parameters.propertyApplications.options);\n    let EmailEnquiries = Collections.EmailEnquiries.find({\n      propertyId: propertyId,\n      isArchived: false\n    }, parameters.emailEnquiries.options);\n    tmp = bids.fetch();\n    let userIds = [];\n\n    for (let j = 0; j < tmp.length; j++) {\n      userIds.push(tmp[j].userId);\n    }\n\n    let users = Meteor.users.find({\n      _id: this.userId\n    });\n    if (parameters.emailEnquiries) users = Meteor.users.find({\n      _id: {\n        $in: userIds\n      }\n    }, {\n      limit: parameters.emailEnquiries.options.limit,\n      fields: {\n        'services.facebook.id': 1,\n        'services.twitter.screenName': 1,\n        'services.linkedin.publicProfileUrl': 1,\n        'services.google.id': 1,\n        'createdAt': 1,\n        'lastLoginDate': 1,\n        'profile': 1,\n        'isSA': 1\n      }\n    }); // just need the limit from there.\n\n    return [properties, auctions, bids, EmailEnquiries, users];\n    this.ready();\n  });\n  Meteor.publish(\"total-PropertyApplications\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    if (!this.userId) return [];\n    find = {\n      _id: parameters.id\n    };\n    find['isArchived'] = false;\n    let properties = Collections.Properties.find(find, {\n      limit: 1\n    });\n    let tmp = properties.fetch();\n    if (tmp.length == 0) return [];\n    let auctionId = tmp[0].auctionId;\n    let propertyId = tmp[0]._id;\n    Counts.publish(this, \"total-PropertyApplications\", Collections.Bids.find({\n      auctionId: auctionId,\n      isArchived: false\n    }), parameters.propertyApplications.options);\n  });\n  Meteor.publish(\"total-EmailEnquiries\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    if (!this.userId) return [];\n    find = {\n      _id: parameters.id\n    };\n    find['isArchived'] = false;\n    let properties = Collections.Properties.find(find, {\n      limit: 1\n    });\n    let tmp = properties.fetch();\n    if (tmp.length == 0) return [];\n    let auctionId = tmp[0].auctionId;\n    let propertyId = tmp[0]._id;\n    Counts.publish(this, \"total-EmailEnquiries\", Collections.EmailEnquiries.find({\n      propertyId: propertyId,\n      isArchived: false\n    }), parameters.emailEnquiries.options);\n  });\n  Meteor.publish(\"Advertisement\", function (advertisementId) {\n    let validationSuccess = false;\n    if (advertisementId.length > 12 && advertisementId.length < 20) validationSuccess = true;\n    if (!validationSuccess) return [];else return Collections.Auctions.find({\n      _id: advertisementId,\n      isArchived: false\n    }, {\n      limit: 1\n    });\n    this.ready();\n  });\n  Meteor.publish(\"MyAdvertisements\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    if (!this.userId) return [];\n    return Collections.Auctions.find({\n      createdByAgent: {\n        $in: [this.userId, 'demoproperty']\n      },\n      isArchived: false\n    }, parameters.options);\n    this.ready();\n  });\n  Meteor.publish(\"editProperty\", function (propertyId) {\n    if (!this.userId) return [];\n    var auctions = Collections.Auctions.find({\n      isArchived: false,\n      propertyId: propertyId\n    }, {\n      transform: function (doc) {\n        if (doc.createdByAgent != this.userId) {\n          return {\n            _id: doc._id,\n            propertyId: doc.propertyId,\n            createdByAgent: doc.createdByAgent\n          };\n        }\n      },\n      limit: 1\n    });\n    var properties = Collections.Properties.find({\n      isArchived: false,\n      _id: propertyId\n    }, {\n      transform: function (doc) {\n        if (doc.createdByAgent != this.userId) {\n          return {\n            _id: doc._id,\n            propertyId: doc.propertyId\n          };\n        }\n      },\n      limit: 1\n    });\n    return [auctions, properties];\n  });\n  Meteor.publish(\"propertyApplication\", function (propertyId, auctionId) {\n    if (!this.userId) return [];\n    var properties = Collections.Properties.find({\n      isArchived: false,\n      _id: propertyId\n    }, {\n      transform: function (doc) {\n        if (doc.createdByAgent != this.userId) {\n          return {\n            _id: doc._id,\n            propertyId: doc.propertyId,\n            invalidAgent: true\n          };\n        }\n      },\n      limit: 1\n    });\n    var auctionIDTmp = '';\n    var invalidAgentProp = false;\n    var tmp = properties.fetch();\n\n    try {\n      auctionIDTmp = tmp[0].auctionId;\n      if (tmp[0].invalidAgent) invalidAgentProp = true;\n    } catch (e) {}\n\n    if (!tmp.length || invalidAgentProp) {\n      //Property not found, no need to find auction\n      console.log(\"invalidAgentProp: \" + invalidAgentProp);\n      console.log(\"tmp.length: \" + tmp.length);\n      return [];\n    }\n\n    if (auctionId) auctionIDTmp = auctionId;\n    var auctions = Collections.Auctions.find({\n      isArchived: false,\n      _id: auctionIDTmp\n    }, {\n      transform: function (doc) {\n        if (doc.createdByAgent != this.userId) {\n          return {\n            _id: doc._id,\n            propertyId: doc.propertyId,\n            createdByAgent: doc.createdByAgent\n          };\n        }\n      },\n      limit: 1\n    });\n    var tmp = properties.fetch();\n\n    if (!tmp.length) {\n      return [];\n    }\n\n    var bids = Collections.Bids.find({\n      isArchived: false,\n      _id: auctionIDTmp\n    }, {\n      transform: function (doc) {\n        if (doc.createdByAgent != this.userId) {\n          return {\n            _id: doc._id,\n            propertyId: doc.propertyId,\n            createdByAgent: doc.createdByAgent\n          };\n        }\n      },\n      limit: 1\n    });\n    return [auctions, properties];\n  });\n  Meteor.publish(\"Areas\", function (c1, c2, c3, c4, c5) {\n    // For ireland\n    // c1: Territory: like UK for ireland, its empty\n    // c2: Country => Ireland\n    // c3: County => Dublin / City\n    // c4: Sub County => Dublin 1\n    // c5: Area => Baltinglass\n    // console.log('Vals are c3: '+c3)\n    // return [];\n    var selector = {},\n        paramReceived = false;\n\n    if (c1) {\n      paramReceived = true;\n      selector['Territory'] = c1;\n    }\n\n    if (c2) {\n      paramReceived = true;\n      selector['Country'] = c2;\n    }\n\n    if (c3) {\n      paramReceived = true;\n      selector['County'] = c3;\n    }\n\n    if (c4) {\n      paramReceived = true;\n      selector['Sub County'] = c4;\n    }\n\n    if (c5) {\n      paramReceived = true;\n      selector['Area'] = c5;\n    }\n\n    if (!paramReceived) {\n      //Don't send all area info, for performance reasons. \n      // console.log('in if c3: '+c3)\n      return [];\n    } else {\n      // console.log('in else c3: '+c3)\n      // console.log(selector)\n      return Collections.Areas.find(selector, {});\n    }\n\n    this.ready();\n  });\n  Meteor.publish(\"browseBlogs\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    parameters.find.isArchived = false;\n    var Blogs = Collections.Blogs.find(parameters.find, parameters.options);\n    return Blogs;\n    this.ready();\n  });\n  Meteor.publish(\"total-blogs-count\", function (terms) {\n    var parameters = queryConstructor(terms);\n\n    if (parameters.fail) {\n      return [];\n      this.ready();\n    }\n\n    parameters.find.isArchived = false;\n    Counts.publish(this, \"total-blogs-count\", Collections.Blogs.find(parameters.find), {\n      fields: {\n        _id: 1\n      }\n    });\n  });\n  Meteor.publish(\"viewBlog\", function (key) {\n    if (!key) return [];\n    var tmp = Collections.Blogs.findOne({\n      slug: key\n    }, {\n      limit: 1\n    });\n\n    if (!tmp || !tmp._id) {\n      return []; //Blog not found.\n    }\n\n    let notArr = [],\n        Blogs = [],\n        recentBlogsTmp = [],\n        relBlogIds = [],\n        i = 0,\n        maxRecent = 4;\n\n    try {\n      notArr.push(tmp.wpId);\n      relBlogIds.push(tmp._id);\n\n      for (i = 0; i < tmp.related.length; i++) {\n        notArr.push(tmp.related[i].wpId);\n      }\n\n      var filters = {\n        \"isArchived\": false,\n        \"wpId\": {\n          $not: {\n            $in: notArr\n          }\n        }\n      };\n      recentBlogsTmp = Collections.Blogs.find(filters, {\n        fields: {\n          _id: 1,\n          wpId: 1\n        },\n        limit: maxRecent\n      }).fetch();\n\n      for (i = 0; i < recentBlogsTmp.length; i++) {\n        relBlogIds.push(recentBlogsTmp[i]._id);\n      }\n\n      Blogs = Collections.Blogs.find({\n        _id: {\n          $in: relBlogIds\n        }\n      }, {\n        limit: maxRecent + 1 // sort:{updatedAt : -1} // Not needed, anyway, it will send records to UI without order. and IDs are definitly specified.\n\n      });\n    } catch (e) {\n      console.log(e);\n    }\n\n    return Blogs;\n    this.ready();\n  });\n  Meteor.publish(\"Properties\", function () {\n    let Properties = Collections.Properties;\n    let selector = {};\n    return Properties.find(selector, {});\n    this.ready();\n  });\n  Meteor.publish(\"Bids\", function () {\n    //if (this.userId) {\n    //  let Projects = Collections.Bids;\n    //  //let selector = {\"userId\":this.userId};\n    //  let selector = {};//We need to query even when he isn't logged in.\n    //  return Projects.find(selector, {});\n    //}else {\n    //    // Declare that no data is being published. If you leave this line\n    //    // out, Meteor will never consider the subscription ready because\n    //    // it thinks you're using the added/changed/removed interface where\n    //    // you have to explicitly call this.ready().\n    //    return [];\n    //  }\n    let Projects = Collections.Bids;\n    let selector = {};\n    return Projects.find(selector, {});\n    this.ready();\n  });\n  Meteor.publish(\"MyBids\", function () {\n    if (this.userId) {\n      let Projects = Collections.Bids;\n      let selector = {\n        \"userId\": this.userId\n      }; //let selector = {};//We need to query even when he isn't logged in.\n\n      return Projects.find(selector, {});\n    } else {\n      // Declare that no data is being published. If you leave this line\n      // out, Meteor will never consider the subscription ready because\n      // it thinks you're using the added/changed/removed interface where\n      // you have to explicitly call this.ready().\n      return [];\n    }\n  });\n  Meteor.publish(\"Auctions\", function () {\n    let Projects = Collections.Auctions;\n    let selector = {};\n    return Projects.find(selector, {});\n    this.ready();\n  });\n  Meteor.publish(\"Config\", function () {\n    let Projects = Collections.Config;\n    let selector = {};\n    return Projects.find(selector, {});\n    this.ready();\n  }); // Meteor.publish(\"Payments\", function () {\n  //\n  //     if (this.userId) {\n  //         let Payments = Collections.Payments;\n  //         let selector = {\"userId\":this.userId};\n  //         //let selector = {};//We need to query even when he isn't logged in.\n  //         return Payments.find(selector, {});\n  //\n  //         this.ready();\n  //     }else {\n  //         let Payments = Collections.Payments;\n  //         let selector = {};\n  //         return Payments.find(selector, {});\n  //\n  //         this.ready();\n  //     }\n  // });\n  //Meteor.publish(\"MyBids\", function () {//NOT WORKING IN PUBLISH, HAS TO DO IN CLIENT\n  //\n  //  if (this.userId) {//userId is null if no user is logged in.\n  //    let Bids = Collections.Bids;\n  //    //const userId = Meteor.userId();\n  //    let selector = {\"userId\":this.userId};\n  //    return Bids.find(selector, {\n  //      transform: function(doc) {\n  //        doc.unit = Collections.Units.findOne({\n  //          _id: doc.unitId\n  //        });\n  //        doc.auction = Collections.Auctions.findOne({\n  //          _id: doc.auctionId\n  //        });\n  //        doc.project = Collections.Properties.findOne({\n  //          _id: doc.unit.projectId\n  //        });\n  //        return doc;\n  //      },\n  //      sort: {\n  //        createdAt: -1\n  //      }\n  //\n  //    });\n  //  } else {\n  //    // Declare that no data is being published. If you leave this line\n  //    // out, Meteor will never consider the subscription ready because\n  //    // it thinks you're using the added/changed/removed interface where\n  //    // you have to explicitly call this.ready().\n  //    return [];\n  //  }\n  //  this.ready();\n  //});\n  // Meteor.publish('Meteor.users.initials', function ({ userIds }) {\n  //     // Validate the arguments to be what we expect\n  //     new SimpleSchema({\n  //         userIds: { type: [String] }\n  //     }).validate({ userIds });\n  //\n  //     // Select only the users that match the array of IDs passed in\n  //     const selector = {\n  //         _id: { $in: userIds }\n  //     };\n  //\n  //     // Only return one field, `initials`\n  //     const options = {\n  //         fields: { initials: 1 }\n  //     };\n  //\n  //     return Meteor.users.find(selector, options);\n  // });\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"lib\":{\"routing.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/routing.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet render;\nmodule.link(\"react-dom\", {\n  render(v) {\n    render = v;\n  }\n\n}, 2);\nlet mount;\nmodule.link(\"react-mounter\", {\n  mount(v) {\n    mount = v;\n  }\n\n}, 3);\nif (Meteor.isClient) Session.set('subscriptionsReady', false); // Search 1000s of houses, apartments & properties for sale and to rent from all leading estate agents\n//SpotMyCrib helps you find your dream house in the easiest way possible. You get to set your rent when you apply for the house, apartment or property online with leading estate agents/landlords in Ireland. Experience the safest, transparent and innovative rental process in Ireland.\n\ngeneralDesc = \"Find your dream house in the easiest way possible. Set your rent when you apply for the house, apartment or property online with leading estate agents/landlords in Ireland. Experience the safest, transparent and innovative rental process in Ireland. SpotMyCrib.\";\nFlowRouter.route('/', {\n  name: \"home\",\n\n  action() {\n    let Home;\n    module.link(\"../imports/reactui/pages/Home.jsx\", {\n      default(v) {\n        Home = v;\n      }\n\n    }, 4);\n    if (Meteor.isClient) BlazeLayout.reset();\n    clearMeta();\n    DocHead.setTitle('SpotMyCrib - Safe and easy rentals');\n    DocHead.addMeta({\n      name: \"description\",\n      content: generalDesc\n    });\n    mount(Home, {\n      content: 'test'\n    });\n  }\n\n});\nFlowRouter.route('/rent/:slug/:key', {\n  name: 'rent',\n\n  action(params, queryParams) {\n    let LettingDetail;\n    module.link(\"../imports/reactui/pages/LettingDetail.jsx\", {\n      default(v) {\n        LettingDetail = v;\n      }\n\n    }, 5);\n    if (Meteor.isClient) BlazeLayout.reset();\n    mount(LettingDetail);\n  }\n\n});\nFlowRouter.route('/blog/:pageno?', {\n  name: 'bloghome',\n\n  action(params, queryParams) {\n    let BlogHome;\n    module.link(\"../imports/reactui/pages/BlogHome.jsx\", {\n      default(v) {\n        BlogHome = v;\n      }\n\n    }, 6);\n    if (Meteor.isClient) BlazeLayout.reset();\n    clearMeta();\n    DocHead.setTitle('Blog - SpotMyCrib - Property renting tips, management and much more');\n    DocHead.addMeta({\n      name: \"description\",\n      content: \"Browse through the latest property news, renting tips, management and much more.\"\n    });\n    mount(BlogHome);\n  }\n\n});\nFlowRouter.route('/article/:slug', {\n  name: 'blogdetail',\n\n  action(params, queryParams) {\n    let BlogDetail;\n    module.link(\"../imports/reactui/pages/BlogDetail.jsx\", {\n      default(v) {\n        BlogDetail = v;\n      }\n\n    }, 7);\n    if (Meteor.isClient) BlazeLayout.reset();\n    mount(BlogDetail);\n  }\n\n});\nFlowRouter.route('/letting/:key', {\n  name: 'letting',\n\n  action(params, queryParams) {\n    let LettingDetail;\n    module.link(\"../imports/reactui/pages/LettingDetail.jsx\", {\n      default(v) {\n        LettingDetail = v;\n      }\n\n    }, 8);\n    if (Meteor.isClient) BlazeLayout.reset();\n    mount(LettingDetail);\n  }\n\n});\nFlowRouter.route('/advertisewithus/:pageno?', {\n  name: \"advertisewithus\",\n\n  action(params, queryParams) {\n    let AdvertiseWithUs;\n    module.link(\"../imports/reactui/pages/AdvertiseWithUs.jsx\", {\n      default(v) {\n        AdvertiseWithUs = v;\n      }\n\n    }, 9);\n    var curStep = parseInt(params.pageno);\n    if (!curStep) curStep = 1;\n    clearMeta();\n    var title = \"Advertise with us\";\n    if (curStep == 2) title += ' (step 2 of 3)';\n    if (curStep == 3) title += ' (step 3 of 3)';\n    DocHead.setTitle(title + ' | SpotMyCrib');\n    var description = 'List your property to rent in SpotMyCrib. Let thousands of verified tenants apply for your letting. Choose if you are a landlord, agent or the current tenant looking for a replacement so you can move.';\n    DocHead.addMeta({\n      name: \"description\",\n      content: description\n    });\n    let curStepComponent = 'AwsStep1';\n\n    switch (curStep) {\n      case 1:\n        //advertiseWithUsFormDelayedRan1st = false;\n        curStepComponent = 'AwsStep1';\n        break;\n\n      case 2:\n        curStepComponent = 'AwsStep2';\n        break;\n\n      case 3:\n        curStepComponent = 'AwsStep3';\n        break;\n    }\n\n    if (Meteor.isClient) BlazeLayout.reset();\n    mount(AdvertiseWithUs, {\n      curStepComponent: curStepComponent\n    });\n  }\n\n});\nFlowRouter.route('/b/:slug/:pageno?', {\n  name: \"b\",\n\n  action(params, queryParams) {\n    let HousesForrent;\n    module.link(\"../imports/reactui/pages/HousesForrent.jsx\", {\n      default(v) {\n        HousesForrent = v;\n      }\n\n    }, 10);\n    if (Meteor.isClient) BlazeLayout.reset();\n\n    if (!params.slug || params.slug.indexOf('-in-') == -1) {\n      var prevRoute = {\n        name: 'home',\n        args: {\n          scrollTo: 0\n        }\n      };\n      if (Meteor.isClient) Session.set('prevRoute', prevRoute);\n      FlowRouter.go('pagenotfound');\n      return;\n    }\n\n    mount(HousesForrent);\n  }\n\n});\nFlowRouter.route('/joinnow', {\n  name: 'joinnow',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      clearMeta();\n      DocHead.setTitle('Join Now | SpotMyCrib');\n      var description = 'Login to your account or create an account in SpotMyCrib to apply for a letting, update your references and social profiles.';\n      DocHead.addMeta({\n        name: \"description\",\n        content: description\n      });\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'loginPageHorizontal'\n      });\n    } // BlazeLayout.render('loading');\n\n  }\n\n});\nFlowRouter.route('/joinnow-landlord', {\n  name: 'joinnowlandlord',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      clearMeta();\n      DocHead.setTitle('Landlord Join Now | SpotMyCrib');\n      var description = 'Login to your account or create an account in SpotMyCrib to manage your lettings and advertise your property.';\n      DocHead.addMeta({\n        name: \"description\",\n        content: description\n      });\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'loginPageHorizontal',\n        dataContext: {\n          isLandlordMode: true\n        }\n      });\n    } // BlazeLayout.render('loading');\n\n  }\n\n});\nvar accountRoutes = FlowRouter.group({\n  prefix: '/account',\n  name: 'account',\n  triggersEnter: [function (context, redirect) {// console.log('running account group triggers');\n  }]\n});\naccountRoutes.route('/myproperies/:pageno?', {\n  name: 'account/myProperties',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/myProperties.js\");\n      clearMeta();\n      DocHead.setTitle('My properties | SpotMyCrib Admin');\n      DocHead.addMeta({\n        name: \"description\",\n        content: \"View list of your properties, activate them, print their keys, view their applications, etc.\"\n      });\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'myProperties'\n      });\n    }\n  }\n\n});\naccountRoutes.route('/editproperty/:id', {\n  name: 'account/editproperty',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/editProperty.js\");\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'editProperty'\n      });\n    }\n  }\n\n});\naccountRoutes.route('/propertyapplications/:id/:pageno?', {\n  name: 'account/propertyApplications',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/propertyApplications.js\");\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'propertyApplications'\n      });\n    }\n  }\n\n});\naccountRoutes.route('/manageproperty/:id/:pageno?', {\n  name: 'account/propertyManage',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/propertyManage.js\");\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'propertyManage'\n      });\n    }\n  }\n\n});\naccountRoutes.route('/profile', {\n  name: 'account/profile',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/profile.js\");\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'profile'\n      });\n    }\n  }\n\n});\nFlowRouter.route('/lettingprintview/:key', {\n  name: 'lettingprintview',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/lettingprintview.js\");\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactPlainLayout', {\n        templateName: 'lettingprintview'\n      });\n    }\n  }\n\n});\nFlowRouter.route('/tenant/:username', {\n  name: 'tenant',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/tenant.js\");\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'tenant'\n      });\n    }\n  }\n\n});\nFlowRouter.route('/tenants/:pageno?', {\n  name: 'tenants',\n\n  action() {\n    if (Meteor.isServer) return;\n\n    if (Meteor.isClient) {\n      module.link(\"../imports/ui/layout/layout.js\");\n      module.link(\"../imports/ui/templates/tenants.js\");\n      DocHead.setTitle('Tenant database | SpotMyCrib');\n      var description = 'View list of interested tenant profiles, their references and social profiles. Invite them to apply for your letting advertisement.';\n      DocHead.addMeta({\n        name: \"description\",\n        content: description\n      });\n      mount(() => /*#__PURE__*/React.createElement(\"span\", null));\n      BlazeLayout.render('reactLayout', {\n        templateName: 'tenants'\n      });\n    }\n  }\n\n});\nFlowRouter.notFound = {\n  triggersEnter: [function (context, redirect) {\n    redirect('/notFound');\n  }],\n  action: function () {\n    console.log('Route not found');\n  }\n};\nFlowRouter.route('/notFound', {\n  name: 'notFound',\n\n  action() {\n    let NotFound;\n    module.link(\"../imports/reactui/layout/NotFound.jsx\", {\n      default(v) {\n        NotFound = v;\n      }\n\n    }, 11);\n    if (Meteor.isClient) BlazeLayout.reset();\n    clearMeta();\n    DocHead.setTitle('Page Not Found | SpotMyCrib');\n    DocHead.addMeta({\n      name: \"description\",\n      content: 'Could not find the page your are looking for, it might be removed. Please try again.'\n    });\n    mount(NotFound);\n  }\n\n});\nFlowRouter.route('/about', {\n  name: 'about',\n\n  action() {\n    let About;\n    module.link(\"../imports/reactui/static/About.jsx\", {\n      default(v) {\n        About = v;\n      }\n\n    }, 12);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('about');\n    mount(About);\n  }\n\n});\nFlowRouter.route('/careers', {\n  name: 'careers',\n\n  action() {\n    let Careers;\n    module.link(\"../imports/reactui/static/Careers.jsx\", {\n      default(v) {\n        Careers = v;\n      }\n\n    }, 13);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('careers');\n    mount(Careers);\n  }\n\n});\nFlowRouter.route('/contactus', {\n  name: 'contactus',\n\n  action() {\n    let ContactUs;\n    module.link(\"../imports/reactui/static/ContactUs.jsx\", {\n      default(v) {\n        ContactUs = v;\n      }\n\n    }, 14);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('contactus');\n    mount(ContactUs);\n  }\n\n});\nFlowRouter.route('/cookiepolicy', {\n  name: 'cookiepolicy',\n\n  action() {\n    let CookiePolicy;\n    module.link(\"../imports/reactui/static/CookiePolicy.jsx\", {\n      default(v) {\n        CookiePolicy = v;\n      }\n\n    }, 15);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('cookiepolicy');\n    mount(CookiePolicy);\n  }\n\n});\nFlowRouter.route('/faqs', {\n  name: 'faqs',\n\n  action() {\n    let Faqs;\n    module.link(\"../imports/reactui/static/Faqs.jsx\", {\n      default(v) {\n        Faqs = v;\n      }\n\n    }, 16);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('faqs');\n    mount(Faqs);\n  }\n\n});\nFlowRouter.route('/gdpr', {\n  name: 'gdpr',\n\n  action() {\n    let Gdpr;\n    module.link(\"../imports/reactui/static/Gdpr.jsx\", {\n      default(v) {\n        Gdpr = v;\n      }\n\n    }, 17);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('gdpr');\n    mount(Gdpr);\n  }\n\n});\nFlowRouter.route('/howitworks', {\n  name: 'howitworks',\n\n  action() {\n    let HowItWorks;\n    module.link(\"../imports/reactui/static/HowItWorks.jsx\", {\n      default(v) {\n        HowItWorks = v;\n      }\n\n    }, 18);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('howitworks');\n    mount(HowItWorks);\n  }\n\n});\nFlowRouter.route('/privacy', {\n  name: 'privacy',\n\n  action() {\n    let Privacy;\n    module.link(\"../imports/reactui/static/Privacy.jsx\", {\n      default(v) {\n        Privacy = v;\n      }\n\n    }, 19);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('privacy');\n    mount(Privacy);\n  }\n\n});\nFlowRouter.route('/terms', {\n  name: 'terms',\n\n  action() {\n    let Terms;\n    module.link(\"../imports/reactui/static/Terms.jsx\", {\n      default(v) {\n        Terms = v;\n      }\n\n    }, 20);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('terms');\n    mount(Terms);\n  }\n\n});\nFlowRouter.route('/estateagent', {\n  name: 'estateagent',\n\n  action() {\n    let EstateAgent;\n    module.link(\"../imports/reactui/static/EstateAgent.jsx\", {\n      default(v) {\n        EstateAgent = v;\n      }\n\n    }, 21);\n    if (Meteor.isClient) BlazeLayout.reset();\n    setStaticPageMetaTags('estateagent');\n    mount(EstateAgent);\n  }\n\n});\ngeneralDesc = \"Find your dream house in the easiest way possible. Set your rent when you apply for the house, apartment or property online with leading estate agents/landlords in Ireland. Experience the safest, transparent and innovative rental process in Ireland. SpotMyCrib.\";\n\nfunction setStaticPageMetaTags(pageName) {\n  var title = '',\n      desc = '';\n\n  switch (pageName) {\n    case 'about':\n      title = 'About SpotMyCrib';\n      desc = \"Know more about SpotMyCrib and what inspires us to build the safest, transparent and innovative rental portal in Ireland. Learn more on how we operate and our values. Experience SpotMyCrib.\";\n      break;\n\n    case 'terms':\n      title = 'Terms of Service | SpotMyCrib';\n      desc = 'Read our terms and conditions and learn more on how we operate and our values.';\n      break;\n\n    case 'faqs':\n      title = 'FAQs | SpotMyCrib';\n      desc = 'Frequently asked questions by tenants(users) and landlords/estate agents.';\n      break;\n\n    case 'privacy':\n      title = 'Privacy policy | SpotMyCrib';\n      desc = 'Find how we keep your data safe and secure. Read our cookie policy and much more on our privacy policy.';\n      break;\n\n    case 'contactus':\n      title = 'Contact Us | SpotMyCrib';\n      desc = 'Find our contact details and work timings here.';\n      break;\n\n    case 'howitworks':\n      title = 'How it works | SpotMyCrib';\n      desc = 'Find your next dream home fast, easy and simple way.';\n      break;\n\n    case 'careers':\n      title = 'Careers | SpotMyCrib';\n      desc = 'We are hiring! Work in the most innovative online real estate company. '; // import '../static/careers.js';\n\n      break;\n\n    case 'estateagent':\n      title = 'Agents/Landlords | SpotMyCrib';\n      desc = 'Learn on why you need next generation high tech automated property managment solution. Learn how SpotMyCrib can ease your life with tenant screening, digital leasing, online rent collection and much more. '; // import '../static/careers.js';\n\n      break;\n\n    case 'gdpr':\n      title = 'Data Protection / EU GDPR | SpotMyCrib';\n      desc = 'An overview of Data Protection and EU GDPR and how we are preparing for it at SpotMyCrib.';\n      break;\n\n    case 'cookiepolicy':\n      title = 'Cookie Policy | SpotMyCrib';\n      desc = 'An overview of our cookie policy and how we use them to provide you with best user experence.';\n      break;\n\n    default:\n  }\n\n  clearMeta();\n  DocHead.setTitle(title);\n  DocHead.addMeta({\n    name: \"description\",\n    content: desc\n  }); ////////////Adding below code only for static\n\n  if (Meteor.isClient) {\n    setTimeout(function () {\n      try {\n        jQuery(\"html,body\").animate({\n          scrollTop: 0\n        }, 250);\n      } catch (e) {\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n      }\n    }, 2000);\n  }\n} // FlowRouter.triggers.enter([function(){\n//\n// }]);\n// FlowRouter.go('account/propertyApplications')\n// tesing my properties from anonomoues tab to see if login works and if pubs work fine,\n//     also if post login , will it automatically update pubs?\n//     use ctrl+m to see the records returned by pubs\n//FlowRouter.current().route.getName()  to FlowRouter.current().route.name\n//Router to FlowRouter\n// 1. all routes conversion\n// 2. new react header and footer used in home page needs to work\n// 3. react ssr work\n// 4. performance tuning for pages that are using ssr\n// 5. category pages\n//\n// FlowRouter.route(\"/\", {\n//   subscriptions: function() {\n//     var selector = {category: {$ne: \"private\"}};\n//     this.register('posts', Meteor.subscribe('posts', selector));\n//   },\n//   action: function() {\n//     ReactLayout.render(BlogLayout, {\n//       content: <PostList />\n//     });\n//   }\n// });\n// if(Meteor.isServer) {\n//     WebApp.connectHandlers.use('/', function(req, res, next) {\n//         if(isValidRoute(req.url))\n//             return next();\n//\n//         res.writeHead(404);\n//         res.end(SSR.render('404'));\n//     });\n//\n//     var pathToRegexp = Meteor.npmRequire('path-to-regexp')\n//\n//     function isValidRoute(requestUrl) {\n//         for(var i = 0; i < FlowRouter._routes.length; i++)\n//             if(pathToRegexp(FlowRouter._routes[i].path).test(requestUrl))\n//                 return true;\n//\n//         return false;\n//     }\n// }\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"common\":{\"common.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// common/common.js                                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.link(\"../imports/api/publications.js\");\nmodule.link(\"../imports/api/profile.js\");\nmodule.link(\"../imports/api/properties.js\");\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\n// import '../imports/ui/templates/accounts/signIn/signIn.js'\n// import '../imports/ui/templates/accounts/signUp/signUp.js'\n// import '../imports/ui/templates/accounts/forgot/forgot.js'\nviews = {};\n\nviews['propertyManage.view'] = function (terms) {\n  try {\n    // var id = Router.current().params.id\n    return {\n      find: {\n        propertyId: terms.id\n      },\n      options: {\n        limit: 1\n      } // sort: {sort: {createdAt: -1}, limit: 1}\n\n    };\n  } catch (e) {\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nviews['property.view'] = function (terms) {\n  try {\n    return {\n      find: {\n        _id: terms.id\n      },\n      options: {\n        limit: 1\n      }\n    };\n  } catch (e) {\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nviews['PMactivityHistory.view'] = function (terms) {\n  try {\n    // var id = Router.current().params.id\n    var lim = Session.get('resultsPerPage');\n    if (!lim) lim = 100;\n    return {\n      find: {\n        propertyId: terms.id\n      },\n      options: {\n        limit: lim,\n        sort: {\n          createdAt: -1\n        }\n      } // sort: {sort: {createdAt: -1}, limit: 1}\n\n    };\n  } catch (e) {\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nviews['MyProperties.view'] = function (terms) {\n  try {\n    var resperpage = terms.resperpage;\n    if (isNaN(resperpage)) resperpage = 20;\n    if (!resperpage) resperpage = 20;\n    if (resperpage < 0 || resperpage > 100) resperpage = 20;\n    var pg = 1;\n\n    try {\n      pg = parseInt(terms.pageno);\n    } catch (e) {}\n\n    if (isNaN(pg)) pg = 1;\n    var skip = (pg - 1) * resperpage;\n    if (isNaN(skip)) skip = 0;\n    return {\n      find: {},\n      options: {\n        limit: parseInt(resperpage),\n        sort: {\n          updatedAt: -1\n        },\n        skip: parseInt(skip)\n      }\n    };\n  } catch (e) {\n    console.log(e);\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nviews['PropertyApplications.view'] = function (terms) {\n  try {\n    let originalPgSplit = null,\n        validOriginalPgSplit = false;\n\n    if (terms.pageno) {\n      originalPgSplit = terms.pageno.toString().split('-');\n\n      if (originalPgSplit.length == 2) {\n        //if format issue, then reset issue.\n        // if inside it means that format is correct, below if will correct data if required.\n        validOriginalPgSplit = true;\n        if (isNaN(originalPgSplit[0])) originalPgSplit[0] = 1; // if its not a number then reset it.\n\n        if (isNaN(originalPgSplit[1])) originalPgSplit[1] = 1; // if its not a number then reset it.\n      }\n    }\n\n    if (!validOriginalPgSplit) {\n      //invalid originalPgSplit; reset it\n      originalPgSplit = [1, 1];\n    } //// for property applications\n\n\n    var resperpage = terms.PAresperpage;\n    if (isNaN(resperpage)) resperpage = 20;\n    if (!resperpage) resperpage = 20;\n    if (resperpage < 0 || resperpage > 100) resperpage = 20;\n    var pg = originalPgSplit[0];\n    var skip = (pg - 1) * resperpage;\n    if (isNaN(skip)) skip = 0;\n    let out = {\n      id: terms.id,\n      options: {\n        limit: resperpage\n      }\n    };\n    out.propertyApplications = {\n      find: {},\n      options: {\n        limit: parseInt(resperpage),\n        sort: {\n          createdAt: -1\n        },\n        skip: parseInt(skip)\n      }\n    }; //// for Email Enquiries\n\n    resperpage = terms.EEresperpage;\n    if (isNaN(resperpage)) resperpage = 20;\n    if (!resperpage) resperpage = 20;\n    if (resperpage < 0 || resperpage > 100) resperpage = 20;\n    pg = originalPgSplit[1];\n    skip = (pg - 1) * resperpage;\n    if (isNaN(skip)) skip = 0;\n    out.emailEnquiries = {\n      find: {},\n      options: {\n        limit: parseInt(resperpage),\n        sort: {\n          createdAt: -1\n        },\n        skip: parseInt(skip)\n      }\n    };\n    return out;\n  } catch (e) {\n    console.log(e);\n    return {\n      propertyApplications: {\n        find: {},\n        options: {\n          limit: 1\n        },\n        fail: true\n      },\n      emailEnquiries: {\n        find: {},\n        options: {\n          limit: 1\n        },\n        fail: true\n      },\n      fail: true\n    };\n  }\n};\n\nviews['MyAdvertisements.view'] = function (terms) {\n  try {\n    var resperpage = terms.resperpage;\n    if (isNaN(resperpage)) resperpage = 20;\n    if (!resperpage) resperpage = 20;\n    if (resperpage < 0 || resperpage > 100) resperpage = 20;\n    var pg = 1;\n\n    try {\n      pg = parseInt(terms.pageno);\n    } catch (e) {}\n\n    if (isNaN(pg)) pg = 1;\n    var skip = (pg - 1) * resperpage;\n    if (isNaN(skip)) skip = 0;\n    return {\n      find: {},\n      options: {\n        limit: parseInt(resperpage),\n        sort: {\n          updatedAt: -1\n        },\n        skip: parseInt(skip)\n      }\n    };\n  } catch (e) {\n    console.log(e);\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nviews['browseLettings.view'] = function (terms) {\n  try {\n    var resperpage = terms.resperpage;\n    if (isNaN(resperpage)) resperpage = 20;\n    if (!resperpage) resperpage = 20;\n    if (resperpage < 0 || resperpage > 100) resperpage = 20;\n    var slugData = getSlugData(terms.slug, terms.query);\n    var find = {};\n    if (slugData.area) find['address.area'] = slugData.area;\n    if (slugData.county) find['address.county'] = slugData.county;\n    if (slugData.propertyType) find['type'] = slugData.propertyType; //.toString().toLowerCase()\n    // if(slugData.country) find.address.country=slugData.country;\n    // console.log(slugData)\n\n    var bedCount = null;\n    if (slugData.bedCount && !isNaN(slugData.bedCount)) bedCount = parseInt(slugData.bedCount);\n    var pg = 1;\n\n    try {\n      pg = parseInt(terms.pageno);\n    } catch (e) {}\n\n    if (isNaN(pg)) pg = 1;\n    var skip = (pg - 1) * resperpage;\n    if (isNaN(skip)) skip = 0;\n    var sortOptions = {\n      updatedAt: -1\n    };\n    if (slugData.luxurySort) sortOptions = {\n      rentMonthly: -1\n    };else if (slugData.cheapSort) sortOptions = {\n      rentMonthly: 1\n    };else if (slugData.mostRecentSort) sortOptions = {\n      updatedAt: -1\n    };else if (slugData.leastRecentSort) sortOptions = {\n      updatedAt: 1\n    };\n    let tmp = [],\n        validKeys = null;\n\n    if (terms.propertykey) {\n      validKeys = [];\n      tmp = terms.propertykey.split('-');\n\n      for (let i = 0; i < tmp.length; i++) {\n        if (tmp[i].length == 5) validKeys.push(tmp[i].toUpperCase()); //This is the validation we are doing.\n      }\n    }\n\n    return {\n      find: find,\n      propertykey: validKeys,\n      minRent: slugData.minRent,\n      maxRent: slugData.maxRent,\n      minBeds: slugData.minBeds,\n      maxBeds: slugData.maxBeds,\n      bedCount: bedCount,\n      options: {\n        limit: parseInt(resperpage),\n        sort: sortOptions,\n        skip: parseInt(skip)\n      }\n    };\n  } catch (e) {\n    console.log(e);\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nviews['browseBlogs.view'] = function (terms) {\n  try {\n    var resperpage = terms.resperpage;\n    if (isNaN(resperpage)) resperpage = 6;\n    if (!resperpage) resperpage = 6;\n    if (resperpage < 0 || resperpage > 100) resperpage = 6; // if(!terms.slug) throw 'Slug required';\n\n    var find = {}; // if(terms.slug) find['slug']=slug\n\n    var pg = 1;\n\n    try {\n      pg = parseInt(terms.pageno);\n    } catch (e) {}\n\n    if (isNaN(pg)) pg = 1;\n    var skip = (pg - 1) * resperpage;\n    if (isNaN(skip)) skip = 0;\n    var sortOptions = {\n      updatedAt: -1\n    };\n    return {\n      find: find,\n      options: {\n        limit: parseInt(resperpage),\n        sort: sortOptions,\n        skip: parseInt(skip)\n      }\n    };\n  } catch (e) {\n    console.log(e);\n    return {\n      find: {},\n      options: {\n        limit: 1\n      },\n      fail: true\n    };\n  }\n};\n\nqueryConstructor = function (terms) {\n  var viewFunction = views[terms.viewName];\n  var data = viewFunction(terms);\n\n  if (data.options.limit > 100) {\n    data.options.limit = 100;\n  }\n\n  return data;\n}; //http://www.discovermeteor.com/blog/query-constructors/\n\n\nfunction getSlugData(slug, query) {\n  //This needs to be seperate on common.\n  var propertyType = \"\";\n  var county = \"\";\n  var area = \"\";\n  var maxRent = \"\";\n  var minRent = \"\";\n  var minBeds = \"\";\n  var maxBeds = \"\";\n  var country = \"\";\n  var bedCount = \"\";\n  var luxurySort = \"\";\n  var cheapSort = \"\";\n  var mostRecentSort = \"\";\n  var leastRecentSort = \"\";\n  var range = [{\n    cur: \"eur\",\n    min: 0,\n    max: 10000\n  }];\n  var selectedCur = range[0];\n\n  if (query) {\n    if (query.minRent) minRent = query.minRent;\n    if (query.maxRent) maxRent = query.maxRent;\n    if (query.minBeds) minBeds = query.minBeds;\n    if (query.maxBeds) maxBeds = query.maxBeds;\n    if (query.bedCount) bedCount = query.bedCount;\n    if (query.luxurySort) luxurySort = query.luxurySort;\n    if (query.cheapSort) cheapSort = query.cheapSort;\n    if (query.mostRecentSort) mostRecentSort = query.mostRecentSort;\n    if (query.leastRecentSort) leastRecentSort = query.leastRecentSort;\n  }\n\n  if (!slug) {\n    return {\n      country: country,\n      county: county,\n      area: area,\n      minRent: minRent,\n      maxRent: maxRent,\n      minBeds: minBeds,\n      maxBeds: maxBeds,\n      bedCount: bedCount,\n      luxurySort: luxurySort,\n      cheapSort: cheapSort,\n      mostRecentSort: mostRecentSort,\n      leastRecentSort: leastRecentSort,\n      propertyType: propertyType\n    };\n  }\n\n  if (slug.indexOf('-for-') != -1) {\n    propertyType = slug.split('-for-')[0];\n    propertyType = propertyType.split('-').join(' ');\n  }\n\n  if (slug.indexOf('-in-') != -1) {\n    var tmp = slug.split('-in-')[1].split('-');\n\n    switch (tmp.length) {\n      case 3:\n        country = tmp[2];\n        county = tmp[1];\n        area = tmp[0];\n        break;\n\n      case 2:\n        country = tmp[1];\n        county = tmp[0];\n        break;\n\n      case 1:\n        country = tmp[0];\n        break;\n    }\n\n    if (propertyType) propertyType = propertyType.replace(/_/g, ' ');\n    if (county) county = titleCaseAllWords(county.replace(/_/g, ' '));\n    if (country) country = titleCaseAllWords(country.replace(/_/g, ' '));\n    if (area) area = titleCaseAllWords(area.replace(/_/g, ' '));\n  }\n\n  return {\n    country: country,\n    county: county,\n    area: area,\n    minRent: minRent,\n    maxRent: maxRent,\n    minBeds: minBeds,\n    maxBeds: maxBeds,\n    bedCount: bedCount,\n    luxurySort: luxurySort,\n    cheapSort: cheapSort,\n    mostRecentSort: mostRecentSort,\n    leastRecentSort: leastRecentSort,\n    propertyType: propertyType\n  };\n}\n\nfunction titleCaseAllWords(str) {\n  if (!str) return;\n  return str.split(' ').map(function (str) {\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n  }).join(' '); // var words = str.split(' ')\n  // for(var i=0;i<words.length;i++){\n  //\n  // }\n  // return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\ncdnPath = function (url) {\n  if (Meteor.settings.public.CDN_ENABLED) {\n    return CDN.get_cdn_url() + url; // if(Meteor.isDevelopment || !process.env.GALAXY_APP_VERSION_ID) return `http://d30nklzkhaqiiz.cloudfront.net${url}`;\n    //\n    // if(url.indexOf('?')!=-1)return `http://d30nklzkhaqiiz.cloudfront.net${url}?_g_app_v_=${process.env.GALAXY_APP_VERSION_ID}`;\n    // else return `http://d30nklzkhaqiiz.cloudfront.net${url}&_g_app_v_=${process.env.GALAXY_APP_VERSION_ID}`;\n  }\n\n  return url;\n};\n\nclearMeta = function () {\n  addLangLink();\n  if (!Meteor.isClient) return;\n  var arr_elms = [];\n  arr_elms = document.head.getElementsByTagName(\"meta\"); // This var is reactive\n\n  var c = 0;\n\n  while (arr_elms[c]) {\n    //First 3 are default and useful\n    // console.log(arr_elms[3])\n    if (arr_elms[c].name == \"description\") document.head.removeChild(arr_elms[c]);\n    c++;\n  } // console.log('Removed: '+c);\n  ///Below code removed extra link hreflang 's\n\n\n  arr_elms = [];\n  arr_elms = document.head.getElementsByTagName(\"link\"); // This var is reactive\n\n  c = 0;\n\n  while (arr_elms[c]) {\n    //First 3 are default and useful\n    if (arr_elms[c].hreflang) document.head.removeChild(arr_elms[c]);\n    c++;\n  }\n};\n\naddLangLink = function () {\n  try {\n    // <link rel=\"alternate\" href=\"https://www.spotmycrib.ie/\" hreflang=\"en-ie\" />\n    var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams);\n    var linkInfo = {\n      rel: \"alternate\",\n      hreflang: \"en-ie\",\n      href: currentURL\n    };\n    DocHead.addLink(linkInfo);\n    if (FlowRouter.current().route.name != 'letting') DocHead.addMeta({\n      rel: \"canonical\",\n      href: currentURL\n    }); // console.log('In addLang');\n  } catch (e) {}\n};\n\nfbq = function () {}; //Replacement for FB pixel code\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\",\n    \".less\",\n    \".jsx\"\n  ]\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/compatibility/plugins/nouislider/js/nouislider.min.js                                                        //\n// This file is in bare mode and is not in its own closure.                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * Materialize v0.97.3 (http://materializecss.com)\n * Copyright 2014-2015 Materialize\n * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)\n */\n/*!\n * Materialize v0.97.2 (http://materializecss.com)\n * Copyright 2014-2015 Materialize\n * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)\n */\n/*!\n * Materialize v0.97.1 (http://materializecss.com)\n * Copyright 2014-2015 Materialize\n * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)\n */\n// wNumb\n(function(){function r(b){return b.split(\"\").reverse().join(\"\")}function s(b,f,c){if((b[f]||b[c])&&b[f]===b[c])throw Error(f);}function v(b,f,c,d,e,p,q,k,l,h,n,a){q=a;var m,g=n=\"\";p&&(a=p(a));if(\"number\"!==typeof a||!isFinite(a))return!1;b&&0===parseFloat(a.toFixed(b))&&(a=0);0>a&&(m=!0,a=Math.abs(a));b&&(p=Math.pow(10,b),a=(Math.round(a*p)/p).toFixed(b));a=a.toString();-1!==a.indexOf(\".\")&&(b=a.split(\".\"),a=b[0],c&&(n=c+b[1]));f&&(a=r(a).match(/.{1,3}/g),a=r(a.join(r(f))));m&&k&&(g+=k);d&&(g+=d);\nm&&l&&(g+=l);g=g+a+n;e&&(g+=e);h&&(g=h(g,q));return g}function w(b,f,c,d,e,h,q,k,l,r,n,a){var m;b=\"\";n&&(a=n(a));if(!a||\"string\"!==typeof a)return!1;k&&a.substring(0,k.length)===k&&(a=a.replace(k,\"\"),m=!0);d&&a.substring(0,d.length)===d&&(a=a.replace(d,\"\"));l&&a.substring(0,l.length)===l&&(a=a.replace(l,\"\"),m=!0);e&&a.slice(-1*e.length)===e&&(a=a.slice(0,-1*e.length));f&&(a=a.split(f).join(\"\"));c&&(a=a.replace(c,\".\"));m&&(b+=\"-\");b=Number((b+a).replace(/[^0-9\\.\\-.]/g,\"\"));q&&(b=q(b));return\"number\"===\ntypeof b&&isFinite(b)?b:!1}function x(b){var f,c,d,e={};for(f=0;f<h.length;f+=1)c=h[f],d=b[c],void 0===d?e[c]=\"negative\"!==c||e.negativeBefore?\"mark\"===c&&\".\"!==e.thousand?\".\":!1:\"-\":\"decimals\"===c?0<d&&8>d&&(e[c]=d):\"encoder\"===c||\"decoder\"===c||\"edit\"===c||\"undo\"===c?\"function\"===typeof d&&(e[c]=d):\"string\"===typeof d&&(e[c]=d);s(e,\"mark\",\"thousand\");s(e,\"prefix\",\"negative\");s(e,\"prefix\",\"negativeBefore\");return e}function u(b,f,c){var d,e=[];for(d=0;d<h.length;d+=1)e.push(b[h[d]]);e.push(c);return f.apply(\"\",\ne)}function t(b){if(!(this instanceof t))return new t(b);\"object\"===typeof b&&(b=x(b),this.to=function(f){return u(b,v,f)},this.from=function(f){return u(b,w,f)})}var h=\"decimals thousand mark prefix postfix encoder decoder negativeBefore negative edit undo\".split(\" \");window.wNumb=t})();\n\n\n/*! nouislider - 8.0.2 - 2015-07-06 13:22:09 */\n\n/*jslint browser: true */\n/*jslint white: true */\n\n(function (factory) {\n\n    if ( typeof define === 'function' && define.amd ) {\n\n        // AMD. Register as an anonymous module.\n        define([], factory);\n\n    } else if ( typeof exports === 'object' ) {\n\n        var fs = require('fs');\n\n        // Node/CommonJS\n        module.exports = factory();\n        module.exports.css = function () {\n            return fs.readFileSync(__dirname + '/nouislider.min.css', 'utf8');\n        };\n\n    } else {\n\n        // Browser globals\n        window.noUiSlider = factory();\n    }\n\n}(function( ){\n\n\t'use strict';\n\n\n\t// Removes duplicates from an array.\n\tfunction unique(array) {\n\t\treturn array.filter(function(a){\n\t\t\treturn !this[a] ? this[a] = true : false;\n\t\t}, {});\n\t}\n\n\t// Round a value to the closest 'to'.\n\tfunction closest ( value, to ) {\n\t\treturn Math.round(value / to) * to;\n\t}\n\n\t// Current position of an element relative to the document.\n\tfunction offset ( elem ) {\n\n\tvar rect = elem.getBoundingClientRect(),\n\t\tdoc = elem.ownerDocument,\n\t\twin = doc.defaultView || doc.parentWindow,\n\t\tdocElem = doc.documentElement,\n\t\txOff = win.pageXOffset;\n\n\t\t// getBoundingClientRect contains left scroll in Chrome on Android.\n\t\t// I haven't found a feature detection that proves this. Worst case\n\t\t// scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n\t\tif ( /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) ) {\n\t\t\txOff = 0;\n\t\t}\n\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset - docElem.clientTop,\n\t\t\tleft: rect.left + xOff - docElem.clientLeft\n\t\t};\n\t}\n\n\t// Checks whether a value is numerical.\n\tfunction isNumeric ( a ) {\n\t\treturn typeof a === 'number' && !isNaN( a ) && isFinite( a );\n\t}\n\n\t// Rounds a number to 7 supported decimals.\n\tfunction accurateNumber( number ) {\n\t\tvar p = Math.pow(10, 7);\n\t\treturn Number((Math.round(number*p)/p).toFixed(7));\n\t}\n\n\t// Sets a class and removes it after [duration] ms.\n\tfunction addClassFor ( element, className, duration ) {\n\t\taddClass(element, className);\n\t\tsetTimeout(function(){\n\t\t\tremoveClass(element, className);\n\t\t}, duration);\n\t}\n\n\t// Limits a value to 0 - 100\n\tfunction limit ( a ) {\n\t\treturn Math.max(Math.min(a, 100), 0);\n\t}\n\n\t// Wraps a variable as an array, if it isn't one yet.\n\tfunction asArray ( a ) {\n\t\treturn Array.isArray(a) ? a : [a];\n\t}\n\n\t// Counts decimals\n\tfunction countDecimals ( numStr ) {\n\t\tvar pieces = numStr.split(\".\");\n\t\treturn pieces.length > 1 ? pieces[1].length : 0;\n\t}\n\n\t// http://youmightnotneedjquery.com/#add_class\n\tfunction addClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.add(className);\n\t\t} else {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t}\n\n\t// http://youmightnotneedjquery.com/#remove_class\n\tfunction removeClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.remove(className);\n\t\t} else {\n\t\t\tel.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t\t}\n\t}\n\n\t// http://youmightnotneedjquery.com/#has_class\n\tfunction hasClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.contains(className);\n\t\t} else {\n\t\t\tnew RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n\t\t}\n\t}\n\n\n\tvar\n\t// Determine the events to bind. IE11 implements pointerEvents without\n\t// a prefix, which breaks compatibility with the IE10 implementation.\n\t/** @const */\n\tactions = window.navigator.pointerEnabled ? {\n\t\tstart: 'pointerdown',\n\t\tmove: 'pointermove',\n\t\tend: 'pointerup'\n\t} : window.navigator.msPointerEnabled ? {\n\t\tstart: 'MSPointerDown',\n\t\tmove: 'MSPointerMove',\n\t\tend: 'MSPointerUp'\n\t} : {\n\t\tstart: 'mousedown touchstart',\n\t\tmove: 'mousemove touchmove',\n\t\tend: 'mouseup touchend'\n\t},\n\t// Re-usable list of classes;\n\t/** @const */\n\tClasses = [\n/*  0 */  'noUi-target'\n/*  1 */ ,'noUi-base'\n/*  2 */ ,'noUi-origin'\n/*  3 */ ,'noUi-handle'\n/*  4 */ ,'noUi-horizontal'\n/*  5 */ ,'noUi-vertical'\n/*  6 */ ,'noUi-background'\n/*  7 */ ,'noUi-connect'\n/*  8 */ ,'noUi-ltr'\n/*  9 */ ,'noUi-rtl'\n/* 10 */ ,'noUi-dragable'\n/* 11 */ ,''\n/* 12 */ ,'noUi-state-drag'\n/* 13 */ ,''\n/* 14 */ ,'noUi-state-tap'\n/* 15 */ ,'noUi-active'\n/* 16 */ ,''\n/* 17 */ ,'noUi-stacking'\n\t];\n\n\n// Value calculation\n\n\t// Determine the size of a sub-range in relation to a full range.\n\tfunction subRangeRatio ( pa, pb ) {\n\t\treturn (100 / (pb - pa));\n\t}\n\n\t// (percentage) How many percent is this value of this range?\n\tfunction fromPercentage ( range, value ) {\n\t\treturn (value * 100) / ( range[1] - range[0] );\n\t}\n\n\t// (percentage) Where is this value on this range?\n\tfunction toPercentage ( range, value ) {\n\t\treturn fromPercentage( range, range[0] < 0 ?\n\t\t\tvalue + Math.abs(range[0]) :\n\t\t\t\tvalue - range[0] );\n\t}\n\n\t// (value) How much is this percentage on this range?\n\tfunction isPercentage ( range, value ) {\n\t\treturn ((value * ( range[1] - range[0] )) / 100) + range[0];\n\t}\n\n\n// Range conversion\n\n\tfunction getJ ( value, arr ) {\n\n\t\tvar j = 1;\n\n\t\twhile ( value >= arr[j] ){\n\t\t\tj += 1;\n\t\t}\n\n\t\treturn j;\n\t}\n\n\t// (percentage) Input a value, find where, on a scale of 0-100, it applies.\n\tfunction toStepping ( xVal, xPct, value ) {\n\n\t\tif ( value >= xVal.slice(-1)[0] ){\n\t\t\treturn 100;\n\t\t}\n\n\t\tvar j = getJ( value, xVal ), va, vb, pa, pb;\n\n\t\tva = xVal[j-1];\n\t\tvb = xVal[j];\n\t\tpa = xPct[j-1];\n\t\tpb = xPct[j];\n\n\t\treturn pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));\n\t}\n\n\t// (value) Input a percentage, find where it is on the specified range.\n\tfunction fromStepping ( xVal, xPct, value ) {\n\n\t\t// There is no range group that fits 100\n\t\tif ( value >= 100 ){\n\t\t\treturn xVal.slice(-1)[0];\n\t\t}\n\n\t\tvar j = getJ( value, xPct ), va, vb, pa, pb;\n\n\t\tva = xVal[j-1];\n\t\tvb = xVal[j];\n\t\tpa = xPct[j-1];\n\t\tpb = xPct[j];\n\n\t\treturn isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));\n\t}\n\n\t// (percentage) Get the step that applies at a certain value.\n\tfunction getStep ( xPct, xSteps, snap, value ) {\n\n\t\tif ( value === 100 ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tvar j = getJ( value, xPct ), a, b;\n\n\t\t// If 'snap' is set, steps are used as fixed points on the slider.\n\t\tif ( snap ) {\n\n\t\t\ta = xPct[j-1];\n\t\t\tb = xPct[j];\n\n\t\t\t// Find the closest position, a or b.\n\t\t\tif ((value - a) > ((b-a)/2)){\n\t\t\t\treturn b;\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\n\t\tif ( !xSteps[j-1] ){\n\t\t\treturn value;\n\t\t}\n\n\t\treturn xPct[j-1] + closest(\n\t\t\tvalue - xPct[j-1],\n\t\t\txSteps[j-1]\n\t\t);\n\t}\n\n\n// Entry parsing\n\n\tfunction handleEntryPoint ( index, value, that ) {\n\n\t\tvar percentage;\n\n\t\t// Wrap numerical input in an array.\n\t\tif ( typeof value === \"number\" ) {\n\t\t\tvalue = [value];\n\t\t}\n\n\t\t// Reject any invalid input, by testing whether value is an array.\n\t\tif ( Object.prototype.toString.call( value ) !== '[object Array]' ){\n\t\t\tthrow new Error(\"noUiSlider: 'range' contains invalid value.\");\n\t\t}\n\n\t\t// Covert min/max syntax to 0 and 100.\n\t\tif ( index === 'min' ) {\n\t\t\tpercentage = 0;\n\t\t} else if ( index === 'max' ) {\n\t\t\tpercentage = 100;\n\t\t} else {\n\t\t\tpercentage = parseFloat( index );\n\t\t}\n\n\t\t// Check for correct input.\n\t\tif ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' value isn't numeric.\");\n\t\t}\n\n\t\t// Store values.\n\t\tthat.xPct.push( percentage );\n\t\tthat.xVal.push( value[0] );\n\n\t\t// NaN will evaluate to false too, but to keep\n\t\t// logging clear, set step explicitly. Make sure\n\t\t// not to override the 'step' setting with false.\n\t\tif ( !percentage ) {\n\t\t\tif ( !isNaN( value[1] ) ) {\n\t\t\t\tthat.xSteps[0] = value[1];\n\t\t\t}\n\t\t} else {\n\t\t\tthat.xSteps.push( isNaN(value[1]) ? false : value[1] );\n\t\t}\n\t}\n\n\tfunction handleStepPoint ( i, n, that ) {\n\n\t\t// Ignore 'false' stepping.\n\t\tif ( !n ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Factor to range ratio\n\t\tthat.xSteps[i] = fromPercentage([\n\t\t\t that.xVal[i]\n\t\t\t,that.xVal[i+1]\n\t\t], n) / subRangeRatio (\n\t\t\tthat.xPct[i],\n\t\t\tthat.xPct[i+1] );\n\t}\n\n\n// Interface\n\n\t// The interface to Spectrum handles all direction-based\n\t// conversions, so the above values are unaware.\n\n\tfunction Spectrum ( entry, snap, direction, singleStep ) {\n\n\t\tthis.xPct = [];\n\t\tthis.xVal = [];\n\t\tthis.xSteps = [ singleStep || false ];\n\t\tthis.xNumSteps = [ false ];\n\n\t\tthis.snap = snap;\n\t\tthis.direction = direction;\n\n\t\tvar index, ordered = [ /* [0, 'min'], [1, '50%'], [2, 'max'] */ ];\n\n\t\t// Map the object keys to an array.\n\t\tfor ( index in entry ) {\n\t\t\tif ( entry.hasOwnProperty(index) ) {\n\t\t\t\tordered.push([entry[index], index]);\n\t\t\t}\n\t\t}\n\n\t\t// Sort all entries by value (numeric sort).\n\t\tordered.sort(function(a, b) { return a[0] - b[0]; });\n\n\t\t// Convert all entries to subranges.\n\t\tfor ( index = 0; index < ordered.length; index++ ) {\n\t\t\thandleEntryPoint(ordered[index][1], ordered[index][0], this);\n\t\t}\n\n\t\t// Store the actual step values.\n\t\t// xSteps is sorted in the same order as xPct and xVal.\n\t\tthis.xNumSteps = this.xSteps.slice(0);\n\n\t\t// Convert all numeric steps to the percentage of the subrange they represent.\n\t\tfor ( index = 0; index < this.xNumSteps.length; index++ ) {\n\t\t\thandleStepPoint(index, this.xNumSteps[index], this);\n\t\t}\n\t}\n\n\tSpectrum.prototype.getMargin = function ( value ) {\n\t\treturn this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;\n\t};\n\n\tSpectrum.prototype.toStepping = function ( value ) {\n\n\t\tvalue = toStepping( this.xVal, this.xPct, value );\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tSpectrum.prototype.fromStepping = function ( value ) {\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn accurateNumber(fromStepping( this.xVal, this.xPct, value ));\n\t};\n\n\tSpectrum.prototype.getStep = function ( value ) {\n\n\t\t// Find the proper step for rtl sliders by search in inverse direction.\n\t\t// Fixes issue #262.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\tvalue = getStep(this.xPct, this.xSteps, this.snap, value );\n\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tSpectrum.prototype.getApplicableStep = function ( value ) {\n\n\t\t// If the value is 100%, return the negative step twice.\n\t\tvar j = getJ(value, this.xPct), offset = value === 100 ? 2 : 1;\n\t\treturn [this.xNumSteps[j-2], this.xVal[j-offset], this.xNumSteps[j-offset]];\n\t};\n\n\t// Outside testing\n\tSpectrum.prototype.convert = function ( value ) {\n\t\treturn this.getStep(this.toStepping(value));\n\t};\n\n/*\tEvery input option is tested and parsed. This'll prevent\n\tendless validation in internal methods. These tests are\n\tstructured with an item for every option available. An\n\toption can be marked as required by setting the 'r' flag.\n\tThe testing function is provided with three arguments:\n\t\t- The provided value for the option;\n\t\t- A reference to the options object;\n\t\t- The name for the option;\n\n\tThe testing function returns false when an error is detected,\n\tor true when everything is OK. It can also modify the option\n\tobject, to make sure all values can be correctly looped elsewhere. */\n\n\tvar defaultFormatter = { 'to': function( value ){\n\t\treturn value.toFixed(2);\n\t}, 'from': Number };\n\n\tfunction testStep ( parsed, entry ) {\n\n\t\tif ( !isNumeric( entry ) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'step' is not numeric.\");\n\t\t}\n\n\t\t// The step option can still be used to set stepping\n\t\t// for linear sliders. Overwritten if set in 'range'.\n\t\tparsed.singleStep = entry;\n\t}\n\n\tfunction testRange ( parsed, entry ) {\n\n\t\t// Filter incorrect input.\n\t\tif ( typeof entry !== 'object' || Array.isArray(entry) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' is not an object.\");\n\t\t}\n\n\t\t// Catch missing start or end.\n\t\tif ( entry.min === undefined || entry.max === undefined ) {\n\t\t\tthrow new Error(\"noUiSlider: Missing 'min' or 'max' in 'range'.\");\n\t\t}\n\n\t\tparsed.spectrum = new Spectrum(entry, parsed.snap, parsed.dir, parsed.singleStep);\n\t}\n\n\tfunction testStart ( parsed, entry ) {\n\n\t\tentry = asArray(entry);\n\n\t\t// Validate input. Values aren't tested, as the public .val method\n\t\t// will always provide a valid location.\n\t\tif ( !Array.isArray( entry ) || !entry.length || entry.length > 2 ) {\n\t\t\tthrow new Error(\"noUiSlider: 'start' option is incorrect.\");\n\t\t}\n\n\t\t// Store the number of handles.\n\t\tparsed.handles = entry.length;\n\n\t\t// When the slider is initialized, the .val method will\n\t\t// be called with the start options.\n\t\tparsed.start = entry;\n\t}\n\n\tfunction testSnap ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.snap = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider: 'snap' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testAnimate ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.animate = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider: 'animate' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testConnect ( parsed, entry ) {\n\n\t\tif ( entry === 'lower' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 1;\n\t\t} else if ( entry === 'upper' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 2;\n\t\t} else if ( entry === true && parsed.handles === 2 ) {\n\t\t\tparsed.connect = 3;\n\t\t} else if ( entry === false ) {\n\t\t\tparsed.connect = 0;\n\t\t} else {\n\t\t\tthrow new Error(\"noUiSlider: 'connect' option doesn't match handle count.\");\n\t\t}\n\t}\n\n\tfunction testOrientation ( parsed, entry ) {\n\n\t\t// Set orientation to an a numerical value for easy\n\t\t// array selection.\n\t\tswitch ( entry ){\n\t\t  case 'horizontal':\n\t\t\tparsed.ort = 0;\n\t\t\tbreak;\n\t\t  case 'vertical':\n\t\t\tparsed.ort = 1;\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrow new Error(\"noUiSlider: 'orientation' option is invalid.\");\n\t\t}\n\t}\n\n\tfunction testMargin ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider: 'margin' option must be numeric.\");\n\t\t}\n\n\t\tparsed.margin = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.margin ) {\n\t\t\tthrow new Error(\"noUiSlider: 'margin' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testLimit ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider: 'limit' option must be numeric.\");\n\t\t}\n\n\t\tparsed.limit = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.limit ) {\n\t\t\tthrow new Error(\"noUiSlider: 'limit' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testDirection ( parsed, entry ) {\n\n\t\t// Set direction as a numerical value for easy parsing.\n\t\t// Invert connection for RTL sliders, so that the proper\n\t\t// handles get the connect/background classes.\n\t\tswitch ( entry ) {\n\t\t  case 'ltr':\n\t\t\tparsed.dir = 0;\n\t\t\tbreak;\n\t\t  case 'rtl':\n\t\t\tparsed.dir = 1;\n\t\t\tparsed.connect = [0,2,1,3][parsed.connect];\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrow new Error(\"noUiSlider: 'direction' option was not recognized.\");\n\t\t}\n\t}\n\n\tfunction testBehaviour ( parsed, entry ) {\n\n\t\t// Make sure the input is a string.\n\t\tif ( typeof entry !== 'string' ) {\n\t\t\tthrow new Error(\"noUiSlider: 'behaviour' must be a string containing options.\");\n\t\t}\n\n\t\t// Check if the string contains any keywords.\n\t\t// None are required.\n\t\tvar tap = entry.indexOf('tap') >= 0,\n\t\t\tdrag = entry.indexOf('drag') >= 0,\n\t\t\tfixed = entry.indexOf('fixed') >= 0,\n\t\t\tsnap = entry.indexOf('snap') >= 0;\n\n\t\tparsed.events = {\n\t\t\ttap: tap || snap,\n\t\t\tdrag: drag,\n\t\t\tfixed: fixed,\n\t\t\tsnap: snap\n\t\t};\n\t}\n\n\tfunction testFormat ( parsed, entry ) {\n\n\t\tparsed.format = entry;\n\n\t\t// Any object with a to and from method is supported.\n\t\tif ( typeof entry.to === 'function' && typeof entry.from === 'function' ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthrow new Error( \"noUiSlider: 'format' requires 'to' and 'from' methods.\");\n\t}\n\n\t// Test all developer settings and parse to assumption-safe values.\n\tfunction testOptions ( options ) {\n\n\t\tvar parsed = {\n\t\t\tmargin: 0,\n\t\t\tlimit: 0,\n\t\t\tanimate: true,\n\t\t\tformat: defaultFormatter\n\t\t}, tests;\n\n\t\t// Tests are executed in the order they are presented here.\n\t\ttests = {\n\t\t\t'step': { r: false, t: testStep },\n\t\t\t'start': { r: true, t: testStart },\n\t\t\t'connect': { r: true, t: testConnect },\n\t\t\t'direction': { r: true, t: testDirection },\n\t\t\t'snap': { r: false, t: testSnap },\n\t\t\t'animate': { r: false, t: testAnimate },\n\t\t\t'range': { r: true, t: testRange },\n\t\t\t'orientation': { r: false, t: testOrientation },\n\t\t\t'margin': { r: false, t: testMargin },\n\t\t\t'limit': { r: false, t: testLimit },\n\t\t\t'behaviour': { r: true, t: testBehaviour },\n\t\t\t'format': { r: false, t: testFormat }\n\t\t};\n\n\t\tvar defaults = {\n\t\t\t'connect': false,\n\t\t\t'direction': 'ltr',\n\t\t\t'behaviour': 'tap',\n\t\t\t'orientation': 'horizontal'\n\t\t};\n\n\t\t// Set defaults where applicable.\n\t\tObject.keys(defaults).forEach(function ( name ) {\n\t\t\tif ( options[name] === undefined ) {\n\t\t\t\toptions[name] = defaults[name];\n\t\t\t}\n\t\t});\n\n\t\t// Run all options through a testing mechanism to ensure correct\n\t\t// input. It should be noted that options might get modified to\n\t\t// be handled properly. E.g. wrapping integers in arrays.\n\t\tObject.keys(tests).forEach(function( name ){\n\n\t\t\tvar test = tests[name];\n\n\t\t\t// If the option isn't set, but it is required, throw an error.\n\t\t\tif ( options[name] === undefined ) {\n\n\t\t\t\tif ( test.r ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider: '\" + name + \"' is required.\");\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\ttest.t( parsed, options[name] );\n\t\t});\n\n\t\t// Forward pips options\n\t\tparsed.pips = options.pips;\n\n\t\t// Pre-define the styles.\n\t\tparsed.style = parsed.ort ? 'top' : 'left';\n\n\t\treturn parsed;\n\t}\n\n\n\t// Delimit proposed values for handle positions.\n\tfunction getPositions ( a, b, delimit ) {\n\n\t\t// Add movement to current position.\n\t\tvar c = a + b[0], d = a + b[1];\n\n\t\t// Only alter the other position on drag,\n\t\t// not on standard sliding.\n\t\tif ( delimit ) {\n\t\t\tif ( c < 0 ) {\n\t\t\t\td += Math.abs(c);\n\t\t\t}\n\t\t\tif ( d > 100 ) {\n\t\t\t\tc -= ( d - 100 );\n\t\t\t}\n\n\t\t\t// Limit values to 0 and 100.\n\t\t\treturn [limit(c), limit(d)];\n\t\t}\n\n\t\treturn [c,d];\n\t}\n\n\t// Provide a clean event with standardized offset values.\n\tfunction fixEvent ( e ) {\n\n\t\t// Prevent scrolling and panning on touch events, while\n\t\t// attempting to slide. The tap event also depends on this.\n\t\te.preventDefault();\n\n\t\t// Filter the event to register the type, which can be\n\t\t// touch, mouse or pointer. Offset changes need to be\n\t\t// made on an event specific basis.\n\t\tvar touch = e.type.indexOf('touch') === 0,\n\t\t\tmouse = e.type.indexOf('mouse') === 0,\n\t\t\tpointer = e.type.indexOf('pointer') === 0,\n\t\t\tx,y, event = e;\n\n\t\t// IE10 implemented pointer events with a prefix;\n\t\tif ( e.type.indexOf('MSPointer') === 0 ) {\n\t\t\tpointer = true;\n\t\t}\n\n\t\tif ( touch ) {\n\t\t\t// noUiSlider supports one movement at a time,\n\t\t\t// so we can select the first 'changedTouch'.\n\t\t\tx = e.changedTouches[0].pageX;\n\t\t\ty = e.changedTouches[0].pageY;\n\t\t}\n\n\t\tif ( mouse || pointer ) {\n\t\t\tx = e.clientX + window.pageXOffset;\n\t\t\ty = e.clientY + window.pageYOffset;\n\t\t}\n\n\t\tevent.points = [x, y];\n\t\tevent.cursor = mouse || pointer; // Fix #435\n\n\t\treturn event;\n\t}\n\n\t// Append a handle to the base.\n\tfunction addHandle ( direction, index ) {\n\n\t\tvar origin = document.createElement('div'),\n\t\t\thandle = document.createElement('div'),\n\t\t\tadditions = [ '-lower', '-upper' ];\n\n\t\tif ( direction ) {\n\t\t\tadditions.reverse();\n\t\t}\n\n\t\taddClass(handle, Classes[3]);\n\t\taddClass(handle, Classes[3] + additions[index]);\n\n\t\taddClass(origin, Classes[2]);\n\t\torigin.appendChild(handle);\n\n\t\treturn origin;\n\t}\n\n\t// Add the proper connection classes.\n\tfunction addConnection ( connect, target, handles ) {\n\n\t\t// Apply the required connection classes to the elements\n\t\t// that need them. Some classes are made up for several\n\t\t// segments listed in the class list, to allow easy\n\t\t// renaming and provide a minor compression benefit.\n\t\tswitch ( connect ) {\n\t\t\tcase 1:\taddClass(target, Classes[7]);\n\t\t\t\t\taddClass(handles[0], Classes[6]);\n\t\t\t\t\tbreak;\n\t\t\tcase 3: addClass(handles[1], Classes[6]);\n\t\t\t\t\t/* falls through */\n\t\t\tcase 2: addClass(handles[0], Classes[7]);\n\t\t\t\t\t/* falls through */\n\t\t\tcase 0: addClass(target, Classes[6]);\n\t\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Add handles to the slider base.\n\tfunction addHandles ( nrHandles, direction, base ) {\n\n\t\tvar index, handles = [];\n\n\t\t// Append handles.\n\t\tfor ( index = 0; index < nrHandles; index += 1 ) {\n\n\t\t\t// Keep a list of all added handles.\n\t\t\thandles.push( base.appendChild(addHandle( direction, index )) );\n\t\t}\n\n\t\treturn handles;\n\t}\n\n\t// Initialize a single slider.\n\tfunction addSlider ( direction, orientation, target ) {\n\n\t\t// Apply classes and data to the target.\n\t\taddClass(target, Classes[0]);\n\t\taddClass(target, Classes[8 + direction]);\n\t\taddClass(target, Classes[4 + orientation]);\n\n\t\tvar div = document.createElement('div');\n\t\taddClass(div, Classes[1]);\n\t\ttarget.appendChild(div);\n\t\treturn div;\n\t}\n\n\nfunction closure ( target, options ){\n\n\t// All variables local to 'closure' are prefixed with 'scope_'\n\tvar scope_Target = target,\n\t\tscope_Locations = [-1, -1],\n\t\tscope_Base,\n\t\tscope_Handles,\n\t\tscope_Spectrum = options.spectrum,\n\t\tscope_Values = [],\n\t\tscope_Events = {};\n\n\n\tfunction getGroup ( mode, values, stepped ) {\n\n\t\t// Use the range.\n\t\tif ( mode === 'range' || mode === 'steps' ) {\n\t\t\treturn scope_Spectrum.xVal;\n\t\t}\n\n\t\tif ( mode === 'count' ) {\n\n\t\t\t// Divide 0 - 100 in 'count' parts.\n\t\t\tvar spread = ( 100 / (values-1) ), v, i = 0;\n\t\t\tvalues = [];\n\n\t\t\t// List these parts and have them handled as 'positions'.\n\t\t\twhile ((v=i++*spread) <= 100 ) {\n\t\t\t\tvalues.push(v);\n\t\t\t}\n\n\t\t\tmode = 'positions';\n\t\t}\n\n\t\tif ( mode === 'positions' ) {\n\n\t\t\t// Map all percentages to on-range values.\n\t\t\treturn values.map(function( value ){\n\t\t\t\treturn scope_Spectrum.fromStepping( stepped ? scope_Spectrum.getStep( value ) : value );\n\t\t\t});\n\t\t}\n\n\t\tif ( mode === 'values' ) {\n\n\t\t\t// If the value must be stepped, it needs to be converted to a percentage first.\n\t\t\tif ( stepped ) {\n\n\t\t\t\treturn values.map(function( value ){\n\n\t\t\t\t\t// Convert to percentage, apply step, return to value.\n\t\t\t\t\treturn scope_Spectrum.fromStepping( scope_Spectrum.getStep( scope_Spectrum.toStepping( value ) ) );\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Otherwise, we can simply use the values.\n\t\t\treturn values;\n\t\t}\n\t}\n\n\tfunction generateSpread ( density, mode, group ) {\n\n\t\tvar originalSpectrumDirection = scope_Spectrum.direction,\n\t\t\tindexes = {},\n\t\t\tfirstInRange = scope_Spectrum.xVal[0],\n\t\t\tlastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],\n\t\t\tignoreFirst = false,\n\t\t\tignoreLast = false,\n\t\t\tprevPct = 0;\n\n\t\t// This function loops the spectrum in an ltr linear fashion,\n\t\t// while the toStepping method is direction aware. Trick it into\n\t\t// believing it is ltr.\n\t\tscope_Spectrum.direction = 0;\n\n\t\t// Create a copy of the group, sort it and filter away all duplicates.\n\t\tgroup = unique(group.slice().sort(function(a, b){ return a - b; }));\n\n\t\t// Make sure the range starts with the first element.\n\t\tif ( group[0] !== firstInRange ) {\n\t\t\tgroup.unshift(firstInRange);\n\t\t\tignoreFirst = true;\n\t\t}\n\n\t\t// Likewise for the last one.\n\t\tif ( group[group.length - 1] !== lastInRange ) {\n\t\t\tgroup.push(lastInRange);\n\t\t\tignoreLast = true;\n\t\t}\n\n\t\tgroup.forEach(function ( current, index ) {\n\n\t\t\t// Get the current step and the lower + upper positions.\n\t\t\tvar step, i, q,\n\t\t\t\tlow = current,\n\t\t\t\thigh = group[index+1],\n\t\t\t\tnewPct, pctDifference, pctPos, type,\n\t\t\t\tsteps, realSteps, stepsize;\n\n\t\t\t// When using 'steps' mode, use the provided steps.\n\t\t\t// Otherwise, we'll step on to the next subrange.\n\t\t\tif ( mode === 'steps' ) {\n\t\t\t\tstep = scope_Spectrum.xNumSteps[ index ];\n\t\t\t}\n\n\t\t\t// Default to a 'full' step.\n\t\t\tif ( !step ) {\n\t\t\t\tstep = high-low;\n\t\t\t}\n\n\t\t\t// Low can be 0, so test for false. If high is undefined,\n\t\t\t// we are at the last subrange. Index 0 is already handled.\n\t\t\tif ( low === false || high === undefined ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Find all steps in the subrange.\n\t\t\tfor ( i = low; i <= high; i += step ) {\n\n\t\t\t\t// Get the percentage value for the current step,\n\t\t\t\t// calculate the size for the subrange.\n\t\t\t\tnewPct = scope_Spectrum.toStepping( i );\n\t\t\t\tpctDifference = newPct - prevPct;\n\n\t\t\t\tsteps = pctDifference / density;\n\t\t\t\trealSteps = Math.round(steps);\n\n\t\t\t\t// This ratio represents the ammount of percentage-space a point indicates.\n\t\t\t\t// For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-devided.\n\t\t\t\t// Round the percentage offset to an even number, then divide by two\n\t\t\t\t// to spread the offset on both sides of the range.\n\t\t\t\tstepsize = pctDifference/realSteps;\n\n\t\t\t\t// Divide all points evenly, adding the correct number to this subrange.\n\t\t\t\t// Run up to <= so that 100% gets a point, event if ignoreLast is set.\n\t\t\t\tfor ( q = 1; q <= realSteps; q += 1 ) {\n\n\t\t\t\t\t// The ratio between the rounded value and the actual size might be ~1% off.\n\t\t\t\t\t// Correct the percentage offset by the number of points\n\t\t\t\t\t// per subrange. density = 1 will result in 100 points on the\n\t\t\t\t\t// full range, 2 for 50, 4 for 25, etc.\n\t\t\t\t\tpctPos = prevPct + ( q * stepsize );\n\t\t\t\t\tindexes[pctPos.toFixed(5)] = ['x', 0];\n\t\t\t\t}\n\n\t\t\t\t// Determine the point type.\n\t\t\t\ttype = (group.indexOf(i) > -1) ? 1 : ( mode === 'steps' ? 2 : 0 );\n\n\t\t\t\t// Enforce the 'ignoreFirst' option by overwriting the type for 0.\n\t\t\t\tif ( !index && ignoreFirst ) {\n\t\t\t\t\ttype = 0;\n\t\t\t\t}\n\n\t\t\t\tif ( !(i === high && ignoreLast)) {\n\t\t\t\t\t// Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\n\t\t\t\t\tindexes[newPct.toFixed(5)] = [i, type];\n\t\t\t\t}\n\n\t\t\t\t// Update the percentage count.\n\t\t\t\tprevPct = newPct;\n\t\t\t}\n\t\t});\n\n\t\t// Reset the spectrum.\n\t\tscope_Spectrum.direction = originalSpectrumDirection;\n\n\t\treturn indexes;\n\t}\n\n\tfunction addMarking ( spread, filterFunc, formatter ) {\n\n\t\tvar style = ['horizontal', 'vertical'][options.ort],\n\t\t\telement = document.createElement('div');\n\n\t\taddClass(element, 'noUi-pips');\n\t\taddClass(element, 'noUi-pips-' + style);\n\n\t\tfunction getSize( type ){\n\t\t\treturn [ '-normal', '-large', '-sub' ][type];\n\t\t}\n\n\t\tfunction getTags( offset, source, values ) {\n\t\t\treturn 'class=\"' + source + ' ' +\n\t\t\t\tsource + '-' + style + ' ' +\n\t\t\t\tsource + getSize(values[1]) +\n\t\t\t\t'\" style=\"' + options.style + ': ' + offset + '%\"';\n\t\t}\n\n\t\tfunction addSpread ( offset, values ){\n\n\t\t\tif ( scope_Spectrum.direction ) {\n\t\t\t\toffset = 100 - offset;\n\t\t\t}\n\n\t\t\t// Apply the filter function, if it is set.\n\t\t\tvalues[1] = (values[1] && filterFunc) ? filterFunc(values[0], values[1]) : values[1];\n\n\t\t\t// Add a marker for every point\n\t\t\telement.innerHTML += '<div ' + getTags(offset, 'noUi-marker', values) + '></div>';\n\n\t\t\t// Values are only appended for points marked '1' or '2'.\n\t\t\tif ( values[1] ) {\n\t\t\t\telement.innerHTML += '<div '+getTags(offset, 'noUi-value', values)+'>' + formatter.to(values[0]) + '</div>';\n\t\t\t}\n\t\t}\n\n\t\t// Append all points.\n\t\tObject.keys(spread).forEach(function(a){\n\t\t\taddSpread(a, spread[a]);\n\t\t});\n\n\t\treturn element;\n\t}\n\n\tfunction pips ( grid ) {\n\n\tvar mode = grid.mode,\n\t\tdensity = grid.density || 1,\n\t\tfilter = grid.filter || false,\n\t\tvalues = grid.values || false,\n\t\tstepped = grid.stepped || false,\n\t\tgroup = getGroup( mode, values, stepped ),\n\t\tspread = generateSpread( density, mode, group ),\n\t\tformat = grid.format || {\n\t\t\tto: Math.round\n\t\t};\n\n\t\treturn scope_Target.appendChild(addMarking(\n\t\t\tspread,\n\t\t\tfilter,\n\t\t\tformat\n\t\t));\n\t}\n\n\n\t// Shorthand for base dimensions.\n\tfunction baseSize ( ) {\n\t\treturn scope_Base['offset' + ['Width', 'Height'][options.ort]];\n\t}\n\n\t// External event handling\n\tfunction fireEvent ( event, handleNumber ) {\n\n\t\tif ( handleNumber !== undefined ) {\n\t\t\thandleNumber = Math.abs(handleNumber - options.dir);\n\t\t}\n\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\n\n\t\t\tvar eventType = targetEvent.split('.')[0];\n\n\t\t\tif ( event === eventType ) {\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\n\t\t\t\t\t// .reverse is in place\n\t\t\t\t\t// Return values as array, so arg_1[arg_2] is always valid.\n\t\t\t\t\tcallback( asArray(valueGet()), handleNumber, inSliderOrder(Array.prototype.slice.call(scope_Values)) );\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns the input array, respecting the slider direction configuration.\n\tfunction inSliderOrder ( values ) {\n\n\t\t// If only one handle is used, return a single value.\n\t\tif ( values.length === 1 ){\n\t\t\treturn values[0];\n\t\t}\n\n\t\tif ( options.dir ) {\n\t\t\treturn values.reverse();\n\t\t}\n\n\t\treturn values;\n\t}\n\n\n\t// Handler for attaching events trough a proxy.\n\tfunction attach ( events, element, callback, data ) {\n\n\t\t// This function can be used to 'filter' events to the slider.\n\t\t// element is a node, not a nodeList\n\n\t\tvar method = function ( e ){\n\n\t\t\tif ( scope_Target.hasAttribute('disabled') ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Stop if an active 'tap' transition is taking place.\n\t\t\tif ( hasClass(scope_Target, Classes[14]) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te = fixEvent(e);\n\n\t\t\t// Ignore right or middle clicks on start #454\n\t\t\tif ( events === actions.start && e.buttons !== undefined && e.buttons > 1 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te.calcPoint = e.points[ options.ort ];\n\n\t\t\t// Call the event handler with the event [ and additional data ].\n\t\t\tcallback ( e, data );\n\n\t\t}, methods = [];\n\n\t\t// Bind a closure on the target for every event type.\n\t\tevents.split(' ').forEach(function( eventName ){\n\t\t\telement.addEventListener(eventName, method, false);\n\t\t\tmethods.push([eventName, method]);\n\t\t});\n\n\t\treturn methods;\n\t}\n\n\t// Handle movement on document for handle and range drag.\n\tfunction move ( event, data ) {\n\n\t\tvar handles = data.handles || scope_Handles, positions, state = false,\n\t\t\tproposal = ((event.calcPoint - data.start) * 100) / baseSize(),\n\t\t\thandleNumber = handles[0] === scope_Handles[0] ? 0 : 1, i;\n\n\t\t// Calculate relative positions for the handles.\n\t\tpositions = getPositions( proposal, data.positions, handles.length > 1);\n\n\t\tstate = setHandle ( handles[0], positions[handleNumber], handles.length === 1 );\n\n\t\tif ( handles.length > 1 ) {\n\n\t\t\tstate = setHandle ( handles[1], positions[handleNumber?0:1], false ) || state;\n\n\t\t\tif ( state ) {\n\t\t\t\t// fire for both handles\n\t\t\t\tfor ( i = 0; i < data.handles.length; i++ ) {\n\t\t\t\t\tfireEvent('slide', i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ( state ) {\n\t\t\t// Fire for a single handle\n\t\t\tfireEvent('slide', handleNumber);\n\t\t}\n\t}\n\n\t// Unbind move events on document, call callbacks.\n\tfunction end ( event, data ) {\n\n\t\t// The handle is no longer active, so remove the class.\n\t\tvar active = scope_Base.getElementsByClassName(Classes[15]),\n\t\t\thandleNumber = data.handles[0] === scope_Handles[0] ? 0 : 1;\n\n\t\tif ( active.length ) {\n\t\t\tremoveClass(active[0], Classes[15]);\n\t\t}\n\n\t\t// Remove cursor styles and text-selection events bound to the body.\n\t\tif ( event.cursor ) {\n\t\t\tdocument.body.style.cursor = '';\n\t\t\tdocument.body.removeEventListener('selectstart', document.body.noUiListener);\n\t\t}\n\n\t\tvar d = document.documentElement;\n\n\t\t// Unbind the move and end events, which are added on 'start'.\n\t\td.noUiListeners.forEach(function( c ) {\n\t\t\td.removeEventListener(c[0], c[1]);\n\t\t});\n\n\t\t// Remove dragging class.\n\t\tremoveClass(scope_Target, Classes[12]);\n\n\t\t// Fire the change and set events.\n\t\tfireEvent('set', handleNumber);\n\t\tfireEvent('change', handleNumber);\n\t}\n\n\t// Bind move events on document.\n\tfunction start ( event, data ) {\n\n\t\tvar d = document.documentElement;\n\n\t\t// Mark the handle as 'active' so it can be styled.\n\t\tif ( data.handles.length === 1 ) {\n\t\t\taddClass(data.handles[0].children[0], Classes[15]);\n\n\t\t\t// Support 'disabled' handles\n\t\t\tif ( data.handles[0].hasAttribute('disabled') ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// A drag should never propagate up to the 'tap' event.\n\t\tevent.stopPropagation();\n\n\t\t// Attach the move and end events.\n\t\tvar moveEvent = attach(actions.move, d, move, {\n\t\t\tstart: event.calcPoint,\n\t\t\thandles: data.handles,\n\t\t\tpositions: [\n\t\t\t\tscope_Locations[0],\n\t\t\t\tscope_Locations[scope_Handles.length - 1]\n\t\t\t]\n\t\t}), endEvent = attach(actions.end, d, end, {\n\t\t\thandles: data.handles\n\t\t});\n\n\t\td.noUiListeners = moveEvent.concat(endEvent);\n\n\t\t// Text selection isn't an issue on touch devices,\n\t\t// so adding cursor styles can be skipped.\n\t\tif ( event.cursor ) {\n\n\t\t\t// Prevent the 'I' cursor and extend the range-drag cursor.\n\t\t\tdocument.body.style.cursor = getComputedStyle(event.target).cursor;\n\n\t\t\t// Mark the target with a dragging state.\n\t\t\tif ( scope_Handles.length > 1 ) {\n\t\t\t\taddClass(scope_Target, Classes[12]);\n\t\t\t}\n\n\t\t\tvar f = function(){\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdocument.body.noUiListener = f;\n\n\t\t\t// Prevent text selection when dragging the handles.\n\t\t\tdocument.body.addEventListener('selectstart', f, false);\n\t\t}\n\t}\n\n\t// Move closest handle to tapped location.\n\tfunction tap ( event ) {\n\n\t\tvar location = event.calcPoint, total = 0, handleNumber, to;\n\n\t\t// The tap event shouldn't propagate up and cause 'edge' to run.\n\t\tevent.stopPropagation();\n\n\t\t// Add up the handle offsets.\n\t\tscope_Handles.forEach(function(a){\n\t\t\ttotal += offset(a)[ options.style ];\n\t\t});\n\n\t\t// Find the handle closest to the tapped position.\n\t\thandleNumber = ( location < total/2 || scope_Handles.length === 1 ) ? 0 : 1;\n\n\t\tlocation -= offset(scope_Base)[ options.style ];\n\n\t\t// Calculate the new position.\n\t\tto = ( location * 100 ) / baseSize();\n\n\t\tif ( !options.events.snap ) {\n\t\t\t// Flag the slider as it is now in a transitional state.\n\t\t\t// Transition takes 300 ms, so re-enable the slider afterwards.\n\t\t\taddClassFor( scope_Target, Classes[14], 300 );\n\t\t}\n\n\t\t// Support 'disabled' handles\n\t\tif ( scope_Handles[handleNumber].hasAttribute('disabled') ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Find the closest handle and calculate the tapped point.\n\t\t// The set handle to the new position.\n\t\tsetHandle( scope_Handles[handleNumber], to );\n\n\t\tfireEvent('slide', handleNumber);\n\t\tfireEvent('set', handleNumber);\n\t\tfireEvent('change', handleNumber);\n\n\t\tif ( options.events.snap ) {\n\t\t\tstart(event, { handles: [scope_Handles[total]] });\n\t\t}\n\t}\n\n\t// Attach events to several slider parts.\n\tfunction events ( behaviour ) {\n\n\t\tvar i, drag;\n\n\t\t// Attach the standard drag event to the handles.\n\t\tif ( !behaviour.fixed ) {\n\n\t\t\tfor ( i = 0; i < scope_Handles.length; i += 1 ) {\n\n\t\t\t\t// These events are only bound to the visual handle\n\t\t\t\t// element, not the 'real' origin element.\n\t\t\t\tattach ( actions.start, scope_Handles[i].children[0], start, {\n\t\t\t\t\thandles: [ scope_Handles[i] ]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Attach the tap event to the slider base.\n\t\tif ( behaviour.tap ) {\n\n\t\t\tattach ( actions.start, scope_Base, tap, {\n\t\t\t\thandles: scope_Handles\n\t\t\t});\n\t\t}\n\n\t\t// Make the range dragable.\n\t\tif ( behaviour.drag ){\n\n\t\t\tdrag = [scope_Base.getElementsByClassName( Classes[7] )[0]];\n\t\t\taddClass(drag[0], Classes[10]);\n\n\t\t\t// When the range is fixed, the entire range can\n\t\t\t// be dragged by the handles. The handle in the first\n\t\t\t// origin will propagate the start event upward,\n\t\t\t// but it needs to be bound manually on the other.\n\t\t\tif ( behaviour.fixed ) {\n\t\t\t\tdrag.push(scope_Handles[(drag[0] === scope_Handles[0] ? 1 : 0)].children[0]);\n\t\t\t}\n\n\t\t\tdrag.forEach(function( element ) {\n\t\t\t\tattach ( actions.start, element, start, {\n\t\t\t\t\thandles: scope_Handles\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// Test suggested values and apply margin, step.\n\tfunction setHandle ( handle, to, noLimitOption ) {\n\n\t\tvar trigger = handle !== scope_Handles[0] ? 1 : 0,\n\t\t\tlowerMargin = scope_Locations[0] + options.margin,\n\t\t\tupperMargin = scope_Locations[1] - options.margin,\n\t\t\tlowerLimit = scope_Locations[0] + options.limit,\n\t\t\tupperLimit = scope_Locations[1] - options.limit;\n\n\t\t// For sliders with multiple handles,\n\t\t// limit movement to the other handle.\n\t\t// Apply the margin option by adding it to the handle positions.\n\t\tif ( scope_Handles.length > 1 ) {\n\t\t\tto = trigger ? Math.max( to, lowerMargin ) : Math.min( to, upperMargin );\n\t\t}\n\n\t\t// The limit option has the opposite effect, limiting handles to a\n\t\t// maximum distance from another. Limit must be > 0, as otherwise\n\t\t// handles would be unmoveable. 'noLimitOption' is set to 'false'\n\t\t// for the .val() method, except for pass 4/4.\n\t\tif ( noLimitOption !== false && options.limit && scope_Handles.length > 1 ) {\n\t\t\tto = trigger ? Math.min ( to, lowerLimit ) : Math.max( to, upperLimit );\n\t\t}\n\n\t\t// Handle the step option.\n\t\tto = scope_Spectrum.getStep( to );\n\n\t\t// Limit to 0/100 for .val input, trim anything beyond 7 digits, as\n\t\t// JavaScript has some issues in its floating point implementation.\n\t\tto = limit(parseFloat(to.toFixed(7)));\n\n\t\t// Return false if handle can't move.\n\t\tif ( to === scope_Locations[trigger] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Set the handle to the new position.\n\t\thandle.style[options.style] = to + '%';\n\n\t\t// Force proper handle stacking\n\t\tif ( !handle.previousSibling ) {\n\t\t\tremoveClass(handle, Classes[17]);\n\t\t\tif ( to > 50 ) {\n\t\t\t\taddClass(handle, Classes[17]);\n\t\t\t}\n\t\t}\n\n\t\t// Update locations.\n\t\tscope_Locations[trigger] = to;\n\n\t\t// Convert the value to the slider stepping/range.\n\t\tscope_Values[trigger] = scope_Spectrum.fromStepping( to );\n\n\t\tfireEvent('update', trigger);\n\n\t\treturn true;\n\t}\n\n\t// Loop values from value method and apply them.\n\tfunction setValues ( count, values ) {\n\n\t\tvar i, trigger, to;\n\n\t\t// With the limit option, we'll need another limiting pass.\n\t\tif ( options.limit ) {\n\t\t\tcount += 1;\n\t\t}\n\n\t\t// If there are multiple handles to be set run the setting\n\t\t// mechanism twice for the first handle, to make sure it\n\t\t// can be bounced of the second one properly.\n\t\tfor ( i = 0; i < count; i += 1 ) {\n\n\t\t\ttrigger = i%2;\n\n\t\t\t// Get the current argument from the array.\n\t\t\tto = values[trigger];\n\n\t\t\t// Setting with null indicates an 'ignore'.\n\t\t\t// Inputting 'false' is invalid.\n\t\t\tif ( to !== null && to !== false ) {\n\n\t\t\t\t// If a formatted number was passed, attemt to decode it.\n\t\t\t\tif ( typeof to === 'number' ) {\n\t\t\t\t\tto = String(to);\n\t\t\t\t}\n\n\t\t\t\tto = options.format.from( to );\n\n\t\t\t\t// Request an update for all links if the value was invalid.\n\t\t\t\t// Do so too if setting the handle fails.\n\t\t\t\tif ( to === false || isNaN(to) || setHandle( scope_Handles[trigger], scope_Spectrum.toStepping( to ), i === (3 - options.dir) ) === false ) {\n\t\t\t\t\tfireEvent('update', trigger);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the slider value.\n\tfunction valueSet ( input ) {\n\n\t\tvar count, values = asArray( input ), i;\n\n\t\t// The RTL settings is implemented by reversing the front-end,\n\t\t// internal mechanisms are the same.\n\t\tif ( options.dir && options.handles > 1 ) {\n\t\t\tvalues.reverse();\n\t\t}\n\n\t\t// Animation is optional.\n\t\t// Make sure the initial values where set before using animated placement.\n\t\tif ( options.animate && scope_Locations[0] !== -1 ) {\n\t\t\taddClassFor( scope_Target, Classes[14], 300 );\n\t\t}\n\n\t\t// Determine how often to set the handles.\n\t\tcount = scope_Handles.length > 1 ? 3 : 1;\n\n\t\tif ( values.length === 1 ) {\n\t\t\tcount = 1;\n\t\t}\n\n\t\tsetValues ( count, values );\n\n\t\t// Fire the 'set' event for both handles.\n\t\tfor ( i = 0; i < scope_Handles.length; i++ ) {\n\t\t\tfireEvent('set', i);\n\t\t}\n\t}\n\n\t// Get the slider value.\n\tfunction valueGet ( ) {\n\n\t\tvar i, retour = [];\n\n\t\t// Get the value from all handles.\n\t\tfor ( i = 0; i < options.handles; i += 1 ){\n\t\t\tretour[i] = options.format.to( scope_Values[i] );\n\t\t}\n\n\t\treturn inSliderOrder( retour );\n\t}\n\n\t// Removes classes from the root and empties it.\n\tfunction destroy ( ) {\n\t\tClasses.forEach(function(cls){\n\t\t\tif ( !cls ) { return; } // Ignore empty classes\n\t\t\tremoveClass(scope_Target, cls);\n\t\t});\n\t\tscope_Target.innerHTML = '';\n\t\tdelete scope_Target.noUiSlider;\n\t}\n\n\t// Get the current step size for the slider.\n\tfunction getCurrentStep ( ) {\n\n\t\t// Check all locations, map them to their stepping point.\n\t\t// Get the step point, then find it in the input list.\n\t\tvar retour = scope_Locations.map(function( location, index ){\n\n\t\t\tvar step = scope_Spectrum.getApplicableStep( location ),\n\n\t\t\t\t// As per #391, the comparison for the decrement step can have some rounding issues.\n\t\t\t\t// Round the value to the precision used in the step.\n\t\t\t\tstepDecimals = countDecimals(String(step[2])),\n\n\t\t\t\t// Get the current numeric value\n\t\t\t\tvalue = scope_Values[index],\n\n\t\t\t\t// To move the slider 'one step up', the current step value needs to be added.\n\t\t\t\t// Use null if we are at the maximum slider value.\n\t\t\t\tincrement = location === 100 ? null : step[2],\n\n\t\t\t\t// Going 'one step down' might put the slider in a different sub-range, so we\n\t\t\t\t// need to switch between the current or the previous step.\n\t\t\t\tprev = Number((value - step[2]).toFixed(stepDecimals)),\n\n\t\t\t\t// If the value fits the step, return the current step value. Otherwise, use the\n\t\t\t\t// previous step. Return null if the slider is at its minimum value.\n\t\t\t\tdecrement = location === 0 ? null : (prev >= step[1]) ? step[2] : (step[0] || false);\n\n\t\t\treturn [decrement, increment];\n\t\t});\n\n\t\t// Return values in the proper order.\n\t\treturn inSliderOrder( retour );\n\t}\n\n\t// Attach an event to this slider, possibly including a namespace\n\tfunction bindEvent ( namespacedEvent, callback ) {\n\t\tscope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\n\t\tscope_Events[namespacedEvent].push(callback);\n\n\t\t// If the event bound is 'update,' fire it immediately for all handles.\n\t\tif ( namespacedEvent.split('.')[0] === 'update' ) {\n\t\t\tscope_Handles.forEach(function(a, index){\n\t\t\t\tfireEvent('update', index);\n\t\t\t});\n\t\t}\n\t}\n\n\t// Undo attachment of event\n\tfunction removeEvent ( namespacedEvent ) {\n\n\t\tvar event = namespacedEvent.split('.')[0],\n\t\t\tnamespace = namespacedEvent.substring(event.length);\n\n\t\tObject.keys(scope_Events).forEach(function( bind ){\n\n\t\t\tvar tEvent = bind.split('.')[0],\n\t\t\t\ttNamespace = bind.substring(tEvent.length);\n\n\t\t\tif ( (!event || event === tEvent) && (!namespace || namespace === tNamespace) ) {\n\t\t\t\tdelete scope_Events[bind];\n\t\t\t}\n\t\t});\n\t}\n\n\n\t// Throw an error if the slider was already initialized.\n\tif ( scope_Target.noUiSlider ) {\n\t\tthrow new Error('Slider was already initialized.');\n\t}\n\n\n\t// Create the base element, initialise HTML and set classes.\n\t// Add handles and links.\n\tscope_Base = addSlider( options.dir, options.ort, scope_Target );\n\tscope_Handles = addHandles( options.handles, options.dir, scope_Base );\n\n\t// Set the connect classes.\n\taddConnection ( options.connect, scope_Target, scope_Handles );\n\n\t// Attach user events.\n\tevents( options.events );\n\n\tif ( options.pips ) {\n\t\tpips(options.pips);\n\t}\n\n\treturn {\n\t\tdestroy: destroy,\n\t\tsteps: getCurrentStep,\n\t\ton: bindEvent,\n\t\toff: removeEvent,\n\t\tget: valueGet,\n\t\tset: valueSet\n\t};\n\n}\n\n\n\t// Run the standard initializer\n\tfunction initialize ( target, originalOptions ) {\n\n\t\tif ( !target.nodeName ) {\n\t\t\tthrow new Error('noUiSlider.create requires a single element.');\n\t\t}\n\n\t\t// Test the options and create the slider environment;\n\t\tvar options = testOptions( originalOptions, target ),\n\t\t\tslider = closure( target, options );\n\n\t\t// Use the public value method to set the start values.\n\t\tslider.set(options.start);\n\n\t\ttarget.noUiSlider = slider;\n\n\t\tif (originalOptions.tooltips === true || originalOptions.tooltips === undefined) {\n\t\t\t// Tooltips\n\t\t\tvar tipHandles = target.getElementsByClassName('noUi-handle'),\n\t\t\t\ttooltips = [];\n\n\t\t\t// Add divs to the slider handles.\n\t\t\tfor ( var i = 0; i < tipHandles.length; i++ ){\n\t\t\t\ttooltips[i] = document.createElement('div');\n\t\t\t\ttipHandles[i].appendChild(tooltips[i]);\n\t\t\t// Add a class for styling\n\t\t\ttooltips[i].className += 'range-label';\n\t\t\t// Add additional markup\n\t\t\ttooltips[i].innerHTML = '<span></span>';\n\t\t\t// Replace the tooltip reference with the span we just added\n\t\t\ttooltips[i] = tooltips[i].getElementsByTagName('span')[0];\n\t\t\t}\n\n\n\t\t\t// When the slider changes, write the value to the tooltips.\n\t\t\ttarget.noUiSlider.on('update', function( values, handle ){\n\n\t\t\t\ttooltips[handle].innerHTML = values[handle];\n\t\t\t});\n\t\t}\n\t}\n\n\t// Use an object instead of a function for future expansibility;\n\treturn {\n\t\tcreate: initialize\n\t};\n\n}));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\nrequire(\"/client/accounts/forgot/template.forgot.js\");\nrequire(\"/client/accounts/signIn/template.signIn.js\");\nrequire(\"/client/accounts/signUp/template.signUp.js\");\nrequire(\"/client/accounts/template.general.js\");\nrequire(\"/client/template.main.js\");\nrequire(\"/lib/routing.js\");\nrequire(\"/client/accounts/forgot/forgot.js\");\nrequire(\"/client/accounts/signIn/signIn.js\");\nrequire(\"/client/accounts/signUp/signUp.js\");\nrequire(\"/client/accounts/countries.js\");\nrequire(\"/client/accounts/general.js\");\nrequire(\"/client/accounts/helpers.js\");\nrequire(\"/client/accounts/validation.js\");\nrequire(\"/common/common.js\");\nrequire(\"/client/main.js\");","hash":"9dd82dea1d3e160c8a1080c788b0413df7577f59","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/accounts/forgot/forgot.js","client/accounts/signIn/signIn.js","client/accounts/signUp/signUp.js","client/accounts/countries.js","client/accounts/general.js","client/accounts/helpers.js","client/accounts/validation.js","client/main.js","imports/ui/layout/footer.js","imports/ui/layout/header.js","imports/ui/layout/layout.js","imports/ui/templates/editProperty.js","imports/ui/templates/lettingprintview.js","imports/ui/templates/myProperties.js","imports/ui/templates/profile.js","imports/ui/templates/propertyApplications.js","imports/ui/templates/propertyManage.js","imports/ui/templates/shared.js","imports/ui/templates/tenant.js","imports/ui/templates/tenants.js","imports/reactui/layout/LoginFormViews.jsx","imports/reactui/layout/MainLayoutFooter.jsx","imports/reactui/layout/MainLayoutHeader.jsx","imports/reactui/layout/NotFound.jsx","imports/reactui/pages/AdvertiseWithUs.jsx","imports/reactui/pages/BlogDetail.jsx","imports/reactui/pages/BlogHome.jsx","imports/reactui/pages/Home.jsx","imports/reactui/pages/HousesForrent.jsx","imports/reactui/pages/LettingDetail.jsx","imports/reactui/static/About.jsx","imports/reactui/static/Careers.jsx","imports/reactui/static/ContactUs.jsx","imports/reactui/static/CookiePolicy.jsx","imports/reactui/static/EstateAgent.jsx","imports/reactui/static/Faqs.jsx","imports/reactui/static/Gdpr.jsx","imports/reactui/static/HowItWorks.jsx","imports/reactui/static/Privacy.jsx","imports/reactui/static/Terms.jsx","imports/api/collections.js","imports/api/profile.js","imports/api/properties.js","imports/api/publications.js","lib/routing.js","common/common.js"],"names":["module","link","Template","loginFormResetPasswordView","events","instance","showForm","set","$","fancybox","close","event","template","isOnPage","data","onPage","Session","preventDefault","emailAddress","val","trim","validatedEmail","LoginFormValidation","email","templateInstance","errors","formMessages","isLoading","push","length","Accounts","forgotPassword","error","console","log","info","reason","onCreated","ReactiveVar","onRendered","find","focus","click","helpers","LoginFormSharedHelpers","loginFormSignInView","loginFailedError","usernameInput","passwordInput","username","password","validatedPassword","validationLevel","Meteor","loginWithPassword","call","err1","result","hide","undefined","keys","loginFlowStart","loginFormSignUpView","type","isOTPverified","intlTelInput","preferredCountries","emailInput","fullNameInput","mobileInput","fullName","mobile","validatedFullName","validatedMobile","newUserData","profile","name","createUser","loginFormSignUpViewLandlord","isClient","Countries","UI","registerHelper","v","loginForm","showSignupForm","get","showForgotForm","isLandLordMode","socialLoginButtons","loginFlowComplete","errorMessages","buttonForText","buttonFor","loginWithFacebook","err","msg","errorType","message","usedInDlg","loginWithTwitter","loginWithGoogle","loginWithLinkedIn","loginPageHorizontal","isTempLoaded","autorun","subscribe","subscriptionsReady","isTemplateLoaded","loginFormHorizontal","mode","user","window","messages","hasError","formErrors","uniqueId","services","serviceHelper","ReactionServiceHelper","shouldShowSeperator","enabledServices","_","where","enabled","Package","hasPasswordService","validator","setDefaults","rules","required","minlength","digits","range","optional","test","re","options","validPasswordRegex","match","notFound","prevRoute","Router","go","args","scrollTo","history","url","cdnPath","hash","params","query","route","String","FlowRouter","path","e","absoluteUrl","str","titleCase","replace","arr","Array","isArray","picture","facebook","indexOf","join","object","map","value","key","text","date","Date","toString","toDateString","toLocaleTimeString","inputDate","monthNames","day","getDate","monthIndex","getMonth","year","getFullYear","displayUser","split","twitter","first_name","google","given_name","instagram","pinterest","i18n","t","isNaN","parseInt","toFixed","isLoggedOn","userId","ele","adjustment","delay","setTimeout","to","first","offset","top","animate","scrollTop","charAt","toUpperCase","toLowerCase","substring","footerExtended","RouteB","slug","headerExtended","getScript","scrolling","overlay","locked","delayedFunctions","isMobileMenuEventAttached","document","unbind","bind","hasClass","target","closest","current","addClass","removeClass","loginFlowCompleteManager","errorModel","tmp","timeoutVal","afterClose","shift","showAddPropertyHeaderTemplate","showAddPropertyHeaderPopup","showLoginDialog","showLoginPopup","isAgentRole","role","showCookieConsent","readCookie","showSignupDialog","logout","Error","createCookie","remove","days","expires","setTime","getTime","toUTCString","cookie","nameEQ","ca","i","c","eraseCookie","startup","Blaze","_allowJavascriptUrls","filestack","default","apikey","fsClient","init","policy","signature","editProperty","isSubsLoaded","id","getParam","deactivateInProgress","archiveInProgress","userLoggedIn","propertyData","ret","Collections","Properties","transform","globalConfig","Config","findOne","auctionId","auction","Auctions","limit","fetch","clearMeta","title","address","area","county","DocHead","setTitle","addMeta","content","propertyFound","count","inIgnoreList","ignoreList","jQuery","body","documentElement","createdByAgent","_id","afterShow","attachEvents","goBack","sluggedName","slugifyEmailAddress","lettingAuctionCode","select","successful","execCommand","ga","editPropertyForm","S3","collection","numBedRoomCount","editPropertyFormSaving","countySelected","gallery","results","doc","bedrooms","trimVal","isEqualSelect","a","b","isEqualCheck","furnishedOptions","isFurnished","label","selected","countries","counties","staticCounties","areas","distinctEntries","uniq","Areas","County","sort","Area","fields","x","propertyTypes","propertyType","ensuiteLoop","countArr","ensuiteLoopCheckbox","index","ensuite","ensuiteLoopBedType","bedType","leaseUntil","allowedVals","ensuiteLoopBedTypeOptions","isSingle","isDouble","isTwin","sel","hasAmenityCheckbox","amenities","propertyContact","contacts","phone","advertisementContact","submit","files","upload","r","editPropertyImages","editPropertyImagesNewOnes","file","original_name","relative_url","secure_url","updateGalleriesInServer","res","openPicker","element","style","height","scrollHeight","t1","validate","datetimepicker","submitHandler","serializeArray","imageEditView","images","imgEditTag","isOriginalImageFromOwnS3","newArr","handle","getIndexByHandle","getIndexByRelativeURL","pickOptions","transformations","crop","force","aspectRatio","rotate","accept","imageMax","cropFiles","then","response","filesUploaded","delete","splice","filename","mimetype","originalFile","originalPath","size","source","status","uploadId","pick","fromSources","maxFiles","fbq","pageno","getpropertyData","applicationsReceivedCount","Bids","applicationsActiveCount","isArchived","myArray","fileId","deactivateConfEvent","archiveConfEvent","closePopupEvent","propertyId","p","RegExp","lettingprintview","Projects","selector","PD","bedroomsCount","ensuiteCount","doubleBedCount","primaryContact","src","amenitiesLogos","amenitiesWithImgs","print","SimpleSchema","advertiseFormSaving","saveAndAdvertise","globalFILTERS","getFiltersFromRoute","FILTERS","queryParams","home_type","facing","floor_low","floor_high","val_l","val_h","price_low","price_high","setFilters","defaultFilters","filter","clear","baseURL","originalUrl","homeType","updateQueryStringParameter","l1","l2","html","numDifferentiation","updateUISlider","getDefaultFilters","getCurUsersBid","bid","slider","getElementById","slider1","noUiSlider","floor","priceRange","resetUISlider","startUISlider","create","start","s1","connect","step","format","wNumb","decimals","s2","on","applyFilterValues","applyFilters","getPaginationData","totalResultsCount","currentPageNo","urlBase","resultsPerPage","pages","prevPage","nextPage","pgMin","pgMax","maxPages","Math","ceil","href","cRoute","prevPageNo","nextPageNo","numFormat","afterPoint","substr","lastThree","otherNumbers","myProperties","applyClearFiltersEvent","failed","prompt","showAddProperty","resperpage","onlyActive","getQueryParam","viewName","Counts","pagination","skip","updatedAt","showDemoProp","demoProperty","showFilters","projectData","filters","isArraysEqual","hasLowerLimit","hasUpperLimit","Object","isAuctionClosed","timestamp","dend","parse","endDate","timeDiff","agentStats","activeAuctions","totalAuctions","totalBidsReceived","bidsReceivedActiveAuctions","bidProfitActive","totalBidProfit","bidProfit","propertyList","expanded","showAddAuctionForm","isSubsLoadedAttempted","attempt","lettingprintviewData","showEditPropertyForm","propId","addPropertyForm","session","addproperty","addPropertyFormSaving","isSA","addPropertyImages","rent","trigger","furnished","baths","about","number","atob","prop","galleryLen","galleryStoredLen","storeURL","JSON","stringify","updateGalleriesInProfile","advertiseForm","parentIns","view","parentView","imageView","imgTag","ok","getIndex","instructions","openPostNewProp","uri","separator","clearFiltersEvent","attr","filterDefaults","array","floorLevelDOM","priceRangeDOM","delayedCall","functionName","array1","array2","is_same","every","callDelayedFunctions","unitid","mybidsJqueryEvents","redirectURL","bidId","location","getPriceBreakUp","unit","ratePerSqFt","pricing","priceBreakUp","electricityMultiplier","statutoryGovtCharges","constructionRateForVAT","landCost","superBuiltUpArea","parseFloat","basicUnitCost","floorRaiseCharge","plcCharge","totalBasicRatepsft","total","agreementValue","infrastructureValue","clubHouseCharges","otherCharges","advanceMaintainence","generatorBackup","builderCharges","serviceTax","vat","labourCess","electricityCharges","stampDuty","stampPaperCharges","legalCharges","otherStatutoryCharges","totalAllInclusive","ordinal_suffix_of","j","k","_validFileExtensions","filevalidation","arrInputs","oInput","sFileName","blnValid","sCurExtension","isPublic","userProfile","privacyTermsMore","hasPasswordSet","hasPasswordSetReqCompleted","city","emailVerified","backBtnNeeded","isPublicProfileSelectYes","isPublicProfileSelectNo","progress","score","css","issues","linkedin","references","hasPassport","employerName","employerTakeHome","hasWorkRef","hasLandlordRef","hasPPS","hasGovtID","hasResume","percent","showFileTemplate","showHideFileDlg","ses","show","width","cate","localHasPasswordSet","hideSaveBtn","showSaveBtn","num","linkWithGoogle","linkWithTwitter","linkWithFacebook","connectWithLinkedIn","arguments","ready","fileUploadDlgTemplate","sesCate","p1","p2","uploading","fileObj","fileObjPrevious","dlgTitle","existingFile","isStep","isNotStep","validFileExtensions","cropper","cameraOptions","MeteorCamera","getPicture","finalImgData","toDataURL","head","imgFileSize","round","sizeKB","sizeMB","mimeType","imgQuality","toBlob","blob","File","cat","regex","isIE","item","FileReader","reader","onload","imgData","readAsDataURL","fileUploadArea","isMyBidsPage","parents","fadeOut","parent","fadeIn","loginFormSetPassword","stopPropagation","password1Input","password2Input","password1","password2","validatedPassword2","loginFormChangePassword","oldPasswordInput","oldPassword","validatedOldPassword","changePassword","myNav","navigator","userAgent","userFilters","check","dropdownCheckbox","offerRangeVal","startFilters","gDefaultFilters","min","price","max","fetchPrevFilters","userFiltersAuctionId","getPaginationData2D","dimensionNumber","originalPgSplit","validOriginalPgSplit","propertyApplications","PAresperpage","EEresperpage","avgOffer","PA_AvgOffer","offer","dataFull","dataChosen","chosen","globlaAuctionId1","globalAuctionData1","totalChosenCount","retChosen","resultsChosen","dataEmailEnquiries","totalEnquiryCount","EmailEnquiries","paginationNeeded","resultsEnquiries","paginationNeede","dataNonChosen","yourBid","$gt","$lt","totalNonChosenCount","resultsNonChosen","userStatic","users","isItNeeded","countActiveFilters","selSatisfiedCount","ref","hasFinancialRef","initFilters","assistanceAlreadyRequested","assistanceRequested","toggle","bidList","choosingInProgress","unChoosingInProgress","canAfford","salary","classBidList","chosenBids","confirm","inviteForViewing","today","tomorrow","setDate","setMinutes","setSeconds","h","getHours","setHours","inviteDate","d","am","df","getMinutes","emailEnquiryList","inviteInProgress","inviteDateFormated","weekday","month","hour","minute","inviteMessage","chosenApplicationCount","$target","currentTarget","$inp","idx","not","blur","propertyManage","pdExpanded","enablingPMS","PropertyManage","docs","hasPropFound","tenants","tenIds","$in","back","PM_bidList","PM_propertyList","chosenTenantCount","addTenantDlg","activity_history","loadingMoreText","ActivityHistory","createdAt","decideTemplate","callback","tenant","isViewingHisProfile","currentUser","isPublicProfile","u1","userFound","userFirstName","tenantList","inviteToApply","myAdvertisements","selectedAdvertisements","each","alert","export","LoginFormSignInView","LoginFormSignUpView","LoginFormSignUpViewLandlord","LoginFormResetPasswordView","React","Component","withTracker","LoginFormMessages","SocialLoginButtonsT","constructor","props","state","signInHandler","componentDidMount","setState","loginCallBack","isSocialAccountCallback","render","loginFromApplyNowBtn","paddingTop","margin","showForgotFormHandler","color","showSignupFormHandler","forgotPwdHandler","signUpHandler","createUserCallback","showSignInFormHandler","radioHandler","tryAgainBtnHandler","forgotPwdCallback","contactUsClickHandler","MainLayoutFooter","display","LoginFormHorizontalT","LoginPage","LoginPageHorizontal","LoginFormT","emailAlerts","heading","para","yesButtonText","EMAIL_ALERT_VARIATION_count","EMAIL_ALERT_VARIATION","EMAILALERT","emailValidation","decideAndShowCreateAlertPopup","showAlertCreate","saidNo","now","emailAlertsActive","emailAlertsNoThanks","showCreateAlertPopup","includes","loadFonts","wf","createElement","rel","async","s","getElementsByTagName","parentNode","insertBefore","MainLayoutHeader","emailAlertEmailAddress","emailAlertEmailAddressHandler","NeedsCreateAlertPopup","componentWillReceiveProps","nextProps","componentWillMount","newAlertCreateForm","newAlertCreatedSuccessfully","emailAlertCreateBtnHandler","emailAlertNoThanksBtnHandler","subscribeToEmailAlert","fontsLoaded","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","addEventListener","runOnlyOnce","off","addon","position","showLoginDialogClick","showSignupDialogClick","logoutBtnClick","profileBtnClick","cookieConsentBtnClick","self","marginLeft","currentUserId","getProfilePic","displayName","textAlign","fontSize","marginBottom","borderBottom","marginTop","exportDefault","tmpHTML","warning","success","LoginForm","showLandlordViewHandler","SocialLoginButtons","dontShow","handleFBLogin","handleTwitterLogin","handleGoogleLogin","handleLinkedInLogin","FBCallback","TwitterCallback","GoogleCallback","LinkedInCallback","LoginFormHorizontal","NotFound","ReactDOM","searialisedAdvertiseForm","saveToLocalStorage","localStorage","advertisewithusFormData","advertisewithusFormData_address","advertisewithusFormData_price","advertisewithusFormData_county","advertisewithusFormData_area","advertisewithusFormData_type","advertisewithusFormData_furnished","advertisewithusFormData_baths","advertisewithusFormData_numBedRoomCount","AdvertiseWithUs","components","c1","AwsStep1","c2","AwsStep2","AwsStep3","TagName","curStepComponent","backBtnHandler","myPropertyLink","addPropImagesHandler","addPropertyCallback","addAdvertisementFormCallback","AdvertiseWithUsForm","numBedRoomCountArr","countySelectedHandler","areaSelectedHandler","propertyTypeHandler","areaSelected","propertyTypeSelected","handleSubmit","findDOMNode","refs","updateNumBedRoomCount","restoreLocalStorageSettings","AdvertiseWithUsFormT","allareas","allcounties","AreasSub","ConfigSub","dateFormat","chunkify","n","balanced","len","out","slice","blogDetail","currentURL","propsListHTML","isServerSSRReq","componentDidUpdate","renderMain","blog","blogImage","image","isAgent","padding","address1","__html","excerpt","related","float","relatedBlog","recentBlogs","renderFullMain","carousel","isServer","viewBlogSub","Blogs","$not","metaTitle","desc","metaDesc","titleTmp","socialDesc","socialTitle","property","ImagesSlider","w","altText","countsCollection","Pagination","disabled","handleChoosePage","page","BlogHome","pBlogs","blogs","pTotalCount","totalCount","pPagination","component","propGrid","created","mainAllPage","paddingBottom","Number","isInteger","cParams","cQueryParams","sortOptions","bBlogsSub","Mongo","Collection","countsGet","has","countsHas","homePageMainFormData_county","homePageMainFormData_area","homePageMainFormData_propertyType","homePageMainFormData_maxRent","slugify","generateSlug","curURL","maxRent","country","cur","selectedCur","bedCount","luxurySort","cheapSort","generateSlugURL","fixImageSize","avgW","Home","searchCrumbs","c3","fCrumbs","areaCrumbs","countyCrumbs","chunks","searchCrumbsLoaded","border","borderWidth","crumbsUpdate","handleJoinNow","handlePostYourProperty","crumb","background","advancedCrumbs","tmpCrumbs","concat","advC","HomePageMainForm","isLocalAlreadySet","isLocalAreaAlreadySet","maxRentHandler","localHistorySet","removeAttr","submitFormHandler","propertykey","zIndex","HomePageMainFormT","areasSub","HomePageLatestProps","pAuctions","auctions","pProperties","properties","resize","propType","HomePageLatestPropsT","bLettingsSub","mostRecentSort","titleCaseAllWords","getSlugData","minRent","minBeds","maxBeds","leastRecentSort","sortBy","updateRoute","curCity","curBuilder","HousesForrent","pCS","pAS","pTS","pCounties","pPropertyTypes","pAreas","showXSMenu","minRentSelected","maxRentSelected","minBedCountSelected","maxBedCountSelected","sortBySelected","minRentOptions","maxRentOptions","minBedOptions","maxBedOptions","sortByOptions","handleCountyDropdown","countyChanged","handleAreaDropdown","handlePropertyTypeDropdown","handleMinRentDropdown","homePageMainFormData_minRent","handleMaxRentDropdown","handleMinBedDropdown","homePageMainFormData_minBed","handleMaxBedDropdown","homePageMainFormData_maxBed","handleSortByDropdown","searchXSMenu","cancelSearchXSMenu","handleShowFilters","showFilterText","formatedPT","handleClearFilters","slugData","sluggedTitle","sluggedTitleWithoutType","sluggedType","propertyTypePlural","startTime","countyParam","areaParam","rentMonthly","description","module1","updateViewsCalled","propertyKeyOfThisPage","addCommaToEach","nlToBr","validateMobileNumber","redirectToProfilePageEvent","showConfDialog","autoExpandDelayed","autoExpand","field","computed","getComputedStyle","getPropertyValue","isApplySuccessfulOpen","showApplySuccessfulDialog","LettingDetail","isApplicationInProgress","personalMessage","applyNowBtnHandler","redirectToProfilePageHandler","confirmApplyBtnHandler","cap_closePopupBtnHandler","cap_viewSimilarLettingsBtnHandler","noPropBackBtnHandler","pd_cap_btnHandler","pd_cap_aHandler","headerApplyNowBtnHandler","mainUploadRefBtnHandler","mainUpdateRefBtnHandler","mainApplyNowBtnHandler","createAlertBtnHandler","handlePersonalMessageChange","scrollIntoView","bidMessage","placeBidCallback","isValid","myBid","afterCFun","scrollPercent","isCurUserBid","rentType","alreadyLeased","sliderImages","logourl","views","fontFamily","hasAllReqReferences","refListArr","readyFrom","lease","BER","contact","aminity","relatedProps","firstImg","lineHeight","bcrumbs","viewLettingSub","deletedList","otherBids","PDret","slugTemp","reverse","notArr","$exists","tmpRelated","maxLen","forTotCount","needed","weNeedOnSides","needAbove","$ne","backCount","$lte","above","aboveCount","$gte","retAbove","retBack","AddThisReact","About","maxWidth","Careers","TxtType","el","toRotate","period","loopNum","txt","tick","isDeleting","prototype","fullTxt","innerHTML","that","delta","random","elements","getElementsByClassName","getAttribute","appendChild","ContactUs","updateFormFromLocalStorage","contactFormData_name","contactFormData_email","contactFormData_mobile","contactFormData_message","searialisedContactUsForm","clearLocalStorage","removeItem","contactFormSaving","contactFormSavedSuccess","takeBackupHandler","formSubmitHandler","autoGrowTAHandler","sub","reset","CookiePolicy","EstateAgent","f2Success","knowMore","sinterestformHandler","sinterestformtryagainHandler","knowMoreBtnHandler","ev","joinNowBtnHandler","emailaddress","fullname","company","minHeight","boxShadow","KnowMoreForm","f1Success","knowmoreformtryagainHandler","knowmoreformHandler","paddingRight","paddingLeft","Faqs","Gdpr","HowItWorks","Privacy","Terms","Agents","EmailRequests","before","insert","update","fieldNames","modifier","$set","propertyAlerts","methods","updateReferenceFile","setObj","updateMobile","newMobile","updateEmployerName","newEmp","updateEmployerTakeHome","MAX_VALUE","sendOTP","Match","Any","isMobileVerified","newOTP","userEmail","otp","subject","mailTo","OPTsmsText","APIURL","HTTP","$currentDate","$type","verifyOTP","OTPValue","OTPSentOn","diffMs","diffMins","randomString","chars","mask","addProperty","getA","isImported","importData","bne","bnt","docId","pushUnique","eles","lenght","publish","terms","parameters","queryConstructor","fail","ReactiveAggregate","$match","$group","$avg","clientCollection","pg","propertyIds","bids","mainProperty","relatedPropsTmp","maxRel","relPropIds","relAuctionIds","transformMyActiveAdvertisements","subHandle","observeChanges","added","changed","removed","onStop","stop","emailEnquiries","userIds","advertisementId","validationSuccess","invalidAgent","auctionIDTmp","invalidAgentProp","c4","c5","paramReceived","recentBlogsTmp","relBlogIds","maxRecent","wpId","mount","generalDesc","action","BlazeLayout","BlogDetail","curStep","templateName","dataContext","isLandlordMode","accountRoutes","group","prefix","triggersEnter","context","redirect","setStaticPageMetaTags","pageName","lim","validKeys","viewFunction","settings","public","CDN_ENABLED","CDN","get_cdn_url","addLangLink","arr_elms","removeChild","hreflang","linkInfo","addLink"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"/app.js","sourcesContent":["// import \"./forgot.html\";\nimport \"../helpers.js\";\nimport \"../validation.js\";\n\nTemplate.loginFormResetPasswordView.events({\n\n  /**\n   * Submit the password reset form\n   * @param {Event} event - jQuery Event\n   * @param {Object} template - Blaze Template\n   * @return {void}\n   */\n  \"click .tryAgainBtn\":function(){\n      Template.instance().showForm.set(true);\n  },\n  \"click .contactusBtn\":function(){\n        if($)\n            if($.fancybox)\n                $.fancybox.close();\n  },\n  \"click [data-event-action=signIn]\": function (event, template) {\n      var isOnPage = false;\n      if(template.data)if(template.data.onPage)isOnPage = true;\n      if( !isOnPage ){\n          Session.set('showForgotForm',false)\n          Session.set('showSignupForm',false)\n          Session.set('showLoginSignupFancyBoxDialog',true)\n          Session.set('showLoginDialog',true)\n      }else{\n          Session.set('showForgotForm',false)\n      }\n  },\n  \"submit form\": (event, template) => {\n    event.preventDefault();\n\n    let emailAddress = template.$(\".login-input-email\").val().trim();\n    let validatedEmail = LoginFormValidation.email(emailAddress);\n    let templateInstance = Template.instance();\n\n    var errors = []\n\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n          errors: errors\n      });\n      // prevent signup\n      templateInstance.isLoading.set(false)\n      return;\n    }\n\n\n\n    Accounts.forgotPassword({ email: emailAddress}, (error) => {\n        templateInstance.isLoading.set(false)\n      // Show some message confirming result\n      if (error) {\n        console.log(error)\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n\n        templateInstance.showForm.set(false)\n\n        templateInstance.formMessages.set({\n          info: [{\n            reason:  \"Password reset mail sent.\"\n          }]\n        });\n      }\n    });\n  }\n\n});\n\n\n/**\n * loginFormResetPasswordView\n *\n */\nTemplate.loginFormResetPasswordView.onCreated(() => {\n  let template = Template.instance();\n\n  // template.uniqueId = Random.id();\n  template.formMessages = new ReactiveVar({});\n  template.showForm = new ReactiveVar(true);\n  template.isLoading = new ReactiveVar(true);\n});\n\nTemplate.loginFormResetPasswordView.onRendered( function(){\n\n    $('#signin-div').find('#email').focus();\n    $('.new-focus').click(function(){\n        $('#signin-div').find('#email').focus();\n    });\n\n    Template.instance().isLoading.set(false)\n\n});\n\nTemplate.loginFormResetPasswordView.helpers(LoginFormSharedHelpers);\n","// import \"/signIn.html\";\nimport \"../helpers.js\";\nimport \"../validation.js\";\n\nTemplate.loginFormSignInView.onCreated(() => {\n  let template = Template.instance();\n  // template.uniqueId = Random.id();\n  template.formMessages = new ReactiveVar({});\n  template.loginFailedError = new ReactiveVar(false);\n  template.isLoading = new ReactiveVar(true);\n});\n\nTemplate.loginFormSignInView.onRendered( function(){\n\n  $('#signin-div').find('#email').focus();\n  $('.new-focus').click(function(){\n    $('#signin-div').find('#email').focus();\n  });\n    Template.instance().isLoading.set(false)\n\n});\nTemplate.loginFormSignInView.helpers(LoginFormSharedHelpers);\n\n/**\n * Events: Login form sign in view\n */\nTemplate.loginFormSignInView.events({\n\n  /**\n   * Submit sign in form\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"click [data-event-action=signUp]\": function (event, template) {\n\n      Session.set('showForgotForm',false)\n      Session.set('showSignupForm',true)\n      Session.set('showLoginSignupFancyBoxDialog',true)\n      Session.set('showLoginDialog',true)\n  },\n  \"click [data-event-action=forgotPassword]\": function (event, template) {\n      var isOnPage = false;\n      if(template.data)if(template.data.onPage)isOnPage = true;\n      if( !isOnPage ){\n          Session.set('showForgotForm',true)\n          Session.set('showSignupForm',false)\n          Session.set('showLoginSignupFancyBoxDialog',true)\n          Session.set('showLoginDialog',true)\n      }else{\n          Session.set('showForgotForm',true)\n      }\n  },\n  \"submit form\": (event, template) => {\n      console.log(\"jns\")\n    event.preventDefault();\n\n    let usernameInput = template.$(\".login-input-email\");\n    let passwordInput = template.$(\".login-input-password\");\n\n    let username = usernameInput.val().trim();\n    let password = passwordInput.val().trim();\n\n    let validatedEmail = LoginFormValidation.email(username);\n    let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"exists\"});\n\n    let templateInstance = Template.instance();\n    var errors = []\n\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n    templateInstance.loginFailedError.set(false);\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n          errors: errors\n      });\n      // prevent signup\n      templateInstance.isLoading.set(false)\n      return;\n    }\n\n    Meteor.loginWithPassword(username, password, (error) => {\n\n        templateInstance.isLoading.set(false)\n      if (error) {\n          console.log(error)\n          templateInstance.loginFailedError.set(true);\n            debugger;\n          if(error.reason=='User has no password set' || error.reason=='User not found'){\n              Meteor.call('isSocialAccount',username,function (err1,result) {\n                  if(err1)  templateInstance.formMessages.set({\n                      errors: [err1]\n                  });\n                  else  templateInstance.formMessages.set({\n                      info: [result]\n                  });\n              })\n          }\n\n        // Show some error messages above the form fields\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n            var isOnPage = false;\n            if(templateInstance.data)if(templateInstance.data.onPage)isOnPage = true;\n            if( !isOnPage ){\n                $('#signin-div , .fancybox-overlay').hide()\n                Session.set('showLoginDialog',false)\n                Session.set('showSignupDialog',false)\n                Session.set('showLoginSignupFancyBoxDialog',false)\n            }\n            Session.set('loginFlowComplete', true)\n            Session.set('loginFlowStart',undefined)\n            delete Session.keys.loginFlowStart\n            Meteor.call(\"userLoggedIn\");\n      }\n    });\n  }\n});\n","// import \"./signUp.html\";\nimport \"../helpers.js\";\nimport \"../validation.js\";\n\n\nTemplate.loginFormSignUpView.onCreated(() => {\n  let template = Template.instance();\n\n  // template.uniqueId = Random.id();\n  template.formMessages = new ReactiveVar({});\n  template.type = \"signUp\";\n  template.isOTPverified =  new ReactiveVar(false);\n  template.isLoading = new ReactiveVar(true);\n});\n\nTemplate.loginFormSignUpView.onRendered( function(){\n// This is the new 1 line code I have added\n  this.$(\".SignupFormMobileField\").intlTelInput({\n    preferredCountries:[\"ie\",\"gb\",'in']\n  });\n\n $('#signin-div').find('#name').focus();\n  $('.new-focus').click(function(){\n    $('#signin-div').find('#name').focus();\n  });\n    Template.instance().isLoading.set(false)\n\n});\n\nTemplate.loginFormSignUpView.helpers(LoginFormSharedHelpers);\n\n\n/**\n * Events: Login form sign up view\n */\nTemplate.loginFormSignUpView.events({\n  /**\n   * Submit sign up form\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"click [data-event-action=signIn]\": function (event, template) {\n      Session.set('showForgotForm',false)\n      Session.set('showSignupForm',false)\n      Session.set('showLoginSignupFancyBoxDialog',true)\n      Session.set('showLoginDialog',true)\n  },\n  \"submit form\": function (event, template) {\n    event.preventDefault();\n\n    // var usernameInput = template.$(\".login-input--username\");\n    let emailInput = template.$(\".login-input-email\");\n    let passwordInput = template.$(\".login-input-password\");\n    let fullNameInput = template.$(\".login-input-fullName\");\n    let mobileInput = template.$(\".login-input-mobile\");\n\n    let email = emailInput.val().trim();\n    let password = passwordInput.val().trim();\n    let fullName = fullNameInput.val().trim();\n    let mobile = mobileInput.val().trim();\n    // mobile = mobileInput.intlTelInput(\"getNumber\");//not working\n    // mobileInput.val();\n\n    let validatedEmail = LoginFormValidation.email(email);\n    let validatedFullName = LoginFormValidation.username(fullName);\n    let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"length\"});\n    let validatedMobile = LoginFormValidation.mobile(mobile);\n\n    let templateInstance = Template.instance();\n    var errors = []\n\n    templateInstance.formMessages.set({});\n    templateInstance.isLoading.set(true);\n\n\n    if (validatedEmail !== true) {\n        errors.push(validatedEmail);\n    }\n\n    if (validatedFullName !== true) {\n        errors.push(validatedFullName);\n    }\n\n    if (validatedMobile !== true) {\n        errors.push(validatedMobile);\n    }\n\n    if (validatedPassword !== true) {\n        errors.push(validatedPassword);\n    }\n\n\n    if (errors.length) {\n        templateInstance.formMessages.set({\n            errors: errors\n        });\n        // prevent signup\n        templateInstance.isLoading.set(false)\n        return;\n    }\n\n    //if(!templateInstance.isOTPverified.get()){\n    //  //Show OTP screen\n    //\n    //}\n\n\n    let newUserData = {\n      // username: username,\n      email: email,\n      password: password,\n      profile:{\n        name:fullName,\n        email: email,\n        mobile:mobile\n      }\n    };\n\n    Accounts.createUser(newUserData, function (error, result) {\n        templateInstance.isLoading.set(false)\n      if (error) {\n        // Show some error message\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n          var isOnPage = false;\n          if(templateInstance.data)if(templateInstance.data.onPage)isOnPage = true;\n          if( !isOnPage ){\n              $('#signin-div , .fancybox-overlay').hide()\n              Session.set('showLoginDialog',false)\n              Session.set('showSignupDialog',false)\n              Session.set('showLoginSignupFancyBoxDialog',false)\n          }\n\n          Session.set('loginFlowComplete', true)\n          Session.set('loginFlowStart',undefined)\n          delete Session.keys.loginFlowStart\n      }\n    });\n\n    //,\n    //name: fullName,\n    //  \"profile.mobile\" :[mobile]\n\n  }\n});\n\nTemplate.loginFormSignUpViewLandlord.onCreated(() => {\n  let template = Template.instance();\n\n  // template.uniqueId = Random.id();\n  template.formMessages = new ReactiveVar({});\n  template.type = \"signUp\";\n  template.isOTPverified =  new ReactiveVar(false);\n  template.isLoading = new ReactiveVar(true);\n});\n\nTemplate.loginFormSignUpViewLandlord.onRendered( function(){\n\n  this.$(\".SignupFormMobileField\").intlTelInput({\n    preferredCountries:[\"ie\",\"gb\",'in']\n  });\n\n $('#signin-div').find('#name').focus();\n  $('.new-focus').click(function(){\n    $('#signin-div').find('#name').focus();\n  });\n    Template.instance().isLoading.set(false)\n\n});\n\nTemplate.loginFormSignUpViewLandlord.helpers(LoginFormSharedHelpers);\n\n\n/**\n * Events: Login form sign up view\n */\nTemplate.loginFormSignUpViewLandlord.events({\n    \"click [data-event-action=signIn]\": function (event, template) {\n        Session.set('showForgotForm',false)\n        Session.set('showSignupForm',false)\n        Session.set('showLoginSignupFancyBoxDialog',true)\n        Session.set('showLoginDialog',true)\n    },\n  /**\n   * Submit sign up form\n   * @param  {Event} event - jQuery Event\n   * @param  {Template} template - Blaze Template\n   * @return {void}\n   */\n  \"submit form\": function (event, template) {\n    event.preventDefault();\n\n    // var usernameInput = template.$(\".login-input--username\");\n    let emailInput = template.$(\".login-input-email\");\n    let passwordInput = template.$(\".login-input-password\");\n    let fullNameInput = template.$(\".login-input-fullName\");\n    let mobileInput = template.$(\".login-input-mobile\");\n\n    let email = emailInput.val().trim();\n    let password = passwordInput.val().trim();\n    let fullName = fullNameInput.val().trim();\n    let mobile = mobileInput.val().trim();\n\n    let validatedEmail = LoginFormValidation.email(email);\n    let validatedFullName = LoginFormValidation.username(fullName);\n    let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"length\"});\n    let validatedMobile = LoginFormValidation.mobile(mobile);\n\n    let templateInstance = Template.instance();\n    var errors = []\n\n    templateInstance.formMessages.set({});\n      templateInstance.isLoading.set(true);\n\n\n    if (validatedEmail !== true) {\n      errors.push(validatedEmail);\n    }\n\n    if (validatedFullName !== true) {\n      errors.push(validatedFullName);\n    }\n\n    if (validatedMobile !== true) {\n      errors.push(validatedMobile);\n    }\n\n    if (validatedPassword !== true) {\n      errors.push(validatedPassword);\n    }\n\n\n    if (errors.length) {\n      templateInstance.formMessages.set({\n        errors: errors\n      });\n      // prevent signup\n        templateInstance.isLoading.set(false)\n      return;\n    }\n\n    //if(!templateInstance.isOTPverified.get()){\n    //  //Show OTP screen\n    //\n    //}\n\n\n    let newUserData = {\n      // username: username,\n      email: email,\n      password: password,\n      profile:{\n        name:fullName,\n        email: email,\n        mobile:mobile\n      }\n    };\n\n    Accounts.createUser(newUserData, function (error, result) {\n        templateInstance.isLoading.set(false)\n      if (error) {\n        // Show some error message\n        templateInstance.formMessages.set({\n          errors: [error]\n        });\n      } else {\n          var isOnPage = false;\n          if(templateInstance.data)if(templateInstance.data.onPage)isOnPage = true;\n          if( !isOnPage ){\n              $('#signin-div , .fancybox-overlay').hide()\n              Session.set('showLoginDialog',false)\n              Session.set('showSignupDialog',false)\n              Session.set('showLoginSignupFancyBoxDialog',false)\n          }\n\n          Session.set('loginFlowComplete', true)\n          Session.set('loginFlowStart',undefined)\n          delete Session.keys.loginFlowStart\n      }\n    });\n\n    //,\n    //name: fullName,\n    //  \"profile.mobile\" :[mobile]\n\n  }\n});\n","/**\n * Created by njanjanam on 25/12/2017.\n */\nif (Meteor.isClient) {\n\n    Countries = function() {\n        return [\n            { name: 'Afghanistan' },\n            { name: 'Albania' },\n            { name: 'Algeria' },\n            { name: 'Andorra' },\n            { name: 'Angola' },\n            { name: 'Antigua and Barbuda' },\n            { name: 'Argentina' },\n            { name: 'Armenia' },\n            { name: 'Aruba' },\n            { name: 'Australia' },\n            { name: 'Austria' },\n            { name: 'Azerbaijan' },\n            { name: 'Bahamas, The' },\n            { name: 'Bahrain' },\n            { name: 'Bangladesh' },\n            { name: 'Barbados' },\n            { name: 'Belarus' },\n            { name: 'Belgium' },\n            { name: 'Belize' },\n            { name: 'Benin' },\n            { name: 'Bhutan' },\n            { name: 'Bolivia' },\n            { name: 'Bosnia and Herzegovina' },\n            { name: 'Botswana' },\n            { name: 'Brazil' },\n            { name: 'Brunei' },\n            { name: 'Bulgaria' },\n            { name: 'Burkina Faso' },\n            { name: 'Burma' },\n            { name: 'Burundi' },\n            { name: 'Cambodia' },\n            { name: 'Cameroon' },\n            { name: 'Canada' },\n            { name: 'Cape Verde' },\n            { name: 'Central African Republic' },\n            { name: 'Chad' },\n            { name: 'Chile' },\n            { name: 'China' },\n            { name: 'Colombia' },\n            { name: 'Comoros' },\n            { name: 'Congo, Democratic Republic of the' },\n            { name: 'Congo, Republic of the' },\n            { name: 'Costa Rica' },\n            { name: 'Cote d\\'Ivoire' },\n            { name: 'Croatia' },\n            { name: 'Cuba' },\n            { name: 'Curacao' },\n            { name: 'Cyprus' },\n            { name: 'Czech Republic' },\n            { name: 'Denmark' },\n            { name: 'Djibouti' },\n            { name: 'Dominica' },\n            { name: 'Dominican Republic' },\n            { name: 'East Timor (see Timor-Leste)' },\n            { name: 'Ecuador' },\n            { name: 'Egypt' },\n            { name: 'El Salvador' },\n            { name: 'Equatorial Guinea' },\n            { name: 'Eritrea' },\n            { name: 'Estonia' },\n            { name: 'Ethiopia' },\n            { name: 'Fiji' },\n            { name: 'Finland' },\n            { name: 'France' },\n            { name: 'Gabon' },\n            { name: 'Gambia, The' },\n            { name: 'Georgia' },\n            { name: 'Germany' },\n            { name: 'Ghana' },\n            { name: 'Greece' },\n            { name: 'Grenada' },\n            { name: 'Guatemala' },\n            { name: 'Guinea' },\n            { name: 'Guinea-Bissau' },\n            { name: 'Guyana' },\n            { name: 'Haiti' },\n            { name: 'Holy See' },\n            { name: 'Honduras' },\n            { name: 'Hong Kong' },\n            { name: 'Hungary' },\n            { name: 'Iceland' },\n            { name: 'India' },\n            { name: 'Indonesia' },\n            { name: 'Iran' },\n            { name: 'Iraq' },\n            { name: 'Ireland' },\n            { name: 'Israel' },\n            { name: 'Italy' },\n            { name: 'Jamaica' },\n            { name: 'Japan' },\n            { name: 'Jordan' },\n            { name: 'Kazakhstan' },\n            { name: 'Kenya' },\n            { name: 'Kiribati' },\n            { name: 'Korea, North' },\n            { name: 'Korea, South' },\n            { name: 'Kosovo' },\n            { name: 'Kuwait' },\n            { name: 'Kyrgyzstan' },\n            { name: 'Laos' },\n            { name: 'Latvia' },\n            { name: 'Lebanon' },\n            { name: 'Lesotho' },\n            { name: 'Liberia' },\n            { name: 'Libya' },\n            { name: 'Liechtenstein' },\n            { name: 'Lithuania' },\n            { name: 'Luxembourg' },\n            { name: 'Macau' },\n            { name: 'Macedonia' },\n            { name: 'Madagascar' },\n            { name: 'Malawi' },\n            { name: 'Malaysia' },\n            { name: 'Maldives' },\n            { name: 'Mali' },\n            { name: 'Malta' },\n            { name: 'Marshall Islands' },\n            { name: 'Mauritania' },\n            { name: 'Mauritius' },\n            { name: 'Mexico' },\n            { name: 'Micronesia' },\n            { name: 'Moldova' },\n            { name: 'Monaco' },\n            { name: 'Mongolia' },\n            { name: 'Montenegro' },\n            { name: 'Morocco' },\n            { name: 'Mozambique' },\n            { name: 'Namibia' },\n            { name: 'Nauru' },\n            { name: 'Nepal' },\n            { name: 'Netherlands' },\n            { name: 'Netherlands Antilles' },\n            { name: 'New Zealand' },\n            { name: 'Nicaragua' },\n            { name: 'Niger' },\n            { name: 'Nigeria' },\n            { name: 'North Korea' },\n            { name: 'Norway' },\n            { name: 'Oman' },\n            { name: 'Pakistan' },\n            { name: 'Palau' },\n            { name: 'Palestinian Territories' },\n            { name: 'Panama' },\n            { name: 'Papua New Guinea' },\n            { name: 'Paraguay' },\n            { name: 'Peru' },\n            { name: 'Philippines' },\n            { name: 'Poland' },\n            { name: 'Portugal' },\n            { name: 'Qatar' },\n            { name: 'Romania' },\n            { name: 'Russia' },\n            { name: 'Rwanda' },\n            { name: 'Saint Kitts and Nevis' },\n            { name: 'Saint Lucia' },\n            { name: 'Saint Vincent and the Grenadines' },\n            { name: 'Samoa ' },\n            { name: 'San Marino' },\n            { name: 'Sao Tome and Principe' },\n            { name: 'Saudi Arabia' },\n            { name: 'Senegal' },\n            { name: 'Serbia' },\n            { name: 'Seychelles' },\n            { name: 'Sierra Leone' },\n            { name: 'Singapore' },\n            { name: 'Sint Maarten' },\n            { name: 'Slovakia' },\n            { name: 'Slovenia' },\n            { name: 'Solomon Islands' },\n            { name: 'Somalia' },\n            { name: 'South Africa' },\n            { name: 'South Korea' },\n            { name: 'South Sudan' },\n            { name: 'Spain ' },\n            { name: 'Sri Lanka' },\n            { name: 'Sudan' },\n            { name: 'Suriname' },\n            { name: 'Swaziland ' },\n            { name: 'Sweden' },\n            { name: 'Switzerland' },\n            { name: 'Syria' },\n            { name: 'Taiwan' },\n            { name: 'Tajikistan' },\n            { name: 'Tanzania' },\n            { name: 'Thailand ' },\n            { name: 'Timor-Leste' },\n            { name: 'Togo' },\n            { name: 'Tonga' },\n            { name: 'Trinidad and Tobago' },\n            { name: 'Tunisia' },\n            { name: 'Turkey' },\n            { name: 'Turkmenistan' },\n            { name: 'Tuvalu' },\n            { name: 'Uganda' },\n            { name: 'Ukraine' },\n            { name: 'United Arab Emirates' },\n            { name: 'United Kingdom' },\n            { name: 'United States' },\n            { name: 'Uruguay' },\n            { name: 'Uzbekistan' },\n            { name: 'Vanuatu' },\n            { name: 'Venezuela' },\n            { name: 'Vietnam' },\n            { name: 'Yemen' },\n            { name: 'Zambia' },\n            { name: 'Zimbabwe' }\n        ];\n    }\n    UI.registerHelper('countries', function() {\n        return Countries();\n    });\n//     {{#each countries}}\n// <option value=\"{{name}}\">{{name}}</option>\n//     {{/each}}\n}","import {Template} from \"meteor/templating\";\n\nTemplate.loginForm.helpers({\n    showSignupForm: function () {\n        return Session.get('showSignupForm');\n    },\n    showForgotForm: function () {\n        return Session.get('showForgotForm');\n    },\n    isLandLordMode: function () {\n        return Session.get('isLandLordMode');\n    }\n})\nTemplate.socialLoginButtons.onCreated(function(){\n    Session.set('loginFlowStart',true)\n    Session.set('loginFlowComplete', undefined)\n    delete Session.keys.loginFlowComplete\n    this.errorMessages = new ReactiveVar({});\n})\nTemplate.socialLoginButtons.helpers({\n    showSignupForm: function () {\n        return Session.get('showSignupForm');\n    },\n    showForgotForm: function () {\n        return Session.get('showForgotForm');\n    },\n    errorMessages:function () {\n        return Template.instance().errorMessages.get();\n    },\n    buttonForText:function () {\n        var buttonFor;\n        if(Template.instance().data) buttonFor =  Template.instance().data.buttonFor;\n        switch(buttonFor){\n            case 'login': return 'Login';\n            case 'signup': return 'Signup';\n            default: return 'Login / Signup';\n        }\n    }\n})\nTemplate.socialLoginButtons.events({\n    'click #facebook-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithFacebook({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Facebook failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    },\n    'click #twitter-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithTwitter({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Twitter failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    },\n    'click #google-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithGoogle({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Google failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    },\n    'click #linkedin-login': function(event) {\n        let templateInstance = Template.instance();\n        templateInstance.errorMessages.set({})\n        Meteor.loginWithLinkedIn({}, function(err){\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with LinkedIn failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                templateInstance.errorMessages.set({\n                    errors: errors\n                });\n            }else{\n                if(templateInstance.data.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        });\n    }\n});\nTemplate.loginPageHorizontal.onCreated(function(){\n    var instance = this;\n    instance.isTempLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n        instance.subscribe('userData');\n        if(instance.subscriptionsReady()){\n            instance.isTempLoaded.set(true)\n        }\n    })\n\n})\nTemplate.loginPageHorizontal.helpers({\n    isTemplateLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    }\n})\nTemplate.loginFormHorizontal.helpers({\n    showForgotForm:function () {\n        return Session.get('showForgotForm');\n    },\n    isLandLordMode: function () {\n        var mode = '';\n        if(Template.instance().data)mode = Template.instance().data.isLandLordMode;\n        return mode;\n        // return Session.get('isLandLordMode');\n    }\n})\nTemplate.loginFormHorizontal.onRendered(function(){\n    var user = Meteor.user();//when u load this form if the user is alredy loggedin then throw an event.\n    if(user) Session.set('loginFlowComplete', true)\n})\n","window.LoginFormSharedHelpers = {\n    showForm:function(){\n      return Template.instance().showForm.get();\n  },\n  isLoading:function(){\n      return Template.instance().isLoading.get();\n  },\n  loginFailedError:function () {\n      return Template.instance().loginFailedError.get();\n  },\n\n  messages: function () {\n    // console.log(Template.instance().formMessages.get())\n    return Template.instance().formMessages.get();\n  },\n\n  hasError(error) {\n    // True here means the field is valid\n    // We're checking if theres some other message to display\n    if (error !== true && typeof error !== \"undefined\") {\n      return \"has-error has-feedback\";\n    }\n\n    return false;\n  },\n\n  formErrors() {\n    return Template.instance().formErrors.get();\n  },\n\n  uniqueId: function () {\n    // return Template.instance().uniqueId;\n    return 1;\n  },\n\n  services() {\n    let serviceHelper = new ReactionServiceHelper();\n    return serviceHelper.services();\n  },\n\n  shouldShowSeperator() {\n    let serviceHelper = new ReactionServiceHelper();\n    let services = serviceHelper.services();\n    let enabledServices = _.where(services, {\n      enabled: true\n    });\n\n    return !!Package[\"accounts-password\"] && enabledServices.length > 0;\n  },\n\n  hasPasswordService() {\n    return !!Package[\"accounts-password\"];\n  }\n};\n\n\n\n","$.validator.setDefaults({\n    rules: {\n        \"address.address\": {\n            required: true,\n            minlength: 2\n        },\n        \"contacts.0.phone\": {\n            required: false,\n            digits: true,\n            // minlength:10,\n            // maxlength:10\n        },\n        \"baths\": {\n            required: true,\n            range: [1,100]\n        },\n        \"numBedRoomCount\": {\n            required: true,\n            range: [1,100]\n        },\n        email: {\n            email: true\n        },\n        // password: {\n        //     required: true,\n        //     minlength: 6\n        // }\n    },\n    messages: {\n        email: {\n            required: \"You must enter an email address.\",\n            email: \"You've entered an invalid email address.\"\n        },\n        password: {\n            required: \"You must enter a password.\",\n            minlength: \"Your password must be at least {0} characters.\"\n        }\n    }\n});\n\n\nwindow.LoginFormValidation = {\n  username: function(username) {\n\n    // Valid\n    if (username.length >= 3) {\n      return true;\n    }\n\n    // Invalid\n    return {\n      \"error\": \"INVALID_USERNAME\",\n      \"reason\": \"Username must be at least 3 characters long\"\n    };\n  },\n\n  mobile: function(mobile, optional) {\n\n    mobile = mobile.trim();\n\n    // Valid\n    if (optional === true && mobile.length === 0) {\n      return true;\n    } else if (/^\\d{10}$/.test(mobile)) {\n      return true;\n    }\n\n    if(mobile.length === 0){//Removed 10 digit validation.\n        // Invalid\n        return {\n            error: \"INVALID_MOBILE\",\n            reason: \"Please enter a valid mobile number\"//\"Please enter a valid 10 digit mobile number in format 0891234567\"\n        };\n    }\n    return true;\n  },\n\n  email: function(email, optional) {\n\n    email = email.trim();\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    // Valid\n    if (optional === true && email.length === 0) {\n      return true;\n    } else if( re.test(email) ){\n      return true;\n    }\n\n    // Invalid\n    return {\n      error: \"INVALID_EMAIL\",\n      reason: \"Please enter a valid email address in format pat@gmail.com\",\n    };\n\n  },\n\n  password: function(password, options) {\n    // Must have one number and/or symbol\n    var validPasswordRegex = /^.*(?=.*[a-z])(?=.*[\\d\\W]).*$/;\n    options = options || {};\n\n    // Only check if a password has been entered at all.\n    // This is usefull for the login forms\n    if (options.validationLevel === 'exists') {\n      if (password.length > 0) {\n        return true;\n      } else {\n        return {\n          error: \"INVALID_PASSWORD\",\n          reason: \"Password is required\"\n        }\n      }\n    }\n    if (options.validationLevel === 'length') {\n        if(password.length < 6 ){\n            return {\n                error: \"INVALID_PASSWORD\",\n                reason: \"Password must be at least 6 characters long\"\n            }\n        }else if(password.length > 30 ){\n            return {\n                error: \"INVALID_PASSWORD\",\n                reason: \"Password must be less than 30 characters long\"\n            }\n        }else return true;\n    }\n\n    // ---\n    // Validate the password pased on some rules\n    // This is useful for cases where a password needs to be created or updated.\n    //\n\n\n\n    if (password.length < 6) {\n      return {\n        error: \"INVALID_PASSWORD\",\n        reason: \"Password must be at least 6 characters long\"\n      }\n    }\n\n    if (password.match(validPasswordRegex) === null) {\n      return {\n        error: \"INVALID_PASSWORD\",\n        reason: \"Password must have one number and/or symbol\",\n      }\n    }\n\n\n    // Otherwise the password is valid\n    return true\n  }\n};\n","/**\n * Created by njanjanam on 05/04/2017.\n */\n\nTemplate.notFound.events({\n    \"click .backBtn\": function(event, template){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            Router.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n            if(prevRoute.scrollTo){\n                scrollTo(prevRoute.scrollTo,0,500)\n            }\n        }else{\n            history.go(-1);\n        }\n    }\n})\nTemplate.registerHelper(\"cdnPath\",function(url){\n    return cdnPath(url);\n});\nTemplate.registerHelper(\"pathFor\",function(hash){\n    try{\n        var params = {};\n        var query = {};\n        var route = '';\n        if (typeof hash === 'string' || hash instanceof String) route = hash;\n\n        if(hash.hash) {\n            if (hash.hash.route) {\n                route = hash.hash.route;\n                delete hash.hash.route;\n            }\n            if (hash.hash.query) {\n                query = hash.hash.query;\n                delete hash.hash.query;\n            }\n            if (hash.hash.data) {\n                params = hash.hash.data;\n                delete hash.hash.data;\n            }\n            else {\n                params = hash.hash;\n            }\n        }\n        return FlowRouter.path(route, params, query);\n        // return FlowRouter.path(pathDef, params, queryParams);\n    }catch(e){\n        console.log(e);\n    }\n    return '';\n});\nTemplate.registerHelper(\"urlFor\",function(hash){\n    try{\n        var params = {};\n        var query = {};\n        var route = '';\n        if (typeof hash === 'string' || hash instanceof String) route = hash;\n\n        if(hash.hash) {\n            if (hash.hash.route) {\n                route = hash.hash.route;\n                delete hash.hash.route;\n            }\n            if (hash.hash.query) {\n                query = hash.hash.query;\n                delete hash.hash.query;\n            }\n            if (hash.hash.data) {\n                params = hash.hash.data;\n                delete hash.hash.data;\n            }\n            else {\n                params = hash.hash;\n            }\n        }\n        return FlowRouter.url(route, params, query);\n    }catch(e){\n        console.log(e);\n    }\n    return '';\n});\nTemplate.registerHelper(\"hostname\",function(){\n    return Meteor.absoluteUrl();\n});\nTemplate.registerHelper(\"titleCase\",function(str){\n    return titleCase(str);\n});\nTemplate.registerHelper(\"nlToBr\",function(str){\n    if(!str)return '';\n    return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n});\nTemplate.registerHelper(\"arrLength\",function(arr){\n    if(Array.isArray(arr)) return arr.length;\n    else 0;\n});\nTemplate.registerHelper(\"dontShow\",function(){\n    return false;\n});\nUI.registerHelper(\"getProfilePic\", function () {\n    var user= Meteor.user();\n    // debugger;\n    // if(user.services)\n    // if(user.services.twitter)\n    // if(user.services.twitter.profile_image_url){\n    //     return user.services.twitter.profile_image_url;\n    // }\n\n    if (user.profile.picture)\n    {\n        try{\n            if(user.services.facebook)\n            if(user.services.facebook.indexOf('?width=40')==-1)\n                return user.profile.picture+\"?width=40\"; //@BCompatibility : adding ?width=40 to it\n        }catch (e){}\n\n        return user.profile.picture;\n\n    }\n\n    return \"/images/user-img.png\";\n\n});\nUI.registerHelper(\"addCommaToEach\", function (arr) {\n    if(!arr)return '';\n    return  arr.join(', ');\n});\nTemplate.registerHelper(\"objectToPairs\",function(object){\n    return _.map(object, function(value, key) {\n        return {\n            key: key,\n            value: value\n        };\n    });\n});\nUI.registerHelper(\"dateFormat\", function (text) {\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n});\nUI.registerHelper(\"dateTimeFormat\", function (text) {\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString()+ ' '+date.toLocaleTimeString();\n});\nUI.registerHelper(\"possessionDate\", function (inputDate) {\n    var monthNames = [\n        \"January\", \"February\", \"March\",\n        \"April\", \"May\", \"June\", \"July\",\n        \"August\", \"September\", \"October\",\n        \"November\", \"December\"\n    ];\n    var monthNames = [\n        \"JAN\", \"FEB\", \"MAR\",\n        \"APR\", \"MAY\", \"JUNE\", \"JULY\",\n        \"AUG\", \"SEPT\", \"OCT\",\n        \"NOV\", \"DEC\"\n    ];\n\n    var date = new Date(inputDate);\n    var day = date.getDate();\n    var monthIndex = date.getMonth();\n    var year = date.getFullYear();\n\n    //return date.toDateString();\n    return monthNames[monthIndex]+' '+ year\n});\nTemplate.registerHelper(\"displayName\", function () {\n    try{\n        const user = Meteor.user();\n        if (user) {\n            if (user.profile && user.profile.name) {\n                return user.profile.name;\n            }\n        }\n    }catch (e){}\n    return \"Guest\";\n});\nTemplate.registerHelper(\"fName\", function (displayUser) {\n    const user = displayUser || Meteor.user();\n    if (user && user.profile && user.profile.name) {\n        return user.profile.name.split(\" \")[0];\n    } else if (user && user.username) {\n        return user.username.name.split(\" \")[0];\n    }\n    if (user && user.services) {\n        const username = (function () {\n            switch (false) {\n                case !user.services.twitter:\n                    return user.services.twitter.first_name;\n                case !user.services.google:\n                    return user.services.google.given_name;\n                case !user.services.facebook:\n                    return user.services.facebook.first_name;\n                case !user.services.instagram:\n                    return user.services.instagram.first_name;\n                case !user.services.pinterest:\n                    return user.services.pinterest.first_name;\n                default:\n                    return i18n.t(\"accountsUI.guest\") || \"Guest\";\n            }\n        })();\n        return username;\n    }\n    return i18n.t(\"accountsUI.signIn\") || \"Sign in\";\n});\nTemplate.registerHelper(\"numDifferentiation\", function (val) {\n    if(isNaN(val))return 0;\n    val = parseInt(val);\n    if(val >= 1000000000) val = (val/1000000000).toFixed(2) + ' Billion';\n    else if(val >= 1000000) val = (val/1000000).toFixed(2) + ' Million';\n    else if(val >= 1000) val = val.toFixed(2) ;\n    else val = val.toFixed(0);\n    return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n});\n\n\n\n\nisLoggedOn = function () {\n    if(Meteor.userId()){\n        return true;\n    }\n    return false;\n}\nscrollTo = function (ele,adjustment,delay) {\n    setTimeout(function () {\n        if($(ele).length ) {\n        var to = $(ele).first().offset().top + adjustment;\n        if (to<0)to = 0 ;\n\n        $('html, body').animate({\n            scrollTop: to\n        }, 500);\n\n        }\n    }, delay)\n}\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}","/*\n * This is an example of a customized template.\n * This footer replaces the \"layoutFooter\" template defined in the reactioncommerce:core package.\n * https://github.com/reactioncommerce/reaction-core/blob/master/client/templates/layout/footer/footer.html\n */\nimport { Template } from 'meteor/templating';\nimport './footer.html';\n\nTemplate.footerExtended.helpers({\n    RouteB:function (slug) {\n        return FlowRouter.url('b',{slug:slug});\n    }\n  // customSocialSettings: function() {\n  //   return {\n  //     placement: 'footer',\n  //     faClass: 'square',\n  //     faSize: 'fa-3x',\n  //     appsOrder: ['facebook', 'twitter', 'pinterest', 'googleplus']\n  //   };\n  // }\n});\n\n// Template.footerExtended.replaces(\"layoutFooter\");\n// Template.footerExtended.onRendered(function(){\n//  $(\"#video1\").click(function () {\n//     $.fancybox({\n//       'padding': 0,\n//       'href': '#video-div1',\n//     });\n//   });\n//  });\n","/**\n * Created by srikanth681 on 18/02/16.\n */\nimport {Template} from \"meteor/templating\";\nimport \"./header.html\";\n\n\nTemplate.headerExtended.onRendered(function(){\n\n    $.getScript(cdnPath('/js/bootstrap.js'), function(){\n        // console.log(\"Bootstrap loaded\")\n    });\n    // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n    //     console.log(\"Filestack loaded\")\n    // });\n\n    $.getScript('plugins/fancybox/js/jquery.fancybox.js', function(){\n        // script should be loaded and do something with it.\n        $('.fancybox').fancybox({\n            scrolling:'no',\n            helpers: {\n                overlay: {\n                    locked: true\n                }\n            }\n        })\n    });\n    setTimeout(delayedFunctions,1500)\n})\nisMobileMenuEventAttached = false;\nfunction delayedFunctions() {\n    // $('.xs-menu-icon').click(function(){\n    //     $('.xs-menu').addClass('slide-right');\n    // });\n    // $('.xs-menu-close-icon, .xs-menu a').click(function(){\n    //     $('.xs-menu').removeClass('slide-right');\n    // });\n\n    // if(!isMobileMenuEventAttached) {\n        $(document).unbind('click').bind('click',function (e) {\n            if (!$('.xs-menu').hasClass('slide-right')) {//Its not open\n                if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n                    if(FlowRouter.current().route.name=='home')\n                        $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n                    $('.xs-menu').addClass('slide-right');\n                    return true;\n                } else return true\n            } else {//Its open\n                if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n                    $('.xs-menu').removeClass('slide-right')\n                    if(FlowRouter.current().route.name=='home')\n                        setTimeout(function(){\n                            if(FlowRouter.current().route.name=='home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n                        },250);\n                    return true;\n                }\n            }\n        });\n        // isMobileMenuEventAttached = true;\n    // }\n\n}\nTemplate.headerExtended.onCreated(function(){\n    Session.set('showLoginDialog',false)\n    Session.set('showForgotForm',false)\n    Session.set('showLoginDialog',false)\n    Session.set('showLoginSignupFancyBoxDialog',false)\n    Session.set('showAddPropertyHeaderTemplate',false)\n    Session.set('showAddPropertyHeaderFancyBoxDialog',false)\n    if( !Session.get(\"showErrorDlg\") ) Session.set(\"showErrorDlg\",[]);\n})\nTemplate.headerExtended.helpers({\n    loginFlowCompleteManager:function(){\n        if(Session.get('loginFlowComplete')){\n            setTimeout(function(){\n                Session.set('loginFlowComplete',undefined);\n            },1000)\n        }\n    },\n    errorModel: function(){\n        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n        if(tmp)\n            if(tmp.length){\n                var timeoutVal = 0;\n                if(!$.fancybox) timeoutVal = 3000;\n                setTimeout(function () {\n                    $.fancybox({\n                        'padding': 0,\n                        'href': '#errorModel',\n                        // afterShow:function(template){\n                        //     setTimeout(function () {\n                        //         $.fancybox.close();\n                        //     },3000)\n                        // },\n                        afterClose:function(){\n                            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                            tmp.shift();\n                            Session.set(\"showErrorDlg\",tmp)\n                        }\n                    })\n                },timeoutVal)\n\n            }\n        return Session.get(\"showErrorDlg\");\n    },\n    showAddPropertyHeaderTemplate: function(){\n\n        if(Session.get('showAddPropertyHeaderFancyBoxDialog') ){\n            showAddPropertyHeaderPopup()\n        }else{\n            if($)\n                if($.fancybox)\n                    $.fancybox.close();\n        }\n\n        return Session.get('showAddPropertyHeaderTemplate');\n    },\n    showLoginDialog: function(){//Reason to create this method is for the lazyloading of signIn and signUp templates\n\n        if(Session.get('showLoginSignupFancyBoxDialog') ){\n            showLoginPopup()\n        }else{\n            if($)\n                if($.fancybox)\n                    $.fancybox.close();\n        }\n\n        return Session.get('showLoginDialog');\n    },\n    isAgentRole:function () {\n        var user = Meteor.user();\n        if(!user)return false;\n        if( user.profile.role == 'agent'){return true;}\n        return false;\n    },\n    showCookieConsent: function(){\n        return !parseInt(readCookie('cookieConsent'));\n        // var userConfig = Session.get('userConfig');\n        // if(!userConfig) return false;\n        // return userConfig.cookieConsent;\n    }\n})\nTemplate.headerExtended.events({\n    \"click .showLoginDialog\": function (event, template) {\n        showLoginDialog();\n    },\n    \"click .showSignupDialog\": function (event, template) {\n        showSignupDialog();\n    },\n    \"click .logoutBtn\":function () {\n        Meteor.logout(function(err){\n            if (err) {\n                throw new Meteor.Error(\"Logout failed\");\n            }\n        })\n    },\n    \"click .addPropertyHeaderBtn\":function(){\n        FlowRouter.go('advertisewithus')\n        console.log(\"added add property form\");\n        // Session.set('showAddPropertyHeaderTemplate',true)\n        //        Session.set('showAddPropertyHeaderFancyBoxDialog',true)\n    },\n    \"click .profileBtn\":function () {\n        FlowRouter.go('account/profile');\n    },\n    \"click .cookieConsentBtn\":function () {\n        createCookie('cookieConsent',1,365);\n        $('.cookieConsentArea').remove();\n        // var userConfig = Session.get('userConfig');\n        //\n        // if(!userConfig){\n        //     Session.set('userConfig',{cookieConsent:1})\n        // }else if(!userConfig.cookieConsent){\n        //     Session.set('userConfig',{cookieConsent:1})\n        // }\n    }\n})\n\nfunction showLoginDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',false)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showSignupDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',true)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showLoginPopup(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#signin-div',\n\n        afterClose:function(template){\n            console.log(template);\n            //template.showLoginDialog.set(false);\n            Session.set('isLandLordMode',false)\n            Session.set('showLoginDialog',false)\n            Session.set('showLoginSignupFancyBoxDialog',false)\n\n        }\n    })\n}\nfunction showAddPropertyHeaderPopup(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#addPropertyHeader-div',\n\n        afterClose:function(template){\n            //console.log(template);\n            Session.set('showAddPropertyHeaderTemplate',false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog',false)\n\n        }\n    })\n}\nfunction createCookie(name,value,days) {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\nfunction readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\nfunction eraseCookie(name) {\n    createCookie(name,\"\",-1);\n}\n","import \"./layout.html\";\nimport \"./header.js\";\nimport \"./footer.js\";\nif(Meteor.isClient){\n\n\n\n    Meteor.startup(function () {\n        Blaze._allowJavascriptUrls();\n    })\n}","/**\n * Created by njanjanam on 11/05/2017.\n */\nimport \"./imageView.html\";\nimport \"./editProperty.html\";\nimport './shared.js';\nimport filestack from 'filestack-js';\nconst apikey = 'AIPACLEs7ShGwwPh6fMTxz';\nconst fsClient = filestack.init(apikey,{\n    policy: 'eyJleHBpcnkiOjE4NjE5MjAwMDAsImNhbGwiOlsicGljayIsInJlYWQiLCJzdGF0Iiwid3JpdGUiLCJ3cml0ZVVybCIsInN0b3JlIiwiY29udmVydCIsInJlbW92ZSIsImV4aWYiXX0=',\n    signature: '465e8652c5cef95f44e5858e09d430abea855d98deaeb7425558f2c80d0f4f57'\n});\n// import SimpleSchema from \"simpl-schema\";\n// SimpleSchema.extendOptions(['autoform']);\n\n\n\nTemplate.editProperty.onCreated(function(){\n    // this.showEditProperty = new ReactiveVar( false );\n    // console.log(this.data.propertyData)\n    // debugger;\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        instance.subscribe('Config');\n        var id = FlowRouter.getParam('id');\n        instance.subscribe('editProperty',id);\n        instance.subscribe('Areas');//Let it wait in edit prop page\n        instance.subscribe('userData');\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n\n    this.deactivateInProgress = new ReactiveVar( false );\n    this.archiveInProgress = new ReactiveVar( false );\n    // Session.set('editPropertyImagesNewOnes',[]);\n    // var gallery = this.data.propertyData.gallery;\n    // if(!gallery)gallery=[]\n    // Session.set('editPropertyImages',gallery);\n})\nTemplate.editProperty.helpers({\n    // showEditProperty: function () {\n    //     return Template.instance().showEditProperty.get();\n    // },\n    // propertyData : function () {\n    //     var ret = getpropertyData();\n    //     // console.log(\"propertyData\");\n    //     // console.log(ret);\n    //     Session.set('propertyData',ret);\n    //     return ret;\n    // },\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    propertyData: function () {\n        // debugger;\n\n\n        var id = FlowRouter.current().params.id;\n        var ret = Collections.Properties.find(id, {\n            transform: function (data) {\n\n                var globalConfig = Collections.Config.findOne();\n                if(data.auctionId)data.auction = Collections.Auctions.findOne(data.auctionId);\n\n                return data;\n            },\n            limit: 1\n        }).fetch();\n        ret = ret[0];\n\n        clearMeta();\n        try {\n            var title = 'Editing ' + ret.address.address + ', ' + ret.address.area;\n            if (ret.address.county) title += ', ' + ret.address.county;\n\n            DocHead.setTitle('' + titleCase(title) + ' | SpotMyCrib Admin');\n            DocHead.addMeta({\n                name: \"description\",\n                content: \"Edit property \" + ret.type + \", upload its images, details and much more.\"\n            });\n        }catch(err){\n            DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n            DocHead.addMeta({name: \"description\", content: \"\"});\n        }\n\n        Session.set(\"propertyData\", ret);\n        return ret;\n        // return {propertyData: ret};\n    },\n    propertyFound:function(){\n        var c = Collections.Properties.find().count()\n        if(c)return true;\n        return false;\n    },\n    inIgnoreList:function (str) {\n        ignoreList = ['gallery','isArchived']\n        if(ignoreList.indexOf(str) !== -1)return true;\n        return false;\n    },\n    deactivateInProgress: function(){\n        deactivateInProgress = Template.instance().deactivateInProgress;\n        return Template.instance().deactivateInProgress.get() ;\n    },\n    archiveInProgress: function(){\n        archiveInProgress = Template.instance().archiveInProgress;\n        return Template.instance().archiveInProgress.get() ;\n    },\n    // getGallery:function () {\n    //     // debugger;\n    //     var propertyData = Session.get('propertyData');\n    //     return propertyData.gallery;\n    // }\n})\nTemplate.editProperty.onRendered(function() {\n    try{\n        jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n    }catch(e){\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n    }\n\n\n\n})\n\nTemplate.editProperty.events({\n    \"click .deactivatePropertyBtn\": function (event, template) {\n        event.preventDefault();\n        var propertyData = Session.get('propertyData');\n        if(!propertyData){\n            console.log(\"Empty project data\");\n            return false;}\n        var user = Meteor.user();\n        if(!user){console.log(\"Invalid user\");return;}\n        if(propertyData.createdByAgent != user._id){console.log(\"Invalid user\");return;}\n\n        $.fancybox({\n            'padding': 0,\n            'href': '#conf-dactivate-pop',\n            afterShow:function(template){\n                attachEvents();\n            },\n            afterClose:function(template){\n                console.log(template);\n            }\n        })\n    },\n    \"click .archivePropertyBtn\": function (event, template) {\n        event.preventDefault();\n        var propertyData = Session.get('propertyData');\n        if(!propertyData){\n            console.log(\"Empty project data\");\n            return false;}\n        var user = Meteor.user();\n        if(!user){console.log(\"Invalid user\");return;}\n        if(propertyData.createdByAgent != user._id){console.log(\"Invalid user\");return;}\n\n        $.fancybox({\n            'padding': 0,\n            'href': '#conf-archive-pop',\n            afterShow:function(template){\n                attachEvents();\n            },\n            afterClose:function(template){\n                console.log(template);\n            }\n        })\n    },\n    // 'change .selectPropertyImages': function(event, template) {\n    //     var files = event.target.files;\n    //     S3.upload({\n    //         files:files,\n    //         path:\"propertyImagesLarge\"\n    //     },function(e,r){\n    //         if(e){\n    //             throw new Meteor.Error('Upload failed ', e);\n    //             var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n    //             tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n    //             Session.set(\"showErrorDlg\",tmp)\n    //             return;\n    //         }\n    //         var editPropertyImages = Session.get('editPropertyImages');\n    //         var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n    //         var tmp = {\n    //             name: r.file.original_name,\n    //             relative_url: r.relative_url,\n    //             url: r.secure_url\n    //         };\n    //         editPropertyImages.push(tmp);\n    //         editPropertyImagesNewOnes.push(tmp);\n    //         Session.set('editPropertyImages',editPropertyImages);\n    //         Session.set('editPropertyImagesNewOnes',editPropertyImagesNewOnes);\n    //         var propertyData = Session.get(\"propertyData\");\n    //         updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n    //             if (err) {\n    //                 console.log(err);\n    //                 var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n    //                 tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n    //                 Session.set(\"showErrorDlg\",tmp)\n    //                 return;\n    //             } else {\n    //                 var editPropertyImages = Session.get('editPropertyImages');\n    //                 console.log(\"Current Count: \"+editPropertyImages.length )\n    //             }\n    //         });\n    //         console.log(r);\n    //     });\n    // },\n    \"click .backBtn\": function(event, template){\n        goBack();\n    },\n    'change input[name=price]':function(event, template){\n        if(event.target.value){\n            var tmp = event.target.value.split('.');tmp=tmp[0]//No decimals\n            tmp = tmp.trim().match(/\\d+/g)\n            if(!Array.isArray(tmp))event.target.value = '';\n            event.target.value = tmp.join('');\n        }\n    },\n    \"click .showCopyDlg\": function (event, template) {\n        var propertyData = Session.get('propertyData');\n\n        let user = Meteor.user();\n        let sluggedName = slugifyEmailAddress(user.profile.name);\n        if(!sluggedName)sluggedName = 'rent'\n        let email = sluggedName+'-let-'+propertyData.auction.lettingAuctionCode.toLowerCase()+\"@spotmycrib.ie\";\n        $('#agentPropertyEmailField').val(email);\n\n        var url = FlowRouter.url('letting',{key:propertyData.auction.lettingAuctionCode})\n        $('#propertyLinkField').val(url);\n        $.fancybox({\n            'padding': 0,\n            'href': '#propertyLinkDlg',\n            afterShow:function(template){\n                $('#agentPropertyEmailField').select();\n                $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click',function () {\n                    $('#agentPropertyEmailField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'editPropertyPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n                })\n                $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click',function () {\n                    $('#propertyLinkField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'editPropertyPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n                })\n                $('#propertyLinkDlg .cancelBtn').unbind().bind('click',function () {\n                    $.fancybox.close()\n                })\n            },\n        });\n\n    },\n})\nTemplate.editPropertyForm.onCreated(function(){\n    if(!Session.get('editPropertyImages')) {// Lets do this. Anyways we have delete button.\n        Session.set('editPropertyImages', []);\n        S3.collection.remove({})\n    }\n    this.numBedRoomCount = new ReactiveVar( 0 );\n    this.editPropertyFormSaving = new ReactiveVar( false );\n    this.countySelected = new ReactiveVar( false );\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n        if(instance.countySelected.get()){\n            instance.isSubsLoaded.set(false)\n            instance.subscribe('Areas','','',instance.countySelected.get(),'','');\n        }\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n\n    Session.set('editPropertyImagesNewOnes',[]);\n    var gallery = []\n    try{gallery = this.data.propertyData.gallery;}catch(e){gallery=[]}\n    Session.set('editPropertyImages',gallery);\n})\nTemplate.editPropertyForm.helpers({\n    'data':function(){\n        var user = Meteor.user();\n        if(!user) return {\n            results: []\n        }\n        var id = FlowRouter.current().params.id;\n        var doc = Collections.Properties.findOne(id,{\n            transform: function (data) {\n                if(data.auctionId)data.auction = Collections.Auctions.findOne(data.auctionId);\n                return data;\n            },\n            limit: 1\n        })\n        if(doc)if(doc.bedrooms)\n        Template.instance().numBedRoomCount.set(doc.bedrooms.length);\n\n        if(doc)\n        if(doc.gallery)Session.set('editPropertyImages',doc.gallery);//This will re-run everytime u update an images and data gets fetched again.\n\n        return doc;\n    },\n    trimVal:function (str) {\n        return str.trim();\n    },\n    isEqualSelect:function (a,b) {\n        if(a==b)return 'selected';\n        return '';\n    },\n    isEqualCheck:function (a,b) {\n        if(a==b)return 'checked';\n        return '';\n    },\n    furnishedOptions:function(isFurnished){\n        return [{label: \"yes\", value: \"true\",selected:isFurnished?'selected':''},{label: \"No\", value: \"false\",selected:!isFurnished?'selected':''}];\n    },\n    countries:function(){\n        return [{label: \"Ireland\", value: \"Ireland\", selected:\"selected\"}];//Both capital\n    },\n    counties:function(){\n        let staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n        let ret = []\n        for(let i=0;i< staticCounties.length;i++){\n            if(!staticCounties[i])continue;\n            ret.push({label: titleCase(staticCounties[i]), value: staticCounties[i] })\n        }\n        return ret;\n        // return [{label: \"Dublin\", value: \"dublin\"}];//Both capital\n        // var distinctEntries = _.uniq(Collections.Areas.find({}, {\n        //     sort: {County: 1}, fields: {County: true}\n        // }).fetch().map(function(x) {\n        //     return x.County;\n        // }), true);\n        // var ret = []\n        // for(var i=0;i< distinctEntries.length;i++){\n        //     if(!distinctEntries[i])continue;\n        //     ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n        // }\n        // return ret;\n    },\n    areas:function(){\n        var countySelected = Template.instance().countySelected.get();\n        if(!countySelected){\n            var c = Collections.Properties.find().count();\n            if(c>1)return [] // This is the fix for - bug of not loading existing areas - page is designed to work with 1 prop, but when user comes to this page from myprop page, it has many results, leading to invalid countySelected\n            var doc = Collections.Properties.findOne(); if(!doc)return [];\n            Template.instance().countySelected.set(doc.address.county);\n            countySelected = doc.address.county;\n        }\n\n        var distinctEntries = _.uniq(Collections.Areas.find({County:countySelected}, {\n            sort: {Area: 1}, fields: {Area: true}\n        }).fetch().map(function(x) {\n            return x.Area;\n        }), true);\n        var ret = []\n        for(var i=0;i< distinctEntries.length;i++){\n            if(!distinctEntries[i])continue;\n            ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n        }\n        return ret;\n        //Previous logic\n        // var Config = Collections.Config.find().fetch();Config = Config[0];\n        // var ret = []\n        // for(var i=0;i< Config.countyInfo.length;i++){\n        //     ret.push({label: titleCase(Config.countyInfo[i].area), value: Config.countyInfo[i].area})\n        // }\n    },\n    propertyTypes:function(){\n        var Config = Collections.Config.find().fetch();Config = Config[0];\n        var ret = []\n        for(var i=0;i< Config.propertyType.length;i++){\n            ret.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n        }\n        return ret;\n    },\n    numBedRoomCount:function () {\n        var c = Template.instance().numBedRoomCount.get();\n        if(c<100)return Template.instance().numBedRoomCount.get();\n        else return 0;\n    },\n    editPropertyFormSaving:function () {\n        return Template.instance().editPropertyFormSaving.get();\n    },\n    ensuiteLoop: function(count){\n        var countArr = [];\n        for (var i=0; i<count; i++){\n            countArr.push({i:i+1});\n        }\n        return countArr;\n    },\n    ensuiteLoopCheckbox :function (index) {\n        var doc = Collections.Properties.findOne()\n        if(doc)if(doc.bedrooms[index]){\n            if(doc.bedrooms[index].ensuite)return 'checked';\n        }\n        return '';\n    },\n    ensuiteLoopBedType :function (index , b) {\n        var doc = Collections.Properties.findOne()\n        if(doc)if(doc.bedrooms[index]){\n            if(doc.bedrooms[index].bedType == b)return 'selected';\n        }\n        return '';\n    },\n    leaseUntil:function () {\n        var allowedVals = ['1 month', '2 months', '3 months', '4 months', '5  months', '6 months', '7 months', '8 months', '9 months', '10 months', '11 months', '1 year', 'More than a year'];\n        return allowedVals;\n    },\n    ensuiteLoopBedTypeOptions:function(index){\n        var doc = Collections.Properties.findOne();\n        var isSingle= false,isDouble= false,isTwin = false;\n        if(doc)if(doc.bedrooms)if(doc.bedrooms[index]){\n            switch(doc.bedrooms[index].bedType){\n                case 'single':isSingle=true;break;\n                case 'double':isDouble=true;break;\n                case 'twin':isTwin=true;break;\n            }\n        }\n        var arr = [{label: \"Single\", value: \"single\",sel:isSingle?'selected':''},{label: \"Double\", value: \"double\",sel:isDouble?'selected':''},{label: \"Twin\", value: \"twin\",sel:isTwin?'selected':''}];\n        return arr;\n    },\n    hasAmenityCheckbox :function (v) {\n        var doc = Collections.Properties.findOne()\n        if(doc)\n        if(doc.amenities)\n        if(doc.amenities.length)\n        if(doc.amenities.indexOf(v)!=-1)return 'checked';\n        return '';\n    },\n    propertyContact :function (i) {\n        var doc = Collections.Properties.findOne()\n        if(doc)if(doc.contacts) if(doc.contacts.length) return doc.contacts[0];\n\n        return {\n            name:'',\n            phone:'',\n            email:'',\n        };\n    },\n    advertisementContact:function (i) {\n        var id = FlowRouter.current().params.id;\n        var doc = Collections.Properties.findOne(id,{\n            transform: function (data) {\n                if(data.auctionId)data.auction = Collections.Auctions.findOne(data.auctionId);\n                return data;\n            },\n            limit: 1\n        })\n        if(doc)if(doc.auction)if(doc.auction.contacts) if(doc.auction.contacts.length) return doc.auction.contacts[0];\n        return {\n            name:'',\n            phone:'',\n            email:'',\n        };\n    }\n})\nTemplate.editPropertyForm.events({\n    \"click .backBtn\": function(event, template){\n        goBack();\n    },\n    'submit form': function(event){\n        event.preventDefault();\n    },\n    \"click .editPropertyFormSaveActivateBtn\": function(event, template) {\n        $('#editPropertyFormCF').submit();\n    },\n    \"click .editPropertyFormCancelBtn\": function(event, template) {\n        goBack();\n    },\n    'change .selectPropertyImages': function(event, template) {return;\n        var files = event.target.files;\n        console.log('Upload called');\n        // console.log(files);\n        S3.upload({\n            files:files,\n            path:\"DEVpropertyImagesLarge\"\n        },function(e,r){\n            if(e){\n                throw new Meteor.Error('Upload failed ', e);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            var editPropertyImages = Session.get('editPropertyImages');\n            var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n            var tmp = {\n                name: r.file.original_name,\n                relative_url: r.relative_url,\n                url: r.secure_url\n            };\n            editPropertyImages.push(tmp);\n            editPropertyImagesNewOnes.push(tmp);\n            Session.set('editPropertyImages',editPropertyImages);\n            Session.set('editPropertyImagesNewOnes',editPropertyImagesNewOnes);\n            var propertyData = Session.get(\"propertyData\");\n\n            updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n                if (err) {\n                    console.log(err);\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                } else {\n                    var editPropertyImages = Session.get('editPropertyImages');\n                    console.log(\"Current Count: \"+editPropertyImages.length )\n                }\n            });\n            console.log(r);\n        });\n    },\n    'change .countySelected': function(event, template) {\n        template.countySelected.set(event.target.value);\n    },\n    \"click .openFileUploader\":function (event, template) {\n        event.preventDefault();\n        openPicker();\n        // filename\n        //     :\n        //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n        // handle\n        //     :\n        //     \"G8lStVqHTiGnwxof6d5y\"\n        // mimetype\n        //     :\n        //     \"image/png\"\n        // originalFile\n        //     :\n        // {name: \"webcam-1/12/2018, 6:53:25 PM.png\", type: \"image/png\", size: 630585}\n        // originalPath\n        //     :\n        //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n        // size\n        //     :\n        //     629612\n        // source\n        //     :\n        //     \"local_file_system\"\n        // status\n        //     :\n        //     \"Stored\"\n        // uploadId\n        //     :\n        //     \"ba2fe36e9fd182ec0cb88236d676cefad\"\n        // url\n        //     :\n        //     \"https://cdn.filestackcontent.com\n        return;\n    },\n    'keyup .autoGrowTA': function(event, template) {\n        var element = event.target;\n        element.style.height = \"5px\";\n        if(element.scrollHeight<310)element.style.height = (element.scrollHeight)+\"px\";\n        else element.style.height = \"310px\";\n    },\n    'change #numBedRoomCount': function(event, template) {\n        var numBedRoomCount = parseInt($(event.target).val());\n        if(isNaN(numBedRoomCount))return;\n        Template.instance().numBedRoomCount.set(numBedRoomCount);\n        t1 = template;\n        setTimeout(function () {\n            t1.$('#editPropertyFormCF').validate();\n        },500)\n    },\n})\nTemplate.editPropertyForm.onRendered(function () {\n    this.$('#readyFrom').datetimepicker();\n    var element = this.$('.autoGrowTA')[0];\n    if(element.scrollHeight<310)element.style.height = (element.scrollHeight)+\"px\";\n    else element.style.height = \"310px\";\n\n    // this.$('#editPropertyFormCF').validate();\n    editPropertyFormSaving = this.editPropertyFormSaving\n    var validator = this.$('#editPropertyFormCF').validate({\n        submitHandler: function(event){\n            editPropertyFormSaving.set(true);\n            console.log(\"You just submitted the 'editPropertyForm' form.\");\n            var doc = Collections.Properties.findOne()\n            if(doc){\n            Meteor.call('editProperty',doc._id,$('#editPropertyFormCF').serializeArray(),function (error, result) {\n                editPropertyFormSaving.set(false);\n                if(error){\n                    console.log(error)\n                    //    validator.showErrors({\n                    //         email: error.reason\n                    //     });\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    var msg = 'An error occurred.';\n                    if(error.reason)msg += ' '+error.reason+'.'\n                    else if(error.message)msg += ' '+error.message+'.'\n                    tmp.push(msg);\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                }\n                var propertyData = Session.get(\"propertyData\");\n                var editPropertyImages = Session.get('editPropertyImages');\n                if(!editPropertyImages){\n                    Session.set('editPropertyImages',[]);\n                    S3.collection.remove({})\n                    goBack();\n                }else{\n                updateGalleriesInServer(editPropertyImages, propertyData._id, function (err, res) {\n                    if (err) {\n                        console.log(err);\n                    } else {\n                        Session.set('editPropertyImages',[]);\n                        S3.collection.remove({})\n                    }\n                    goBack();\n                })\n                }\n                Session.set('hideAddPropertyForm',true)\n            })\n            }\n        }\n    });\n\n\n    if(Session.get('OpenImageUploader')){\n        scrollTo('.openFileUploader',0,500);\n        openPicker();\n        Session.set('OpenImageUploader',false)\n    }\n})\nTemplate.imageEditView.helpers({\n    images: function () {\n        // var propertyData = Session.get('propertyData');\n        // var existingGallery = propertyData.gallery;\n        // var editPropertyImages = Session.get('editPropertyImages');\n        // if(!editPropertyImages)editPropertyImages=[]\n        // if(!existingGallery )existingGallery =[]\n        // var newCombined = editPropertyImages.concat(existingGallery);\n        return Session.get('editPropertyImages');\n    }\n});\nTemplate.imgEditTag.events({\n    \"click .editImgBtn\": function (event, template) {\n        console.log(this);\n        debugger;\n\n        var editPropertyImages = Session.get('editPropertyImages');\n        var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n        var isOriginalImageFromOwnS3 = false;\n\n        var newArr = [];\n        if(!editPropertyImages)return;\n        if(!editPropertyImages.length)return;\n\n        if(this.handle) {\n            index = getIndexByHandle(editPropertyImages, this.handle);\n        }else{\n            isOriginalImageFromOwnS3 = true;\n            index = getIndexByRelativeURL(editPropertyImages, this.relative_url);\n        }\n        newArr.push(editPropertyImages[index].url)//put it at first\n        // editPropertyImages.splice(index, 1);\n        //\n        // for(var i=0;i<editPropertyImages.length;i++){\n        //     newArr.push(editPropertyImages[i].url)\n        // }\n\n        const pickOptions = {\n            transformations:{\n                crop:{      force:true,\n                    aspectRatio:1.333},\n                rotate:true},\n            accept: 'image/*',\n            imageMax:[800,600]\n        };\n        fsClient.cropFiles(newArr,pickOptions).then( (response) => {\n            debugger;\n            var editPropertyImages = Session.get('editPropertyImages');\n            var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n\n            //if its conversion from old amazon to new filestack, then it will create a new file, so delete the old file seperatly and insert a new file seperatly.\n\n            if(!response.filesUploaded.length){\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Edit failed: please try again, contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n\n            if(isOriginalImageFromOwnS3){\n                S3.delete(editPropertyImages[index].relative_url,function(error, result){\n                    if(error){\n                        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                        tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n                        Session.set(\"showErrorDlg\",tmp)\n                        return;\n                    }\n\n                    var editPropertyImages = Session.get('editPropertyImages');\n                    editPropertyImages.splice(index, 1);\n                    Session.set('editPropertyImages',editPropertyImages);\n                    var propertyData = Session.get(\"propertyData\");\n                    updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n                        if (err) {\n                            console.log(err);\n                            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                            tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n                            Session.set(\"showErrorDlg\",tmp)\n                            return;\n                        } else {\n                            var editPropertyImages = Session.get('editPropertyImages');\n                            console.log(\"Current Count: \"+editPropertyImages.length )\n                        }\n                    });\n                })\n            }else{\n                fsClient.remove(editPropertyImages[index].handle).then(function(result){\n                    debugger;\n                    console.log('In fs remove result');\n                    var editPropertyImages = Session.get('editPropertyImages');\n                    editPropertyImages.splice(index, 1);\n                    Session.set('editPropertyImages',editPropertyImages);\n                    var propertyData = Session.get(\"propertyData\");\n                    updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n                        if (err) {\n                            console.log(err);\n                            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                            tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n                            Session.set(\"showErrorDlg\",tmp)\n                            return;\n                        } else {\n                            var editPropertyImages = Session.get('editPropertyImages');\n                            console.log(\"Current Count: \"+editPropertyImages.length )\n                        }\n                    });\n                });\n            }\n\n\n            var tmp = {};\n            for(var i =0;i<response.filesUploaded.length;i++){\n                tmp = {\n                    name: response.filesUploaded[i].filename,\n                    url: response.filesUploaded[i].url,\n                    handle: response.filesUploaded[i].handle,\n                    mimetype: response.filesUploaded[i].mimetype,\n                    originalFile: response.filesUploaded[i].originalFile,\n                    originalPath: response.filesUploaded[i].originalPath,\n                    size: response.filesUploaded[i].size,\n                    source: response.filesUploaded[i].source,\n                    status: response.filesUploaded[i].status,\n                    uploadId: response.filesUploaded[i].uploadId\n                }\n                // editPropertyImages.push(tmp);\n                editPropertyImages.splice(index+1, 0, tmp);//insert at the index place where its deleted.\n                editPropertyImagesNewOnes.push(tmp);\n            }\n\n            //Logic to insert new file.\n            Session.set('editPropertyImages',editPropertyImages);\n            var propertyData = Session.get(\"propertyData\");\n            updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n                if (err) {\n                    console.log(err);\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    tmp.push(\"Edit failed: please check your internet connection, contact us if needed.\");\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                } else {\n                    var editPropertyImages = Session.get('editPropertyImages');\n                    console.log(\"Current Count: \"+editPropertyImages.length )\n                }\n            });\n        });\n\n\n    },\n    \"click .deleteImgBtn\": function (event, template) {\n        console.log(this);\n        debugger;\n\n        var editPropertyImages = Session.get('editPropertyImages');\n        // editPropertyImages.splice(index, 1);\n        // Session.set('editPropertyImages',editPropertyImages);\n\n        if(this.handle){\n            index = getIndexByHandle(editPropertyImages, this.handle);\n\n            fsClient.remove(this.handle).then(function(result){\n                debugger;\n                console.log('In fs remove result');\n                var editPropertyImages = Session.get('editPropertyImages');\n                editPropertyImages.splice(index, 1);\n                Session.set('editPropertyImages',editPropertyImages);\n                var propertyData = Session.get(\"propertyData\");\n                updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n                    if (err) {\n                        console.log(err);\n                        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                        tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n                        Session.set(\"showErrorDlg\",tmp)\n                        return;\n                    } else {\n                        var editPropertyImages = Session.get('editPropertyImages');\n                        console.log(\"Current Count: \"+editPropertyImages.length )\n                    }\n                });\n            });\n\n        }else{\n            index = getIndexByRelativeURL(editPropertyImages, this.relative_url);\n\n            S3.delete(this.relative_url,function(error, result){\n                if(error){\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                }\n\n                var editPropertyImages = Session.get('editPropertyImages');\n                editPropertyImages.splice(index, 1);\n                Session.set('editPropertyImages',editPropertyImages);\n                var propertyData = Session.get(\"propertyData\");\n                updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n                    if (err) {\n                        console.log(err);\n                        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                        tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n                        Session.set(\"showErrorDlg\",tmp)\n                        return;\n                    } else {\n                        var editPropertyImages = Session.get('editPropertyImages');\n                        console.log(\"Current Count: \"+editPropertyImages.length )\n                    }\n                });\n            })\n        }\n\n\n    }\n});\nfunction openPicker() {\n    fsClient.pick({\n        fromSources:[\"local_file_system\",\"webcam\",\"facebook\",\"url\",\"googledrive\",\"dropbox\",\"flickr\",\"instagram\",\"gmail\",\"picasa\",\"onedrive\",\"clouddrive\"],\n        maxFiles:10,\n        transformations:{\n            crop:{      force:true,\n                aspectRatio:1.333},\n            rotate:true},\n        imageMax:[800,600],\n        accept:[\"image/*\"]//,\".pdf\",\".doc\",\".docx\",\".docm\"\n    }).then(function(response) {\n        // declare this function to handle response\n        debugger;\n        var editPropertyImages = Session.get('editPropertyImages');\n        var editPropertyImagesNewOnes = Session.get('editPropertyImagesNewOnes');\n        var tmp = {};\n        if(response.filesUploaded)\n            for(var i =0;i<response.filesUploaded.length;i++){\n                tmp = {\n                    name: response.filesUploaded[i].filename,\n                    url: response.filesUploaded[i].url,\n                    handle: response.filesUploaded[i].handle,\n                    mimetype: response.filesUploaded[i].mimetype,\n                    originalFile: response.filesUploaded[i].originalFile,\n                    originalPath: response.filesUploaded[i].originalPath,\n                    size: response.filesUploaded[i].size,\n                    source: response.filesUploaded[i].source,\n                    status: response.filesUploaded[i].status,\n                    uploadId: response.filesUploaded[i].uploadId\n                }\n                editPropertyImages.push(tmp);\n                editPropertyImagesNewOnes.push(tmp);\n            }\n        Session.set('editPropertyImages',editPropertyImages);\n        Session.set('editPropertyImagesNewOnes',editPropertyImagesNewOnes);\n\n        var propertyData = Session.get(\"propertyData\");\n        updateGalleriesInServer(editPropertyImages,propertyData._id, function (err, res) {\n            if (err) {\n                console.log(err);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Upload failed: please check your internet connection, contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            } else {\n                var editPropertyImages = Session.get('editPropertyImages');\n                console.log(\"Current Count: \"+editPropertyImages.length )\n                if(Session.get('fromAdvertiseWithUsPage')){\n                    fbq('track', 'CompleteRegistration');\n                    ga('send', 'event', 'AdvertiseWithUsPage', 'ImageUploaded', 'Property Images Uploaded.')\n                    Session.set('fromAdvertiseWithUsPage',false)\n                }\n            }\n        });\n        console.log(response);\n    });\n}\n\nfunction goBack(){\n    var prevRoute = Session.get('prevRoute');\n    if(prevRoute){\n        FlowRouter.go(prevRoute.name,prevRoute.args)\n        Session.set('prevRoute',false);\n        if(prevRoute.scrollTo){\n            scrollTo(prevRoute.scrollTo,0,500)\n        }\n    }else{\n        FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n    }\n}\nfunction getpropertyData(){\n    var id = FlowRouter.current().params.id;\n\n    var ret = Collections.Properties.find(id, {\n        transform: function(data){\n\n            data.auction = Collections.Auctions.findOne(data.auctionId);\n            data.applicationsReceivedCount = Collections.Bids.find({auctionId:data.auctionId}).count();\n            data.applicationsActiveCount = Collections.Bids.find({auctionId:data.auctionId,isArchived:false}).count();\n\n            return data;\n        },\n        limit: 1\n    }).fetch();\n    // console.log(\"getProjectData\");\n    return ret[0];\n}\nfunction getIndexByHandle(myArray, fileId){\n    for (var i=0; i < myArray.length; i++) {\n        if (myArray[i].handle === fileId) {\n            return i;\n        }\n    }\n}\nfunction getIndexByRelativeURL(myArray, fileId){\n    for (var i=0; i < myArray.length; i++) {\n        if (myArray[i].relative_url === fileId) {\n            return i;\n        }\n    }\n}\n\nfunction attachEvents() {\n    $(\".deactivateConfirmBtn\").unbind().bind(\"click\",function () {\n        deactivateConfEvent();\n    })\n    $(\".archiveConfirmBtn\").unbind().bind(\"click\",function () {\n        archiveConfEvent();\n    })\n    $(\".closePopupBtn\").unbind().bind(\"click\",function () {\n        closePopupEvent();\n    })\n}\nfunction deactivateConfEvent() {\n    var data = Session.get(\"propertyData\");\n    var auctionId = data.auctionId;\n\n    deactivateInProgress.set(true) ;\n    Meteor.call('deactivateAuction',auctionId,function(error, result){\n        deactivateInProgress.set(false) ;\n        if(error){\n            console.log(error);\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            tmp.push(\"Failed deactivating. Please try again, try checking your internet connectivity. Contact us if needed.\");\n            Session.set(\"showErrorDlg\",tmp)\n            return;\n        }\n        console.log(\"Success\");\n        var prevRoute = Session.get('prevRoute');\n        closePopupEvent();\n        goBack();\n\n    });\n}\nfunction archiveConfEvent() {\n    var data = Session.get(\"propertyData\");\n    var propertyId = data._id;\n\n    archiveInProgress.set(true) ;\n    Meteor.call('archiveProperty',propertyId,function(error, result){\n        archiveInProgress.set(false) ;\n        if(error){\n            console.log(error);\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            tmp.push(\"Failed archiving. Please try again, try checking your internet connectivity. Contact us if needed.\");\n            Session.set(\"showErrorDlg\",tmp)\n            return;\n        }\n        console.log(\"Success\");\n        var prevRoute = Session.get('prevRoute');\n        closePopupEvent();\n        goBack();\n\n    });\n}\nfunction closePopupEvent() {\n    console.log('closePopupEvent');\n    if($)\n        if($.fancybox)\n            $.fancybox.close();\n}\n\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction slugifyEmailAddress (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '.')           // Replace spaces with \".\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}","/**\n * Created by njanjanam on 19/05/2017.\n */\nimport './lettingprintview.html';\n\nTemplate.lettingprintview.onCreated(function() {\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        var key = FlowRouter.getParam('key');\n        instance.subscribe(\"viewLetting\",key) ;\n        instance.subscribe('Config');\n\n        // instance.subscribe('Properties');\n        // instance.subscribe('Auctions');\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n})\nTemplate.lettingprintview.helpers({\n    isSubsLoaded: function () {\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn: function () {\n        if (Meteor.user())return true;\n        return false;\n    },\n    data : function () {\n        // debugger;\n        var id = FlowRouter.getParam('key');\n        let Projects = Collections.Auctions;\n        let selector = {\n            \"lettingAuctionCode\" : id\n        };\n        var ret = Projects.find(selector, {\n            transform: function(data){\n\n                var globalConfig = Collections.Config.findOne();\n                data.PD = Collections.Properties.findOne(data.propertyId);\n\n                data.PD.bedroomsCount=0\n                data.PD.ensuiteCount = 0;\n                data.PD.doubleBedCount = 0;\n                if(data.PD.bedrooms){\n                    data.PD.bedroomsCount = data.PD.bedrooms.length;\n                    for (var i = 0; i < data.PD.bedrooms.length; i++) {\n                        if (data.PD.bedrooms[i][\"ensuite\"] ) {\n                            data.PD.ensuiteCount++;\n                        }\n                        if (data.PD.bedrooms[i][\"bedType\"] == 'double' ) {\n                            data.PD.doubleBedCount++;\n                        }\n                    }\n                }\n\n\n                if(data.PD.contacts) {\n                    data.primaryContact = data.PD.contacts[0];\n                }else data.primaryContact = {};\n\n                tmp = [];\n                if(data.PD.amenities){\n                    for ( var i=0; i< data.PD.amenities.length;i++){\n                        var src = globalConfig.amenitiesLogos[data.PD.amenities[i]];\n                        if(!src)src = globalConfig.amenitiesLogos[\"default\"]\n                        tmp.push({name:data.PD.amenities[i], src: src })\n                    }\n                }\n                data.PD.amenitiesWithImgs = tmp;\n\n\n                return data;\n            },\n            limit: 1\n        }).fetch();\n        ret = ret[0];\n\n        clearMeta();\n        try {\n            var title = 'Print key for ' + ret.PD.address.address + ', ' + ret.PD.address.area;\n            if (ret.PD.address.county) title += ', ' + ret.PD.address.county;\n\n            DocHead.setTitle('' + titleCase(title) + ' | SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"Print key for \" + ret.PD.type + \".\"});\n        }catch(err){\n            DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n            DocHead.addMeta({name: \"description\", content: \"\"});\n        }\n\n        return ret;\n    }\n});\nTemplate.lettingprintview.onRendered(function() {\n    // console.log(this)\n\n    setTimeout(function () {\n        window.print();\n    },1000)\n})","import \"./pagination.html\";\nimport \"./imageView.html\";\nimport \"./myProperties.html\";\nimport './shared.js';\nimport SimpleSchema from \"simpl-schema\";\n// SimpleSchema.extendOptions(['autoform']);\nadvertiseFormSaving='';\nfsClient = '';\nsaveAndAdvertise=false;\n\nvar globalFILTERS = {};\nfunction getFiltersFromRoute(){\n    var FILTERS = {};\n    if( FlowRouter.current().queryParams.home_type ){\n        var val = FlowRouter.current().queryParams.home_type;\n        FILTERS['homeType'] = val;\n    }\n    if( FlowRouter.current().queryParams.facing ){\n        var val = FlowRouter.current().queryParams.facing;\n        FILTERS['facing'] = val;\n    }\n\n    if( FlowRouter.current().queryParams.floor_low || FlowRouter.current().queryParams.floor_high  ){\n        var val_l = FlowRouter.current().queryParams.floor_low;\n        var val_h = FlowRouter.current().queryParams.floor_high;\n\n        if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n\n        }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n            FILTERS['floor'] = [val_l,0];\n        }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n            FILTERS['floor'] = [0, val_h];\n        }else{//Both are valid\n            FILTERS['floor'] = [val_l ,val_h ];\n        }\n    }\n\n    if( FlowRouter.current().queryParams.price_low || FlowRouter.current().queryParams.price_high  ){\n        var val_l = FlowRouter.current().queryParams.price_low;\n        var val_h = FlowRouter.current().queryParams.price_high;\n\n        if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n\n        }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n            FILTERS['priceRange'] = [val_l,0];\n        }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n            FILTERS['priceRange'] = [0, val_h];\n        }else{//Both are valid\n            FILTERS['priceRange'] = [val_l ,val_h ];\n        }\n    }\n    //if(FILTERS.length==0){return false;}\n    return FILTERS;//{\"Home Type\":[\"2 BHK\"],\"Floor\":[\"2 to 15\"],\"Price Range\":[\"67.45 to 97.45 \"]}\n}\nfunction setFilters(FILTERS){\n    Session.set('globalFILTERS', FILTERS);\n    var defaultFilters = Session.get('projectData');defaultFilters = defaultFilters.filter;\n    console.log(\"In setFilters\")\n    console.log(FILTERS);\n    console.log(defaultFilters);\n    FlowRouter.query.clear();\n\n    var baseURL = FlowRouter.current().originalUrl.split('?')[0];\n    var route = baseURL;\n    // debugger;\n    if(  FILTERS['homeType']  ){\n        if(FILTERS['homeType'].length != defaultFilters.homeType.length)\n            for(var i=0;i<FILTERS['homeType'].length;i++) {\n                // if(defaultFilters.homeType.indexOf(  FILTERS['homeType'][i]  ) == -1)\n                route = updateQueryStringParameter(route, 'home_type[]', FILTERS['homeType'][i])\n            }\n    }\n    if(  FILTERS['facing']  ){\n        if(FILTERS['facing'].length != defaultFilters.facing.length)\n            for(var i=0;i<FILTERS['facing'].length;i++) {\n                // if(defaultFilters.facing.indexOf(  FILTERS['facing'][i]  ) == -1)\n                route = updateQueryStringParameter(route, 'facing[]', FILTERS['facing'][i])\n            }\n    }\n    if(  FILTERS['floor'] ){\n        var l1 = FILTERS['floor'][0];\n        //if(l1 !=0 && l1 != defaultFilters.floor[0])\n        route = updateQueryStringParameter(route, 'floor_low', l1);\n        var l2 = FILTERS['floor'][1];\n        //if(l2 != defaultFilters.floor[1])\n        route = updateQueryStringParameter(route, 'floor_high', l2);\n\n        //route = updateQueryStringParameter(route, 'floor_low', FILTERS['floor'][0]);\n        //route = updateQueryStringParameter(route, 'floor_high', FILTERS['floor'][1]);\n    }\n    if( FILTERS['priceRange'] ){\n        var l1 = FILTERS['priceRange'][0];\n\n        //Don't uncomment below lines as they would cause another bug. It would be a flow bug, on page refresh, it shud know upper limit to compute, and its called during template create.\n        //if(l1 !=0 && l1 != defaultFilters.priceRange[0])\n        route = updateQueryStringParameter(route, 'price_low', l1);\n        var l2 = FILTERS['priceRange'][1];\n        //if(l2 != defaultFilters.priceRange[1])\n        route = updateQueryStringParameter(route, 'price_high', l2);\n\n\n        //route = updateQueryStringParameter(route, 'price_low', FILTERS['priceRange'][0]);\n        //route = updateQueryStringParameter(route, 'price_high', FILTERS['priceRange'][1]);\n    }\n\n    if(FILTERS['floor']){\n        $('.filterS1l').html(FILTERS['floor'][0]);\n        $('.filterS1h').html(FILTERS['floor'][1]);\n    }\n    if(FILTERS['priceRange']){\n        $('.filterS2l').html( numDifferentiation( FILTERS['priceRange'][0]) )\n        $('.filterS2h').html( numDifferentiation( FILTERS['priceRange'][1]) )\n    }\n    console.log(\"New Route\"+route);\n    FlowRouter.go(route);\n    updateUISlider(FILTERS)\n\n}\nfunction getDefaultFilters(){\n    return {};\n}\nfunction getCurUsersBid(auctionId){\n    var bid = Collections.Bids.find({auctionId:auctionId,userId:Meteor.userId()},{limit:1}).fetch()\n    return bid[0];\n}\n\nfunction updateUISlider(FILTERS){\n    //console.log('Updating slider values')\n    var slider = document.getElementById('range-input');\n    var slider1 = document.getElementById('range-input1');\n    if(!slider)return;\n    if(!slider.noUiSlider)return;\n    slider.noUiSlider.set(FILTERS.floor);\n    slider1.noUiSlider.set(FILTERS.priceRange);\n    var defaultFilters = Session.get('projectData');defaultFilters = defaultFilters.filter;\n\n    if(FILTERS.homeType)\n        if(FILTERS.homeType.length && (FILTERS.homeType.length != defaultFilters.homeType.length) )\n            $('.filterUnitType').val(FILTERS.homeType[0])\n        else\n            $('.filterUnitType').val('any')\n    if(FILTERS.facing)\n        if(FILTERS.facing.length && (FILTERS.facing.length != defaultFilters.facing.length))\n            $('.filterUnitFacing').val(FILTERS.facing[0])\n        else\n            $('.filterUnitFacing').val('any')\n}\nfunction resetUISlider(FILTERS){\n    // console.log('reset slider values')\n    var slider = document.getElementById('range-input');\n    var slider1 = document.getElementById('range-input1');\n    slider.noUiSlider.set(FILTERS.floor);\n    slider1.noUiSlider.set(FILTERS.priceRange);\n    $('.filterUnitType, .filterUnitFacing').val('any')\n}\nfunction startUISlider(data){\n    var slider = document.getElementById('range-input');\n    var slider1 = document.getElementById('range-input1');\n    //data = {\n    //  \"s1\":{\n    //    \"start\": [0, 25],\n    //    \"range\": [0, 25]\n    //  }, \"s2\":{\n    //    \"start\": [64, 94],\n    //    \"range\": [64, 94]\n    //  }\n    //}\n    noUiSlider.create(slider, {\n\n        start: data.s1.start,\n\n        connect: true,\n\n        step: 1,\n\n        range: {\n\n            'min': data.s1.range[0],\n\n            'max': data.s1.range[1]\n\n        },\n\n        format: wNumb({\n\n            decimals: 0\n\n        })\n\n    });\n\n    noUiSlider.create(slider1, {\n\n        start: data.s2.start,\n\n        connect: true,\n\n        step: 1000000,\n\n        range: {\n\n            'min': data.s2.range[0],\n\n            'max': data.s2.range[1]\n\n        },\n\n        format: wNumb({\n\n            decimals: 0\n\n        })\n\n    });\n    slider.noUiSlider.on('update', function(){\n        applyFilterValues();\n    });\n    slider1.noUiSlider.on('update', function(){\n        applyFilterValues();\n    });\n    slider.noUiSlider.on('change', function(){\n        applyFilters();\n    });\n    slider1.noUiSlider.on('change', function(){\n        applyFilters();\n    });\n}\nfunction getPaginationData(totalResultsCount,currentPageNo,urlBase, resultsPerPage){\n    var pages = [], prevPage = {}, nextPage={};\n    var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage);\n    if(pgMin<1)pgMin =1;\n    if(pgMax<1)pgMax =1;\n    if(maxPages<1)maxPages =1;\n    if(pgMin>maxPages)currentPageNo =maxPages;\n    var tmp={};\n    var href = '';\n\n    var cRoute = FlowRouter.current();\n    // params: {pageno: undefined}\n    // path: \"/account/myproperies\"\n    // pathname: \"/account/myproperies\"\n    // queryParams: {}\n    // queryString: null\n    // route: Route {options: {â€¦}, name:\n\n    for (var i=pgMin; i<=maxPages;i++){\n        cRoute.params['pageno'] = i;\n        href = FlowRouter.url(cRoute.route.name,cRoute.params,cRoute.queryParams)\n        tmp = {\n            \"href\": href,\n            \"text\": i\n        }\n        if(i== currentPageNo) {\n            tmp['href'] = 'javascript:void(0);';\n            tmp['current'] = true;\n        }\n        pages.push(tmp)\n    }\n    var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n    if(prevPageNo<1){\n        prevPage['href'] = 'javascript:void(0)';\n        prevPage['text'] = 'Previous';\n        prevPage['disabled'] = 'disabled';\n    }else{\n        cRoute.params['pageno'] = prevPageNo;\n        prevPage['href'] = FlowRouter.url(cRoute.route.name,cRoute.params,cRoute.queryParams)\n        prevPage['text'] = 'Previous';\n    }\n    if(nextPageNo>maxPages)nextPageNo =maxPages;\n    if(nextPageNo == currentPageNo){\n        nextPage['href'] = 'javascript:void(0)';\n        nextPage['text'] = 'Next';\n        nextPage['disabled'] = 'disabled';\n    }else{\n        cRoute.params['pageno'] = nextPageNo;\n        prevPage['href'] = FlowRouter.url(cRoute.route.name,cRoute.params,cRoute.queryParams)\n        nextPage['text'] = 'Next';\n    }\n    return {\n        \"prevPage\":prevPage,\n        \"pages\":pages,\n        \"nextPage\": nextPage\n    }\n}\n\n\nTemplate.registerHelper(\"objectToPairs\",function(object){\n    return _.map(object, function(value, key) {\n        return {\n            key: key,\n            value: value\n        };\n    });\n});\nTemplate.registerHelper(\"hostname\",function(){\n    return Meteor.absoluteUrl();\n});\nfunction numDifferentiation(val) {\n    if(val >= 1000000000) val = (val/1000000000).toFixed(2) + ' Billion';\n    else if(val >= 1000000) val = (val/1000000).toFixed(2) + ' Million';\n    return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\nfunction numFormat(x) {\n    //var x=12345652457.557;\n    //console.log(x)\n    if(!x)return x;\n    x=x.toString();\n    var afterPoint = '';\n    if(x.indexOf('.') > 0)\n        afterPoint = x.substring(x.indexOf('.'),x.length);\n    afterPoint = afterPoint.substr(0,3);\n    x = Math.floor(x);\n    x=x.toString();\n    var lastThree = x.substring(x.length-3);\n    var otherNumbers = x.substring(0,x.length-3);\n    if(otherNumbers != '')\n        lastThree = ',' + lastThree;\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree + afterPoint;\n    return res;\n}\n\n\n\nTemplate.myProperties.events({\n    \"click .clearFilters\": function (event, template) {\n        //FlowRouter.query.clear();\n\n        console.log('in .clearFilters meteor event')\n        var defaultFilters = Session.get('projectData');defaultFilters = defaultFilters.filter;\n        $('.filterUnitFacing, .filterUnitType').val('any');\n        resetUISlider(defaultFilters);\n        setFilters(defaultFilters);\n        $.fancybox.close();\n        applyClearFiltersEvent();\n    },\n    \"click .addPropertyBtn\": function (event, template) {\n        var user = Accounts.user();\n        if(!user.profile.mobile){\n            var mobile = false, failed = false;\n            while(1) {//This is an un limited loop of mobile number.\n                if(failed) mobile = prompt(\"'\"+mobile+\"' is not a valid number. Please enter a valid mobile to proceed. \");\n                else mobile = prompt(\"You don't have a mobile number attached to your profile. Please enter mobile to proceed. \");\n                if( mobile == null || /^\\d{10}$/.test(mobile) ) break;\n                else{\n                    failed = true;\n                }\n            }\n            if(/^\\d{10}$/.test(mobile)) {\n                Meteor.call('updateMobile', mobile, function (error, result) {\n                    if (error) {\n                        console.log(error.error);\n                        var tmp = Session.get(\"showErrorDlg\");\n                        var msg = 'Mobile number update failed. Please try again. Contact us if needed.';\n                        tmp.push(msg);\n                        Session.set(\"showErrorDlg\", tmp)\n\n                        return;\n                    }\n                });\n            }\n        }\n        if(template.showAddProperty.get() )template.showAddProperty.set(false);\n        else template.showAddProperty.set(true);\n    },\n    \"change .new-filter select\":function(event, template){\n        console.log(\"Filters changed\");\n        applyFilters();\n    }\n})\nTemplate.myProperties.onCreated(function(){\n    this.showAddProperty = new ReactiveVar( false );\n    this.totalResultsCount = new ReactiveVar( 0 );\n\n    var globalFILTERS = getFiltersFromRoute();\n    Session.set('globalFILTERS',globalFILTERS);\n    // Session.set('enableDelayedFunctions',false);\n    Blaze._allowJavascriptUrls();\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n        // FlowRouter.watchPathChange()\n        var pageno = FlowRouter.getParam('pageno');\n        var resperpage = 20;\n        var onlyActive = false;//Show only active properties\n        try{\n            resperpage = FlowRouter.getQueryParam('resperpage');\n            onlyActive = FlowRouter.getQueryParam('onlyActive');\n        }catch(e){}\n        instance.subscribe('Config');\n        instance.subscribe('total-MyProperties',{onlyActive:onlyActive});\n        instance.subscribe(\"MyProperties\",{viewName: 'MyProperties.view',pageno:pageno,resperpage:resperpage,onlyActive:onlyActive}) ;\n        // instance.subscribe('Areas');\n        instance.subscribe('userData');\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n            totalResultsCount = Counts.get(\"total-MyProperties\");\n            if(!totalResultsCount)instance.showAddProperty.set(true);//if no properties, then show it\n        }\n    })\n    // Session.set('assistanceRequested',false)\n    // Meteor.call('getDateFromServer',[],function(error, success){\n    //     Session.set('getDateFromServer',success)\n    // })\n    // Session.set('globalConfig', Collections.Config.findOne());\n    // var ret = getProjectData();\n    // Session.set('projectData',ret);\n})\nTemplate.myProperties.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    data : function () {\n        if(!Template.instance().subscriptionsReady())return false;\n        var user = Meteor.user();\n        if(!user) return {\n            results: [],\n            totalResultsCount:0,\n            pagination: getPaginationData(0,1,'',10)\n        }\n        var selector = {createdByAgent:user._id,isArchived:false};//let limit = 10;\n        // debugger;\n\n        var FILTERS = Session.get('globalFILTERS')\n        var defaultFilters = getDefaultFilters();\n\n        // var arr = [];\n        // if(  FILTERS['homeType'] ){\n        //     if(FILTERS['homeType'].length) {\n        //         if(FILTERS['homeType'].length != defaultFilters.homeType.length)\n        //             selector['homeType'] = FILTERS['homeType'][0]\n        //         /*\n        //          // var arr = [];\n        //          for (var i = 0; i < FILTERS['homeType'].length; i++) {\n        //          arr.push({\"homeType\": FILTERS['homeType'][i]})\n        //          console.log(\"homeType\"+ FILTERS['homeType'][i])\n        //          }*/\n        //         // selector['$or'] = arr;//BUG: this or will over write or of facing; or of homeType will collide with this and\n        //         // while logic won't work\n        //\n        //     }\n        // }\n        // if(  FILTERS['facing'] ){\n        //     if(FILTERS['facing'].length) {\n        //         if(FILTERS['facing'].length != defaultFilters.facing.length)\n        //             selector['facing'] = FILTERS['facing'][0]\n        //         /*\n        //          var arr = [];\n        //          for (var i = 0; i < FILTERS['facing'].length; i++) {\n        //          arr.push({\"facing\": FILTERS['facing'][i]})\n        //          }\n        //          // selector['$or'] = arr;//BUG: this or will over write or of homeType; or of homeType will collide with this and\n        //          // while logic won't work\n        //          */\n        //     }\n        // }\n        // if(arr.length){\n        //     selector['$or'] = arr;\n        // }\n        // if( FILTERS['floor'] ){\n        //     var val_l = FILTERS['floor'][0];\n        //     var val_h = FILTERS['floor'][1];\n        //\n        //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n        //\n        //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n        //         selector['floorLevel'] =  { $gte: parseInt(val_l) }\n        //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n        //         selector['floorLevel'] =  { $lte: parseInt(val_h) }\n        //     }else{//Both are valid\n        //         selector['floorLevel'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n        //     }\n        // }\n        // if( FILTERS['priceRange'] ){\n        //     var val_l = FILTERS['priceRange'][0];\n        //     var val_h = FILTERS['priceRange'][1];\n        //\n        //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n        //\n        //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n        //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l) }\n        //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n        //         selector['priceBreakUp.totalAllInclusive'] =  { $lt: parseInt(val_h) }\n        //     }else{//Both are valid\n        //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n        //     }\n        // }\n\n        /////PAGINATION\n        var resultsPerPage = 20;\n        var currentPageNo = FlowRouter.current().params.pageno;\n        if(!currentPageNo){currentPageNo = 1}\n        var skip = (currentPageNo -1) * resultsPerPage;\n        var urlBase = 'account/myproperies/';\n\n\n        var totalResultsCount = Counts.get(\"total-MyProperties\");\n        Template.instance().totalResultsCount.set(totalResultsCount)\n\n        var ret = Collections.Properties.find(selector, {\n            transform: function(doc) {\n                doc.bedroomsCount=0\n                // console.log('May be here');\n                // console.log(doc)\n                if(doc.bedrooms){\n                    doc.bedroomsCount = doc.bedrooms.length;\n                }\n                if(doc.auctionId) {\n                    doc.auction = Collections.Auctions.findOne({\n                        _id: doc.auctionId\n                    });\n                }\n                return doc;\n            },\n            // limit: resultsPerPage,\n            sort: { updatedAt : -1 },\n            // skip: skip\n        });\n\n\n\n        return {\n            results: ret,\n            totalResultsCount:totalResultsCount,\n            pagination: getPaginationData(totalResultsCount,currentPageNo,urlBase,resultsPerPage)\n        };\n    },\n    showDemoProp:function () {\n        var currentPageNo = FlowRouter.current().params.pageno;\n        if(!currentPageNo || currentPageNo==1){\n            var count = Collections.Properties.find({createdByAgent:'demoproperty',isArchived:false},{limit: 1}).count();\n            if(count>0)\n            return true;\n        }\n        return false;\n    },\n    demoProperty:function () {\n        return Collections.Properties.find({createdByAgent:'demoproperty',isArchived:false}, {\n            transform: function(doc) {\n                doc.bedroomsCount=0\n                if(doc.bedrooms){\n                    doc.bedroomsCount = doc.bedrooms.length;\n                }\n                if(doc.auctionId) {\n                    doc.auction = Collections.Auctions.findOne({\n                        _id: doc.auctionId\n                    });\n                }\n                return doc;\n            },\n            limit: 1\n        })\n    },\n    showAddProperty: function () {\n        if(Session.get('hideAddPropertyForm') ){\n            Template.instance().showAddProperty.set(false);\n            Session.set('hideAddPropertyForm',false)\n            scrollTo('.addPropertyBtn',50,500)\n        }else{\n            if(!fsClient) {\n                import filestack from 'filestack-js';\n                const apikey = 'AIPACLEs7ShGwwPh6fMTxz';\n                fsClient = filestack.init(apikey, {\n                    policy: 'eyJleHBpcnkiOjE4NjE5MjAwMDAsImNhbGwiOlsicGljayIsInJlYWQiLCJzdGF0Iiwid3JpdGUiLCJ3cml0ZVVybCIsInN0b3JlIiwiY29udmVydCIsInJlbW92ZSIsImV4aWYiXX0=',\n                    signature: '465e8652c5cef95f44e5858e09d430abea855d98deaeb7425558f2c80d0f4f57'\n                });\n            }\n        }\n\n        return Template.instance().showAddProperty.get();\n    },\n    showFilters: function(){\n        return false;\n    },\n    projectData : function () {\n        // var ret = getProjectData();\n        var ret = {};\n        // Session.set('projectData',ret);\n        return ret;\n    },\n    filters:function(){\n        var data = {}//{\"Home Type\":[\"2 BHK\"],\"Floor\":[\"2 to 15\"],\"Price Range\":[\"67.45 to 97.45 \"]}\n        var FILTERS = Session.get('globalFILTERS')\n        var defaultFilters = Session.get('projectData');defaultFilters = defaultFilters.filter;\n        if( FILTERS['homeType']  ){\n            if(FILTERS['homeType'].length) {\n                if( !isArraysEqual( defaultFilters.homeType , FILTERS['homeType']) )\n                    data['Home Type'] = FILTERS['homeType'];\n            }\n        }\n        if( FILTERS['facing']  ){\n            if(FILTERS['facing'].length) {\n                if( !isArraysEqual( defaultFilters.facing , FILTERS['facing']) )\n                    data['Facing'] = FILTERS['facing'];\n            }\n        }\n        if(  FILTERS['floor'] ){\n            var hasLowerLimit = false, hasUpperLimit = false;\n            var l1 = parseInt(FILTERS['floor'][0]);\n            if(l1 !=0 && l1 != defaultFilters.floor[0])hasLowerLimit = true;\n\n            var l2 = parseInt(FILTERS['floor'][1]);\n            if( l2 != defaultFilters.floor[1])hasUpperLimit = true;\n\n            if(hasLowerLimit && !hasUpperLimit){//Only LowerLimit\n                data['Floor'] = [ 'More than '+l1 ]\n            }else if(!hasLowerLimit && hasUpperLimit){//Only UpperLimit\n                data['Floor'] = [ 'Below '+l2 ]\n            }else if(hasLowerLimit && hasUpperLimit){//Both are there\n                data['Floor'] = [ 'Between '+l1+\" and \"+l2 ]\n            }else{}//Both are not there. So don't show filter.\n\n        }\n\n        if(  FILTERS['priceRange'] ){\n            var hasLowerLimit = false, hasUpperLimit = false;\n            var l1 = parseInt(FILTERS['priceRange'][0]);\n            if(l1 !=0 && l1 != defaultFilters.priceRange[0])hasLowerLimit = true;\n\n            var l2 = parseInt(FILTERS['priceRange'][1]);\n            if( l2 != defaultFilters.priceRange[1])hasUpperLimit = true;\n\n            if(hasLowerLimit && !hasUpperLimit){//Only LowerLimit\n                data['Price Range'] = [ 'More than '+numDifferentiation(l1) ]\n            }else if(!hasLowerLimit && hasUpperLimit){//Only UpperLimit\n                data['Price Range'] = [ 'Below '+numDifferentiation(l2) ]\n            }else if(hasLowerLimit && hasUpperLimit){//Both are there\n                data['Price Range'] = [ 'Between '+numDifferentiation(l1)+\" to \"+numDifferentiation(l2) ]\n            }else{}//Both are not there. So don't show filter.\n\n        }\n        //if( FILTERS['priceRange'] ){\n        //  data['Price Range'] =  [ numDifferentiation(FILTERS['priceRange'][0]) +\" to \"+ numDifferentiation(FILTERS['priceRange'][1]) ]\n        //}\n        applyClearFiltersEvent();\n\n        return {\n            data:data,\n            count: Object.keys(data).length\n        };\n    },\n    // time: function(){\n    //\n    //     var projectData = Session.get('projectData');\n    //     var timestamp = TimeSync.serverTime(null, 30000);\n    //     if(!projectData.auction.endDate || !timestamp)return;\n    //\n    //\n    //     var dend = Date.parse(projectData.auction.endDate);\n    //     var timeDiff = dend - timestamp ;\n    //     if(timeDiff<0)return false;\n    //\n    //     var day = Math.floor(timeDiff / (1000 * 3600 * 24))\n    //     var hour = Math.floor(timeDiff / (1000 * 3600 ))\n    //     var min = Math.floor(timeDiff / (1000 * 60 ) )\n    //     hour = hour - (day * 24);\n    //     min = min - (day * 24* 60) - (hour * 60);\n    //     return {\"day\":day,\"hour\":hour,\"min\":min}\n    // },\n    isAuctionClosed:function(){\n        // var timestamp = TimeSync.serverTime(null, 30000);\n        var timestamp = new Date();\n        var projectData = Session.get('projectData');\n        var dend = Date.parse(projectData.auction.endDate);\n        var timeDiff = dend - timestamp;\n        if(timeDiff<0){\n            return true;\n        }\n        return false;\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    agentStats: function(){\n        var user = Meteor.user();\n        if(user) {\n            if(!user.profile.activeAuctions)user.profile.activeAuctions=0\n            if(!user.profile.totalAuctions)user.profile.totalAuctions=0\n            if(!user.profile.totalBidsReceived)user.profile.totalBidsReceived=0\n            if(!user.profile.bidsReceivedActiveAuctions)user.profile.bidsReceivedActiveAuctions=0\n            if(!user.profile.bidProfitActive)user.profile.bidProfitActive=0\n            if(!user.profile.totalBidProfit)user.profile.totalBidProfit=0\n            return {\n                activeAuctions:user.profile.activeAuctions,\n                totalAuctions:user.profile.totalAuctions,\n                totalBidsReceived:user.profile.totalBidsReceived,\n                bidsReceivedActiveAuctions:user.profile.bidsReceivedActiveAuctions,\n                bidProfit:user.profile.bidProfitActive,\n                totalBidProfit:(user.profile.totalBidProfit*12)\n            };\n        }\n        return {\n            activeAuctions:0,\n            totalAuctions:0,\n            totalBidsReceived:0,\n            bidsReceivedActiveAuctions:0,\n            bidProfit:0,\n            totalBidProfit:0\n        };\n    }\n\n})\nTemplate.propertyList.onCreated(function(){\n    this.expanded = new ReactiveVar( false );\n    this.showAddAuctionForm = new ReactiveVar( false );\n    \n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.isSubsLoadedAttempted = new ReactiveVar(false);\n    //Meteor.default_connection._subscriptions //To get the list of scbscriptions\n    instance.autorun(function(){\n        try{\n            if(instance.data.auctionId && !instance.data.auction){\n                instance.isSubsLoadedAttempted.set(true)\n                instance.subscribe('Advertisement',instance.data.auctionId);\n            }else if(instance.data.auction){\n                instance.isSubsLoaded.set(true)\n                instance.isSubsLoadedAttempted.set(true)\n            }\n            if(instance.subscriptionsReady()){\n                instance.isSubsLoaded.set(true)\n            }\n        }catch(e){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n})\nTemplate.propertyList.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    expanded: function(){\n        return Template.instance().expanded.get() ;\n    },\n    showAddAuctionForm: function () {\n        return Template.instance().showAddAuctionForm.get();\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    auction:function(){\n        if(this.auction) return this.auction;\n        if(this.auctionId){\n            let ret = Collections.Auctions.find({_id: this.auctionId}).fetch();\n            let attempt = Template.instance().isSubsLoadedAttempted.get()\n            \n            if(this.auctionId && !ret.length && !attempt){\n                Template.instance().subscribe('Advertisement',this.auctionId);\n                Template.instance().isSubsLoadedAttempted.set(true);\n            }\n    \n            if(ret) return ret[0];\n        }\n        return false;\n    },\n    lettingprintviewData:function () {\n        if(!this.auction)return \"\"\n        return this.auction.lettingAuctionCode\n        // if(!this.auction)return {key:\"\"}\n        // return {key:this.auction.lettingAuctionCode}\n    },\n    showEditPropertyForm:function(){\n        return FlowRouter.url('account/editproperty',{id:this._id})\n    }\n})\nTemplate.propertyList.events({\n    \"click .see_more_btn\": function (event, template) {\n        if(template.expanded.get() )template.expanded.set(false);\n        else template.expanded.set(true);\n    },\n    \"click .ActivateBtn\": function (event, template) {\n        if(!template.showAddAuctionForm.get() )template.showAddAuctionForm.set(true);\n    },\n    \"click .showEditPropertyForm\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{pageno:FlowRouter.current().params.pageno,scrollTo:0} }\n        Session.set('prevRoute',prevRoute);\n\n        // FlowRouter.go('account/editproperty',{id:this._id})\n\n    },\n    \"click .managePropertyLink\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{pageno:FlowRouter.current().params.pageno,scrollTo:0} }\n        Session.set('prevRoute',prevRoute);\n\n        FlowRouter.go('account/propertyManage',{id:this._id})\n    },\n    \"click .hideAddAuctionForm\": function (event, template) {\n        if(template.showAddAuctionForm.get() )template.showAddAuctionForm.set(false);\n        propId = this._id;\n        scrollTo('#property_'+propId,0,700)\n\n    },\n    \"click .viewApplications\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{pageno:FlowRouter.current().params.pageno} }\n        Session.set('prevRoute',prevRoute);\n\n        FlowRouter.go(\"account/propertyApplications\",{id:this._id});\n    },\n    \"click .showCopyDlg\": function (event, template) {\n        let user = Meteor.user();\n        let sluggedName = slugifyEmailAddress(user.profile.name);\n        if(!sluggedName)sluggedName = 'rent'\n        let email = sluggedName+'-let-'+this.auction.lettingAuctionCode.toLowerCase()+\"@spotmycrib.ie\";\n        $('#agentPropertyEmailField').val(email);\n\n        var url = FlowRouter.url('letting',{key:this.auction.lettingAuctionCode})\n        $('#propertyLinkField').val(url);\n        $.fancybox({\n            'padding': 0,\n            'href': '#propertyLinkDlg',\n            afterShow:function(template){\n                $('#agentPropertyEmailField').select();\n                $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click',function () {\n                    $('#agentPropertyEmailField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'myPropertiesPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n                })\n                $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click',function () {\n                    $('#propertyLinkField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'myPropertiesPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n                })\n                $('#propertyLinkDlg .cancelBtn').unbind().bind('click',function () {\n                    $.fancybox.close()\n                })\n            },\n        });\n\n    },\n});\nTemplate.addPropertyForm.onCreated(function(){\n    if(!Session.get('addPropertyImages')) {// Lets do this. Anyways we have delete button.\n        Session.set('addPropertyImages', []);\n        S3.collection.remove({})\n\n        var user = Meteor.user();\n        try {\n            if (user.profile.session.addproperty.gallery){\n                Session.set('addPropertyImages', user.profile.session.addproperty.gallery);\n            }\n        }catch(e){}\n\n    }\n    this.numBedRoomCount = new ReactiveVar( 0 );\n    this.addPropertyFormSaving = new ReactiveVar( false );\n    this.countySelected = new ReactiveVar( false );\n    saveAndAdvertise=false;\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n        if(instance.countySelected.get()){\n            instance.isSubsLoaded.set(false)\n            instance.subscribe('Areas','','',instance.countySelected.get(),'','');\n        }\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n})\nTemplate.addPropertyForm.helpers({\n    isSA:function(){\n        var user = Meteor.user();\n        if(user.isSA)return true;\n        return false;\n    },\n    countries:function(){\n        return [{label: \"Ireland\", value: \"Ireland\", selected:\"selected\"}];//Both capital\n    },\n    counties:function(){\n        let staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n        let ret = []\n        for(let i=0;i< staticCounties.length;i++){\n            if(!staticCounties[i])continue;\n            ret.push({label: titleCase(staticCounties[i]), value: staticCounties[i] })\n        }\n        return ret;\n        // return [{label: \"Dublin\", value: \"dublin\"}];//Both capital\n        // var distinctEntries = _.uniq(Collections.Areas.find({}, {\n        //     sort: {County: 1}, fields: {County: true}\n        // }).fetch().map(function(x) {\n        //     return x.County;\n        // }), true);\n        // var ret = []\n        // for(var i=0;i< distinctEntries.length;i++){\n        //     if(!distinctEntries[i])continue;\n        //     ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n        // }\n        // return ret;\n    },\n    areas:function(){\n        var countySelected = Template.instance().countySelected.get();\n        if(!countySelected){\n            var doc = Collections.Properties.findOne(); if(!doc)return [];\n            Template.instance().countySelected.set(doc.address.county);\n            countySelected = doc.address.county;\n        }\n\n        var distinctEntries = _.uniq(Collections.Areas.find({County:countySelected}, {\n            sort: {Area: 1}, fields: {Area: true}\n        }).fetch().map(function(x) {\n            return x.Area;\n        }), true);\n        var ret = []\n        for(var i=0;i< distinctEntries.length;i++){\n            if(!distinctEntries[i])continue;\n            ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n        }\n        return ret;\n    },\n    propertyTypes:function(){\n        var Config = Collections.Config.find().fetch();Config = Config[0];\n        var ret = []\n        for(var i=0;i< Config.propertyType.length;i++){\n            ret.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n        }\n        return ret;\n    },\n    numBedRoomCount:function () {\n        var c = Template.instance().numBedRoomCount.get();\n        if(c<100)return Template.instance().numBedRoomCount.get();\n        else return 0;\n    },\n    addPropertyFormSaving:function () {\n        return Template.instance().addPropertyFormSaving.get();\n    },\n    ensuiteLoop: function(count){\n        var countArr = [];\n        for (var i=0; i<count; i++){\n            countArr.push({i:i+1});\n        }\n        return countArr;\n    }\n})\nTemplate.addPropertyForm.events({\n    \"click .openFileUploader\":function (event, template) {\n        event.preventDefault();\n        openPicker();\n        // filename\n        //     :\n        //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n        // handle\n        //     :\n        //     \"G8lStVqHTiGnwxof6d5y\"\n        // mimetype\n        //     :\n        //     \"image/png\"\n        // originalFile\n        //     :\n        // {name: \"webcam-1/12/2018, 6:53:25 PM.png\", type: \"image/png\", size: 630585}\n        // originalPath\n        //     :\n        //     \"webcam-1/12/2018, 6:53:25 PM.png\"\n        // size\n        //     :\n        //     629612\n        // source\n        //     :\n        //     \"local_file_system\"\n        // status\n        //     :\n        //     \"Stored\"\n        // uploadId\n        //     :\n        //     \"ba2fe36e9fd182ec0cb88236d676cefad\"\n        // url\n        //     :\n        //     \"https://cdn.filestackcontent.com\n        return;\n    },\n    'change .selectPropertyImages': function(event, template) {\n        var files = event.target.files;\n        S3.upload({\n            files:files,\n            path:\"propertyImagesLarge\"\n        },function(e,r){\n            if(e)throw new Meteor.Error('Upload failed ', e);\n            var addPropertyImages = Session.get('addPropertyImages');\n            addPropertyImages.push(r);\n            Session.set('addPropertyImages',addPropertyImages);\n            console.log(r);\n        });\n        // for (var i = 0, ln = files.length; i < ln; i++) {\n        //     propertyImagesCollection.insert(files[i], function (err, fileObj) {\n        //         // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n        //         console.log(fileObj);\n        //         var cursor = propertyImagesCollection.find(fileObj._id);\n        //\n        //         var liveQuery = cursor.observe({\n        //             changed: function(newImage, oldImage) {\n        //\n        //                 console.log(\"Inside live query \");\n        //                 console.log(newImage);\n        //                 if (newImage.isUploaded()) {\n        //                     liveQuery.stop();\n        //\n        //                     // Call your onUploaded callback here...\n        //                 }\n        //             }\n        //         });\n        //     });\n        // }\n    },\n    'change .countySelected': function(event, template) {\n        template.countySelected.set(event.target.value);\n    },\n    'change .url': function(event, template) {\n        var url = event.target.value;\n        if(!url)return false;//Empty url\n\n        Meteor.call('importPost',url,function(error,doc){\n            if(error){\n                console.log(error)\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                var msg = 'An error occurred.';\n                if(error.reason)msg += ' '+error.reason+'.'\n                else if(error.message)msg += ' '+error.message+'.'\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n\n            $( \"input[name='address.address']\" ).val(doc.address.address);\n            $( \"input[name='price']\" ).val(doc.rent);\n            $( \"select[name='address.county']\" ).val(doc.address.county).trigger('change');\n            setTimeout(function(){$( \"select[name='address.area']\" ).val(doc.address.area);},2000)\n            setTimeout(function(){$( \"select[name='address.area']\" ).val(doc.address.area);},4000)\n            $( \"select[name='type']\" ).val(doc.type.toLowerCase());\n            $( \"select[name='furnished']\" ).val(doc.furnished.toString());\n            $( \"input[name='baths']\" ).val(doc.baths);\n            $( \"input[name='numBedRoomCount']\" ).val(doc.numBedRoomCount).trigger('change');\n            $( \"textarea[name='about']\" ).val(doc.about).trigger('keyup');\n            $( \"input[name='contacts.0.name']\" ).val(doc.contacts[0].name);\n            var number = \"\";\n            try{\n                number = doc.contacts[0].phone\n            }catch(e){}\n            if(number){\n                try{\n                    number = atob(number)\n                    number = number.replace(/\\s+/g, '')\n                }catch(e){}\n                $( \"input[name='contacts.0.phone']\" ).val(number);\n            }\n            if(doc.amenities){\n                for (var i = 0; i < doc.amenities.length; i++) {\n                    $(\"input[value='\"+doc.amenities[i]+\"']\").prop('checked', true);\n                }\n            }\n            var tmp = {};\n            if(doc.gallery) {\n                var addPropertyImages = Session.get('addPropertyImages');if(!addPropertyImages)addPropertyImages=[]\n                var galleryLen = doc.gallery.length,galleryStoredLen=0;\n                // var galleryLen = 1,galleryStoredLen=0;\n                for (var i = 0; i < doc.gallery.length; i++) {\n                    // if(i>0)break;\n                    fsClient.storeURL(doc.gallery[i],{filename: 'Image '+i+1}).then(function(response) {\n                            console.log(JSON.stringify(response));\n                        // {\"url\":\"https://cdn.filestackcontent.com/QH10tMaGTrSgFweORrip\",\"size\":111949,\"type\":\"image/jpeg\",\"filename\":\"Image 01\",\"handle\":\"QH10tMaGTrSgFweORrip\"}\n                            tmp = {\n                                name: response.filename,\n                                url: response.url,\n                                handle: response.handle,\n                                mimetype: response.mimetype,\n                                // originalFile: doc.gallery[i],\n                                // originalPath: doc.gallery[i],\n                                size: response.size,\n                                // source: response.source,\n                                // status: response.status,\n                                // uploadId: response.uploadId\n                            }\n                            console.log(tmp)\n                            addPropertyImages.push(tmp);\n                            galleryStoredLen++;\n                            if(galleryStoredLen==galleryLen){//Now its fully imported\n                                Session.set('addPropertyImages', addPropertyImages);\n                                updateGalleriesInProfile(addPropertyImages, function (err, res) {//No need to show error. Because its just a backup.\n                                    var addPropertyImages = Session.get('addPropertyImages');\n                                    console.log(\"Current Count: \" + addPropertyImages.length)\n                                });\n                            }\n                        }\n                    );\n                }\n\n\n\n            }\n\n        })\n    },\n    'keyup .autoGrowTA': function(event, template) {\n        var element = event.target;\n        element.style.height = \"5px\";\n        if(element.scrollHeight<310)element.style.height = (element.scrollHeight)+\"px\";\n        else element.style.height = \"310px\";\n    },\n    'change #numBedRoomCount': function(event, template) {\n        var numBedRoomCount = parseInt($(event.target).val());\n        if(isNaN(numBedRoomCount))return;\n        Template.instance().numBedRoomCount.set(numBedRoomCount);\n        t1 = template;\n        setTimeout(function () {\n            t1.$('#addPropertyFormCF').validate();\n        },500)\n    },\n    'submit form': function(event){\n        event.preventDefault();\n    },\n    \"click .addPropertyFormSaveAdvertiseBtn\": function(event, template) {\n        saveAndAdvertise=true;\n        $('#addPropertyFormCF').submit();\n    },\n    \"click .addPropertyFormCancelBtn\": function(event, template) {\n        Session.set('hideAddPropertyForm',true)\n    },\n    'change input[name=price]':function(event, template){\n        if(event.target.value){\n            var tmp = event.target.value.split('.');tmp=tmp[0]//No decimals\n            tmp = tmp.trim().match(/\\d+/g)\n            if(!Array.isArray(tmp))event.target.value = '';\n            event.target.value = tmp.join('');\n        }\n    },\n});\nTemplate.addPropertyForm.onRendered(function () {\n    // this.$('#addPropertyFormCF').validate();\n    addPropertyFormSaving = this.addPropertyFormSaving\n    var validator = this.$('#addPropertyFormCF').validate({\n        submitHandler: function(event){\n            addPropertyFormSaving.set(true);\n            console.log(\"You just submitted the 'addPropertyForm' form.\");\n            Meteor.call('addProperty',$('#addPropertyFormCF').serializeArray(),function (error, propertyId) {\n\n                addPropertyFormSaving.set(false);\n                if(error){\n                    console.log(error)\n                    //    validator.showErrors({\n                    //         email: error.reason\n                    //     });\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    var msg = 'An error occurred.';\n                    if(error.reason)msg += ' '+error.reason+'.'\n                    else if(error.message)msg += ' '+error.message+'.'\n                    tmp.push(msg);\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                }\n                if(saveAndAdvertise){\n                    Meteor.call('addAdvertisement',$('#addPropertyFormCF').serializeArray(),propertyId,function (error, auctionId) {\n\n                        if(error){\n                            console.log(error)\n                            //    validator.showErrors({\n                            //         email: error.reason\n                            //     });\n                            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                            var msg = 'An error occurred.';\n                            if(error.reason)msg += ' '+error.reason+'.'\n                            else if(error.message)msg += ' '+error.message+'.'\n                            tmp.push(msg);\n                            Session.set(\"showErrorDlg\",tmp)\n                            return;\n                        }\n                        console.log('addAdvertisement created successfully')\n                        console.log(auctionId);\n                        saveAndAdvertise=false;\n                    })\n                }\n\n                var addPropertyImages = Session.get('addPropertyImages');\n                updateGalleriesInServer(addPropertyImages, propertyId, function (err, res) {\n                    Meteor.call('updateGalleriesInUserProfile', [], function(){console.log('Reset the profile backup');});//Reset the profile backup\n                    if (err) {\n                        console.log(err);\n                    } else {\n                        Session.set('addPropertyImages',[]);\n                        S3.collection.remove({})\n                    }\n                })\n                Session.set('hideAddPropertyForm',true)\n            })\n        }\n    });\n})\n\n\nTemplate.advertiseForm.onCreated(function(){\n    this.advertiseFormSaving = new ReactiveVar( false );\n})\nTemplate.advertiseForm.helpers({\n    advertiseFormSaving:function () {\n        return Template.instance().advertiseFormSaving.get();\n    }\n})\nTemplate.advertiseForm.events({\n    'submit form': function(event){\n        event.preventDefault();\n    },\n    'change input[name=price]':function(event, template){\n        if(event.target.value){\n            var tmp = event.target.value.split('.');tmp=tmp[0]//No decimals\n            tmp = tmp.trim().match(/\\d+/g)\n            if(!Array.isArray(tmp))event.target.value = '';\n            event.target.value = tmp.join('');\n        }\n    },\n    \"click .advertiseFormCancelBtn\": function(event, template) {\n        parentIns = template.view.parentView.parentView.parentView.templateInstance();\n        parentIns.showAddAuctionForm.set(false);\n    }\n});\n\nTemplate.advertiseForm.onRendered(function () {\n    this.$('#readyFrom').datetimepicker();\n\n    advertiseFormSaving = this.advertiseFormSaving\n    parentIns = this.view.parentView.parentView.parentView.templateInstance();\n\n    var validator = this.$('#advertiseFormCF').validate({\n        submitHandler: function(event){\n            advertiseFormSaving.set(true);\n            // console.log(\"You just submitted the 'advertise' form.\");\n            Meteor.call('addAdvertisement',$('#advertiseFormCF').serializeArray(),function (error, result) {\n\n                advertiseFormSaving.set(false);\n                if(error){\n                    console.log(error)\n                    //    validator.showErrors({\n                    //         email: error.reason\n                    //     });\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    var msg = 'An error occurred.';\n                    if(error.reason)msg += ' '+error.reason+'.'\n                    else if(error.message)msg += ' '+error.message+'.'\n                    tmp.push(msg);\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                }\n                // console.log('addAdvertisement completed successfully')\n                console.log(result);\n                auctionId = result;\n                parentIns.showAddAuctionForm.set(false);\n                scrollTo('.property_auction_'+auctionId,-100,700)\n            })\n        }\n    });\n})\nTemplate.imageView.helpers({\n    images: function () {\n        // return S3.collection.find();\n        return Session.get('addPropertyImages');\n    }\n});\nTemplate.imgTag.events({\n    \"click .editImgBtn\": function (event, template) {\n\n        var addPropertyImages = Session.get('addPropertyImages');\n\n        var newArr = [];\n        if(!addPropertyImages)return;\n        if(!addPropertyImages.length)return;\n\n        index = getIndexByHandle(addPropertyImages, this.handle);\n\n        newArr.push(addPropertyImages[index].url)//put it at first\n\n        const pickOptions = {\n            transformations:{\n                crop:{      force:true,\n                    aspectRatio:1.333},\n                rotate:true},\n            accept: 'image/*',\n            imageMax:[800,600],\n            \"uploadInBackground\": false//Disabled because, bg upload causes 2 uploads towards filestack limits\n        };\n        fsClient.cropFiles(newArr,pickOptions).then( (response) => {\n            var addPropertyImages = Session.get('addPropertyImages');\n\n            //if its conversion from old amazon to new filestack, then it will create a new file, so delete the old file seperatly and insert a new file seperatly.\n\n            if(!response.filesUploaded.length){\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Edit failed: please try again, contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n\n            fsClient.remove(addPropertyImages[index].handle).then(function(result){\n                if(!result.ok){\n                    console.log(result);//Not required to show error to user as this is just edit. If the image appears, he will click delete again\n                }\n                console.log('In fs remove result');\n                var addPropertyImages = Session.get('addPropertyImages');\n                addPropertyImages.splice(index, 1);\n                Session.set('addPropertyImages',addPropertyImages);\n\n                updateGalleriesInProfile(addPropertyImages,function (err, res) {//No need to show error. Because its just a backup.\n                    var addPropertyImages = Session.get('addPropertyImages');\n                    console.log(\"Current Count: \" + addPropertyImages.length)\n                });\n            });\n\n\n\n            var tmp = {};\n            for(var i =0;i<response.filesUploaded.length;i++){\n                tmp = {\n                    name: response.filesUploaded[i].filename,\n                    url: response.filesUploaded[i].url,\n                    handle: response.filesUploaded[i].handle,\n                    mimetype: response.filesUploaded[i].mimetype,\n                    originalFile: response.filesUploaded[i].originalFile,\n                    originalPath: response.filesUploaded[i].originalPath,\n                    size: response.filesUploaded[i].size,\n                    source: response.filesUploaded[i].source,\n                    status: response.filesUploaded[i].status,\n                    uploadId: response.filesUploaded[i].uploadId\n                }\n                // addPropertyImages.push(tmp);\n                addPropertyImages.splice(index+1, 0, tmp);//insert at the index place where its deleted.\n            }\n\n            //Logic to insert new file.\n            Session.set('addPropertyImages',addPropertyImages);\n\n            updateGalleriesInProfile(addPropertyImages, function (err, res) {//No need to show error. Because its just a backup.\n                var addPropertyImages = Session.get('addPropertyImages');\n                console.log(\"Current Count: \" + addPropertyImages.length)\n            });\n        });\n\n\n    },\n    \"click .deleteImgBtn\": function (event, template) {\n\n        var addPropertyImages = Session.get('addPropertyImages');\n        index = getIndexByHandle(addPropertyImages, this.handle);\n\n        fsClient.remove(this.handle).then(function(result){\n            debugger;\n            if(!result.ok){\n                console.log(result);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Deletion failed: please check your internet connection, contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n\n            var addPropertyImages = Session.get('addPropertyImages');\n            addPropertyImages.splice(index, 1);\n            Session.set('addPropertyImages',addPropertyImages);\n\n            updateGalleriesInProfile(addPropertyImages, function (err, res) {//No need to show error. Because its just a backup.\n                var addPropertyImages = Session.get('addPropertyImages');\n                console.log(\"Current Count: \" + addPropertyImages.length)\n            });\n        });\n\n\n\n    },\n    \"click .deleteImgBtnOld\": function (event, template) {\n        console.log(this);\n        var addPropertyImages = Session.get('addPropertyImages');\n        index = getIndex(addPropertyImages, this._id);\n        // debugger;\n        S3.delete(this.relative_url,function(error, result){\n            var addPropertyImages = Session.get('addPropertyImages');\n            S3.collection.remove(addPropertyImages[index]._id);\n            addPropertyImages.splice(index, 1);\n            Session.set('addPropertyImages',addPropertyImages);\n        })\n\n    }\n});\n\n\n\nfunction getIndex(myArray, fileId){\n    for (var i=0; i < myArray.length; i++) {\n        if (myArray[i]._id === fileId) {\n            return i;\n        }\n    }\n}\n\n\n\n\n\nTemplate.myProperties.onRendered(function() {\n    try{\n        jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n    }catch(e){\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n    }\n\n    var prevRoute = Session.get('prevRoute');\n    if(prevRoute){\n        try{\n        if(prevRoute)\n        if(prevRoute.instructions)\n        if(prevRoute.instructions.openPostNewProp){\n            Template.instance().showAddProperty.set(true);\n            setTimeout(function () {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            },500)\n        }}catch(e){console.log(e);}\n    }\n\n})\nfunction updateQueryStringParameter(uri, key, value) {\n    var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n    var separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\n    if (uri.match(re)) {\n        return uri.replace(re, '$1' + key + \"=\" + value + '$2');\n    }\n    else {\n        return uri + separator + key + \"=\" + value;\n    }\n}\nclearFiltersEvent = function(){\n    $('.clearFilterBtn').unbind().click(function(){\n        var val = $(this).closest('span').attr('val');\n        var key = $(this).closest('h5').attr('key');\n        var FILTERS = Session.get('globalFILTERS');\n        var filterDefaults = Session.get('projectData');\n        filterDefaults = filterDefaults.filter;\n\n        // console.log(FILTERS);\n        if(key == \"Home Type\"){\n            var array = FILTERS[\"homeType\"]\n            var index = array.indexOf(val);\n            if (index > -1) {\n                array.splice(index, 1);\n                FILTERS[\"homeType\"]=array;\n            }\n        }\n        else if(key == \"Facing\"){\n            var array = FILTERS[\"facing\"]\n            var index = array.indexOf(val);\n            if (index > -1) {\n                array.splice(index, 1);\n                FILTERS[\"facing\"]=array;\n            }\n        }else if(key == \"Price Range\"){\n            //if(FILTERS[\"priceRange\"][0]==val ){\n            //  FILTERS[\"priceRange\"][0] = filterDefaults.priceRange[0]\n            //}else{\n            //  FILTERS[\"priceRange\"][1] = filterDefaults.priceRange[1]\n            //}\n            FILTERS[\"priceRange\"][0] = filterDefaults.priceRange[0]\n            FILTERS[\"priceRange\"][1] = filterDefaults.priceRange[1]\n\n\n        }else if(key == \"Floor\"){\n            if(FILTERS[\"floor\"][0]==val ){\n                FILTERS[\"floor\"][0] = filterDefaults.floor[0]\n            }else{\n                FILTERS[\"floor\"][1] = filterDefaults.floor[1]\n            }\n        }\n\n        //Session.set('globalFILTERS', FILTERS);\n        setFilters(FILTERS);\n    })\n}\napplyClearFiltersEvent = function(){\n    setTimeout(clearFiltersEvent, 1000);\n    setTimeout(clearFiltersEvent, 3000);\n\n}\nfunction applyFilters(){\n    console.log('event applyFilters jquery')\n    var floorLevelDOM = document.getElementById('range-input');\n    var priceRangeDOM = document.getElementById('range-input1');\n    var tmp = $('.filterUnitType').val();\n    if(tmp == 'any')tmp = [];\n    else tmp = [tmp]\n    globalFILTERS.homeType = tmp;\n    var tmp = $('.filterUnitFacing').val();\n    if(tmp == 'any')tmp = [];\n    else tmp = [tmp]\n    globalFILTERS.facing = tmp;\n    globalFILTERS.floor = floorLevelDOM.noUiSlider.get();\n    globalFILTERS.priceRange = priceRangeDOM.noUiSlider.get();\n    // console.log(globalFILTERS);\n    setFilters(globalFILTERS);\n    $.fancybox.close();\n    applyClearFiltersEvent();\n}\nfunction applyFilterValues(){\n    // console.log('event applyFiltersValues jquery')\n    var floorLevelDOM = document.getElementById('range-input');\n    var priceRangeDOM = document.getElementById('range-input1');\n    var floor = floorLevelDOM.noUiSlider.get();\n    var priceRange = priceRangeDOM.noUiSlider.get();\n    $('.filterS1l').html(floor[0])\n    $('.filterS1h').html(floor[1])\n    $('.filterS2l').html(numDifferentiation(priceRange[0] ))\n    $('.filterS2h').html(numDifferentiation(priceRange[1] ))\n\n}\nfunction delayedCall(functionName){\n    setTimeout(functionName,3000);\n}\nfunction isArraysEqual(array1,array2){\n    var is_same = (array1.length == array2.length) && array1.every(function(element, index) {\n            return element === array2[index];\n        });\n    return is_same;\n}\ncallDelayedFunctions = function(){\n    setTimeout(delayedFunctions, 2000);\n}\nfunction delayedFunctions(){\n    Session.set('enableDelayedFunctions',true)\n    $('.fullyConfirmBlgOKBtn').unbind().click(function(){\n        console.log('fullyConfirmBlgOKBtn called');\n        Session.set('showConfirmFancyBox',false)\n        FlowRouter.query.clear();\n        $.fancybox.close();\n        $('.fancybox-overlay').hide();\n\n\n        setTimeout(function(){\n            var unitid = Session.get('adjustAutoExpandToUnitID');\n            if(unitid){\n                scrollTo('.has-error',0,500)\n                setTimeout(function(){$('html,body').animate({scrollTop: $('#unit_'+unitid).offset().top }, 1000)}, 1000)\n                Session.set('adjustAutoExpandToUnitID','')\n            }\n        },2000)\n\n\n\n    })\n}\nfunction mybidsJqueryEvents(){\n    $('.payNowBtn').unbind().click(function(){\n        console.log(\"jquery event payNowBtn\")\n\n        var redirectURL = FlowRouter.current().originalUrl;\n        if(redirectURL.indexOf('http:') == -1) {\n            var redirectURL = Meteor.absoluteUrl() + FlowRouter.current().originalUrl.substring(1);\n        }\n        var bidId = $(this).attr('bidid');\n        Meteor.call(\"getUnitConfirmationPaymentURL\",[redirectURL,bidId], function(error, result){\n            if(error){\n                return;\n            }\n            window.location.href = result;\n        })\n    })\n    $('.withdrawConfirmBtn').unbind().click(function(){\n        console.log(\"jquery event withdrawBtn\")\n        var bidId = $(this).attr('bidid');\n        Meteor.call(\"withdrawBid\",[bidId], function(error, result){\n            if(error){\n                return;\n            }\n            $.fancybox.close();\n        })\n    })\n    $('.cancelBtn').unbind().click(function(){\n        console.log('event cancelBtn jquery')\n        $.fancybox.close();\n    })\n}\n\nfunction getPriceBreakUp(unit,ratePerSqFt){\n\n    var pricing = unit.priceBreakUp\n    var electricityMultiplier = pricing.statutoryGovtCharges.electricityMultiplier;\n    var constructionRateForVAT = pricing.statutoryGovtCharges.constructionRateForVAT;\n    if(!electricityMultiplier)electricityMultiplier = 140;\n    if(!constructionRateForVAT)constructionRateForVAT = 2100;\n    if(!pricing.landCost)pricing.landCost = 2091;\n\n    unit.superBuiltUpArea = parseFloat(unit.superBuiltUpArea)\n    ratePerSqFt = parseFloat(ratePerSqFt)\n    pricing.landCost = parseFloat(pricing.landCost)\n    electricityMultiplier = parseFloat(electricityMultiplier)\n    constructionRateForVAT = parseFloat(constructionRateForVAT)\n    pricing.basicUnitCost.floorRaiseCharge = parseFloat(pricing.basicUnitCost.floorRaiseCharge)\n    pricing.basicUnitCost.plcCharge = parseFloat(pricing.basicUnitCost.plcCharge)\n    pricing.basicUnitCost.floorRaiseCharge = parseFloat(pricing.basicUnitCost.floorRaiseCharge);\n    pricing.basicUnitCost.plcCharge = parseFloat(pricing.basicUnitCost.plcCharge);\n    pricing.basicUnitCost.totalBasicRatepsft = parseFloat(pricing.basicUnitCost.totalBasicRatepsft)\n    pricing.basicUnitCost.total = parseFloat(pricing.basicUnitCost.total)\n    pricing.agreementValue.infrastructureValue = parseFloat(pricing.agreementValue.infrastructureValue)\n    pricing.agreementValue.clubHouseCharges = parseFloat(pricing.agreementValue.clubHouseCharges)\n    pricing.agreementValue.total = parseFloat(pricing.agreementValue.total)\n    pricing.otherCharges.advanceMaintainence = parseFloat(pricing.otherCharges.advanceMaintainence)\n    pricing.otherCharges.generatorBackup = parseFloat(pricing.otherCharges.generatorBackup)\n    pricing.otherCharges.builderCharges = parseFloat(pricing.otherCharges.builderCharges)\n    pricing.otherCharges.total = parseFloat(pricing.otherCharges.total)\n    pricing.statutoryGovtCharges.serviceTax = parseFloat(pricing.statutoryGovtCharges.serviceTax)\n    pricing.statutoryGovtCharges.vat = parseFloat(pricing.statutoryGovtCharges.vat)\n    pricing.statutoryGovtCharges.labourCess = parseFloat(pricing.statutoryGovtCharges.labourCess)\n    pricing.statutoryGovtCharges.electricityCharges = parseFloat(pricing.statutoryGovtCharges.electricityCharges)\n    pricing.statutoryGovtCharges.stampDuty = parseFloat(pricing.statutoryGovtCharges.stampDuty)\n    pricing.statutoryGovtCharges.stampPaperCharges = parseFloat(pricing.statutoryGovtCharges.stampPaperCharges);\n    pricing.statutoryGovtCharges.legalCharges = parseFloat(pricing.statutoryGovtCharges.legalCharges);\n    pricing.statutoryGovtCharges.otherStatutoryCharges = parseFloat(pricing.statutoryGovtCharges.otherStatutoryCharges);\n    pricing.statutoryGovtCharges.total = parseFloat(pricing.statutoryGovtCharges.total);\n    pricing.totalAllInclusive = parseFloat(pricing.totalAllInclusive);\n\n    pricing.basicUnitCost.totalBasicRatepsft = ratePerSqFt + pricing.basicUnitCost.floorRaiseCharge + pricing.basicUnitCost.plcCharge;\n    pricing.basicUnitCost.total = unit.superBuiltUpArea * pricing.basicUnitCost.totalBasicRatepsft\n\n\n    pricing.agreementValue.total = pricing.basicUnitCost.total + pricing.agreementValue.infrastructureValue + pricing.agreementValue.clubHouseCharges\n\n    //pricing.statutoryGovtCharges.electricityCharges = unit.superBuiltUpArea * electricityMultiplier;\n\n    //pricing.statutoryGovtCharges.vat = ( (constructionRateForVAT+pricing.basicUnitCost.floorRaiseCharge +\n    //  pricing.basicUnitCost.plcCharge)     +    (pricing.agreementValue.infrastructureValue + pricing.statutoryGovtCharges.electricityCharges + pricing.agreementValue.clubHouseCharges)/unit.superBuiltUpArea)*unit.superBuiltUpArea * 0.145 ;\n    //debugger;\n    // pricing.statutoryGovtCharges.labourCess = (pricing.basicUnitCost.total - (unit.superBuiltUpArea * pricing.landCost))*0.01\n    // var D30 = unit.floorLevel\n    // var E30 = D30<=5 ? 0 : D30>5 && D30<=15 ? (D30-5)*0.005 : 0.05\n    // //pricing.statutoryGovtCharges.stampDuty =  ((ratePerSqFt*2130)+(ratePerSqFt*2130*(E30+0.0525)+250000))*0.0665\n    // //pricing.statutoryGovtCharges.stampPaperCharges =  pricing.agreementValue.total*0.001+300\n    // pricing.statutoryGovtCharges.total = pricing.statutoryGovtCharges.vat +\n    //   pricing.statutoryGovtCharges.labourCess +\n    //   pricing.statutoryGovtCharges.electricityCharges +\n    //   pricing.statutoryGovtCharges.stampDuty +\n    //   pricing.statutoryGovtCharges.stampPaperCharges +\n    //   pricing.statutoryGovtCharges.legalCharges +\n    //   pricing.statutoryGovtCharges.otherStatutoryCharges\n\n    pricing.totalAllInclusive = pricing.agreementValue.total +\n        pricing.otherCharges.total +\n        pricing.statutoryGovtCharges.total\n    return pricing;\n}\nfunction ordinal_suffix_of(i) {\n    var j = i % 10,\n        k = i % 100;\n    if (j == 1 && k != 11) {\n        return i + \"st\";\n    }\n    if (j == 2 && k != 12) {\n        return i + \"nd\";\n    }\n    if (j == 3 && k != 13) {\n        return i + \"rd\";\n    }\n    return i + \"th\";\n}\nfunction openPicker() {\n    fsClient.pick({\n        fromSources:[\"local_file_system\",\"webcam\",\"facebook\",\"url\",\"googledrive\",\"dropbox\",\"flickr\",\"instagram\",\"gmail\",\"picasa\",\"onedrive\",\"clouddrive\"],\n        maxFiles:10,\n        transformations:{\n            crop:{      force:false,\n                aspectRatio:1.333},\n            rotate:true},\n        imageMax:[800,600],\n        accept:[\"image/*\"],\n        \"uploadInBackground\": false//Disabled because, bg upload causes 2 uploads towards filestack limits\n    }).then(function(response) {\n        // declare this function to handle response\n        var addPropertyImages = Session.get('addPropertyImages');\n        var tmp = {};\n        if(response.filesUploaded)\n            for(var i =0;i<response.filesUploaded.length;i++){\n                tmp = {\n                    name: response.filesUploaded[i].filename,\n                    url: response.filesUploaded[i].url,\n                    handle: response.filesUploaded[i].handle,\n                    mimetype: response.filesUploaded[i].mimetype,\n                    originalFile: response.filesUploaded[i].originalFile,\n                    originalPath: response.filesUploaded[i].originalPath,\n                    size: response.filesUploaded[i].size,\n                    source: response.filesUploaded[i].source,\n                    status: response.filesUploaded[i].status,\n                    uploadId: response.filesUploaded[i].uploadId\n                }\n                addPropertyImages.push(tmp);\n            }\n        Session.set('addPropertyImages',addPropertyImages);\n\n        updateGalleriesInProfile(addPropertyImages, function (err, res) {//No need to show error. Because its just a backup.\n            var addPropertyImages = Session.get('addPropertyImages');\n            console.log(\"Current Count: \"+addPropertyImages.length )\n        });\n        console.log(response);\n    });\n}\nfunction getIndexByHandle(myArray, fileId){\n    for (var i=0; i < myArray.length; i++) {\n        if (myArray[i].handle === fileId) {\n            return i;\n        }\n    }\n}\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction slugifyEmailAddress (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '.')           // Replace spaces with \".\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}","import \"./profile.html\";\n// import \"./accounts/helpers.js\";\n// import \"./accounts/validation.js\";\nvar _validFileExtensions = [\".jpg\", \".jpeg\", \".png\", \".pdf\", \".txt\", \".doc\", \".docx\", \".ODT\"];\nfunction filevalidation(arrInputs){\n    for (var i = 0; i < arrInputs.length; i++) {\n        var oInput = arrInputs[i];\n        var sFileName = oInput.name;\n        if (sFileName.length > 0) {\n            var blnValid = false;\n            for (var j = 0; j < _validFileExtensions.length; j++) {\n                var sCurExtension = _validFileExtensions[j];\n                if (sFileName.substr(sFileName.length - sCurExtension.length, sCurExtension.length).toLowerCase() == sCurExtension.toLowerCase()) {\n                    blnValid = true;\n                    break;\n                }\n            }\n\n            if (!blnValid) {\n                // alert(\"Sorry, \" + sFileName + \" is invalid, allowed extensions are: \" + _validFileExtensions.join(\", \"));\n                return false;\n            }\n        }\n\n    }\n\n    return true;\n}\n\nTemplate.profile.onCreated(function(){\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        instance.subscribe('userData');\n\n        if(instance.subscriptionsReady()){\n            var data =  Accounts.user();\n            try{\n                if(data.profile.isPublic && data.profile.username){\n                    console.log('')\n                    // FlowRouter.redirect('tenant',{username:data.profile.username})\n                }\n            }catch(e){\n                console.log(e);\n            }\n            instance.isSubsLoaded.set(true)\n        }\n    })\n})\nTemplate.profile.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    }\n})\nTemplate.userProfile.onCreated(function(){\n    this.privacyTermsMore = new ReactiveVar( false );\n    this.hasPasswordSet = new ReactiveVar( false );\n    this.hasPasswordSetReqCompleted = new ReactiveVar( false );\n})\nTemplate.userProfile.helpers({\n    \"data\": function(){\n    var data =  Accounts.user();\n    // console.log(data);\n    var city = '';\n    // profile.files.has\n    // if(data)\n    // if(data.profile)\n    // if(data.profile.addressBook)\n    // if(data.profile.addressBook.length){\n    //   city = data.profile.addressBook[0].city\n    // }\n      clearMeta();\n        try {\n            DocHead.setTitle(titleCase(data.profile.name) + '\\'s profile | SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"Upload and manage your references.\"});\n        }catch(err){\n            DocHead.setTitle(' User not found | SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"\"});\n        }\n    return {\n      \"userData\": data,\n      \"userCity\":city,\n      \"userEmail\":data.profile.email,\n      \"userEmailVerified\":data.profile.emailVerified\n    };\n  },\n    backBtnNeeded:function () {\n        var prevRoute = Session.get('prevRoute');\n        try{if( FlowRouter.current().route.name != prevRoute.name )return true;}catch(e){}\n        return false;\n    },\n    prevRoute:function () {\n        return Session.get('prevRoute');\n    },\n    isPublicProfileSelectYes: function(){\n        var user = Meteor.user();\n        try{\n            if(user.profile.isPublic){\n                return 'selected';\n            }\n        }catch(e){}\n        return '';\n    },\n    isPublicProfileSelectNo: function() {\n        var user = Meteor.user();\n        try {\n            if (!user.profile.isPublic) {\n                return 'selected';\n            }\n        } catch (e) {\n        }\n        return '';\n    },\n    progress:function () {\n      var user = Meteor.user();\n      var score = 0;\n      var css = 'progress-bar-danger';\n      var issues = [];\nif(user.profile.mobile){score += 15;}else{issues.push('Mobile number is required. Landlord needs to contact you.')}\nif(!user.services)user.services={}\nif(user.services.facebook){score += 15;}else{issues.push('Connect with your Facebook profile. Its shows your social presence.')}\n// if(user.services.google){score += 10;}else{issues.push('Connect with your google profile. Its shows your social presence.')}//No weightage\nif(user.services.twitter){score += 10;}else{issues.push('Connect with your Twitter profile. Its shows your social presence.')}\nif(user.services.linkedin){score += 15;}else{issues.push('Connect with your LinkedIn profile. Its shows your professional presence.')}\nif(user.profile.references.hasPassport){score += 10;}else{issues.push('Passport is required. Its your legal identity card.')}\nif(user.profile.references.employerName){score += 3;}else{issues.push('Name of your employer is recommended. It can highlight your profile to landlord.')}\nif(user.profile.references.employerTakeHome){score += 2;}else{issues.push('Monthly take home salary is recommended. It can act as your finantial reference.')}\nif(user.profile.references.hasWorkRef){score += 10;}else{issues.push('Work reference is required. It shows your professional side.')}\nif(user.profile.references.hasLandlordRef){score += 10;}else{issues.push('Landlord reference is required. ')}\nif(user.profile.references.hasPPS){score += 3;}else{issues.push('PPS is recommended. Its your legal identity card.')}\n// if(user.profile.references.hasFinancialRef){score += 0;}else{issues.push('Financial reference if work reference is not given.')}\nif(user.profile.references.hasGovtID){score += 4;}else{issues.push('Govt ID is recommended. Driving license or GNIB as your identity card.')}\nif(user.profile.references.hasResume){score += 3;}else{issues.push('Resume is recommended. It shows your professional side.')}\n\n        if(score>100)score = 100;\n        if(score>50)css = 'progress-bar-warning';\n        if(score>70)css = 'progress-bar-info';\n        if(score>90)css = 'progress-bar-success';\n\n\n        return {\n            css:css,\n            percent:score+\"%\",\n            issues:issues\n        }\n    },\n    privacyTermsMore: function(){\n        return Template.instance().privacyTermsMore.get() ;\n    },\n    showFileTemplate:function () {\n        return Session.get('showFileTemplate');\n    },\n    showHideFileDlg: function () {\n        console.log(\"Event showHideFileDlg\");\n        var ses = Session.get('showFileDlg');\n\n        if(ses) {\n            if (ses.show) {\n                $.fancybox({\n                    'padding': 0,\n                    'href': '#fileupload-dlg',\n                    width: '80%',\n                    afterShow: function () {\n                        Session.set('showFileTemplate', true);\n                    },\n                    afterClose: function () {\n                        var ses = {show: false, cate: \"\"}\n                        Session.set('showFileDlg', ses);// Has the overall info and basic required info.\n                        Session.set('showFileTemplate', false);\n                    }\n                });\n                return true;\n            } else if (ses.show==false){\n                try {\n                    $.fancybox.close();\n                } catch (e) {\n                }\n            }\n        }\n        return false;\n    },\n    hasPasswordSet:function(){\n        var localHasPasswordSet = Session.get('localHasPasswordSet');\n        if(localHasPasswordSet)return localHasPasswordSet;\n        return Template.instance().hasPasswordSet.get();\n    },\n    hasPasswordSetReqCompleted:function(){\n        return Template.instance().hasPasswordSetReqCompleted.get();\n    }\n})\nTemplate.userProfile.events({\n    \"change .togglePublicProfileSetting\":function(event,template){\n        Meteor.call('togglePublicProfileSetting',function(err, res) {\n            if (err) {\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                var msg = 'Public profile setting change failed. Check your internet connection. ';\n                if(err.error)msg += err.error+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\",tmp)\n            } else {\n                setTimeout(function(){\n                    var data =  Accounts.user();\n                    try{\n                        if(data.profile.isPublic && data.profile.username){\n                            FlowRouter.go('tenant',{username:data.profile.username})\n                        }else{\n                            FlowRouter.go('account/profile')\n                        }\n                    }catch(e){\n                        console.log(e);\n                    }\n                },1000)\n            }\n\n        });\n    },\n    \"click .profileLinkCopyBtn\":function(event, template){\n        console.log(\"Event profileLinkCopyBtn\");\n        $('#profileLinkField').select();\n\n        try {\n            var successful = document.execCommand('copy');\n            var msg = successful ? 'successful' : 'unsuccessful';\n            // console.log('Copying text command was ' + msg);\n\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            var msg = 'Your profile is copied to your clipboard. ';\n            tmp.push(msg);\n            Session.set(\"showErrorDlg\",tmp)\n        } catch (err) {\n            console.log('Oops, unable to copy');\n        }\n    },\n    \"click .requestRedgRefund\":function(event, template){\n        console.log(\"Event requestRedgRefund\");\n        $.fancybox({\n            'padding': 0,\n            'href': '#requestRedgRefund-popup'\n        });\n    },\n    \"click .requestConfRefund\":function(event, template){\n        console.log(\"Event requestConfRefund\");\n        $.fancybox({\n            'padding': 0,\n            'href': '#requestConfRefund-popup'\n        });\n    },\n    \"click .changePwdBtn\":function(event, template){\n        console.log(\"Event changePwdBtn\");\n        $('#changepass-dlg .changePwdAlertMsgs .color-text').html('');\n        $('#changepass-dlg .help-block p').html('');\n\n\n        $(\"#changepass-dlg button[type=submit]\").attr(\"disabled\",false);\n        $.fancybox({\n            'padding'   : 0,\n            'href'      : '#changepass-dlg',\n            'afterClose': () => {\n                console.log(\"Event: Fancybox closed\");\n\n                //reset fields\n                $('.oldpwd').val(\"\");\n                $('.newpwd').val(\"\");\n            }\n        });\n    },\n    \"click .setPwdBtn\":function(event, template){\n        console.log(\"Event setPwdBtn\");\n        $('#setpass-dlg .changePwdAlertMsgs .color-text').html('');\n        $('#setpass-dlg .help-block p').html('');\n\n\n        $(\"#setpass-dlg button[type=submit]\").attr(\"disabled\",false);\n        $.fancybox({\n            'padding'   : 0,\n            'href'      : '#setpass-dlg',\n            'afterClose': () => {\n                console.log(\"Event: Fancybox closed\");\n\n                //reset fields\n                $('.newpwd').val(\"\");\n                $('.newpwdconfirm').val(\"\");\n            }\n        });\n    },\n    \"click .changeMobileBtn\":function(event, template){\n        console.log(\"Event changeMobileBtn\");\n\n        $.fancybox({\n            'padding': 0,\n            'href': '#changeMobile-div'\n        });\n    },\n    \"click .changeCityBtn\":function(event, template){\n        console.log(\"Event changeCityBtn\");\n        $.fancybox({\n            'padding': 0,\n            'href': '#changeCity-div'\n        });\n    },\n    \"click .changeEmployerNameConfirmation\":function(event, template){\n        console.log(\"Event changeEmployerNameConfirmation\");\n\n        var ele = $(event.target);\n        hideSaveBtn(ele)\n        Meteor.call('updateEmployerName',$('.changeEmployerNameValue').val(),function(error, result){\n\n            if(error){\n                console.log(error.error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                if(!error.error)error.error = 'An error occurred';\n                tmp.push(error.error);\n                Session.set(\"showErrorDlg\",tmp)\n                showSaveBtn(ele)\n                return;\n            }\n            if(result.status=='Success'){\n\n            }\n        });\n    },\n    \"click .changeEmployerTakeHomeConfirmation\":function(event, template){\n        console.log(\"Event changeEmployerTakeHomeConfirmation\");\n        debugger\n        var ele = $(event.target);\n        hideSaveBtn(ele)\n        var num = parseInt($('.changeEmployerTakeHomeValue').val());\n        Meteor.call('updateEmployerTakeHome',num,function(error, result){\n\n            if(error){\n                console.log(error.error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                if(!error.error)error.error = 'An error occurred';\n                tmp.push(error.error);\n                Session.set(\"showErrorDlg\",tmp)\n                showSaveBtn(ele)\n                return;\n            }\n            if(result.status=='Success'){\n\n            }\n        });\n    },\n    \"click .privacyTermsMore_btn\": function (event, template) {\n        if(template.privacyTermsMore.get() )template.privacyTermsMore.set(false);\n        else template.privacyTermsMore.set(true);\n    },\n    //////// TODO: Events below are not working.\n\n    \"click .requestRedgRefundConf\":function(event, template){\n        console.log(\"Event requestRedgRefundConf\");\n        var ret = Meteor.call('registrationAmountRefund',[],function(ret){\n            if(ret.status=='AlreadyRequested'){\n\n            }\n            $.fancybox.close();\n        });\n\n\n    },\n    \"click .requestConfRefundConf\":function(event, template){\n        console.log(\"Event requestConfRefundConf\");\n        var ret = Meteor.call('confirmationAmountRefund',[],function(ret){\n            if(ret.status=='AlreadyRequested'){\n\n            }\n            $.fancybox.close();\n        });\n\n    },\n    \"click .noBtn\":function(event, template){\n        console.log(\"Event noBtn\");\n        $.fancybox.close();\n\n    },\n    \"click .backBtn\": function(event, template){\n        var prevRoute = Session.get('prevRoute');\n        // Session.set('prevRoute',{\n        //   name:\"letting\",\n        //     args:{key:\"DUN1\"}\n        // });\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            var prevRoute = {name: FlowRouter.current().route.name,args:{} }\n            Session.set('prevRoute',prevRoute);\n        }else{\n            FlowRouter.go(\"home\");\n        }\n\n    },\n    \"click .linkWithGoogleBtn\": function(event, template){\n        Meteor.linkWithGoogle({}, function(err){\n            if (err) {\n                console.log(err)\n\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                var msg = 'Link with Google failed. ';\n                if(err.error)msg += err.error+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\",tmp)\n\n                throw new Meteor.Error(\"Google login failed\");\n            }else{\n\n            }\n        });\n    },\n    \"click .linkWithTwitterBtn\": function(event, template){\n        Meteor.linkWithTwitter({}, function(err){\n            if (err) {\n                console.log(err)\n\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                var msg = 'Link with Twitter failed. ';\n                if(err.error)msg += err.error+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\",tmp)\n\n                throw new Meteor.Error(\"Twitter login failed\");\n            }else{\n\n            }\n        });\n    },\n    \"click .linkWithFacebookBtn\": function(event, template){\n        Meteor.linkWithFacebook({}, function(err){\n            if (err) {\n                console.log(err)\n\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                var msg = 'Link with Facebook failed. ';\n                if(err.error)msg += err.error+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\",tmp)\n\n                throw new Meteor.Error(\"Facebook login failed\");\n            }else{\n\n            }\n        });\n    },\n    \"click .linkWithLinkedInBtn\": function(event, template){\n        Meteor.connectWithLinkedIn({}, function(err){\n            if (err) {\n                console.log(arguments)\n\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                var msg = 'Link with LinkedIn failed. ';\n                if(err.error)msg += err.error+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                tmp.push(msg);\n                Session.set(\"showErrorDlg\",tmp)\n\n                throw new Meteor.Error(\"LinkedIn login failed\");\n            }else{\n\n            }\n        });\n    }\n})\nTemplate.userProfile.onRendered(function(){\n\n    var templateInstance = Template.instance();\n    Meteor.call('hasPasswordSet',function (err,result) {\n        if(!err){\n            templateInstance.hasPasswordSet.set(result);\n            templateInstance.hasPasswordSetReqCompleted.set(true);\n        }\n    })\n\n    //////// TODO: Remove below JQuery events after making meteor events working.\n    $('.noBtn, .cancel, .close').click(function(){\n        console.log(\"Event noBtn jquery\");\n        $.fancybox.close();\n    })\n    $('.requestRedgRefundConf').click(function(){\n        console.log(\"Event requestRedgRefundConf jquery\");\n        var ret = Meteor.call('registrationAmountRefund',[],function(error, result){\n            if(error){\n                console.log(error.error);\n                return;\n            }\n            if(result.status=='AlreadyRequested'){\n\n            }\n            $.fancybox.close();\n        });\n\n    })\n    $('.requestConfRefundConf').click(function(){\n        console.log(\"Event requestConfRefundConf jquery\");\n        var ele = this;\n        hideSaveBtn(ele)\n        var ret = Meteor.call('confirmationAmountRefund',[],function(error, result){\n            if(error){\n                console.log(error.error);\n                showSaveBtn(ele)\n                return;\n            }\n        });\n\n    })\n    $('.changeMobileConfirmation').click(function(){\n        console.log(\"Event changeMobileConfirmation jquery\");\n        var ele = this;\n        hideSaveBtn(ele)\n        var mobile = $('.changeMobileValue').val();\n        validatedMobile = LoginFormValidation.mobile(mobile);\n        if (validatedMobile !== true) {\n            $('.mobileValidationErrors').show().html(validatedMobile.reason) ;showSaveBtn(ele);return;\n        }\n        Meteor.call('updateMobile',mobile,function(error, result){\n            if(error){\n                console.log(error.error);\n                showSaveBtn(ele)\n                return;\n            }\n            $('.mobileValidationErrors').hide();\n            // Session.set('showMobileVerification',true)\n        });\n\n    })\n    $('.changeEmployerNameConfirmation').click(function(){\n        // console.log(\"Event changeEmployerNameConfirmation jquery\");\n        // var ele = this;\n        // hideSaveBtn(ele)\n        // Meteor.call('updateEmployerName',[$('.changeEmployerNameValue').val()],function(error, result){\n        //\n        //   if(error){\n        //     console.log(error.error);\n        //     showSaveBtn(ele)\n        //     return;\n        //   }\n        //   if(result.status=='Success'){\n        //\n        //   }\n        // });\n    })\n\n\n\n\n    $('.mobileValidationErrors').hide();\n    $('.eyebtn').click(function () {\n        if ($(\".show-pwd\").hasClass(\"shown\"))\n        {\n            $(\".show-pwd\").attr(\"type\", \"password\");\n            $(\".show-pwd\").removeClass(\"shown\");\n\n        } else\n        {\n            $(\".show-pwd\").attr(\"type\", \"text\");\n            $(\".show-pwd\").addClass(\"shown\");\n        }\n\n\n    });\n\n    $(document).ready(function(){\n\n        //$('.change-click').click(function(){\n        //\n        //  });\n\n        $('.cancel-clk').click(function(){\n            hideSaveBtn(this);\n            $('.mobileValidationErrors').hide();\n        });\n        $('.change-click').click(function(){\n            showSaveBtn(this)\n        });\n        //$('.request-clk').click(function(){\n        //  $('.hideen-div').fadeOut();\n        //});\n        $('.sendEmailVerification').click(function(){\n            console.log('event sendEmailVerification');\n            $('.sendEmailVerification').text('Verification mail sent')\n            setTimeout(function(){\n                $('.sendEmailVerification').text('Send verification link')\n            },10000)\n        });\n\n    });\n\n\n})\n\nTemplate.fileUploadDlgTemplate.onCreated(function(){\n    this.sesCate = new ReactiveVar( false );\n    this.p1 = new ReactiveVar( false );\n    this.p2 = new ReactiveVar( false );\n    var ses = Session.get('showFileDlg');\n    if(ses){\n        this.sesCate.set(ses.cate);\n        if(ses.cate){\n            var p1='';\n            var p2='';\n            switch (ses.cate){\n                case \"Resume\": p1 = \"hasResume\"; p2 = \"resume\"; break;\n                case \"Work Reference\": p1 = \"hasWorkRef\"; p2 = \"workRef\"; break;\n                case \"Landlord Reference\": p1 = \"hasLandlordRef\"; p2 = \"landlordRef\"; break;\n                case \"Financial Reference\": p1 = \"hasFinancialRef\"; p2 = \"financialRef\"; break;\n                case \"Government ID\": p1 = \"hasGovtID\"; p2 = \"govtID\"; break;\n                case \"Passport\": p1 = \"hasPassport\"; p2 = \"passport\"; break;\n                case \"PPS\": p1 = \"hasPPS\"; p2 = \"PPS\"; break;\n            }\n\n            // p1 = \"profile.references.\"+p1\n            // p2 = \"profile.references.\" + p2\n            this.p1.set(p1);\n            this.p2.set(p2);\n        }\n    }\n\n    this.step = new ReactiveVar( 1 );\n    this.sFileName = new ReactiveVar( false );\n\n    this.uploading = new ReactiveVar( false );\n    this.fileObj = new ReactiveVar( {} );\n    this.fileObjPrevious = new ReactiveVar( false );\n})\nTemplate.fileUploadDlgTemplate.helpers({\n    dlgTitle: function () {\n        var title = '';\n        var p1 = Template.instance().p1.get();\n        var p2 = Template.instance().p2.get();\n        var uploading = Template.instance().uploading.get();\n        var user = Meteor.user();\n        if(user.profile.references[p1]) var existingFile = true;\n\n\n        if(existingFile){\n            title =  'Update ';\n            if(!Template.instance().fileObjPrevious.get()) // only if its not yet set . Else other function will set it.\n                Template.instance().fileObjPrevious.set(user.profile.references[p2]);\n            console.log('fileObjPrevious')\n            console.log(Template.instance().fileObjPrevious.get())\n        }\n        else if(uploading)title =  'Uploading ';\n        else title = 'Upload ';\n\n        var sesCate = Template.instance().sesCate.get();\n        if(sesCate)title += sesCate;\n        else title+='References';\n\n        return title;\n    },\n    existingFile:function () {\n        var p2 = Template.instance().p2.get();\n        var user = Meteor.user();\n        if(user.profile.references[p2]) return user.profile.references[p2];\n\n        return false;\n    },\n    isStep: function (step) {\n      if(step == Template.instance().step.get() )return true;\n      else return false;\n    },\n    isNotStep: function (step) {\n      if(step != Template.instance().step.get() )return true;\n      else return false;\n    },\n    uploading: function(){\n        return Template.instance().uploading.get() ;\n    },\n    validFileExtensions: function(){\n        return _validFileExtensions;\n    }\n})\n\nTemplate.fileUploadDlgTemplate.events({\n    'click .showCamera':function (event, template) {\n        event.preventDefault();\n\n        template.$('#cropImage').cropper(\"destroy\");\n        template.$('#cropImage').attr(\"src\",'').hide();\n        template.$('#finalImage').attr(\"src\",'').hide();\n        $('.step2, #uploadImagePreviewArea').show();\n        $('.step3').hide();\n\n\n        var cameraOptions = {\n            width: 800,\n            height: 600\n        };\n        MeteorCamera.getPicture(cameraOptions, function (error, data) {\n            if (!error) {\n                template.$('#cropImage').attr('src', data);\n                template.step.set(2)\n                $('.step2').show();\n                $('.step3').hide();\n\n                template.sFileName.set('cameraPhoto.jpg');\n                //Now start the crop\n                if (data) {\n                    $('.step1').hide();\n                    template.$(\"#cropImage\").cropper({\n                        aspectRatio: 4 / 3\n                    });\n                }\n\n            }\n        });\n    },\n    'click .getCroppedImage':function (event, template) {\n\n        template.step.set(3)\n        $('.step2').hide();\n        $('.step3').show();\n        //Ratio 4:3 => 700 * 525\n        var finalImgData = template.$('#cropImage').cropper(\"getCroppedCanvas\", { width: 700, height: 525 }).toDataURL();\n        template.$('#finalImage').attr('src', finalImgData).show();\n\n        var head = 'data:image/png;base64,';\n        var imgFileSize = Math.round((finalImgData.length - head.length)*3/4) ;\n        var sizeKB = imgFileSize/1000;\n        var sizeMB = imgFileSize/1000000;\n        console.log(\"imgFileSize\", imgFileSize, \"size\", sizeMB, \"MB\", \"-----\", sizeKB, \"KB\");\n\n        var mimeType = 'image/jpeg';\n        var imgQuality = 1;\n        if(sizeKB>200)var imgQuality = 0.9;\n        if(sizeKB>300)var imgQuality = 0.8;\n        if(sizeKB>400)var imgQuality = 0.7;\n\n        const cate = template.sesCate.get();\n        var sFileName = template.sFileName.get(); if(!sFileName)sFileName = 'cameraPhoto.jpg';\n        // const inst = Template.instance();\n        var finalImgData = template.$('#cropImage').cropper(\"getCroppedCanvas\", { width: 700, height: 525 }).toBlob(function(blob){\n            template.uploading.set(true);\n            template.fileObj.set({});//Reset old status as this might be 2nd upload.\n\n            var ret = S3.upload({\n                file:new File([blob], sFileName),\n                path:\"profileFiles\"\n            },function(e,r){\n\n                if(e){\n                    $('.step1').show();\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n                    try{if(e.error)tmp.push(e.error);}catch (cat){}\n                    Session.set(\"showErrorDlg\",tmp)\n                    throw new Meteor.Error('Upload failed ', e);\n                    template.uploading.set(false);\n                    return;\n                }\n                console.log(r);\n\n                template.fileObj.set(r);\n\n                var tmp = {\n                    name: r.file.original_name,\n                    relative_url: r.relative_url,\n                    url: r.secure_url\n                }\n\n                console.log(tmp);\n                var fileObjPrevious = template.fileObjPrevious.get()//move here due to bug\n                Meteor.call('updateReferenceFile', [cate, tmp], (err, res) => {\n                    template.uploading.set(false);//Make it false even if it failed. Users should know that its not uploading anymore.\n                    $('.step2').hide();\n                    $('.step1').show();\n                    $('.step3').show();//Because its an image from cropped area\n                    if (err) {\n                        console.log(err);\n\n                        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                        tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n                        try{if(err.error)tmp.push(err.error);}catch (cat){}\n                        Session.set(\"showErrorDlg\",tmp)\n\n                        //If updating in DB failed. Then delete in Amazon as well.\n                        var fileObj = template.fileObj.get();\n                        S3.delete(fileObj.relative_url,function(error, result){})\n                    } else {//If upload is success, then delete the old file and re-set it.\n                        // debugger;\n                        // var fileObjPrevious = template.fileObjPrevious.get()//Don' get it here, as parallely another code is changing this val->lead to bug\n                        if(fileObjPrevious){//only if it exists.\n                            S3.delete(fileObjPrevious.relative_url,function(error, result){})\n                            template.fileObjPrevious.set(template.fileObj.get() );\n                        }\n                    }\n                });\n\n\n            });\n\n\n\n        },mimeType, imgQuality);\n\n    },\n    'click .zoomInBtn':function (event, template) {\n        template.$('#cropImage').cropper(\"zoom\", 0.1);\n    },\n    'click .zoomOutBtn':function (event, template) {\n        template.$('#cropImage').cropper(\"zoom\", -0.1);\n    },\n    'click .rotateLeftBtn':function (event, template) {\n        template.$('#cropImage').cropper(\"rotate\", -90);\n    },\n    'click .rotateRightBtn':function (event, template) {\n        template.$('#cropImage').cropper(\"rotate\", 90);\n    },\n    'click .resetBtn':function (event, template) {\n        template.$('#cropImage').cropper(\"reset\");\n    },\n    'click .goToStep1':function (event, template) {\n        $('.step1').show();\n        template.$('#cropImage').cropper(\"destroy\");\n        template.$('#cropImage').attr(\"src\",'').hide();\n        template.$('#finalImage').attr(\"src\",'').hide();\n        $('.step2').hide();\n        $('.step3').hide();\n    },\n    'click .closeDlg':function (event, template) {\n        var ses = {show: false, cate: \"\"}\n        Session.set('showFileDlg', ses);// Has the overall info and basic required info.\n        Session.set('showFileTemplate', false);\n    },\n    'change .uploadBtn': function(event, template) {\n        var files = event.target.files;\n        if(!files)return;\n        if(files.length == 0)return;\n\n        Template.instance().step.set(2)\n        $('.step2, #uploadImagePreviewArea').show();\n        template.$('#cropImage').cropper(\"destroy\");\n        template.$('#cropImage').attr(\"src\",'').hide();\n        template.$('#finalImage').attr(\"src\",'').hide();\n        $('.step3').hide();\n\n        if (!filevalidation(files)) {\n            var tmp = Session.get(\"showErrorDlg\");\n            if (!tmp) tmp = [];\n            var msg = 'Upload rejected. Please upload only document or image files. Allowed extensions are ' + _validFileExtensions.join(', ') + '.';\n            tmp.push(msg);\n            Session.set(\"showErrorDlg\", tmp)\n\n            throw new Meteor.Error(\"Upload rejected. \");\n            return;\n        }\n\n        const cate = template.sesCate.get();\n        Template.instance().uploading.set(true);\n        // const inst = Template.instance();\n        template.fileObj.set({});//Reset old status as this might be 2nd upload.\n\n\n        if (files.length == 1) {\n            var target = event.target;\n            var sFileName = files[0].name;\n            template.sFileName.set(sFileName);\n            // $(\"#uploadImagePreviewArea\").html(\"\");\n            var regex = /^([a-zA-Z0-9\\s_\\\\.\\-:])+(.jpg|.jpeg|.gif|.png|.bmp)$/;\n            if (regex.test($(target).val().toLowerCase())) {\n                if (isIE() && isIE() <= 9) {\n                    $(\"#uploadImagePreviewArea\").show();\n                    $(\"#uploadImagePreviewArea\")[0].filters.item(\"DXImageTransform.Microsoft.AlphaImageLoader\").src = $(target).val();\n                }\n                else {\n                    if (typeof (FileReader) != \"undefined\") {\n                        template.uploading.set(false);\n                        $(\"#uploadImagePreviewArea, #cropImage\").show();\n                        // $(\"#uploadImagePreviewArea\").append('<img class=\"img-responsive\" id=\"cropImage\"/>');\n                        var reader = new FileReader();\n                        reader.onload = function (e) {\n                            $(\"#cropImage\").attr(\"src\", e.target.result);\n\n                            //File name is set few lines above this\n                            //Now start the crop\n                            var imgData = $(\"#cropImage\").attr('src');\n                            if (imgData) {\n                                $('.step1').hide();\n                                template.$(\"#cropImage\").cropper({\n                                    aspectRatio: 4 / 3\n                                });\n                            }\n\n\n                        }\n                        reader.readAsDataURL($(target)[0].files[0]);\n                        return;//If previewer is available then let the cropper handle the upload.\n                    } else {\n                        console.log(\"This browser does not support FileReader.\");\n                    }\n                }\n            } else {\n                console.log(\"File upload: Not an image file to show preview.\");\n            }\n        }\n\n        // console.log('Not an image, so proceeding with traditional upload')\n\n        var ret = S3.upload({\n            files:files,\n            path:\"profileFiles\"\n        },function(e,r){\n            if(e){\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n                try{if(e.error)tmp.push(e.error);}catch (cat){}\n                Session.set(\"showErrorDlg\",tmp)\n                throw new Meteor.Error('Upload failed ', e);\n                template.uploading.set(false);\n                return;\n            }\n            console.log(r);\n\n            template.fileObj.set(r);\n\n            var tmp = {\n                name: r.file.original_name,\n                relative_url: r.relative_url,\n                url: r.secure_url\n            }\n\n            console.log(tmp);\n            var fileObjPrevious = template.fileObjPrevious.get()//move here due to bug\n            Meteor.call('updateReferenceFile', [cate, tmp], (err, res) => {\n                template.uploading.set(false);//Make it false even if it failed. Users should know that its not uploading anymore.\n                $('.step2').hide();\n                $('.step3').hide();//Because its not an image.\n                if (err) {\n                    console.log(err);\n\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n                    try{if(err.error)tmp.push(err.error);}catch (cat){}\n                    Session.set(\"showErrorDlg\",tmp)\n\n                    //If updating in DB failed. Then delete in Amazon as well.\n                    var fileObj = template.fileObj.get();\n                    S3.delete(fileObj.relative_url,function(error, result){})\n                } else {//If upload is success, then delete the old file and re-set it.\n                    // debugger;\n                    // var fileObjPrevious = template.fileObjPrevious.get()//Don' get it here, as parallely another code is changing this val->lead to bug\n                    if(fileObjPrevious){//only if it exists.\n                        S3.delete(fileObjPrevious.relative_url,function(error, result){})\n                        template.fileObjPrevious.set(template.fileObj.get() );\n                    }\n                }\n\n            });\n\n\n        });\n        // for (var i = 0, ln = files.length; i < ln; i++) {\n        //     propertyImagesCollection.insert(files[i], function (err, fileObj) {\n        //         // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n        //         console.log(fileObj);\n        //         var cursor = propertyImagesCollection.find(fileObj._id);\n        //\n        //         var liveQuery = cursor.observe({\n        //             changed: function(newImage, oldImage) {\n        //\n        //                 console.log(\"Inside live query \");\n        //                 console.log(newImage);\n        //                 if (newImage.isUploaded()) {\n        //                     liveQuery.stop();\n        //\n        //                     // Call your onUploaded callback here...\n        //                 }\n        //             }\n        //         });\n        //     });\n        // }\n    },\n})\nTemplate.fileUploadDlgTemplate.onRendered(function(){\n    $(\"#uploadImagePreviewArea, #cropImage, #finalImage\").hide();\n    $('#cropImage, #finalImage').attr('src','');\n})\nTemplate.fileUploadArea.onCreated(function(){\n    this.uploading = new ReactiveVar( false );\n    // this.fileObj = new ReactiveVar( {} );\n})\nTemplate.fileUploadArea.helpers({\n    uploading: function(isMyBidsPage){\n        return Template.instance().uploading.get() ;\n    },\n    validFileExtensions: function(){\n        return _validFileExtensions;\n    }\n})\nTemplate.fileUploadArea.events({\n    'click .showUploadDlg': function(event, template) {\n        var ses = {show:true,cate:this.title}\n        Session.set('showFileDlg',ses);\n        return false;\n    },\n    // 'change .uploadBtn': function(event, template) {\n    //     var files = event.target.files;\n    //\n    //     if(!filevalidation(files)){\n    //         var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n    //         var msg = 'Upload rejected. Please upload only document or image files. Allowed extensions are '+_validFileExtensions.join(', ')+'.';\n    //         tmp.push(msg);\n    //         Session.set(\"showErrorDlg\",tmp)\n    //\n    //         throw new Meteor.Error(\"Upload rejected. \");\n    //         return;\n    //     }\n    //\n    //     const cate = event.target.getAttribute('cate');\n    //     Template.instance().uploading.set(true);\n    //     const inst = Template.instance();\n    //     inst.fileObj.set({});//Reset old status as this might be 2nd upload.\n    //     var ret = S3.upload({\n    //         files:files,\n    //         path:\"profileFiles\"\n    //     },function(e,r){\n    //         if(e){\n    //             var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n    //             tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n    //             try{if(e.error)tmp.push(e.error);}catch (cat){}\n    //             Session.set(\"showErrorDlg\",tmp)\n    //             throw new Meteor.Error('Upload failed ', e);return;\n    //         }\n    //         console.log(r);\n    //\n    //         inst.fileObj.set(r);\n    //\n    //         var tmp = {\n    //             name: r.file.original_name,\n    //             relative_url: r.relative_url,\n    //             url: r.secure_url\n    //         }\n    //\n    //         console.log(tmp);\n    //         Meteor.call('updateReferenceFile', [cate, tmp], (err, res) => {\n    //             inst.uploading.set(false);//Make it false even if it failed. Users should know that its not uploading anymore.\n    //             if (err) {\n    //                 console.log(err);\n    //\n    //                 var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n    //                 tmp.push(\"Upload failed. Please check your internet connectivity and try again. Contact us if needed.\");\n    //                 try{if(err.error)tmp.push(err.error);}catch (cat){}\n    //                 Session.set(\"showErrorDlg\",tmp)\n    //\n    //                 //If updating in DB failed. Then delete in Amazon as well.\n    //                 var fileObj = inst.fileObj.get();\n    //                 S3.delete(fileObj.relative_url,function(error, result){})\n    //             } else {\n    //\n    //             }\n    //\n    //         });\n    //\n    //\n    //     });\n    //     // for (var i = 0, ln = files.length; i < ln; i++) {\n    //     //     propertyImagesCollection.insert(files[i], function (err, fileObj) {\n    //     //         // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n    //     //         console.log(fileObj);\n    //     //         var cursor = propertyImagesCollection.find(fileObj._id);\n    //     //\n    //     //         var liveQuery = cursor.observe({\n    //     //             changed: function(newImage, oldImage) {\n    //     //\n    //     //                 console.log(\"Inside live query \");\n    //     //                 console.log(newImage);\n    //     //                 if (newImage.isUploaded()) {\n    //     //                     liveQuery.stop();\n    //     //\n    //     //                     // Call your onUploaded callback here...\n    //     //                 }\n    //     //             }\n    //     //         });\n    //     //     });\n    //     // }\n    // },\n})\n\n\n\n\nfunction showSaveBtn(ele){\n  $(ele).parents('div.inp-hold').find('.overlay-text').fadeOut();\n  $(ele).fadeOut();\n  $(ele).parent('div.inp-hold').find('.save-btn').addClass('show-save');\n  $(ele).parent('div.inp-hold').find('div.cancel-div').css('display','block');\n  $(ele).parent('div.inp-hold').find('input').focus();\n}\nfunction hideSaveBtn(ele){\n  $(ele).parents('div.inp-hold').find('.save-btn').removeClass('show-save');\n  $(ele).parents('div.inp-hold').find('div.cancel-div').css('display','none');\n  $(ele).parents('div.inp-hold').find('.change-click').fadeIn();\n  $(ele).parents('div.inp-hold').find('.overlay-text').fadeIn();\n}\n\n\nTemplate.loginFormSetPassword.onCreated(() => {\n    let template = Template.instance();\n    template.formMessages = new ReactiveVar({});\n    template.isLoading = new ReactiveVar(false);\n});\nTemplate.loginFormSetPassword.helpers(LoginFormSharedHelpers);\nTemplate.loginFormSetPassword.events({\n\n    /**\n     * Submit form for password update\n     * @param  {Event} event - jQuery Event\n     * @param  {Template} template - Blaze Template\n     * @return {void}\n     */\n    \"submit form\": function (event, template) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        template.$(\"button[type=submit]\").attr(\"disabled\",true);\n\n        let password1Input = template.$(\".login-input--password1\");\n        let password2Input = template.$(\".login-input--password2\");\n        let password1 = password1Input.val().trim();\n        let password2 = password2Input.val().trim();\n        let templateInstance = Template.instance();\n        var errors = []\n\n\n        if(password1!=password2){\n            errors.push({\n                error: \"INVALID_PASSWORD\",\n                reason: \"Passwords doesn't match\"\n            });\n            // errors.password2 = [\n            //     {\n            //         error: \"INVALID_PASSWORD\",\n            //         reason: \"Passwords doesn't match\"\n            //     }\n            // ]\n            // templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);//We need it here because line 560 errors.password2 = validatedPassword2; will over write this message if we don't return here. Also array merge isn't an option as our UI is not ready to show multiple messages. It can only take 1 error at a time.\n            // templateInstance.formMessages.set({\n            //     errors: errors\n            // });\n            // return;\n        }\n        // We only check if it exists, just in case we\"ve change the password strength and want the\n        // user to have an opportunity to update to a stronger password\n        // let validatedPassword1 = LoginFormValidation.password(password1);//Not needed as we are doing equal check\n        let validatedPassword2 = LoginFormValidation.password(password2, {validationLevel: \"length\"});\n\n\n        templateInstance.formMessages.set({});\n        templateInstance.isLoading.set(true);\n\n        // if (validatedPassword1 !== true) {\n        //     errors.push(validatedPassword1);\n        // }\n        if (validatedPassword2 !== true) {\n            errors.push(validatedPassword2);\n        }\n\n        if (errors.length) {\n            templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);\n            templateInstance.formMessages.set({\n                errors: errors\n            });\n            // prevent signup\n            templateInstance.isLoading.set(false)\n            return;\n        }\n\n        Meteor.call('setUserPwd',[Meteor.userId(),password2],function(error, result){\n            // templateInstance.isLoading.set(false);\n            if (error) {\n                templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);\n                // Show some error message\n                templateInstance.formMessages.set({\n                    errors: [error]\n                });\n            } else {\n                Session.set('localHasPasswordSet',true);\n                templateInstance.$(\".login-input--password1, .login-input--password2\").val('')\n                $('#setpass-dlg .changePwdAlertMsgs p, #setpass-dlg .help-block p').html('');\n\n                // // Close dropdown or navigate to page\n                templateInstance.formMessages.set({\n                    info: [{\n                        reason: 'Password successfully set'\n                    }]\n                });\n\n                if($)if($.fancybox){\n                    $.fancybox.close();\n                    templateInstance.formMessages.set({});\n                }\n            }\n        })\n    }\n});\n\nTemplate.loginFormChangePassword.onCreated(() => {\n    let template = Template.instance();\n    template.formMessages = new ReactiveVar({});\n    template.isLoading = new ReactiveVar(false);\n});\nTemplate.loginFormChangePassword.helpers(LoginFormSharedHelpers);\nTemplate.loginFormChangePassword.events({\n\n    /**\n     * Submit form for password update\n     * @param  {Event} event - jQuery Event\n     * @param  {Template} template - Blaze Template\n     * @return {void}\n     */\n    \"submit form\": function (event, template) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        template.$(\"button[type=submit]\").attr(\"disabled\",true);\n\n        let oldPasswordInput = template.$(\".login-input--oldPassword\");\n        let passwordInput = template.$(\".login-input--password\");\n\n        let oldPassword = oldPasswordInput.val().trim();\n        let password = passwordInput.val().trim();\n\n        // We only check if it exists, just incase we\"ve change the password strength and want the\n        // user to have an oppurtinity to update to a stronger password\n        let validatedOldPassword = LoginFormValidation.password(oldPassword, {validationLevel: \"exists\"});\n        let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"length\"});\n\n        let templateInstance = Template.instance();\n        templateInstance.isLoading.set(true);\n        var errors = []\n\n        templateInstance.formMessages.set({});\n        templateInstance.isLoading.set(true)\n\n        if(oldPassword==password){\n            errors.push({\n                error: \"INVALID_PASSWORD\",\n                reason: \"New password cannot be same as old password.\"\n            });\n            // errors.password2 = [\n            //     {\n            //         error: \"INVALID_PASSWORD\",\n            //         reason: \"Passwords doesn't match\"\n            //     }\n            // ]\n            // templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);//We need it here because line 560 errors.password2 = validatedPassword2; will over write this message if we don't return here. Also array merge isn't an option as our UI is not ready to show multiple messages. It can only take 1 error at a time.\n            // templateInstance.formMessages.set({\n            //     errors: errors\n            // });\n            // return;\n        }\n        if (validatedOldPassword !== true) {\n            errors.push(validatedOldPassword);\n        }\n        if (validatedPassword !== true) {\n            errors.push(validatedPassword);\n        }\n\n        if (errors.length) {\n            templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);\n            templateInstance.formMessages.set({\n                errors: errors\n            });\n            // prevent signup\n            templateInstance.isLoading.set(false)\n            return;\n        }\n\n        Accounts.changePassword(oldPassword, password, (error) => {\n            //console.log('Here in callback');\n            //templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);\n            templateInstance.isLoading.set(false);\n            if (error) {\n                templateInstance.$(\"button[type=submit]\").attr(\"disabled\",false);\n                // Show some error message\n                templateInstance.formMessages.set({\n                    errors: [error]\n                });\n            } else {\n\n                templateInstance.$(\".login-input--oldPassword, .login-input--password\").val('')\n                $('#changepass-dlg .changePwdAlertMsgs p, #changepass-dlg .help-block p').html('');\n                //$('.login-input--password, .login-input--oldPassword').val('');\n\n                // // Close dropdown or navigate to page\n                templateInstance.formMessages.set({\n                    info: [{\n                        reason: 'Password successfully changed'\n                    }]\n                });\n\n                if($)if($.fancybox){\n                    $.fancybox.close();\n                    templateInstance.formMessages.set({});\n                }\n            }\n        });\n    }\n});\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction isIE () {\n    var myNav = navigator.userAgent.toLowerCase();\n    return (myNav.indexOf('msie') != -1) ? parseInt(myNav.split('msie')[1]) : false;\n}","import \"./pagination.html\";\nimport \"./propertyApplications.html\";\nimport SimpleSchema from \"simpl-schema\";\n// SimpleSchema.extendOptions(['autoform']);\n// window.deactivateInProgress = '';\n\n\nfunction setFilters(){\n    var userFilters = Session.get('userFilters');\n    try {\n        if (userFilters.check) {\n            for (var k = 0; k < userFilters.check.length; k++) {\n                if (userFilters.check[k].val == 'all')continue;\n                if (userFilters.check[k].val == 'clearall')continue;\n                if (userFilters.check[k].enabled) {\n                    $(\".dropdown-menu input[value='\" + userFilters.check[k].val + \"']\").prop('checked', true);\n                }\n                dropdownCheckbox();\n            }\n        }\n        if (userFilters.s1) {\n            var offerRangeVal = document.getElementById('offerRangeInput');\n            offerRangeVal.noUiSlider.set(userFilters.s1.range);\n        }\n    }catch (e){}\n    dropdownCheckbox();\n}\nfunction applyFilters(){\n    // console.log('event applyFilters jquery')\n    var slider = document.getElementById('offerRangeInput');\n    var offerRangeVal = slider.noUiSlider.get();\n    var userFilters = Session.get('userFilters');\n    userFilters.s1.range = offerRangeVal;\n    Session.set('userFilters',userFilters);\n}\nfunction applyFilterValues(){\n    // console.log('event applyFiltersValues jquery')\n    var slider = document.getElementById('offerRangeInput');\n    var offerRangeVal = slider.noUiSlider.get();\n    $('.filterS1l').html(numDifferentiation(offerRangeVal[0]))\n    $('.filterS1h').html(numDifferentiation(offerRangeVal[1]))\n    // var userFilters = Session.get('userFilters');\n    // userFilters.s1.range = offerRangeVal;\n    // Session.set('userFilters',userFilters);\n    // $('.filterS2l').html(numDifferentiation(priceRange[0] ))\n    // $('.filterS2h').html(numDifferentiation(priceRange[1] ))\n\n}\nfunction numDifferentiation(val) {\n    if(isNaN(val))return 0;\n    val = parseInt(val);\n    if(val >= 1000000000) val = (val/1000000000).toFixed(0) + ' Billion';\n    else if(val >= 1000000) val = (val/1000000).toFixed(0) + ' Million';\n    else if(val >= 1000) val = val.toFixed(0) ;\n    else val = val.toFixed(0);\n    return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction startUISlider(data){\n    var slider = document.getElementById('offerRangeInput');\n\n    noUiSlider.create(slider, {\n\n        start: data.s1.start,\n\n        connect: true,\n\n        step: 1,\n\n        range: {\n\n            'min': data.s1.range[0],\n\n            'max': data.s1.range[1]\n\n        },\n\n        format: wNumb({\n\n            decimals: 0\n\n        })\n\n    });\n\n    slider.noUiSlider.on('update', function(){\n        applyFilterValues();\n    });\n    slider.noUiSlider.on('change', function(){\n        applyFilters();\n    });\n    setTimeout(function () {setFilters();},400)\n}\nfunction startFilters(){\n    try{\n    var gDefaultFilters = Session.get('gDefaultFilters');\n\n    var propertyData = Session.get('propertyData');\n    if(propertyData.auctionId){\n        var auction = Collections.Auctions.findOne(propertyData.auctionId)\n        var min = auction.price*0.7\n        var max = auction.price*1.5\n        gDefaultFilters.s1 = {\n            \"start\": [min, max],\n            \"range\": [min, max]\n        }\n        startUISlider({\n            \"s1\":gDefaultFilters.s1\n        });\n        $('.filterS1l').html(numDifferentiation(min))\n        $('.filterS1h').html(numDifferentiation(max))\n    }\n\n    var userFilters = Session.get('userFilters');\n    var fetchPrevFilters = true;\n\n    var userFiltersAuctionId = Session.get('userFiltersAuctionId');\n    if(!userFiltersAuctionId)fetchPrevFilters=false;\n    if(userFiltersAuctionId != propertyData.auctionId)fetchPrevFilters=false;\n\n    if(!userFilters)fetchPrevFilters=false;\n\n    if(fetchPrevFilters) Session.set('userFilters',userFilters);\n    else Session.set('userFilters',gDefaultFilters);\n\n    Session.set('userFiltersAuctionId',propertyData.auctionId);\n\n    dropdownCheckbox();\n    setTimeout(function () {dropdownCheckbox();},100)\n    setTimeout(function () {dropdownCheckbox();},1000)\n    }catch(e){\n        // console.log('Catch of startFilters')\n        console.log(e)\n    }\n}\nfunction getPaginationData2D(totalResultsCount,resultsPerPage,dimensionNumber){\n    // Page numbers are 2 dimensional, making it store page numbers of 2 pagination elements on the page.\n    //dimensionNumber tells you on which dimension is this method working on ; should start with 0, 1, 2 like an array numbers.\n    var currentPageNo = FlowRouter.current().params.pageno;\n    let originalPgSplit = null, validOriginalPgSplit = false;\n    if(currentPageNo){\n        originalPgSplit = currentPageNo.toString().split('-')\n        if(originalPgSplit.length==2){\n            if(!isNaN(originalPgSplit[dimensionNumber])){ currentPageNo = parseInt(originalPgSplit[dimensionNumber]); validOriginalPgSplit = true;}\n        }\n    }\n    if(!validOriginalPgSplit){//invalid originalPgSplit; reset it\n        originalPgSplit = [1,1]\n    }\n    if(!currentPageNo){currentPageNo = 1}\n    var pages = [], prevPage = {}, nextPage={};\n    var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage);\n    if(pgMin<1)pgMin =1;\n    if(pgMax<1)pgMax =1;\n    if(maxPages<1)maxPages =1;\n    if(pgMin>maxPages)currentPageNo =maxPages;\n    let tmp={};\n    var href = '';\n\n    var cRoute = FlowRouter.current();\n\n    for (var i=pgMin; i<=maxPages;i++){\n        cRoute.params['pageno'] = (dimensionNumber==0 ? i+'-'+originalPgSplit[1] : originalPgSplit[0]+'-'+i ) ;\n        href = FlowRouter.url(cRoute.route.name,cRoute.params,cRoute.queryParams)\n        tmp = {\n            \"href\": href,\n            \"text\": i\n        }\n        if(i== currentPageNo) {\n            tmp['href'] = 'javascript:void(0);';\n            tmp['current'] = true;\n        }\n        pages.push(tmp)\n    }\n    var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n    if(prevPageNo<1){\n        prevPage['href'] = 'javascript:void(0)';\n        prevPage['text'] = 'Previous';\n        prevPage['disabled'] = 'disabled';\n    }else{\n        cRoute.params['pageno'] = (dimensionNumber==0 ? prevPageNo+'-'+originalPgSplit[1] : originalPgSplit[0]+'-'+prevPageNo ) ;\n        prevPage['href'] = FlowRouter.url(cRoute.route.name,cRoute.params,cRoute.queryParams)\n        prevPage['text'] = 'Previous';\n    }\n    if(nextPageNo>maxPages)nextPageNo =maxPages;\n    if(nextPageNo == currentPageNo){\n        nextPage['href'] = 'javascript:void(0)';\n        nextPage['text'] = 'Next';\n        nextPage['disabled'] = 'disabled';\n    }else{\n        cRoute.params['pageno'] = (dimensionNumber==0 ? nextPageNo+'-'+originalPgSplit[1] : originalPgSplit[0]+'-'+nextPageNo ) ;\n        nextPage['href'] = FlowRouter.url(cRoute.route.name,cRoute.params,cRoute.queryParams)\n        nextPage['text'] = 'Next';\n    }\n    return {\n        \"prevPage\":prevPage,\n        \"pages\":pages,\n        \"nextPage\": nextPage\n    }\n}\n\n\nfunction numFormat(x) {\n    //var x=12345652457.557;\n    //console.log(x)\n    if(!x)return x;\n    x=x.toString();\n    var afterPoint = '';\n    if(x.indexOf('.') > 0)\n        afterPoint = x.substring(x.indexOf('.'),x.length);\n    afterPoint = afterPoint.substr(0,3);\n    x = Math.floor(x);\n    x=x.toString();\n    var lastThree = x.substring(x.length-3);\n    var otherNumbers = x.substring(0,x.length-3);\n    if(otherNumbers != '')\n        lastThree = ',' + lastThree;\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree + afterPoint;\n    return res;\n}\n\n\n\nTemplate.propertyApplications.onCreated(function(){\n    this.deactivateInProgress = new ReactiveVar( false );\n    Session.set('propertyData',false);\n\n    var gDefaultFilters = {}\n    gDefaultFilters.check = [\n        {val:'empName',label:'Employer name'},\n        {val:'salary',label:'Salary'},\n        {val:'workRef',label:'Work Reference'},\n        {val:'passport',label:'Passport'},\n        {val:'pps',label:'PPS'},\n        {val:'landlordRef',label:'Landlord Reference'},\n        {val:'financialRef',label:'Financial Reference'},\n        {val:'govtID',label:'Govt. ID'},\n        {val:'resume',label:'Resume'}\n    ];\n    gDefaultFilters.s1 = {\n        \"start\": [0, 1000],\n        \"range\": [0, 1000]\n    }\n    Session.set('gDefaultFilters',gDefaultFilters);\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        var pageno = FlowRouter.getParam('pageno');\n        var PAresperpage = 20\n        var EEresperpage = 100\n\n        instance.subscribe('Config');\n        var id = FlowRouter.getParam('id');\n        if(id){\n            instance.subscribe(\"PropertyApplications\",{viewName: 'PropertyApplications.view',pageno:pageno,PAresperpage:PAresperpage,EEresperpage:EEresperpage,id:id}) ;\n            instance.subscribe(\"total-PropertyApplications\",{viewName: 'PropertyApplications.view',pageno:pageno,PAresperpage:PAresperpage,EEresperpage:EEresperpage,id:id}) ;\n            instance.subscribe(\"total-EmailEnquiries\",{viewName: 'PropertyApplications.view',pageno:pageno,PAresperpage:PAresperpage,EEresperpage:EEresperpage,id:id}) ;\n        }\n\n        instance.subscribe('userData');\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n    // var userFilters = Session.get('userFilters');\n    // if(!userFilters)Session.set('gDefaultFilters',gDefaultFilters);\n\n})\nTemplate.propertyApplications.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    avgOffer : function () {\n        var tmp = Collections.PA_AvgOffer.find().fetch();\n        if(tmp.length) {\n            var offer = tmp[0]['avgOffer'];\n            if(offer<1)return 0;\n            return parseInt(offer);\n        }\n        else return false;\n    },\n    dataFull : function () {\n\n        var propertyData = Session.get('propertyData');\n\n        try {\n            var selector = {\n                auctionId: propertyData.auctionId,\n                isArchived: false\n            }\n\n            // var totalResultsCount = Collections.Bids.find(selector).count();\n            var totalResultsCount = Counts.get(\"total-PropertyApplications\");\n\n            clearMeta();\n            try{\n                var title = '';\n                if (totalResultsCount > 1) title = totalResultsCount + ' applications';\n                else if (totalResultsCount > 1) title = totalResultsCount + ' applications';\n                else title = 'Applications';\n                title += ' for ' + propertyData.address.address + ', ' + propertyData.address.area;\n\n                if (propertyData.address.county) title += ', ' + propertyData.address.county;\n\n\n                DocHead.setTitle(titleCase(title) + ' | SpotMyCrib Admin');\n                DocHead.addMeta({\n                    name: \"description\",\n                    content: \"View applications for property \" + propertyData.type + \", choose a winning tenant, see their social profiles and much more.\"\n                });\n            }catch(err){\n                DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n                DocHead.addMeta({name: \"description\", content: \"\"});\n            }\n            return {\n                totalResultsCount: totalResultsCount\n            };\n        }catch (err){}\n    },\n    dataChosen : function () {\n        var propertyData = Session.get('propertyData');\n        if(!propertyData){\n            console.log(\"Empty project data\");\n            return false;}\n        try {\n            var selector = {\n                auctionId: propertyData.auctionId,\n                isArchived: false,\n                chosen:true\n            }\n\n            globlaAuctionId1 = propertyData.auctionId;\n            globalAuctionData1 = propertyData.auction\n\n            var totalChosenCount = Collections.Bids.find(selector).count();/// don't use the blow code, it doesn't have pagination.\n            // var totalChosenCount = Counts.get(\"total-PropertyApplications\");\n            var retChosen = Collections.Bids.find(selector, {\n                transform: function (doc) {\n\n                    doc.auction = Collections.Auctions.findOne({\n                        _id: doc.auctionId\n                    });\n                    // if (doc.auctionId != globlaAuctionId1 || !globalAuctionData1._id) {\n                    //     doc.auction = Collections.Auctions.findOne({\n                    //         _id: doc.auctionId\n                    //     });\n                    // } else {\n                    //     doc.auction = globalAuctionData1;\n                    // }\n\n                    // doc.user = Meteor.users.findOne({\n                    //     _id: doc.userId\n                    // });\n\n\n                    return doc;\n                },\n                limit: 100,//Hardcoded logic for now, may be put a max limit of 100 chosen\n                sort: {updatedAt: -1}\n            });\n\n            return {\n                resultsChosen: retChosen,\n                totalChosenCount: totalChosenCount\n            };\n        }catch (err){}\n    },\n    dataEmailEnquiries : function () {\n        var propertyData = Session.get('propertyData');\n        if(!propertyData){\n            console.log(\"Empty project data\");\n            return false;}\n        try {\n            var selector = {\n                propertyId: propertyData._id,\n                isArchived: false\n            }\n\n            /////PAGINATION\n            var resultsPerPage = 100\n            var currentPageNo = FlowRouter.current().params.pageno;\n            if(currentPageNo){\n                let tmp = currentPageNo.toString().split('-')\n                if(tmp.length==2){\n                    if(!isNaN(tmp[1])) currentPageNo = parseInt(tmp[1])\n                }\n            }\n            if(!currentPageNo){currentPageNo = 1}\n            var skip = (currentPageNo -1) * resultsPerPage;\n\n            // var totalEnquiryCount = Collections.EmailEnquiries.find(selector).count();\n            var totalEnquiryCount = Counts.get(\"total-EmailEnquiries\");\n            var retChosen = Collections.EmailEnquiries.find(selector, {\n                limit: resultsPerPage,\n                sort: { updatedAt : -1 }\n                // skip: skip//not needed as the server would do this.\n            });\n\n            let paginationNeeded=(totalEnquiryCount/resultsPerPage > 1.0? true : false);\n\n            return {\n                resultsEnquiries: retChosen,\n                totalEnquiryCount: totalEnquiryCount,\n                pagination: (paginationNeeded ? getPaginationData2D(totalEnquiryCount,resultsPerPage,1) : false ),\n                paginationNeede: paginationNeeded\n            };\n        }catch (err){}\n    },\n    dataNonChosen : function () {\n\n        var propertyData = Session.get('propertyData');\n        var userFilters = Session.get('userFilters');\n        if(!propertyData){\n            console.log(\"Empty project data\");\n            return false;}\n\n        var selector = {\n            auctionId: propertyData.auctionId,\n            isArchived: false,\n            chosen:false\n        }\n        if(userFilters){\n            if(userFilters.s1.range)selector.yourBid =  { $gt: parseInt(userFilters.s1.range[0]), $lt: parseInt(userFilters.s1.range[1]) }\n        }\n\n        globlaAuctionId1 = propertyData.auctionId;\n        globalAuctionData1 = propertyData.auction;\n        /////PAGINATION\n        var resultsPerPage = 20;\n        var currentPageNo = FlowRouter.current().params.pageno;\n        if(currentPageNo){\n            let tmp = currentPageNo.toString().split('-')\n            if(tmp.length==2){\n                if(!isNaN(tmp[0])) currentPageNo = parseInt(tmp[0])\n            }\n        }\n        if(!currentPageNo){currentPageNo = 1}\n        var skip = (currentPageNo -1) * resultsPerPage;\n        var urlBase = 'account/propertyapplications/'+FlowRouter.current().params.id+'/';\n\n\n\n        // var totalNonChosenCount = Collections.Bids.find(selector).count();\n        var totalNonChosenCount = Counts.get(\"total-PropertyApplications\");\n        var resultsNonChosen = Collections.Bids.find(selector, {\n            transform: function (doc) {\n\n                doc.userStatic =  Meteor.users.findOne({_id: doc.userId});\n\n                doc.auction = Collections.Auctions.findOne({\n                    _id: doc.auctionId\n                });\n                // if (doc.auctionId != globlaAuctionId1 || !globalAuctionData1._id) {\n                //     doc.auction = Collections.Auctions.findOne({\n                //         _id: doc.auctionId\n                //     });\n                // } else {\n                //     doc.auction = globalAuctionData1;\n                // }\n\n                return doc;\n            },\n            limit: resultsPerPage,\n            sort: { updatedAt : -1 }\n            // skip: skip//not needed as the server would do this.\n        }).fetch();\n\n        if(userFilters)\n        if(userFilters.check){\n            var isItNeeded=true;var countActiveFilters = 0;\n            for(var k=0;k<userFilters.check.length;k++){\n                if (userFilters.check[k].val == 'all' )continue;\n                if (userFilters.check[k].val == 'clearall' )continue;\n                if(userFilters.check[k].enabled)countActiveFilters++;\n            }\n            if(!countActiveFilters)isItNeeded=false;//if none sel do nothing.\n\n            if(isItNeeded) {\n                var newArr = [];\n                var selSatisfiedCount = 0;\n                for (var i = 0; i < resultsNonChosen.length; i++) {\n                    selSatisfiedCount = 0\n                    var ele = resultsNonChosen[i];\n                    var ref = ele.userStatic.profile.references;\n                    if (!ref)break;\n\n\n                    for (var j = 0; j < userFilters.check.length; j++) {\n                        if (!userFilters.check[j].enabled)continue;//if not enabled , then don' consider it\n                        if (userFilters.check[j].val == 'all' )continue;\n                        if (userFilters.check[j].val == 'clearall' )continue;\n                        if (userFilters.check[j].val == 'empName' && ref.employerName) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'salary' && ref.employerTakeHome) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'workRef' && ref.hasWorkRef) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'passport' && ref.hasPassport) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'pps' && ref.hasPPS) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'landlordRef' && ref.hasLandlordRef) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'financialRef' && ref.hasFinancialRef) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'govtID' && ref.hasGovtID) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        if (userFilters.check[j].val == 'resume' && ref.hasResume) {\n                            selSatisfiedCount++;\n                            continue;\n                        }\n                        // if(userFilters.check[j].val == 'empName' && !user.profile.references.employerName){skip=true;break;}\n                        // if(userFilters.check[j].val == 'salary' && !user.profile.references.employerTakeHome){skip=true;break;}\n                        // if(userFilters.check[j].val == 'workRef' && !user.profile.references.hasWorkRef){skip=true;break;}\n                        // if(userFilters.check[j].val == 'passport' && !user.profile.references.hasPassport){skip=true;break;}\n                        // if(userFilters.check[j].val == 'pps' && !user.profile.references.hasPPS){skip=true;break;}\n                        // if(userFilters.check[j].val == 'landlordRef' && !user.profile.references.hasLandlordRef){skip=true;break;}\n                        // if(userFilters.check[j].val == 'financialRef' && !user.profile.references.hasFinancialRef){skip=true;break;}\n                        // if(userFilters.check[j].val == 'govtID' && !user.profile.references.hasGovtID){skip=true;break;}\n                        // if(userFilters.check[j].val == 'resume' && !user.profile.references.hasResume){skip=true;break;}\n\n                    }\n                    if(selSatisfiedCount==countActiveFilters)newArr.push(ele);\n                    // if (!skip)\n                }\n                resultsNonChosen = newArr;\n            }\n        }\n\n        let paginationNeeded=(totalNonChosenCount/resultsPerPage > 1.0? true : false);\n\n        return {\n            resultsNonChosen: resultsNonChosen,\n            totalNonChosenCount: totalNonChosenCount,\n            pagination: (paginationNeeded ? getPaginationData2D(totalNonChosenCount,resultsPerPage,0) : false ),\n            paginationNeeded: paginationNeeded\n        };\n\n    },\n    showFilters: function(){\n        // return true;\n        var propertyData = Session.get('propertyData');\n        try {\n            var selector = {\n                auctionId: propertyData.auctionId,\n                isArchived: false\n            }\n            // var totalResultsCount = Collections.Bids.find(selector).count();\n            var totalResultsCount = Counts.get(\"total-PropertyApplications\");\n            if(totalResultsCount>5)return true;\n        }catch(e){}\n        return false;\n    },\n    initFilters:function(){\n        setTimeout(startFilters,500);\n    },\n    propertyData : function () {\n        var ret = getpropertyData();\n\n        //Now check if he has auctionId passed in query & prop has no auction ID. if yes, update your session\n        try{if(FlowRouter.current().params.query.auctionId && !ret.auctionId)ret.auctionId = FlowRouter.current().params.query.auctionId}catch(e){}\n\n        if(!ret.auctionId){\n            var prevRoute = Session.get('prevRoute');\n            if(prevRoute){\n                FlowRouter.go(prevRoute.name,prevRoute.args)\n                Session.set('prevRoute',false);\n            }else{\n                FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n            }\n        }\n\n        Session.set('propertyData',ret);\n\n        return ret;\n    },\n    // time: function(){\n    //\n    //     var propertyData = Session.get('propertyData');\n    //     var timestamp = TimeSync.serverTime(null, 30000);\n    //     if(!propertyData.auction.endDate || !timestamp)return;\n    //\n    //\n    //     var dend = Date.parse(propertyData.auction.endDate);\n    //     var timeDiff = dend - timestamp ;\n    //     if(timeDiff<0)return false;\n    //\n    //     var day = Math.floor(timeDiff / (1000 * 3600 * 24))\n    //     var hour = Math.floor(timeDiff / (1000 * 3600 ))\n    //     var min = Math.floor(timeDiff / (1000 * 60 ) )\n    //     hour = hour - (day * 24);\n    //     min = min - (day * 24* 60) - (hour * 60);\n    //     return {\"day\":day,\"hour\":hour,\"min\":min}\n    // },\n    isAuctionClosed:function(){\n        // var timestamp = TimeSync.serverTime(null, 30000);\n        var timestamp = new Date();\n        var propertyData = Session.get('propertyData');\n        var dend = Date.parse(propertyData.auction.endDate);\n        var timeDiff = dend - timestamp;\n        if(timeDiff<0){\n            return true;\n        }\n        return false;\n    },\n    assistanceAlreadyRequested: function(){\n        //Just to make this reactive\n        var user = Meteor.user();\n        if(user)\n            if(user.profile)\n                if(user.profile.assistanceRequested){\n                    return user.profile.assistanceRequested || Session.get('assistanceRequested');\n                }\n\n        return Session.get('assistanceRequested');\n\n    },\n    deactivateInProgress: function(){\n        deactivateInProgress = Template.instance().deactivateInProgress;\n        return Template.instance().deactivateInProgress.get() ;\n    },\n    userFilters:function(){\n        return Session.get('userFilters');\n    }\n})\n\nTemplate.propertyApplications.onRendered(function() {\n    try{\n        jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n    }catch(e){\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\n    }\n})\nTemplate.propertyApplications.events({\n    \"click .showEditPropertyForm\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{id:FlowRouter.current().params.id, pageno:FlowRouter.current().params.pageno},scrollTo:'body' }\n        Session.set('prevRoute',prevRoute);\n        var propertyData = Session.get('propertyData');\n        FlowRouter.go('account/editproperty',{id:propertyData._id})\n\n    },\n    \"click .deactivatePropertyBtn\": function (event, template) {\n        event.preventDefault();\n        var propertyData = Session.get('propertyData');\n        if(!propertyData){\n            console.log(\"Empty project data\");\n            return false;}\n        var user = Meteor.user();\n        if(!user){console.log(\"Invalid user\");return;}\n        if(propertyData.createdByAgent != user._id){console.log(\"Invalid user\");return;}\n\n        $.fancybox({\n            'padding': 0,\n            'href': '#conf-dactivate-pop',\n            afterShow:function(template){\n                attachEvents();\n            },\n            afterClose:function(template){\n                console.log(template);\n            }\n        })\n    },\n    \"click .backBtn\": function(event, template){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n        }\n    },\n    \"click .showCopyDlg\": function (event, template) {\n        var propertyData = Session.get('propertyData');\n\n        let user = Meteor.user();\n        let sluggedName = slugifyEmailAddress(user.profile.name);\n        if(!sluggedName)sluggedName = 'rent'\n        let email = sluggedName+'-let-'+propertyData.auction.lettingAuctionCode.toLowerCase()+\"@spotmycrib.ie\";\n        $('#agentPropertyEmailField').val(email);\n\n        var url = FlowRouter.url('letting',{key:propertyData.auction.lettingAuctionCode})\n        $('#propertyLinkField').val(url);\n        $.fancybox({\n            'padding': 0,\n            'href': '#propertyLinkDlg',\n            afterShow:function(template){\n                $('#agentPropertyEmailField').select();\n                $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click',function () {\n                    $('#agentPropertyEmailField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'propertyApplicationsPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n                })\n                $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click',function () {\n                    $('#propertyLinkField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'propertyApplicationsPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n                })\n                $('#propertyLinkDlg .cancelBtn').unbind().bind('click',function () {\n                    $.fancybox.close()\n                })\n            },\n        });\n\n    },\n    \"click .jns-dropdown-btn\": function (event, template) {\n        $('.jns-dropdown-area').toggle();\n    },\n})\n\nTemplate.bidList.onCreated(function(){\n    this.choosingInProgress = new ReactiveVar( false );\n    this.unChoosingInProgress = new ReactiveVar( false );\n})\nTemplate.bidList.helpers({\n    user:function(){\n        // debugger;\n        var ret = Meteor.users.find({\n            _id: this.userId\n        }).fetch();\n        return ret[0];\n    },\n    canAfford: function(salary){//This works based on the bid (not rent)\n        if( !this.yourBid){return false;}\n        if(salary*0.4 >= this.yourBid ){\n            return true;\n        }\n        return false;\n    },\n    choosingInProgress: function(){\n        return Template.instance().choosingInProgress.get() ;\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    classBidList:function () {\n        if(this.chosen)return 'active';\n\n        var propertyData = Session.get('propertyData');\n        try {\n            var a = Collections.Auctions.find({_id:propertyData.auction._id}).fetch();\n            propertyData.auction = a[0];\n            if (propertyData.auction.chosenBids.length)return 'archive';\n        }catch (e){}\n        return 'border-top';\n    }\n})\nTemplate.bidList.events({\n    \"click .chooseTenant\": function (event, template) {\n        template.choosingInProgress.set(true);\n        choosingInProgress = template.choosingInProgress\n\n        var r = confirm(\"Are you sure? This will send a confirmation mail to the applicant.\");\n        if (!r){ template.choosingInProgress.set(false);return;}\n\n        Meteor.call('chooseWinning', [this.auctionId, this._id], function(error, result){\n            choosingInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(error.error);\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            console.log(\"Success\");\n\n\n        });\n    },\n    \"click .unChooseTenant\": function (event, template) {\n        template.unChoosingInProgress.set(true);\n        unChoosingInProgress = template.unChoosingInProgress\n\n        var r = confirm(\"Are you sure? This will send a pending mail to the applicant.\");\n        if (!r){ template.unChoosingInProgress.set(false);return;}\n\n        Meteor.call('unChooseWinning', [this.auctionId, this._id], function(error, result){\n            unChoosingInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(error.error);\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            console.log(\"Success\");\n        });\n    },\n    \"click .inviteForViewingBtn\": function (event, template) {\n        var propertyData = Session.get('propertyData');\n        var ret = Meteor.users.find({\n            _id: this.userId\n        }).fetch();\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var today = new Date();\n        var tomorrow = new Date();\n        tomorrow.setDate(today.getDate()+1);tomorrow.setMinutes(0);tomorrow.setSeconds(0);\n        var h = tomorrow.getHours();\n        if(h<9)h=9;else if(h>20)h=20;\n        tomorrow.setHours(h);\n        var inviteDate = tomorrow;\n        try{if(inviteForViewing.inviteDate)inviteDate = inviteForViewing.inviteDate;}catch(e){}\n        Session.set('inviteForViewingData',{user:ret[0],bid:this,inviteDate:inviteDate})\n        $.fancybox({\n            'padding': 0,\n            'href': '#inviteForViewingDlg',\n            afterShow:function () {\n                var inviteForViewing = Session.get('inviteForViewingData');\n                var d = inviteForViewing.inviteDate;var am = ' AM';\n                var df = (d.getMonth()+1)+'/'+d.getDate()+'/'+d.getFullYear()+' '+d.getHours()+':'+d.getMinutes()\n                if(d.getHours()>12)am = ' PM';\n                df = df+am;\n                $('#inviteDate').val(df)\n\n            }\n        });\n    },\n});\nTemplate.emailEnquiryList.onCreated(function(){\n    this.choosingInProgress = new ReactiveVar( false );\n    this.unChoosingInProgress = new ReactiveVar( false );\n})\nTemplate.emailEnquiryList.helpers({\n    user:function(){\n        // debugger;\n        var ret = Meteor.users.find({\n            _id: this.userId\n        }).fetch();\n        return ret[0];\n    },\n    canAfford: function(salary){//This works based on the bid (not rent)\n        if( !this.yourBid){return false;}\n        if(salary*0.4 >= this.yourBid ){\n            return true;\n        }\n        return false;\n    },\n    choosingInProgress: function(){\n        return Template.instance().choosingInProgress.get() ;\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    classBidList:function () {\n        if(this.chosen)return 'active';\n\n        var propertyData = Session.get('propertyData');\n        try {\n            var a = Collections.Auctions.find({_id:propertyData.auction._id}).fetch();\n            propertyData.auction = a[0];\n            if (propertyData.auction.chosenBids.length)return 'archive';\n        }catch (e){}\n        return 'border-top';\n    }\n})\nTemplate.emailEnquiryList.events({\n    \"click .inviteForViewingBtn\": function (event, template) {\n        var propertyData = Session.get('propertyData');\n        var ret = Meteor.users.find({\n            _id: this.userId\n        }).fetch();\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var today = new Date();\n        var tomorrow = new Date();\n        tomorrow.setDate(today.getDate()+1);tomorrow.setMinutes(0);tomorrow.setSeconds(0);\n        var h = tomorrow.getHours();\n        if(h<9)h=9;else if(h>20)h=20;\n        tomorrow.setHours(h);\n        var inviteDate = tomorrow;\n        try{if(inviteForViewing.inviteDate)inviteDate = inviteForViewing.inviteDate;}catch(e){}\n        Session.set('inviteForViewingData',{user:ret[0],bid:this,inviteDate:inviteDate})\n        $.fancybox({\n            'padding': 0,\n            'href': '#inviteForViewingDlg',\n            afterShow:function () {\n                var inviteForViewing = Session.get('inviteForViewingData');\n                var d = inviteForViewing.inviteDate;var am = ' AM';\n                var df = (d.getMonth()+1)+'/'+d.getDate()+'/'+d.getFullYear()+' '+d.getHours()+':'+d.getMinutes()\n                if(d.getHours()>12)am = ' PM';\n                df = df+am;\n                $('#inviteDate').val(df)\n\n            }\n        });\n    },\n});\n\ninviteInProgress='';\nTemplate.inviteForViewing.onCreated(function () {\n    this.inviteInProgress = new ReactiveVar( false );\n    inviteInProgress = this.inviteInProgress;\n})\nTemplate.inviteForViewing.helpers({\n    data:function () {\n        return Session.get('inviteForViewingData');\n    },\n    inviteInProgress:function () {\n        inviteInProgress = Template.instance().inviteInProgress ;\n        return Template.instance().inviteInProgress.get() ;\n    },\n    inviteDateFormated:function () {\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var options = {\n            weekday: \"long\", year: \"numeric\", month: \"short\",\n            day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\"\n        };\n        try{var d=inviteForViewing.inviteDate; return d.toLocaleTimeString(\"en-us\", options); }catch(e){}\n        return ;\n    },\n    propertyData:function () {\n        return  Session.get('propertyData');\n    },\n})\nTemplate.inviteForViewing.events({\n    'change .inviteDate':function (event, template) {\n        var d = new Date($('.inviteDate').val());\n        var inviteForViewing = Session.get('inviteForViewingData');\n        try{ inviteForViewing.inviteDate=d; Session.set('inviteForViewingData',inviteForViewing) }catch(e){}\n\n    },\n    'click .confirmInviteBtn':function () {\n\n        var inviteDate = $('.inviteDate').val()\n        var inviteMessage = $('.inviteMessage').val()\n        console.log(inviteDate)\n        var inviteForViewing = Session.get('inviteForViewingData');\n\n\n        inviteInProgress.set(true) ;\n        Meteor.call('sendInviteForViewingEmail',[inviteForViewing.bid._id,inviteDate],function(error, result){\n            inviteInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            if(result.status=='Success'){\n                console.log(\"Success\");\n                closePopupEvent()\n            }\n        });\n\n    },\n    'click .closePopupBtn':function () {\n        closePopupEvent()\n    }\n})\nTemplate.inviteForViewing.onRendered(function () {\n    //Needs to be optimised, this is not the right place to put this code, might cause JS errors if Jquery isn' loaded yet.\n    try{\n        this.$('#inviteDate').datetimepicker();\n\n\n\n        this.$('#moveindate').datetimepicker();\n    }catch(err){\n        console.log('dp failed');\n    }\n})\nfunction attachEvents() {\n    $(\".deactivateConfirmBtn\").unbind().bind(\"click\",function () {\n        deactivateConfEvent();\n    })\n    $(\".closePopupBtn\").unbind().bind(\"click\",function () {\n        closePopupEvent();\n    })\n}\nfunction deactivateConfEvent() {\n    var data = Session.get(\"propertyData\");\n    var auctionId = data.auctionId;\n\n    deactivateInProgress.set(true) ;\n    Meteor.call('deactivateAuction',auctionId,function(error, result){\n        deactivateInProgress.set(false) ;\n        if(error){\n            console.log(error);\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            tmp.push(\"Failed deactivating. Please try again, try checking your internet connectivity. Contact us if needed.\");\n            Session.set(\"showErrorDlg\",tmp)\n            return;\n        }\n        console.log(\"Success\");\n\n        closePopupEvent();\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n        }\n\n    });\n}\nfunction closePopupEvent() {\n    console.log('closePopupEvent');\n    if($)\n        if($.fancybox)\n            $.fancybox.close();\n}\nfunction getpropertyData(){\n    var id = FlowRouter.current().params.id;\n    var ret = Collections.Properties.find(id, {\n        transform: function(data){\n\n            data.auction = Collections.Auctions.findOne(data.auctionId);\n            // data.applicationsReceivedCount = Collections.Bids.find({auctionId:data.auctionId}).count();\n            data.applicationsReceivedCount = Counts.get(\"total-PropertyApplications\");\n            data.applicationsActiveCount = Counts.get(\"total-PropertyApplications\");//Removing the diff between active and total received for now. date jan 9, 2019\n            // data.applicationsActiveCount = Collections.Bids.find({auctionId:data.auctionId,isArchived:false}).count();\n            data.chosenApplicationCount = Collections.Bids.find({auctionId:data.auctionId,isArchived:false,chosen:true}).count();\n\n            return data;\n        },\n        limit: 1\n    }).fetch();\n\n    Meteor.subscribe('avgOffer', ret[0].auctionId);\n\n    return ret[0];\n}\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction dropdownCheckbox(){\n\n    $( '.dropdown-menu .checkbox' ).unbind().on( 'click', function( event ) {\n\n        var $target = $( event.currentTarget ),\n            val = $target.find( 'input' ).attr( 'value' ),\n            $inp = $target.find( 'input' ),\n            idx;\n        var userFilters = Session.get('userFilters');\n\n        if(val == 'all'){\n            setTimeout( function() { $( '.dropdown-menu input' ).not(\"[value='clearall']\").prop( 'checked',true );dropdownCheckbox(); }, 10);\n            if(userFilters){\n                for(var i=0;i<userFilters.check.length;i++){\n                    userFilters.check[i].enabled=\"enabled\";\n                }\n                Session.set('userFilters',userFilters);\n            }\n            $( event.target ).blur();\n            return false;\n        }\n        if(val == 'clearall'){\n            setTimeout( function() { $( '.dropdown-menu input' ).prop( 'checked',false );dropdownCheckbox(); }, 10);\n            if(userFilters){\n                for(var i=0;i<userFilters.check.length;i++){\n                    userFilters.check[i].enabled=\"\";\n                }\n                Session.set('userFilters',userFilters);\n            }\n            $( event.target ).blur();\n            return false;\n        }\n        if($($inp).prop( 'checked')){\n            $($inp).prop( 'checked',false );\n            if(userFilters.check){\n                for(var i=0;i<userFilters.check.length;i++){\n                    if(userFilters.check[i].val == val)userFilters.check[i].enabled=\"\";\n                }\n            }\n        }else{\n            $($inp).prop( 'checked',true );\n            if(userFilters.check){\n                for(var i=0;i<userFilters.check.length;i++){\n                    if(userFilters.check[i].val == val)userFilters.check[i].enabled=\"enabled\";\n                }\n            }\n        }\n\n\n\n        // if ( ( idx = options.indexOf( val ) ) > -1 ) {\n        //     options.splice( idx, 1 );\n        //     setTimeout( function() { $inp.prop( 'checked', false ) }, 0);\n        //     if(userFilters.check){\n        //         for(var i=0;i<userFilters.check.length;i++){\n        //             if(userFilters.check[i].val == val)userFilters.check[i].enabled=\"\";\n        //         }\n        //     }\n        // } else {\n        //     options.push( val );\n        //     setTimeout( function() { $inp.prop( 'checked', true ) }, 0);\n        //     if(userFilters.check){\n        //         for(var i=0;i<userFilters.check.length;i++){\n        //             if(userFilters.check[i].val == val)userFilters.check[i].enabled=\"enabled\";\n        //         }\n        //     }\n        // }\n\n        if(userFilters){\n            Session.set('userFilters',userFilters);\n        }\n        $( event.target ).blur();\n        dropdownCheckbox();\n        // console.log( options );\n        return false;\n    });\n}\nfunction slugifyEmailAddress (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '.')           // Replace spaces with \".\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}","import \"./pagination.html\";\nimport \"./propertyManage.html\";\n\nvar globalFILTERS = {};\n\nfunction getPaginationData(totalResultsCount,currentPageNo,urlBase, resultsPerPage){\n    var pages = [], prevPage = {}, nextPage={};\n    var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage)\n    if(pgMin<1)pgMin =1;\n    if(pgMax<1)pgMax =1;\n    if(maxPages<1)maxPages =1;\n    if(pgMin>maxPages)currentPageNo =maxPages;\n    var tmp={};\n    for (var i=pgMin; i<=maxPages;i++){\n        var href = urlBase+i+\"/\";\n        tmp = {\n            \"href\": href,\n            \"text\": i\n        }\n        if(i== currentPageNo) {\n            tmp['href'] = 'javascript:void(0);';\n            tmp['current'] = true;\n        }\n        pages.push(tmp)\n    }\n    // if(pgMin==maxPages){//Above loop won't work if only 1 page result\n    //     pages.push({\n    //         \"href\": 'javascript:void(0);',\n    //         \"text\": 1\n    //     })\n    // }\n    var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n    if(prevPageNo<1){\n        prevPage['href'] = 'javascript:void(0)';\n        prevPage['text'] = 'Previous';\n        prevPage['disabled'] = 'disabled';\n    }else{\n        prevPage['href'] = urlBase+prevPageNo+\"/\";\n        prevPage['text'] = 'Previous';\n    }\n    if(nextPageNo>maxPages)nextPageNo =maxPages;\n    if(nextPageNo == currentPageNo){\n        nextPage['href'] = 'javascript:void(0)';\n        nextPage['text'] = 'Next';\n        nextPage['disabled'] = 'disabled';\n    }else{\n        nextPage['href'] = urlBase+nextPageNo+\"/\";\n        nextPage['text'] = 'Next';\n    }\n    return {\n        \"prevPage\":prevPage,\n        \"pages\":pages,\n        \"nextPage\": nextPage\n    }\n}\n\n\nTemplate.registerHelper(\"objectToPairs\",function(object){\n    return _.map(object, function(value, key) {\n        return {\n            key: key,\n            value: value\n        };\n    });\n});\nTemplate.registerHelper(\"hostname\",function(){\n    return Meteor.absoluteUrl();\n});\nfunction numDifferentiation(val) {\n    if(val >= 1000000000) val = (val/1000000000).toFixed(2) + ' Billion';\n    else if(val >= 1000000) val = (val/1000000).toFixed(2) + ' Million';\n    return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\nfunction numFormat(x) {\n    //var x=12345652457.557;\n    //console.log(x)\n    if(!x)return x;\n    x=x.toString();\n    var afterPoint = '';\n    if(x.indexOf('.') > 0)\n        afterPoint = x.substring(x.indexOf('.'),x.length);\n    afterPoint = afterPoint.substr(0,3);\n    x = Math.floor(x);\n    x=x.toString();\n    var lastThree = x.substring(x.length-3);\n    var otherNumbers = x.substring(0,x.length-3);\n    if(otherNumbers != '')\n        lastThree = ',' + lastThree;\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree + afterPoint;\n    return res;\n}\n\n\n\nTemplate.propertyManage.onCreated(function(){\n    Session.set('propertyData',false);\n    Session.set('PropertyManage',false);\n    this.pdExpanded = new ReactiveVar( true );\n    this.enablingPMS = new ReactiveVar( false );\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        instance.subscribe('Auctions');\n        instance.subscribe('Bids');\n        instance.subscribe('allUserData');\n        instance.subscribe('userData');\n        var id = FlowRouter.getParam('id');\n        instance.subscribe(\"Property\",{viewName: 'property.view',id:id}) ;\n        instance.subscribe(\"PropertyManage\",{viewName: 'propertyManage.view',id:id}) ;\n        instance.subscribe(\"ActivityHistory\",{limit: 50,id:id})  ;\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n})\nTemplate.propertyManage.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    data: function(){\n        var id = FlowRouter.current().params.id;\n        if(!id)return [];\n        // debugger;\n        var ret = Collections.PropertyManage.find({propertyId:id});\n        var docs = ret.fetch()\n        if(docs.length)Session.set('PropertyManage',docs[0]);\n        // if(ret.count()==0){\n        //     clearMeta();\n        //     DocHead.setTitle(' Property not found | SpotMyCrib Admin');\n        //     DocHead.addMeta({name: \"description\", content: \"\"});\n        // }\n        // Session.set(\"propertyManageData\",ret);\n        return docs[0];\n    },\n    propertyData: function(){\n        var PropertyManage = Session.get('PropertyManage');\n        if(PropertyManage.propertyId) {\n            var ret = Collections.Properties.find({_id:PropertyManage.propertyId}, {limit: 1})\n            var docs = ret.fetch()\n            var propertyData = docs[0];\n            if(docs.length)Session.set('propertyData',propertyData);\n\n            clearMeta();\n            try{\n                var title = propertyData.address.address + ', ' + propertyData.address.area;\n                if (propertyData.address.county) title += ', ' + propertyData.address.county;\n                title += ' Manage Property';\n\n                DocHead.setTitle(titleCase(title) + ' | SpotMyCrib Admin');\n                DocHead.addMeta({\n                    name: \"description\",\n                    content: \"Manage property \" + propertyData.type + \", view and manage lease, see activity history and much more.\"\n                });\n            }catch(err){\n                DocHead.setTitle('Manage Property | SpotMyCrib Admin');\n                DocHead.addMeta({name: \"description\", content: \"\"});\n            }\n\n            return docs[0];\n        }\n        else {\n            clearMeta();\n            DocHead.setTitle('Manage Property | SpotMyCrib Admin');\n            DocHead.addMeta({name: \"description\", content: \"\"});\n            return [];\n        }\n    },\n    hasPropFound: function(){\n        var id = FlowRouter.current().params.id;\n        var ret = Collections.Properties.find(id, {\n            limit: 1\n        }).fetch();\n        return ret.length;\n    },\n    pdExpanded: function(){\n        return Template.instance().pdExpanded.get() ;\n    },\n    enablingPMS: function(){\n        return Template.instance().enablingPMS.get() ;\n    },\n    // dataFull : function () {\n    //\n    //     var propertyData = Session.get('propertyData');\n    //\n    //     try {\n    //         var selector = {\n    //             auctionId: propertyData.auctionId,\n    //             isArchived: false\n    //         }\n    //\n    //         var totalResultsCount = Collections.Bids.find(selector).count();\n    //\n    //         clearMeta();\n    //         try{\n    //             var title = propertyData.address.address + ', ' + propertyData.address.area;\n    //             if (propertyData.address.county) title += ', ' + propertyData.address.county;\n    //             title += ' Manage Property';\n    //\n    //             DocHead.setTitle(titleCase(title) + ' | SpotMyCrib Admin');\n    //             DocHead.addMeta({\n    //                 name: \"description\",\n    //                 content: \"View applications for property \" + propertyData.type + \", choose a winning tenant, see their social profiles and much more.\"\n    //             });\n    //         }catch(err){\n    //             DocHead.setTitle('Manage Property | SpotMyCrib Admin');\n    //             DocHead.addMeta({name: \"description\", content: \"\"});\n    //         }\n    //         return {\n    //             totalResultsCount: totalResultsCount\n    //         };\n    //     }catch (err){}\n    // },\n    dataChosen : function () {\n\n        var PropertyManage = Session.get('PropertyManage');\n        if(PropertyManage.tenants.length) {\n            var tenIds = [];\n            for(var i=0;i<PropertyManage.tenants.length;i++){\n                if(PropertyManage.tenants[i].id)\n                    tenIds.push(PropertyManage.tenants[i].id)\n            }\n            var selector = {\n                _id: {$in: tenIds},\n                // isArchived: false,//this field isn't needed\n                chosen:true\n            }\n\n            var totalChosenCount = Collections.Bids.find(selector).count();\n            var retChosen = Collections.Bids.find(selector, {\n                sort: {updatedAt: -1}\n            });\n\n            return {\n                resultsChosen: retChosen,\n                totalChosenCount: totalChosenCount\n            };\n        }\n        else return [];\n    },\n    // dataNonChosen : function () {\n    //\n    //     var propertyData = Session.get('propertyData');\n    //     if(!propertyData){\n    //         console.log(\"Empty project data\");\n    //         return false;}\n    //\n    //     var selector = {\n    //         auctionId: propertyData.auctionId,\n    //         isArchived: false,\n    //         chosen:false\n    //     }\n    //\n    //     globlaAuctionId1 = propertyData.auctionId;\n    //     globalAuctionData1 = propertyData.auction;\n    //     /////PAGINATION\n    //     var resultsPerPage = 100;\n    //     var currentPageNo = FlowRouter.current().params.pageno;\n    //     if(!currentPageNo){currentPageNo = 1}\n    //     var skip = (currentPageNo -1) * resultsPerPage;\n    //     var urlBase = 'account/propertyapplications/'+FlowRouter.current().params.id+'/';\n    //\n    //\n    //\n    //     var totalNonChosenCount = Collections.Bids.find(selector).count();\n    //     var resultsNonChosen = Collections.Bids.find(selector, {\n    //         transform: function (doc) {\n    //\n    //             if (doc.auctionId != globlaAuctionId1 || !globalAuctionData1._id) {\n    //                 doc.auction = Collections.Auctions.findOne({\n    //                     _id: doc.auctionId\n    //                 });\n    //             } else {\n    //                 doc.auction = globalAuctionData1;\n    //             }\n    //\n    //             return doc;\n    //         },\n    //         limit: resultsPerPage,\n    //         sort: { updatedAt : -1 },\n    //         skip: skip\n    //     });\n    //\n    //     return {\n    //         resultsNonChosen: resultsNonChosen,\n    //         totalNonChosenCount: totalNonChosenCount,\n    //         pagination: getPaginationData(totalNonChosenCount,currentPageNo,urlBase,resultsPerPage)\n    //     };\n    //\n    // },\n    showFilters: function(){\n        return false;\n    },\n    // propertyData : function () {\n    //     var ret = getpropertyData();\n    //     if(!ret.auctionId){\n    //         var prevRoute = Session.get('prevRoute');\n    //         if(prevRoute){\n    //             FlowRouter.go(prevRoute.name,prevRoute.args)\n    //             Session.set('prevRoute',false);\n    //         }else{\n    //             FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n    //         }\n    //     }\n    //\n    //     Session.set('propertyData',ret);\n    //\n    //     return ret;\n    // },\n    filters:function(){\n        var data = {}//{\"Home Type\":[\"2 BHK\"],\"Floor\":[\"2 to 15\"],\"Price Range\":[\"67.45 to 97.45 \"]}\n        var FILTERS = Session.get('globalFILTERS')\n        var defaultFilters = Session.get('propertyData');defaultFilters = defaultFilters.filter;\n        if( FILTERS['homeType']  ){\n            if(FILTERS['homeType'].length) {\n                if( !isArraysEqual( defaultFilters.homeType , FILTERS['homeType']) )\n                    data['Home Type'] = FILTERS['homeType'];\n            }\n        }\n        if( FILTERS['facing']  ){\n            if(FILTERS['facing'].length) {\n                if( !isArraysEqual( defaultFilters.facing , FILTERS['facing']) )\n                    data['Facing'] = FILTERS['facing'];\n            }\n        }\n        if(  FILTERS['floor'] ){\n            var hasLowerLimit = false, hasUpperLimit = false;\n            var l1 = parseInt(FILTERS['floor'][0]);\n            if(l1 !=0 && l1 != defaultFilters.floor[0])hasLowerLimit = true;\n\n            var l2 = parseInt(FILTERS['floor'][1]);\n            if( l2 != defaultFilters.floor[1])hasUpperLimit = true;\n\n            if(hasLowerLimit && !hasUpperLimit){//Only LowerLimit\n                data['Floor'] = [ 'More than '+l1 ]\n            }else if(!hasLowerLimit && hasUpperLimit){//Only UpperLimit\n                data['Floor'] = [ 'Below '+l2 ]\n            }else if(hasLowerLimit && hasUpperLimit){//Both are there\n                data['Floor'] = [ 'Between '+l1+\" and \"+l2 ]\n            }else{}//Both are not there. So don't show filter.\n\n        }\n\n        if(  FILTERS['priceRange'] ){\n            var hasLowerLimit = false, hasUpperLimit = false;\n            var l1 = parseInt(FILTERS['priceRange'][0]);\n            if(l1 !=0 && l1 != defaultFilters.priceRange[0])hasLowerLimit = true;\n\n            var l2 = parseInt(FILTERS['priceRange'][1]);\n            if( l2 != defaultFilters.priceRange[1])hasUpperLimit = true;\n\n            if(hasLowerLimit && !hasUpperLimit){//Only LowerLimit\n                data['Price Range'] = [ 'More than '+numDifferentiation(l1) ]\n            }else if(!hasLowerLimit && hasUpperLimit){//Only UpperLimit\n                data['Price Range'] = [ 'Below '+numDifferentiation(l2) ]\n            }else if(hasLowerLimit && hasUpperLimit){//Both are there\n                data['Price Range'] = [ 'Between '+numDifferentiation(l1)+\" to \"+numDifferentiation(l2) ]\n            }else{}//Both are not there. So don't show filter.\n\n        }\n        //if( FILTERS['priceRange'] ){\n        //  data['Price Range'] =  [ numDifferentiation(FILTERS['priceRange'][0]) +\" to \"+ numDifferentiation(FILTERS['priceRange'][1]) ]\n        //}\n        applyClearFiltersEvent();\n\n        return {\n            data:data,\n            count: Object.keys(data).length\n        };\n    },\n    // time: function(){\n    //\n    //     var propertyData = Session.get('propertyData');\n    //     var timestamp = TimeSync.serverTime(null, 30000);\n    //     if(!propertyData.auction.endDate || !timestamp)return;\n    //\n    //\n    //     var dend = Date.parse(propertyData.auction.endDate);\n    //     var timeDiff = dend - timestamp ;\n    //     if(timeDiff<0)return false;\n    //\n    //     var day = Math.floor(timeDiff / (1000 * 3600 * 24))\n    //     var hour = Math.floor(timeDiff / (1000 * 3600 ))\n    //     var min = Math.floor(timeDiff / (1000 * 60 ) )\n    //     hour = hour - (day * 24);\n    //     min = min - (day * 24* 60) - (hour * 60);\n    //     return {\"day\":day,\"hour\":hour,\"min\":min}\n    // },\n    isAuctionClosed:function(){\n        // var timestamp = TimeSync.serverTime(null, 30000);\n        var timestamp = new Date();\n        var propertyData = Session.get('propertyData');\n        var dend = Date.parse(propertyData.auction.endDate);\n        var timeDiff = dend - timestamp;\n        if(timeDiff<0){\n            return true;\n        }\n        return false;\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    assistanceAlreadyRequested: function(){\n        //Just to make this reactive\n        var user = Meteor.user();\n        if(user)\n            if(user.profile)\n                if(user.profile.assistanceRequested){\n                    return user.profile.assistanceRequested || Session.get('assistanceRequested');\n                }\n\n        return Session.get('assistanceRequested');\n\n    },\n})\nTemplate.propertyManage.onRendered(function() {\n})\nTemplate.propertyManage.events({\n    \"click .clearFilters\": function (event, template) {\n        //FlowRouter.query.clear();\n\n        console.log('in .clearFilters meteor event')\n        var defaultFilters = Session.get('propertyData');defaultFilters = defaultFilters.filter;\n        $('.filterUnitFacing, .filterUnitType').val('any');\n        resetUISlider(defaultFilters);\n        setFilters(defaultFilters);\n        $.fancybox.close();\n        applyClearFiltersEvent();\n    },\n    \"click .showEditPropertyForm\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{id:FlowRouter.current().params.id, pageno:FlowRouter.current().params.pageno},scrollTo:'body' }\n        Session.set('prevRoute',prevRoute);\n        var propertyData = Session.get('propertyData');\n        FlowRouter.go('account/editproperty',{id:propertyData._id})\n\n    },\n    \"click .backBtn\": function(event, template){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            // FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n            history.back();//PPl can come to this page from many other pages.\n        }\n    },\n    \"click .pdExpandedBtn\": function (event, template) {\n        if(template.pdExpanded.get() )template.pdExpanded.set(false);\n        else template.pdExpanded.set(true);\n    },\n    \"click .enablePMS\":function (event, template) {\n        // console.log('enablePMS clicked');\n        enablingPMS = template.enablingPMS;\n        enablingPMS.set(true) ;\n        Meteor.call('addManageProperty',FlowRouter.current().params.id,function(error, result){\n            enablingPMS.set(false) ;\n            if(error){\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Failed enabling this property. Please try again, try checking your internet connectivity. Contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            if(result.status=='Success'){\n                console.log(\"Success\");\n            }\n        });\n    }\n})\nTemplate.PM_bidList.onCreated(function(){\n    this.choosingInProgress = new ReactiveVar( false );\n    this.unChoosingInProgress = new ReactiveVar( false );\n})\nTemplate.PM_bidList.helpers({\n    user:function(){\n        // debugger;\n        var ret = Meteor.users.find({\n            _id: this.userId\n        }).fetch();\n        return ret[0];\n    },\n    canAfford: function(salary){//This works based on the bid (not rent)\n        if( !this.yourBid){return false;}\n        if(salary*0.4 >= this.yourBid ){\n            return true;\n        }\n        return false;\n    },\n    choosingInProgress: function(){\n        return Template.instance().choosingInProgress.get() ;\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    classBidList:function () {\n        if(this.chosen)return 'active';\n\n        var propertyData = Session.get('propertyData');\n        try {\n            var a = Collections.Auctions.find({_id:propertyData.auction._id}).fetch();\n            propertyData.auction = a[0];\n            if (propertyData.auction.chosenBids.length)return 'archive';\n        }catch (e){}\n        return 'border-top';\n    }\n})\nTemplate.PM_bidList.events({\n    \"click .chooseTenant\": function (event, template) {\n        template.choosingInProgress.set(true);\n        choosingInProgress = template.choosingInProgress\n\n        var r = confirm(\"Are you sure? This will send a confirmation mail to the applicant.\");\n        if (!r){ template.choosingInProgress.set(false);return;}\n\n        Meteor.call('chooseWinning', [this.auctionId, this._id], function(error, result){\n            choosingInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(error.error);\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            console.log(\"Success\");\n\n\n        });\n    },\n    \"click .unChooseTenant\": function (event, template) {\n        template.unChoosingInProgress.set(true);\n        unChoosingInProgress = template.unChoosingInProgress\n\n        var r = confirm(\"Are you sure? This will send a pending mail to the applicant.\");\n        if (!r){ template.unChoosingInProgress.set(false);return;}\n\n        Meteor.call('unChooseWinning', [this.auctionId, this._id], function(error, result){\n            unChoosingInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(error.error);\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            console.log(\"Success\");\n        });\n    },\n    \"click .inviteForViewingBtn\": function (event, template) {\n        var propertyData = Session.get('propertyData');\n        var ret = Meteor.users.find({\n            _id: this.userId\n        }).fetch();\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var today = new Date();\n        var tomorrow = new Date();\n        tomorrow.setDate(today.getDate()+1);tomorrow.setMinutes(0);tomorrow.setSeconds(0);\n        var h = tomorrow.getHours();\n        if(h<9)h=9;else if(h>20)h=20;\n        tomorrow.setHours(h);\n        var inviteDate = tomorrow;\n        try{if(inviteForViewing.inviteDate)inviteDate = inviteForViewing.inviteDate;}catch(e){}\n        Session.set('inviteForViewingData',{user:ret[0],bid:this,inviteDate:inviteDate})\n        $.fancybox({\n            'padding': 0,\n            'href': '#inviteForViewingDlg',\n            afterShow:function () {\n                var inviteForViewing = Session.get('inviteForViewingData');\n                var d = inviteForViewing.inviteDate;var am = ' AM';\n                var df = (d.getMonth()+1)+'/'+d.getDate()+'/'+d.getFullYear()+' '+d.getHours()+':'+d.getMinutes()\n                if(d.getHours()>12)am = ' PM';\n                df = df+am;\n                $('#inviteDate').val(df)\n\n            }\n        });\n    },\n});\nTemplate.PM_propertyList.onCreated(function(){\n    this.expanded = new ReactiveVar( true );\n    this.showAddAuctionForm = new ReactiveVar( false );\n\n})\nTemplate.PM_propertyList.helpers({\n    expanded: function(){\n        return Template.instance().expanded.get() ;\n    },\n    auction: function () {\n        if(this._id) {\n            var ret = Collections.Auctions.find({propertyId:this._id}, {limit: 1})\n            var docs = ret.fetch()\n            return docs[0];\n        }\n        else return [];\n    },\n    showAddAuctionForm: function () {\n        // debugger;\n        if(Session.get('hideAddAuctionForm') && Session.get('auctionId')==this.auctionId){\n            Template.instance().showAddAuctionForm.set(false);\n            Session.set('auctionId',\"\")\n            Session.set('hideAddAuctionForm',false)\n        }\n\n        return Template.instance().showAddAuctionForm.get();\n    },\n    numDifferentiation: function(data){\n        return numDifferentiation(data);\n    },\n    lettingprintviewData:function () {\n        if(!this.auction)return {key:\"\"}\n        return {key:this.auction.lettingAuctionCode}\n    },\n    chosenTenantCount:function(){\n        var PropertyManage = Session.get('PropertyManage');\n        if(PropertyManage.tenants) {\n            return PropertyManage.tenants.length;\n        }\n        else {\n            return 0;\n        }\n    },\n    PropertyManage:function(){\n        return Session.get('PropertyManage');\n    }\n})\nTemplate.PM_propertyList.events({\n    \"click .prev_activations\": function (event, template) {\n        scrollTo('#activity_history_area',0,300)\n    },\n    \"click .viewTenants\": function (event, template) {\n        scrollTo('#viewTenantsArea',0,300)\n    },\n    \"click .showEditPropertyForm\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{pageno:FlowRouter.current().params.pageno} }\n        Session.set('prevRoute',prevRoute);\n\n        FlowRouter.go('account/editproperty',{id:this._id})\n\n    },\n    \"click .hideAddAuctionForm\": function (event, template) {\n        if(template.showAddAuctionForm.get() )template.showAddAuctionForm.set(false);\n        propId = this._id;\n        scrollTo('#property_'+propId,0,700)\n\n    },\n    \"click .viewApplications\": function (event, template) {\n        var prevRoute = {name: FlowRouter.current().route.name,args:{pageno:FlowRouter.current().params.pageno} }\n        Session.set('prevRoute',prevRoute);\n\n        FlowRouter.go(\"account/propertyApplications\",{id:this._id});\n    },\n    \"click .showCopyDlg\": function (event, template) {\n        let user = Meteor.user();\n        let sluggedName = slugifyEmailAddress(user.profile.name);\n        if(!sluggedName)sluggedName = 'rent'\n        let email = sluggedName+'-let-'+this.auction.lettingAuctionCode.toLowerCase()+\"@spotmycrib.ie\";\n        $('#agentPropertyEmailField').val(email);\n\n        var url = FlowRouter.url('letting',{key:this.auction.lettingAuctionCode})\n        $('#propertyLinkField').val(url);\n        $.fancybox({\n            'padding': 0,\n            'href': '#propertyLinkDlg',\n            afterShow:function(template){\n                $('#agentPropertyEmailField').select();\n                $('#propertyLinkDlg .copyEmailBtn').unbind().bind('click',function () {\n                    $('#agentPropertyEmailField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'managePropertyPage', 'copyShareEmail', 'copyShareEmail Btn Clicked');\n                })\n                $('#propertyLinkDlg .copyLinkBtn').unbind().bind('click',function () {\n                    $('#propertyLinkField').select();\n\n                    try {\n                        var successful = document.execCommand('copy');\n                        var msg = successful ? 'successful' : 'unsuccessful';\n                        // console.log('Copying text command was ' + msg);\n                        $.fancybox.close()\n                    } catch (err) {\n                        console.log('Oops, unable to copy');\n                    }\n                    ga('send', 'event', 'managePropertyPage', 'copyShareLink', 'copyShareLink Btn Clicked');\n                })\n                $('#propertyLinkDlg .cancelBtn').unbind().bind('click',function () {\n                    $.fancybox.close()\n                })\n            },\n        });\n\n    },\n});\n\ninviteInProgress='';\nTemplate.addTenantDlg.onCreated(function () {\n    console.log('invite for viewing created');\n    this.inviteInProgress = new ReactiveVar( false );\n    inviteInProgress = this.inviteInProgress;\n})\nTemplate.addTenantDlg.helpers({\n    data:function () {\n        return Session.get('inviteForViewingData');\n    },\n    inviteInProgress:function () {\n        inviteInProgress = Template.instance().inviteInProgress ;\n        return Template.instance().inviteInProgress.get() ;\n    },\n    inviteDateFormated:function () {\n        var inviteForViewing = Session.get('inviteForViewingData');\n        var options = {\n            weekday: \"long\", year: \"numeric\", month: \"short\",\n            day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\"\n        };\n        try{var d=inviteForViewing.inviteDate; return d.toLocaleTimeString(\"en-us\", options); }catch(e){}\n        return ;\n    },\n    propertyData:function () {\n        return  Session.get('propertyData');\n    }\n})\nTemplate.addTenantDlg.events({\n    'change .inviteDate':function (event, template) {\n        var d = new Date($('.inviteDate').val());\n        var inviteForViewing = Session.get('inviteForViewingData');\n        try{ inviteForViewing.inviteDate=d; Session.set('inviteForViewingData',inviteForViewing) }catch(e){}\n\n    },\n    'click .confirmInviteBtn':function () {\n\n        var inviteDate = $('.inviteDate').val()\n        var inviteMessage = $('.inviteMessage').val()\n        console.log(inviteDate)\n        var inviteForViewing = Session.get('inviteForViewingData');\n\n\n        inviteInProgress.set(true) ;\n        Meteor.call('sendInviteForViewingEmail',[inviteForViewing.bid._id,inviteDate],function(error, result){\n            inviteInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            if(result.status=='Success'){\n                console.log(\"Success\");\n                closePopupEvent()\n            }\n        });\n\n    },\n    'click .closePopupBtn':function () {\n        closePopupEvent()\n    }\n})\nTemplate.addTenantDlg.onRendered(function () {\n    console.log('inviteForViewing rendered')\n    //Needs to be optimised, this is not the right place to put this code, might cause JS errors if Jquery isn' loaded yet.\n    try{\n        this.$('#inviteDate').datetimepicker();\n\n\n\n        this.$('#moveindate').datetimepicker();\n    }catch(err){\n        console.log('dp failed');\n    }\n})\nTemplate.activity_history.onCreated(function () {\n    this.loadingMoreText = new ReactiveVar( true );\n    var resultsPerPage = Session.get('resultsPerPage');\n    if(!resultsPerPage)Session.set('resultsPerPage',50)\n})\nTemplate.activity_history.helpers({\n    data : function () {\n        var user = Meteor.user();\n        if (!user) {\n            Template.instance().loadingMoreText.set(false);\n            return {\n                results: [],\n                totalResultsCount: 0\n            }\n        }\n\n        var id = FlowRouter.current().params.id;\n        if(!id) {\n            Template.instance().loadingMoreText.set(false);\n\n            return {\n                results: [],\n                totalResultsCount: 0\n            }\n        }\n        var selector = {propertyId:id};//let limit = 10;\n        // debugger;\n\n        // var FILTERS = Session.get('prop_activation_filters')\n        // var defaultFilters = getDefaultFilters();\n\n        // var arr = [];\n        // if(  FILTERS['homeType'] ){\n        //     if(FILTERS['homeType'].length) {\n        //         if(FILTERS['homeType'].length != defaultFilters.homeType.length)\n        //             selector['homeType'] = FILTERS['homeType'][0]\n        //         /*\n        //          // var arr = [];\n        //          for (var i = 0; i < FILTERS['homeType'].length; i++) {\n        //          arr.push({\"homeType\": FILTERS['homeType'][i]})\n        //          console.log(\"homeType\"+ FILTERS['homeType'][i])\n        //          }*/\n        //         // selector['$or'] = arr;//BUG: this or will over write or of facing; or of homeType will collide with this and\n        //         // while logic won't work\n        //\n        //     }\n        // }\n        // if(  FILTERS['facing'] ){\n        //     if(FILTERS['facing'].length) {\n        //         if(FILTERS['facing'].length != defaultFilters.facing.length)\n        //             selector['facing'] = FILTERS['facing'][0]\n        //         /*\n        //          var arr = [];\n        //          for (var i = 0; i < FILTERS['facing'].length; i++) {\n        //          arr.push({\"facing\": FILTERS['facing'][i]})\n        //          }\n        //          // selector['$or'] = arr;//BUG: this or will over write or of homeType; or of homeType will collide with this and\n        //          // while logic won't work\n        //          */\n        //     }\n        // }\n        // if(arr.length){\n        //     selector['$or'] = arr;\n        // }\n        // if( FILTERS['floor'] ){\n        //     var val_l = FILTERS['floor'][0];\n        //     var val_h = FILTERS['floor'][1];\n        //\n        //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n        //\n        //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n        //         selector['floorLevel'] =  { $gte: parseInt(val_l) }\n        //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n        //         selector['floorLevel'] =  { $lte: parseInt(val_h) }\n        //     }else{//Both are valid\n        //         selector['floorLevel'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n        //     }\n        // }\n        // if( FILTERS['priceRange'] ){\n        //     var val_l = FILTERS['priceRange'][0];\n        //     var val_h = FILTERS['priceRange'][1];\n        //\n        //     if(isNaN(val_l) && isNaN(val_h)){//Both are not valid numbers\n        //\n        //     }else if(!isNaN(val_l) && isNaN(val_h)){//Low is valid and no upper\n        //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l) }\n        //     }else if(isNaN(val_l) && !isNaN(val_h)){//Upper is valid and no lower\n        //         selector['priceBreakUp.totalAllInclusive'] =  { $lt: parseInt(val_h) }\n        //     }else{//Both are valid\n        //         selector['priceBreakUp.totalAllInclusive'] =  { $gte: parseInt(val_l), $lte: parseInt(val_h) }\n        //     }\n        // }\n\n        /////PAGINATION\n        // var resultsPerPage = 20;\n        // var currentPageNo = FlowRouter.current().params.pageno;\n        // if(!currentPageNo){currentPageNo = 1}\n        // var skip = (currentPageNo -1) * resultsPerPage;\n        // var urlBase = 'account/myproperies/';\n\n\n        var totalResultsCount = Collections.ActivityHistory.find(selector).count()\n\n        var ret = Collections.ActivityHistory.find(selector, {\n            limit: Session.get('resultsPerPage'),\n            sort: { createdAt : -1 }\n            // skip: skip\n        });\n        Template.instance().loadingMoreText.set(false);\n        return {\n            results: ret,\n            totalResultsCount:totalResultsCount\n        };\n    },\n    loadingMoreText: function(){\n        return Template.instance().loadingMoreText.get() ;\n    },\n    decideTemplate:function (type) {\n\n    }\n})\nTemplate.activity_history.events({\n    'click .load_more':function (event, template) {\n        Template.instance().loadingMoreText.set(true);\n        var resultsPerPage = Session.get('resultsPerPage');\n        resultsPerPage*=2;\n        Session.set('resultsPerPage',resultsPerPage)\n        var id = FlowRouter.current().params.id\n        Meteor.subscribe(\"ActivityHistory\",{limit: resultsPerPage,id:id})\n    }\n})\nTemplate.activity_history.onRendered(function () {\n    Template.instance().loadingMoreText.set(false);\n})\nfunction attachEvents() {\n    $(\".deactivateConfirmBtn\").unbind().bind(\"click\",function () {\n        deactivateConfEvent();\n    })\n    $(\".closePopupBtn\").unbind().bind(\"click\",function () {\n        closePopupEvent();\n    })\n}\nfunction deactivateConfEvent() {\n    var data = Session.get(\"propertyData\");\n    var auctionId = data.auctionId;\n\n    deactivateInProgress.set(true) ;\n    Meteor.call('deactivateAuction',auctionId,function(error, result){\n        deactivateInProgress.set(false) ;\n        if(error){\n            console.log(error);\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            tmp.push(\"Failed deactivating. Please try again, try checking your internet connectivity. Contact us if needed.\");\n            Session.set(\"showErrorDlg\",tmp)\n            return;\n        }\n        console.log(\"Success\");\n\n        closePopupEvent();\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n        }\n\n    });\n}\nfunction closePopupEvent() {\n    console.log('closePopupEvent');\n    if($)\n        if($.fancybox)\n            $.fancybox.close();\n}\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction slugifyEmailAddress (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§/_,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '.')           // Replace spaces with \".\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        // .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}","/**\n * Created by njanjanam on 20/05/2017.\n */\nupdateGalleriesInServer = function (editPropertyImages, propertyId, callback){\n    if(!editPropertyImages||!propertyId)return;\n    var tmp = [], arr=[];\n    if(editPropertyImages.length) {\n        for (var i = 0; i < editPropertyImages.length; i++) {\n            if(editPropertyImages[i].name){//Means file is not coming from our traditional file uploader\n                tmp.push(editPropertyImages[i])\n            }else{//Else its insert properties form\n                tmp.push({\n                    name: editPropertyImages[i].file.original_name,\n                    relative_url: editPropertyImages[i].relative_url,\n                    url: editPropertyImages[i].secure_url\n                })\n            }\n\n\n        }\n    }\n    console.log(tmp);\n    Meteor.call('updateGalleries', [propertyId, tmp], callback);\n}\nupdateGalleriesInProfile = function (editPropertyImages, callback){\n    if(!editPropertyImages)return;\n    var tmp = [], arr=[];\n    if(editPropertyImages.length) {\n        for (var i = 0; i < editPropertyImages.length; i++) {\n            if(editPropertyImages[i].name){//Means file is not coming from our traditional file uploader\n                tmp.push(editPropertyImages[i])\n            }else{//Else its insert properties form\n                tmp.push({\n                    name: editPropertyImages[i].file.original_name,\n                    relative_url: editPropertyImages[i].relative_url,\n                    url: editPropertyImages[i].secure_url\n                })\n            }\n        }\n    }\n    console.log(tmp);\n    Meteor.call('updateGalleriesInUserProfile', tmp, callback);\n}","import \"./profile.js\";\nimport \"./tenant.html\";\n\nTemplate.tenant.onCreated(function(){\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        instance.subscribe('userData');//works only if viewing your profile\n        instance.subscribe('userDataUsername',FlowRouter.getParam('username'));//works if viewing your profile and others\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n\n})\nTemplate.tenant.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    isViewingHisProfile:function () {\n        var currentUser =  Accounts.user();\n        var username = FlowRouter.getParam('username');\n        try{if(currentUser.profile.username==username)return true;}catch(e){}\n        return false;\n    },\n    isPublicProfile:function(){\n        var username = FlowRouter.getParam('username');\n        var u1 = Meteor.users.findOne({ \"profile.username\":username },{limit:1});\n\n        try{if(u1.profile.isPublic){\n            clearMeta();\n            DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"View and download \"+titleCase(u1.profile.name) + \"'s references.\"});\n            return true;\n        }}catch(e){}\n        return false;\n    },\n    userFound:function(){\n        var username = FlowRouter.getParam('username');\n        var u1 = Meteor.users.findOne({ \"profile.username\":username },{limit:1});\n        if(u1)return true;\n\n        clearMeta();\n        DocHead.setTitle(' User not found | SpotMyCrib');\n        DocHead.addMeta({name: \"description\", content: \"\"});\n        return false;\n    },\n    userFirstName:function(){\n        var username = FlowRouter.getParam('username');\n        var u1 = Meteor.users.find({ \"profile.username\":username },{limit:1}).fetch();\n        try{\n            clearMeta();\n            DocHead.setTitle(titleCase(u1.profile.name) + '\\'s profile | Teanat Profile SpotMyCrib');\n            DocHead.addMeta({name: \"description\", content: \"\"});\n            var tmp = u1.profile.name.split(' ');\n            return tmp[0];\n        }catch(e){}\n        return 'Tenant'\n    },\n    user:function(){\n        var username = FlowRouter.getParam('username');\n        return Meteor.users.find({ \"profile.username\":username },{limit:1});\n    }\n})\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}","import \"./pagination.html\";\nimport \"./tenants.html\";\n\nTemplate.tenants.onCreated(function(){\n\n    var instance = this;\n    instance.isSubsLoaded = new ReactiveVar(false);\n    instance.autorun(function(){\n\n        instance.subscribe('userData');\n        var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n        instance.subscribe(\"tenants\",pageno) ;\n\n        if(instance.subscriptionsReady()){\n            instance.isSubsLoaded.set(true)\n        }\n    })\n\n})\nTemplate.tenants.helpers({\n    isSubsLoaded:function(){\n        return Template.instance().subscriptionsReady();\n    },\n    userLoggedIn:function(){\n        if(Meteor.user())return true;\n        return false;\n    },\n    dataFull:function(){\n        var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n        var totalResultsCount = Meteor.users.find().count();\n\n        /////PAGINATION\n        var resultsPerPage = 10;\n        var currentPageNo = FlowRouter.getParam('pageno');\n        if(!currentPageNo){currentPageNo = 1}\n        var urlBase = 'tenants/';\n\n        return {\n            totalResultsCount:totalResultsCount,\n            results: Meteor.users.find(),\n            pagination: getPaginationData(totalResultsCount,currentPageNo,urlBase,resultsPerPage)\n        }\n    }\n})\nTemplate.tenantList.helpers({\n    userFirstName:function(){\n        try{\n            var tmp = this.user.profile.name.split(' ');\n            return tmp[0];\n        }catch(e){}\n    }\n})\nTemplate.tenantList.events({\n    'click .inviteToApply':function(event, template){\n        ga('send', 'event', 'tenantsPage', 'inviteToApplyBtnClicked', 'Invite To Apply Btn Clicked');\n        var user = Meteor.user();\n        if(!user){//Login is needed.\n            Session.set('showForgotForm',false)\n            Session.set('showSignupForm',false)\n            Session.set('showLoginSignupFancyBoxDialog',true)\n            Session.set('showLoginDialog',true)\n            return ;\n        }\n        Session.set('inviteToApplyData',{user:this.user})\n        $.fancybox({\n            'padding': 0,\n            'href': '#inviteToApplyDlg',\n            // afterShow:function () {}\n        });\n    }\n})\ninviteInProgress='';\nTemplate.inviteToApply.onCreated(function () {\n    this.inviteInProgress = new ReactiveVar( false );\n    inviteInProgress = this.inviteInProgress;\n    Meteor.subscribe('inviteToApply.MyActiveAdvertisements')\n})\nTemplate.inviteToApply.helpers({\n    data:function(){\n      return Session.get('inviteToApplyData');\n    },\n    myAdvertisements:function(){\n        var select = {\n            \"isArchived\":false,\n            \"createdByAgent\":Meteor.userId()\n        };\n        var totalResultsCount = Collections.Auctions.find(select).count();\n        return {\n            totalResultsCount:totalResultsCount,\n            results: Collections.Auctions.find(select)\n        }\n    },\n    userFirstName:function(){\n        var data = Session.get('inviteToApplyData');\n        try{\n            var tmp = data.user.profile.name.split(' ');\n            return tmp[0];\n        }catch(e){}\n    },\n    inviteInProgress:function () {\n        // console.log('h 1 ')\n        // console.log(Template.instance().inviteInProgress.get())\n        inviteInProgress = Template.instance().inviteInProgress ;\n        return Template.instance().inviteInProgress.get() ;\n    },\n})\nTemplate.inviteToApply.events({\n    'click .advertiseMyProperty':function(){\n        closePopupEvent();\n        FlowRouter.go('account/myProperties');\n    },\n    'click .confirmInviteBtn':function () {\n        var selectedAdvertisements = [];\n        $.each($(\".selectedAdvertisements option:selected\"), function(){\n            selectedAdvertisements.push($(this).val());\n        });\n        if(!selectedAdvertisements.length){\n            alert('Please choose at least 1 advertisement to proceed');return;\n        }\n\n        var data = Session.get('inviteToApplyData');\n        inviteInProgress.set(true) ;\n        Meteor.call('sendInviteToApplyEmail',[selectedAdvertisements,data.user._id],function(error, result){\n            inviteInProgress.set(false) ;\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            if(result.status=='Success'){\n                console.log(\"Success\");\n                closePopupEvent()\n            }\n        });\n\n    },\n    'click .closePopupBtn':function () {\n        closePopupEvent()\n    }\n})\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction getPaginationData(totalResultsCount,currentPageNo,urlBase, resultsPerPage){\n    var pages = [], prevPage = {}, nextPage={};\n    var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage)\n    if(pgMin<1)pgMin =1;\n    if(pgMax<1)pgMax =1;\n    if(maxPages<1)maxPages =1;\n    if(pgMin>maxPages)currentPageNo =maxPages;\n    var tmp={};\n    for (var i=pgMin; i<=maxPages;i++){\n        var href = urlBase+i+\"/\";\n        tmp = {\n            \"href\": href,\n            \"text\": i\n        }\n        if(i== currentPageNo) {\n            tmp['href'] = 'javascript:void(0);';\n            tmp['current'] = true;\n        }\n        pages.push(tmp)\n    }\n    // if(pgMin==maxPages){//Above loop won't work if only 1 page result\n    //     pages.push({\n    //         \"href\": 'javascript:void(0);',\n    //         \"text\": 1\n    //     })\n    // }\n    var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n    if(prevPageNo<1){\n        prevPage['href'] = 'javascript:void(0)';\n        prevPage['text'] = 'Previous';\n        prevPage['disabled'] = 'disabled';\n    }else{\n        prevPage['href'] = urlBase+prevPageNo+\"/\";\n        prevPage['text'] = 'Previous';\n    }\n    if(nextPageNo>maxPages)nextPageNo =maxPages;\n    if(nextPageNo == currentPageNo){\n        nextPage['href'] = 'javascript:void(0)';\n        nextPage['text'] = 'Next';\n        nextPage['disabled'] = 'disabled';\n    }else{\n        nextPage['href'] = urlBase+nextPageNo+\"/\";\n        nextPage['text'] = 'Next';\n    }\n    return {\n        \"prevPage\":prevPage,\n        \"pages\":pages,\n        \"nextPage\": nextPage\n    }\n}\nfunction closePopupEvent() {\n    console.log('closePopupEvent');\n    if($)\n        if($.fancybox)\n            $.fancybox.close();\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport {LoginFormMessages,SocialLoginButtonsT} from \"./MainLayoutHeader\";\n\nexport class LoginFormSignInView extends Component{\n  constructor(props){\n      super(props);\n      if(!props.onPage)props.onPage=false;\n      this.state = {\n          isLoading:true,\n          formMessages:{\n              errors:[]\n          }\n      }\n      // this.forgotPwdHandler = this.forgotPwdHandler.bind(this)\n      this.signInHandler = this.signInHandler.bind(this)\n      // this.signUpHandler = this.signUpHandler.bind(this)\n  }\n  componentDidMount(){\n      $('#signin-div').find('#email').focus();\n      $('.new-focus').click(function(){\n          $('#signin-div').find('#email').focus();\n      });\n      this.setState({isLoading:false})\n  }\n    signInHandler(event){\n        event.preventDefault();\n\n        let usernameInput = $(\".login-input-email-LoginFormSignInView\");\n        let passwordInput = $(\".login-input-password-LoginFormSignInView\");\n\n        let username = usernameInput.val().trim();\n        let password = passwordInput.val().trim();\n\n        let validatedEmail = LoginFormValidation.email(username);\n        let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"exists\"});\n\n        var errors = []\n\n        this.setState({formMessages:{}})\n        this.setState({isLoading:true})\n\n        if (validatedEmail !== true) {\n            errors.push(validatedEmail);\n        }\n\n        if (validatedPassword !== true) {\n            errors.push(validatedPassword);\n        }\n\n        if (errors.length) {\n            this.setState({formMessages:{errors: errors}})\n            this.setState({isLoading:false})\n            return;\n        }\n\n        this.loginCallBack = (error) => {\n            fbq('track', 'EmailUserLogin'+ (error ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Email Login '+ (error ? \"Failed\" : \"Successful\"));\n\n            this.setState({isLoading:false})\n            if (error) {\n                console.log(error)\n                if(error.reason=='User has no password set' || error.reason=='User not found'){\n                    this.isSocialAccountCallback = function (err1,result) {\n                        if(err1) this.setState({formMessages:{errors: [err1]}})\n                        else this.setState({formMessages:{info: [result]}})\n                    }\n                    this.isSocialAccountCallback = this.isSocialAccountCallback.bind(this);\n                    Meteor.call('isSocialAccount',username,this.isSocialAccountCallback)\n                }\n\n                // Show some error messages above the form fields\n                this.setState({formMessages:{errors: [error]}})\n            } else {\n                var isOnPage = false;\n\n                if(this.props.onPage)isOnPage = true;\n\n                if( !isOnPage ){\n                    $('#signin-div , .fancybox-overlay').hide()\n                    Session.set('showLoginDialog',false)\n                    Session.set('showSignupDialog',false)\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n                Meteor.call(\"userLoggedIn\");\n            }\n        }\n        this.loginCallBack = this.loginCallBack.bind(this)\n        Meteor.loginWithPassword(username, password, this.loginCallBack);\n    }\n    // signUpHandler(){\n    //     Session.set('showForgotForm',false)\n    //     Session.set('showSignupForm',true)\n    //     Session.set('showLoginSignupFancyBoxDialog',true)\n    //     Session.set('showLoginDialog',true)\n    // }\n    // forgotPwdHandler(){\n    //     var isOnPage = false;\n    //     if(this.props.onPage)isOnPage = true;\n    //     if( !isOnPage ){\n    //         Session.set('showForgotForm',true)\n    //         Session.set('showSignupForm',false)\n    //         Session.set('showLoginSignupFancyBoxDialog',true)\n    //         Session.set('showLoginDialog',true)\n    //     }else{\n    //         Session.set('showForgotForm',true)\n    //     }\n    // }\n  render(){\n      return (\n<div>\n    <div className=\"refund-div\"><h2>Sign In {this.props.loginFromApplyNowBtn ? \"Required\":\"\"}</h2></div>\n    {this.props.loginFromApplyNowBtn ? (\n        <p className={\"color-text info-msg-text\"}>Login is required to apply for this property. Quickly use the options below to Login or Create yourself an account.</p>\n    ):\"\"}\n    <div className=\"profile-text\" style={{paddingTop:'20px'}}>\n        {this.props.onPage ? \"\" : (\n            <div>\n                <SocialLoginButtonsT buttonFor='login' usedInDlg={true}/>\n                <div className=\"seperator\" style={{margin: '0 0 30px 0px'}}><span></span></div>\n            </div>\n        )}\n\n        <h5>Enter your email and password below</h5>\n\n        <form className=\"signin-form\">\n            <div className=\"form-border\">\n\n                <div className={\"styled-input  \"+ (this.state.formMessages.errors ? this.state.formMessages.errors.email ? \"has-error has-feedback\" : \"\" : \"\") }>\n                    <input autoComplete=\"email\" type=\"email\" name=\"email\" required htmlFor=\"email-loginFormSignInView\"\n                           className=\"login-input-email-LoginFormSignInView\"/>\n                    <label htmlFor=\"email-loginFormSignInView\">EMAIL ID</label>\n                    <span></span>\n                </div>\n\n                <div className={\"styled-input underline \"+ (this.state.formMessages.errors ? this.state.formMessages.errors.password ? \"has-error has-feedback\" : \"\" : \"\") }>\n                    <input autoComplete=\"current-password\" type=\"password\" name=\"password\"\n                           className=\"login-input-password-LoginFormSignInView\" required htmlFor=\"password-loginFormSignInView\"/>\n                    <label htmlFor=\"password-loginFormSignInView\">PASSWORD</label>\n                    <span></span>\n                </div>\n\n\n            </div>\n            <LoginFormMessages messages={this.state.formMessages} />\n\n            <div className=\"signup-btn\">\n                {this.state.isLoading ? (\n                    <button className=\"transparent-btn btns\">Loading...</button>\n                ):(\n                    <button className=\"blue-btn btns\" type=\"submit\" data-event-action=\"submitSignInForm\" onClick={this.signInHandler}>SIGN IN</button>\n                )}\n                <h5 data-event-action=\"forgotPassword\" onClick={this.props.showForgotFormHandler}>Forgot password?</h5>\n                {this.props.onPage ? \"\" : (\n                    <h6>Not registered? <span style={{color: '#0c68a7'}} data-event-action=\"signUp\"  onClick={this.props.showSignupFormHandler}>Sign Up now</span></h6>\n                )}\n            </div>\n\n        </form>\n    </div>\n</div>\n      )\n  }\n};\n\nexport class LoginFormSignUpView extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            isLoading:true,\n            formMessages:{\n                errors:[]\n            }\n        }\n        this.forgotPwdHandler = this.forgotPwdHandler.bind(this)\n        // this.signInHandler = this.signInHandler.bind(this)\n        this.signUpHandler = this.signUpHandler.bind(this)\n    }\n    componentDidMount(){\n        $(\".SignupFormMobileField\").intlTelInput({\n            preferredCountries:[\"ie\",\"gb\",'in']\n        });\n\n        $('#signin-div').find('#name').focus();\n        $('.new-focus').click(function(){\n            $('#signin-div').find('#name').focus();\n        });\n        this.setState({isLoading:false})\n    }\n    // signInHandler(){\n    //     Session.set('showForgotForm',false)\n    //     Session.set('showSignupForm',false)\n    //     Session.set('showLoginSignupFancyBoxDialog',true)\n    //     Session.set('showLoginDialog',true)\n    // }\n    signUpHandler(event){\n        event.preventDefault();\n\n        // var usernameInput = $(\".login-input--username\");\n        let emailInput = $(\".login-input-email-LoginFormSignUpView\");\n        let passwordInput = $(\".login-input-password-LoginFormSignUpView\");\n        let fullNameInput = $(\".login-input-fullName-LoginFormSignUpView\");\n        let mobileInput = $(\".login-input-mobile-LoginFormSignUpView\");\n\n        let email = emailInput.val().trim();\n        let password = passwordInput.val().trim();\n        let fullName = fullNameInput.val().trim();\n        let mobile = mobileInput.val().trim();\n\n        let validatedEmail = LoginFormValidation.email(email);\n        let validatedFullName = LoginFormValidation.username(fullName);\n        let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"length\"});\n        let validatedMobile = LoginFormValidation.mobile(mobile);\n\n        var errors = []\n\n        this.setState({formMessages:{}})\n        this.setState({isLoading:true})\n\n\n        if (validatedEmail !== true) {\n            errors.push(validatedEmail);\n        }\n\n        if (validatedFullName !== true) {\n            errors.push(validatedFullName);\n        }\n\n        if (validatedMobile !== true) {\n            errors.push(validatedMobile);\n        }\n\n        if (validatedPassword !== true) {\n            errors.push(validatedPassword);\n        }\n\n        if (errors.length) {\n            this.setState({formMessages:{errors: errors}})\n            this.setState({isLoading:false})\n            return;\n        }\n\n        let newUserData = {\n            // username: username,\n            email: email,\n            password: password,\n            profile:{\n                name:fullName,\n                email: email,\n                mobile:mobile\n            }\n        };\n        this.createUserCallback = function (error, result) {\n            fbq('track', 'EmailUserSignup'+ (error ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Email Signup '+ (error ? \"Failed\" : \"Successful\"));\n\n            this.setState({isLoading:false})\n            if (error) {\n                // Show some error message\n                this.setState({formMessages:{errors: [error]}})\n            } else {\n                var isOnPage = false;\n                if(this.props.onPage)isOnPage = true;\n                if( !isOnPage ){\n                    $('#signin-div , .fancybox-overlay').hide()\n                    Session.set('showLoginDialog',false)\n                    Session.set('showSignupDialog',false)\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                }\n\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.createUserCallback = this.createUserCallback.bind(this);\n        Accounts.createUser(newUserData, this.createUserCallback);\n    }\n    forgotPwdHandler(){\n        var isOnPage = false;\n        if(this.props.onPage)isOnPage = true;\n        if( !isOnPage ){\n            Session.set('showForgotForm',true)\n            Session.set('showSignupForm',false)\n            Session.set('showLoginSignupFancyBoxDialog',true)\n            Session.set('showLoginDialog',true)\n        }else{\n            Session.set('showForgotForm',true)\n        }\n    }\n    render(){\n        return (\n            <div>\n                <div className=\"refund-div\"><h2>Sign Up {this.props.loginFromApplyNowBtn ? \"Required\":\"\"}</h2></div>\n                {this.props.loginFromApplyNowBtn ? (\n                    <p className={\"color-text info-msg-text\"}>Login is required to apply for this property. Quickly use the options below to Login or Create yourself an account.</p>\n                ):\"\"}\n                <div className=\"profile-text\" style={{paddingTop:'20px'}}>\n                    {this.props.onPage ? \"\" : (\n                        <div>\n                            <SocialLoginButtonsT buttonFor='signup' usedInDlg={true}/>\n                            <div className=\"seperator\" style={{margin: '0 0 30px 0px'}}><span></span></div>\n                        </div>\n                    )}\n\n                    <h5>Enter your details below</h5>\n                    <form className=\"signin-form\">\n                        <div className=\"form-border\">\n\n                            <div className=\"styled-input\">\n                                <input autoComplete=\"name\" className=\"login-input-fullName-LoginFormSignUpView\" type=\"text\" name=\"name\"\n                                       required htmlFor=\"email-loginFormSignUpView\"/><br/>\n                                <label htmlFor=\"email-loginFormSignUpView\">FULL NAME</label>\n                                <span></span>\n                            </div>\n\n                            <div className=\"styled-input\">\n                                <input autoComplete=\"email\" className=\"login-input-email-LoginFormSignUpView\" type=\"email\" name=\"email\"\n                                       required htmlFor=\"email-loginFormSignUpView\"/>\n                                <label htmlFor=\"email-loginFormSignUpView\">EMAIL ID</label>\n                                <span></span>\n                            </div>\n\n                            <div className=\"styled-input\">\n                                <input autoComplete=\"new-password\" className=\"login-input-password-LoginFormSignUpView\" type=\"password\"\n                                       name=\"password\" required htmlFor=\"password-loginFormSignUpView\"/>\n                                <label htmlFor=\"password-loginFormSignUpView\">PASSWORD</label>\n                                <span></span>\n                                {this.state.formMessages.errors ? this.state.formMessages.errors.password ? (\n                                    <span className=\"help-block\">\n                                    {\n                                        this.state.formMessages.errors.password.map(function (p, i) {\n                                            return (<p key={i}>{p.reason}</p>)\n                                        })\n                                    }\n                                    </span>\n                                ) : \"\" : \"\"}\n                            </div>\n\n                            <div className=\"styled-input\">\n                                <input autoComplete=\"tel\" className=\"login-input-mobile-LoginFormSignUpView SignupFormMobileField\"\n                                       type=\"text\" name=\"mobile\" htmlFor=\"mobile-loginFormSignUpView\"/>\n                                <label htmlFor=\"mobile-loginFormSignUpView\">MOBILE</label>\n                                <span></span>\n                            </div>\n\n                        </div>\n                        <LoginFormMessages messages={this.state.formMessages} />\n\n                        <div className=\"signup-btn\">\n                            {this.state.isLoading ? (\n                                <button className=\"transparent-btn btns\">Loading...</button>\n                            ):(\n                                <button className=\"blue-btn btns\" type=\"Submit\" data-event-category=\"accounts\" data-event-action=\"register\"  onClick={this.signUpHandler}>SIGN UP</button>\n                            )}\n                            {this.props.onPage ? \"\" : (\n                                <p>Already have an account? <a href=\"javascript:;\"><span style={{color: '#0c67a6'}} data-event-category=\"accounts\" data-event-action=\"signIn\"  onClick={this.props.showSignInFormHandler}>Sign In</span></a></p>\n                            )}\n                        </div>\n\n                    </form>\n\n                </div>\n            </div>\n        )\n    }\n};\n\nexport class LoginFormSignUpViewLandlord extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            isLoading:true,\n            formMessages:{\n                errors:[]\n            }\n        }\n        this.forgotPwdHandler = this.forgotPwdHandler.bind(this)\n        this.signInHandler = this.signInHandler.bind(this)\n        this.signUpHandler = this.signUpHandler.bind(this)\n    }\n    componentDidMount(){\n        $(\".SignupFormMobileField\").intlTelInput({\n            preferredCountries:[\"ie\",\"gb\",'in']\n        });\n\n        $('#signin-div').find('#name').focus();\n        $('.new-focus').click(function(){\n            $('#signin-div').find('#name').focus();\n        });\n        this.setState({isLoading:false})\n    }\n    signInHandler(){\n        Session.set('showForgotForm',false)\n        Session.set('showSignupForm',false)\n        Session.set('showLoginSignupFancyBoxDialog',true)\n        Session.set('showLoginDialog',true)\n    }\n    signUpHandler(event){\n        event.preventDefault();\n\n        // var usernameInput = $(\".login-input--username\");\n        let emailInput = $(\".login-input-email-LoginFormSignUpViewLandlord\");\n        let passwordInput = $(\".login-input-password-LoginFormSignUpViewLandlord\");\n        let fullNameInput = $(\".login-input-fullName-LoginFormSignUpViewLandlord\");\n        let mobileInput = $(\".login-input-mobile-LoginFormSignUpViewLandlord\");\n\n        let email = emailInput.val().trim();\n        let password = passwordInput.val().trim();\n        let fullName = fullNameInput.val().trim();\n        let mobile = mobileInput.val().trim();\n\n        let validatedEmail = LoginFormValidation.email(email);\n        let validatedFullName = LoginFormValidation.username(fullName);\n        let validatedPassword = LoginFormValidation.password(password, {validationLevel: \"length\"});\n        let validatedMobile = LoginFormValidation.mobile(mobile);\n\n        var errors = []\n\n        this.setState({formMessages:{}})\n        this.setState({isLoading:true})\n\n\n        if (validatedEmail !== true) {\n            errors.push(validatedEmail);\n        }\n\n        if (validatedFullName !== true) {\n            errors.push(validatedFullName);\n        }\n\n        if (validatedMobile !== true) {\n            errors.push(validatedMobile);\n        }\n\n        if (validatedPassword !== true) {\n            errors.push(validatedPassword);\n        }\n\n        if (errors.length) {\n            this.setState({formMessages:{errors: errors}})\n            this.setState({isLoading:false})\n            return;\n        }\n\n        let newUserData = {\n            // username: username,\n            email: email,\n            password: password,\n            profile:{\n                name:fullName,\n                email: email,\n                mobile:mobile\n            }\n        };\n        this.createUserCallback = function (error, result) {\n            fbq('track', 'EmailLandlordSignup'+ (error ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Email Landlord Signup '+ (error ? \"Failed\" : \"Successful\"));\n\n            this.setState({isLoading:false})\n            if (error) {\n                // Show some error message\n                this.setState({formMessages:{errors: [error]}})\n            } else {\n                var isOnPage = false;\n                if(this.props.onPage)isOnPage = true;\n                if( !isOnPage ){\n                    $('#signin-div , .fancybox-overlay').hide()\n                    Session.set('showLoginDialog',false)\n                    Session.set('showSignupDialog',false)\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                }\n\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.createUserCallback = this.createUserCallback.bind(this);\n        Accounts.createUser(newUserData, this.createUserCallback);\n    }\n    forgotPwdHandler(){\n        var isOnPage = false;\n        if(this.props.onPage)isOnPage = true;\n        if( !isOnPage ){\n            Session.set('showForgotForm',true)\n            Session.set('showSignupForm',false)\n            Session.set('showLoginSignupFancyBoxDialog',true)\n            Session.set('showLoginDialog',true)\n        }else{\n            Session.set('showForgotForm',true)\n        }\n    }\n    radioHandler(){\n\n    }\n    render(){\n        return (\n            <div className=\"landlordSignup-div signup-div\">\n\n                <div className=\"refund-div\"><h2>Landlord Join Now</h2></div>\n                <div className=\"profile-text\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12 rd-details\">\n                            <span>I am a</span>\n                            <label className=\"account-type-label\" htmlFor=\"rd1\">\n                                <input className=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\"\n                                       defaultChecked onChange={this.radioHandler}/>\n                                    Landlord\n                            </label>\n                            <label className=\"account-type-label\">\n                                <input className=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\"/>\n                                    Agent\n                            </label>\n                            <label className=\"account-type-label\">\n                                <input className=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\"/>\n                                    Building Manager\n                            </label>\n                            <label className=\"account-type-label\">\n                                <input className=\"account-type-radio\" name=\"accountType\" value=\"LANDLORD\" type=\"radio\"/>\n                                    Tenant\n                            </label>\n                        </div>\n                    </div>\n\n\n                    <form className=\"signin-form\">\n                        <div className=\"form-border\">\n                            <div className=\"row frm-group\">\n                                <div className=\"col-sm-6\">\n                                    <div className=\"styled-input\">\n                                        <input autoComplete=\"name\" type=\"text\" name=\"name\"\n                                               className=\"login-input-fullName-LoginFormSignUpViewLandlord\" required/><br/>\n                                        <label>FULL NAME</label>\n                                        <span></span>\n                                    </div>\n                                </div>\n                                <div className=\"col-sm-6\">\n                                    <div className=\"styled-input\">\n                                        <input autoComplete=\"email\" type=\"email\" name=\"email\"\n                                               className=\"login-input-email-LoginFormSignUpViewLandlord\" required/>\n                                        <label>EMAIL ID</label>\n                                        <span></span>\n                                    </div>\n                                </div>\n\n                                <div className=\"col-sm-6\">\n                                    <div className=\"styled-input\">\n                                        <input autoComplete=\"new-password\" type=\"password\" name=\"password\"\n                                               className=\"login-input-password-LoginFormSignUpViewLandlord\" required/>\n                                        <label>PASSWORD</label>\n                                        <span></span></div>\n                                </div>\n\n                                <div className=\"col-sm-6\">\n                                    <div className=\"styled-input\">\n                                        <input autoComplete=\"tel\" type=\"number\" name=\"mobile\"\n                                               className=\"login-input-mobile-LoginFormSignUpViewLandlord SignupFormMobileField\" required/>\n                                        <label>MOBILE</label>\n                                        <span></span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <LoginFormMessages messages={this.state.formMessages}/>\n\n                        </div>\n                        <div className=\"signup-btn\">\n                            <div className=\"styled-input\">\n                                {this.state.isLoading ? (\n                                    <button className=\"transparent-btn btns\">Loading...</button>\n                                ):(\n                                    <button className=\"blue-btn btns\" type=\"submit\" onClick={this.signUpHandler}>SIGN UP</button>\n                                )}\n                            </div>\n                            {this.props.onPage ? \"\" : (\n                                <p style={{paddingTop: 0}}>Already have an account? <a href=\"javascript:;\"><span style={{color: '#0c67a6'}} data-event-category=\"accounts\" data-event-action=\"signIn\" onClick={this.props.showSignInFormHandler}>Sign In</span></a></p>\n                            )}\n                        </div>\n                    </form>\n\n                </div>\n            </div>\n        )\n    }\n};\n\nexport class LoginFormResetPasswordView extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            isLoading:true,\n            showForm:true,\n            formMessages:{\n                errors:[]\n            }\n        }\n        this.forgotPwdHandler = this.forgotPwdHandler.bind(this)\n        // this.signInHandler = this.signInHandler.bind(this)\n        // this.signUpHandler = this.signUpHandler.bind(this)\n        this.tryAgainBtnHandler = this.tryAgainBtnHandler.bind(this)\n    }\n    componentDidMount(){\n        $('#signin-div').find('#email').focus();\n        $('.new-focus').click(function(){\n            $('#signin-div').find('#email').focus();\n        });\n        this.setState({isLoading:false})\n    }\n    // signInHandler(){\n    //     var isOnPage = false;\n    //     if(this.props.onPage)isOnPage = true;\n    //     if( !isOnPage ){\n    //         Session.set('showForgotForm',false)\n    //         Session.set('showSignupForm',false)\n    //         Session.set('showLoginSignupFancyBoxDialog',true)\n    //         Session.set('showLoginDialog',true)\n    //     }else{\n    //         this.props.showSignInFormHandler();\n    //         // Session.set('showForgotForm',false)\n    //     }\n    // }\n    forgotPwdHandler(event){\n        event.preventDefault();\n\n        let emailAddress = $(\".login-input-email-LoginFormResetPasswordView\").val().trim();\n        let validatedEmail = LoginFormValidation.email(emailAddress);\n\n        var errors = []\n\n        this.setState({formMessages:{}})\n        this.setState({isLoading:true})\n\n        if (validatedEmail !== true) {\n            errors.push(validatedEmail);\n        }\n\n        if (errors.length) {\n            this.setState({formMessages:{errors: errors}})\n            this.setState({isLoading:false})\n            return;\n        }\n\n        this.forgotPwdCallback = (error) => {\n            fbq('track', 'ForgotPwd'+ (error ? \"Failed\" : \"Successful\"));\n            ga('send', 'event', 'General', 'userLoginSignup', 'Forgot Password '+ (error ? \"Failed\" : \"Successful\"));\n\n            this.setState({isLoading:false})\n            // Show some message confirming result\n            if (error) {\n                console.log(error)\n                this.setState({formMessages:{errors: [error]}})\n            } else {\n\n                this.setState({showForm:false})\n                this.setState({formMessages:{info: [{\n                            reason:  \"Password reset mail sent.\"\n                        }]\n                }})\n            }\n        };\n        this.forgotPwdCallback = this.forgotPwdCallback.bind(this);\n\n        Accounts.forgotPassword({ email: emailAddress}, this.forgotPwdCallback);\n\n    }\n    tryAgainBtnHandler(){\n        this.state.setState({showForm:true})\n    }\n    contactUsClickHandler(){\n        if($)\n            if($.fancybox)\n                $.fancybox.close();\n    }\n    render(){\n        return (\n            <div>\n                {this.state.showForm ? (\n                    <div>\n                        <div className=\"refund-div\">\n                            <h2>Forgot password?</h2>\n                        </div>\n                        <div className=\"profile-text\">\n                            <h5 className=\"no-capitalize\">Enter your registered Email ID</h5>\n                            <form className=\"signin-form\">\n                                <div className=\"form-border\">\n                                    <div className={\"styled-input  \" + (this.state.formMessages.errors ? this.state.formMessages.errors.email ? \"has-error has-feedback\" : \"\" : \"\")}>\n                                        <input autoComplete=\"email\" type=\"email\" name=\"email\" required\n                                               htmlFor=\"email-LoginFormResetPasswordView\"\n                                               className=\"login-input-email-LoginFormResetPasswordView\"/>\n                                        <label htmlFor=\"email-LoginFormResetPasswordView\">EMAIL ID</label>\n                                        <span></span>\n                                    </div>\n                                    <LoginFormMessages messages={this.state.formMessages}/>\n                                    <div className=\"signup-btn\">\n                                        {this.state.isLoading ? (\n                                            <button className=\"transparent-btn btns\">Loading...</button>\n                                        ) : (\n                                            <button className=\"blue-btn btns\" type=\"submit\" data-event-action=\"accounts\"\n                                                    onClick={this.forgotPwdHandler}>Reset My Password</button>\n                                        )}\n                                        <h6><span style={{color: '#0c68a7'}} data-event-category=\"accounts\"\n                                                  data-event-action=\"signIn\" onClick={this.props.showSignInFormHandler}>Sign In</span>\n                                        </h6>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                ) : (\n                    <div>\n                        <div className=\"refund-div\">\n                            <h2>We just emailed you a link</h2>\n                        </div>\n                        <div className=\"profile-text\">\n                            <h5 className=\"no-capitalize\">Please check your email and click the secure link.</h5>\n                            <div className=\"signup-btn\">\n                                <button className=\"transparent-btn btns tryAgainBtn\"\n                                        onClick={this.tryAgainBtnHandler}>Try again\n                                </button>\n                            </div>\n                            <p></p>\n                            <p className=\"color-text contactusBtn\">If you donâ€™t see our email, check your spam folder\n                                or <a href={FlowRouter.url('contactus')} onClick={this.contactUsClickHandler}>Contact\n                                    us</a></p>\n                        </div>\n                    </div>\n                )}\n        </div>\n        )\n    }\n};","import React, { Component } from 'react';\n\nexport default class MainLayoutFooter extends Component {\n    render() {\n        return (\n            <div>\n            <section className=\"footer-div\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-9 col-sm-12 col-xs-12 foot-menu\">\n                            <div className=\"col-md-3 col-sm-3 col-xs-12 foot-logo\">\n                                <a href={FlowRouter.url('home')}><img src={cdnPath(\"/images/spot-my-crib-logo.png\")} height=\"32px\" alt=\"\"/></a>\n                            </div>\n                            <div className=\"col-md-9 col-sm-9 col-xs-12 pad0\">\n                                <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                    <ul>\n                                        <li><h6 className=\"pad-bot-2\">TENANTS</h6></li>\n\n                                        <li><a href={FlowRouter.url('b', {slug:'rent-in-dublin-ireland'})}>Rent in Dublin</a></li>\n                                        <li><a href={FlowRouter.url('b', {slug:'rent-in-cork-ireland'})}>Rent in Cork</a></li>\n                                        <li><a href={FlowRouter.url('b', {slug:'rent-in-kildare-ireland'})}>Rent in Kildare</a></li>\n                                        <li><a href={FlowRouter.url('b', {slug:'rent-in-galway-ireland'})}>Rent in Galway</a></li>\n                                        <li><a href={FlowRouter.url('b', {slug:'rent-in-meath-ireland'})}>Rent in Meath</a></li>\n                                    </ul>\n                                </div>\n                                <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                    <ul>\n                                        <li><h6 className=\"pad-bot-2\">LANDLORDS</h6></li>\n                                        <li><a href={FlowRouter.url('advertisewithus')}>List My Property</a></li>\n                                        <li><a href={FlowRouter.url('estateagent')}>Estate Agents/Landlords</a></li>\n                                        <li><a href={FlowRouter.url('howitworks')}>How it Works?</a></li>\n                                        <li><a href={FlowRouter.url('faqs')}>FAQs</a></li>\n                                        <li><a href={FlowRouter.url('contactus')}>Contact Us</a></li>\n                                    </ul>\n                                </div>\n\n                                <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                    <ul>\n                                        <li><h6 className=\"pad-bot-2\">SPOTMYCRIB</h6></li>\n                                        <li><a href={FlowRouter.url('about')}>About Us</a></li>\n                                        <li><a href={FlowRouter.url('bloghome')}>Blog</a></li>\n                                        <li><a href={FlowRouter.url('careers')}>Careers</a></li>\n                                        <li><a href={FlowRouter.url('gdpr')}>Data Protection / EU GDPR</a></li>\n                                        <li><a href={FlowRouter.url('terms')}>Legal</a></li>\n                                        <li><a href={FlowRouter.url('privacy')}>Privacy Policy</a></li>\n                                        <li><a href={FlowRouter.url('cookiepolicy')}>Cookie Policy</a></li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"col-md-3 col-sm-12 col-xs-12 social-icon\">\n                            <div className=\"col-md-12 col-sm-12 col-xs-12\">\n                                <ul>\n                                    <li><a href=\"https://www.facebook.com/SpotMyCrib/\" target=\"_blank\"><img src={cdnPath(\"/images/facebook-icon.png\")} alt=\"\"/></a></li>\n                                    <li><a href=\"https://twitter.com/SpotMyCrib\" target=\"_blank\"><img src={cdnPath(\"/images/twitter-icon.png\")} alt=\"\"/></a></li>\n                                    <li><a href=\"https://www.linkedin.com/company/11223356/\" target=\"_blank\"><img src={cdnPath(\"/images/linkedin-icon.png\")} alt=\"\"/></a></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n            <section className=\"copyright\" style={{display: 'none'}}>\n                <div className=\"container\">\n                    <ul className=\"footer-left visible-md\">\n                        <li>SpotMyCrib. </li>\n                    </ul>\n                    <ul className=\"footer-left hidden-md\">\n                        <li>SpotMyCrib. </li>\n                    </ul>\n                </div>\n            </section>\n            </div>\n        );\n        }\n};","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport {LoginFormSignInView,LoginFormSignUpView,LoginFormSignUpViewLandlord,LoginFormResetPasswordView  } from './LoginFormViews.jsx'\n\nemailAlerts = [\n    // {\n    //     heading: 'OH, HEY!',\n    //     para: 'Get your dream place sooner without even searching for it! Sign up for our emails and we will send you the latest properties of your choice',\n    //     yesButtonText: \"Awesome ðŸ¤˜ðŸ‘\"\n    // },\n    {\n        heading: 'Always First.',\n        para: 'Be the first to hear about the latest lettings in your area. Signup for our email alerts.',\n        yesButtonText: \"HELL YES!\"\n    }\n    // ,\n    // {\n    //     heading: 'Get Notified.',\n    //     para: 'Get your rental soon by signing up for our email alerts. Be the first one to know when a letting is posted.',\n    //     yesButtonText: \"Okays! Sign me up. :)\"\n    // }\n]\nEMAIL_ALERT_VARIATION_count = 2;\n// EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1, 2\nEMAIL_ALERT_VARIATION = 0;//Keeping only 1 variation.\nEMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION]\nisMobileMenuEventAttached = false;\nfunction delayedFunctions() {\n    // if(!isMobileMenuEventAttached) {\n        $(document).unbind('click').bind('click',function (e) {\n            if (!$('.xs-menu').hasClass('slide-right')) {//Its not open\n                if ($(e.target).closest(\".xs-menu-icon-master\").length > 0) {\n                    if(FlowRouter.current().route.name=='home')\n                        $('.carousel-indicators').addClass('carousel-indicatorsLowZindex');\n                    $('.xs-menu').addClass('slide-right');\n                    return true;\n                } else return true\n            } else {//Its open\n                if ($(e.target).closest(\".xs-menu-close-icon .xs-close, .xs-menu a\").length > 0 || $(e.target).closest(\".slide-right\").length < 1) {\n                    $('.xs-menu').removeClass('slide-right')\n                    if(FlowRouter.current().route.name=='home')\n                        setTimeout(function(){\n                            if(FlowRouter.current().route.name=='home') $('.carousel-indicators').removeClass('carousel-indicatorsLowZindex');\n                        },250);\n                    return true;\n                }\n            }\n        });\n        // isMobileMenuEventAttached = true;\n    // }\n\n}\nfunction showLoginDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',false)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showSignupDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',true)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction showLoginPopup(){\n    // let doesDivStillExists = $('#signin-div').html()\n    // if( doesDivStillExists != \"\" ){//To prevent home page dialogs\n        $.fancybox({\n            'padding': 0,\n            'href': '#signin-div',\n            afterClose:function(template){\n                console.log(template);\n                //template.showLoginDialog.set(false);\n                Session.set('isLandLordMode',false)\n                Session.set('showLoginDialog',false)\n                Session.set('showLoginSignupFancyBoxDialog',false)\n                Session.set('loginFromApplyNowBtn',false)\n\n            }\n        })\n}\nfunction emailValidation(email) {\n\n    email = email.trim();\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    // Valid\n    if( re.test(email) ){\n        return true;\n    }\n\n    // Invalid\n    return {\n        error: \"INVALID_EMAIL\",\n        reason: \"Please enter a valid email address in format pat@gmail.com\",\n    };\n\n}\nfunction decideAndShowCreateAlertPopup(){\n    // console.log(\"Apply decideAndShowCreateAlertPopup\")\n    let showAlertCreate = true;\n    \n    let saidNo = parseInt(readCookie('emailAlertNoThanks')) ;\n    if(!saidNo){\n        let c = parseInt(readCookie('emailAlertShowedCount')) ;\n        let on = parseInt(readCookie('emailAlertShowedOnTime')) ;\n        let tmp = (Date.now() - on) / 60000 ;// time in mins\n        // console.log('Time is: '+tmp);\n        if(c > 1 ){\n            if( tmp < 2 )showAlertCreate = false; //its not even 2mns since last popup show, so wait\n        }\n        if(c > 2 ){\n            if( tmp < 2 )showAlertCreate = false; //its not even 2mns since last popup show, so wait\n        }\n        if(c > 3 ){\n            if( tmp < 3 )showAlertCreate = false; //its not even 3mns since last popup show, so wait\n        }\n        if(c > 4 ){\n            if( tmp < 6 )showAlertCreate = false; //its not even 6mns since last popup show, so wait\n        }\n        if(c > 5 ){\n            if( tmp < 12 )showAlertCreate = false; //its not even 12mns since last popup show, so wait\n        }\n    }\n    let user = Meteor.user();\n    if(user){\n        if(user.profile.emailAlertsActive || user.profile.emailAlertsNoThanks) showAlertCreate = false; // he already has alerts or he said no to them.\n    }\n    if(parseInt(readCookie('emailAlertAlreadyHasIt')) || parseInt(readCookie('emailAlertNoThanks')) ) showAlertCreate = false; // He already has alerts or He already said no\n    //you don't need above fallback because this function is called only after 3-5 sec , by then user subscription must be loaded.\n    // console.log(\"decision: \"+showAlertCreate)\n    if(showAlertCreate){\n        showCreateAlertPopup();\n    }\n}\nfunction showCreateAlertPopup(){\n    if ( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n    let c = parseInt(readCookie('emailAlertShowedCount')) ;\n    c= parseInt(c);\n    if(isNaN(c))c = 1;\n    else {\n        c++;\n    }\n    createCookie('emailAlertShowedCount',c,5)\n    createCookie('emailAlertShowedOnTime',Date.now(),5)\n\n    $.fancybox({\n        'padding': 0,\n        'href': '#create-alert-popup',\n        afterShow:function(){\n            $('#emailAlertUserEmailAddress').focus();\n            ga('send', 'event', 'emailAlert', 'Show Email Alert', 'Route name: '+FlowRouter.current().route.name+' Variation: '+EMAIL_ALERT_VARIATION);\n        },\n        afterClose:function(){\n            Session.set('showCreateAlertPopup',false)\n        }\n    })\n    }\n}\nfunction showAddPropertyHeaderPopup(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#addPropertyHeader-div',\n\n        afterClose:function(template){\n            //console.log(template);\n            Session.set('showAddPropertyHeaderTemplate',false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog',false)\n\n        }\n    })\n}\nfunction createCookie(name,value,days) {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\nfunction readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i < ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\nfunction eraseCookie(name) {\n    createCookie(name,\"\",-1);\n}\nfunction loadFonts(){\n    (function() {\n        var wf = document.createElement('link');\n        wf.href = cdnPath('/fonts/Montserrat/stylesheet.css');\n        wf.rel = 'stylesheet';\n        wf.async = 'true';//link doesnt support async\n        var s = document.getElementsByTagName('link')[0];\n        s.parentNode.insertBefore(wf, s);\n\n        Session.set('fontsLoaded',true);\n\n        // var wf = document.createElement('script');\n        // wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';\n        // wf.type = 'text/javascript';\n        // wf.async = 'true';\n        // var s = document.getElementsByTagName('script')[0];\n        // s.parentNode.insertBefore(wf, s);\n    })();\n}\n\nclass MainLayoutHeader extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            emailAlertEmailAddress : this.props.currentUser ? this.props.currentUser.profile.email : \"\"\n        };\n        this.emailAlertEmailAddressHandler = this.emailAlertEmailAddressHandler.bind(this);\n        this.NeedsCreateAlertPopup = false;\n        if( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n            this.NeedsCreateAlertPopup = true;\n            // EMAIL_ALERT_VARIATION = Math.floor(Math.random() * EMAIL_ALERT_VARIATION_count) // expected output: 0, 1\n            EMAIL_ALERT_VARIATION = 0;\n            EMAILALERT = emailAlerts[EMAIL_ALERT_VARIATION]\n        }\n    }\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.currentUser && !this.state.emailAlertEmailAddress)//update only if it has vals and emailAlertEmailAddress is empty.\n            this.setState({emailAlertEmailAddress: nextProps.currentUser.profile.email })\n    }\n    componentWillMount(){\n        if(Meteor.isClient) {\n            Session.set('showLoginDialog', false)\n            Session.set('showForgotForm', false)\n            Session.set('showLoginDialog', false)\n            Session.set('showLoginSignupFancyBoxDialog', false)\n            Session.set('showAddPropertyHeaderTemplate', false)\n            Session.set('showAddPropertyHeaderFancyBoxDialog', false)\n            if (!Session.get(\"showErrorDlg\")) Session.set(\"showErrorDlg\", []);\n        }\n        this.state = {\n            newAlertCreateForm:true,\n            newAlertCreatedSuccessfully:false\n        }\n        this.emailAlertCreateBtnHandler = this.emailAlertCreateBtnHandler.bind(this)\n        this.emailAlertNoThanksBtnHandler = this.emailAlertNoThanksBtnHandler.bind(this)\n    }\n    emailAlertCreateBtnHandler(){\n        console.log('emailAlertCreateBtnHandler')\n        let val = $('#emailAlertUserEmailAddress').val();\n        let validatedEmail = emailValidation(val);\n        if(validatedEmail !== true){\n            alert('Invalid email, please enter a valid email address.');\n            $('#emailAlertUserEmailAddress').focus();\n            return;\n        }\n        this.subscribeToEmailAlert = function(error, result){\n            if(error){\n                console.log(error);\n                alert('Error: '+error.reason);\n                $('#emailAlertUserEmailAddress').focus();\n                return;\n            }else{\n                createCookie('emailAlertAlreadyHasIt',1,365)\n                this.setState({newAlertCreateForm:false,newAlertCreatedSuccessfully:true})\n                setTimeout(function () {\n                    if ($)\n                        if ($.fancybox)\n                            $.fancybox.close();\n                },10000)\n            }\n        }\n        this.subscribeToEmailAlert = this.subscribeToEmailAlert.bind(this);\n        Meteor.call('subscribeToEmailAlert',val,this.subscribeToEmailAlert);\n\n        ga('send', 'event', 'emailAlert', 'Created Email Alert', 'Route name: '+FlowRouter.current().route.name+' Variation: '+EMAIL_ALERT_VARIATION);\n    }\n    emailAlertNoThanksBtnHandler(){\n        console.log('emailAlertNoThanksBtnHandler')\n        createCookie('emailAlertNoThanks',1,365)\n        if(this.props.currentUser){\n            Meteor.call('emailAlertsNoThanks');\n        }\n        if ($)\n            if ($.fancybox)\n                $.fancybox.close();\n    }\n    componentDidMount(){\n        $.getScript(cdnPath('/js/bootstrap.min.js'), function(){\n            // console.log(\"Bootstrap loaded\")\n        });\n        // $.getScript(cdnPath('//static.filestackapi.com/filestack-js/1.x.x/filestack.min.js'), function(){\n        //     console.log(\"Filestack loaded\")\n        // });\n\n        $.getScript(cdnPath('/plugins/fancybox/js/jquery.fancybox.min.js'), function(){\n            // script should be loaded and do something with it.\n            $('.fancybox').fancybox({\n                scrolling:'no',\n                helpers: {\n                    overlay: {\n                        locked: true\n                    }\n                }\n            })\n        });\n        if(Meteor.isClient){\n            var fontsLoaded = Session.get('fontsLoaded');\n            if(!fontsLoaded) {\n                //Below code is taken from https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\n                var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                    window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n                if (raf) raf(function() { window.setTimeout(loadFonts, 0); });\n                else window.addEventListener('load', loadFonts);\n            }\n        }\n        setTimeout(delayedFunctions,1500)\n        if( ['rent',\"b\",'letting'].includes(  FlowRouter.current().route.name ) ){\n            setTimeout(function(){\n                decideAndShowCreateAlertPopup();\n            },10000)\n            var runOnlyOnce = false;\n            $(document).off('scroll').on('scroll', function() {\n                try{\n                    let addon = 50; if(FlowRouter.current().route.name == 'b')addon = 300;\n                    if($(this).scrollTop()>=($('.subscribeTillPopop').position().top - addon) && !runOnlyOnce ){\n                        runOnlyOnce = true;\n                        decideAndShowCreateAlertPopup();\n                    }\n                }catch(e){}\n            })\n        }\n    }\n\n    showLoginDialogClick(event){\n        showLoginDialog();\n    }\n    showSignupDialogClick(event){\n        showSignupDialog();\n    }\n    logoutBtnClick(event){\n        Meteor.logout(function(err){\n            if (err) {\n                throw new Meteor.Error(\"Logout failed\");\n            }\n        })\n    }\n    profileBtnClick(event){\n        FlowRouter.go('account/profile');\n    }\n    cookieConsentBtnClick(event){\n        createCookie('cookieConsent',1,365);\n        $('.cookieConsentArea').remove();\n    }\n    emailAlertEmailAddressHandler(event){\n        this.setState({emailAlertEmailAddress:event.target.value})\n    }\n\n    render() {\n        const self = this;\n        return (\n<div>\n    { this.props.showCookieConsent ?\n    <section className=\"cookieConsentArea\">\n        <div className=\"container\">\n            <div className=\"cookieConsentArea-inner\">\n                <div className=\"left-menu text-center\" style={{color: 'white'}}><p>  SpotMyCrib uses cookies. By continuing to use this site you consent to the use of cookies in accordance to our  <a href={FlowRouter.url('cookiepolicy')}> cookie policy </a>.<button className=\"green-btn btns cookieConsentBtn\" onClick={self.cookieConsentBtnClick.bind(this)} type=\"button\" style={{marginLeft: 20}}>I understand</button></p>\n            </div>\n        </div>\n    </div>\n</section>\n: \"\"}\n<section className=\"header\">\n    <div className=\"container\">\n        <div className=\"logo-holder-div\">\n            <div className=\"xs-menu-icon-master\"><div className=\"xs-menu-icon\">\n                    <span className=\"menu-xs sprite\" />\n            </div></div>\n                <div className=\"logo-holder\">\n                    <a href={FlowRouter.url('home')}>\n                        <img src={cdnPath(\"/images/spot-my-crib-logo.png\")} alt=\"SpotMyCrib\" title=\"SpotMyCrib - Safe and easy rentals\" className=\"logo-big\" />\n                        <img src={cdnPath(\"/images/spotmycrib-logo-130.jpg\")} alt=\"SpotMyCrib\" title=\"SpotMyCrib - Safe and easy rentals\" className=\"logo-xs\" />\n                    </a>\n                </div>\n                <div className=\"menu\">\n                    <ul>\n                        <li className=\"hidden-xs\"><a href={FlowRouter.url('advertisewithus')} className=\"btns green-btn addPropertyHeaderBtn\" type=\"button\"><span className=\"glyphicon glyphicon-object-align-bottom\" aria-hidden=\"true\" /> Advertise property</a></li>\n                        \n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\">\n                                <a href={FlowRouter.url('account/myProperties')}>\n                                    <span className=\"glyphicon glyphicon-check\" aria-hidden=\"true\"/> MY PROPERTIES\n                                </a>\n                            </li>\n                            : \"\"}\n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\">\n                                <a href={FlowRouter.url('account/profile')}>\n                                    <span className=\"glyphicon glyphicon-check\" aria-hidden=\"true\"/> MY REFERENCES\n                                </a>\n                            </li>\n                        : \"\"}\n                        { this.props.currentUserId ?\n                            <li className=\"login-menu hidden-xs\"><a href=\"javascript:void(0);\" onClick={self.logoutBtnClick.bind(this)} className=\"logoutBtn\">SIGN OUT</a></li>\n                        : \"\"}\n                        { this.props.currentUserId ?\n                            <li>\n                                <div className=\"navbar-accounts\">\n                                    <a href={FlowRouter.path('account/profile')}>\n                                        <img className=\"circular-icon profileBtn\" src={this.props.getProfilePic} width=\"40px\" height=\"40px\" />\n                                        <span id=\"logged-in-display-name profileBtn\">\n                                                        {this.props.displayName}\n                                        </span>\n                                    </a>\n                                </div>\n                            </li>\n                            :\n                            <ul className=\"oval logedout-menu\">\n                                <li><a className=\"right-border showLoginDialog\" onClick={self.showLoginDialogClick.bind(this)} href=\"javascript:;\">SIGN IN</a></li>\n                                <li><a href=\"javascript:;\" onClick={self.showSignupDialogClick.bind(this)} className=\"showSignupDialog\">SIGN UP</a></li>\n                            </ul>\n                        }\n                    </ul>\n                </div>\n                        <div className=\"xs-menu visible-xs transition\">\n                            <div className=\"xs-menu-close-icon text-right\">\n                                <span className=\"sprite xs-close\" />\n                                </div>\n                                <ul className=\"transition\">\n                                    <li><a href={FlowRouter.url('home')}>HOME / SEARCH</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href={FlowRouter.path('account/profile')}>MY REFERENCES</a></li>\n                                        : \"\"\n                                    }\n                                    <li><a href={FlowRouter.url('advertisewithus')}>LIST PROPERTY</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href={FlowRouter.path('account/myProperties')}>MY PROPERTIES</a></li>\n                                        : \"\"\n                                    }\n                                    <li><a href={FlowRouter.url('estateagent')}>AGENTS/LANDLORDS</a></li>\n                                    <li><a href={FlowRouter.url('howitworks')}>HOW IT WORKS?</a></li>\n                                    <li><a href={FlowRouter.url('faqs')}>FAQ</a></li>\n                                    <li><a href={FlowRouter.url('contactus')}>CONTACT US</a></li>\n                                    <li><a href={FlowRouter.url('careers')}>CAREERS</a></li>\n                                    { this.props.currentUserId ?\n                                        <li><a href=\"javascript:void(0);\" onClick={self.logoutBtnClick.bind(this)}>SIGN OUT</a></li>\n                                        : \"\"\n                                    }\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n\n                <div id=\"errorModel\" className=\"alert alert-danger \" style={{display: 'none'}}></div>\n                <div id=\"signin-div\" className=\"signin1\" style={{display: 'none'}}>\n                    {this.props.showLoginDialog ? <LoginFormT/> : \"\" }\n                </div>\n    {this.NeedsCreateAlertPopup ? (\n                <div id=\"create-alert-popup\" style={{display: 'none'}} className={\"verification-div1\"}>\n                    <div className=\"refund-div\">\n                        {this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully  ? (<h2>{EMAILALERT.heading}</h2>) : \"\"}\n                        {this.state.newAlertCreatedSuccessfully && !this.state.newAlertCreateForm ? (<h2 className=\"green-text\">Well Done! Alert Created.</h2>) : \"\"}\n                    </div>\n                    {this.state.newAlertCreateForm && !this.state.newAlertCreatedSuccessfully  ? (\n                        <div className=\"profile-text\">\n                            <p className=\"color-text\"\n                               style={{textAlign: 'center', margin: '10px 0px', fontSize: '14px'}}>{EMAILALERT.para}</p>\n                            <hr/>\n                            <form className=\"signin-form\" action=\"javascript:void(0);\">\n\n                                <div className=\"form-border\">\n                                    <div className=\"styled-input\"><input type=\"text\"\n                                                                         placeholder=\"Enter your email address\" id=\"emailAlertUserEmailAddress\"\n                                                                         required=\"required\" style={{\n                                        fontSize: '14px',\n                                        marginBottom: '10px !important', borderBottom: 'none !important'\n                                    }} value={this.state.emailAlertEmailAddress} onChange={this.emailAlertEmailAddressHandler}/></div>\n                                </div>\n\n                                <div className=\"signup-btn\">\n                                    <button onClick={this.emailAlertCreateBtnHandler} className=\"green-btn btns\" type=\"submit\" style={{width: '100%', marginTop: '10px'}}>\n                                        {EMAILALERT.yesButtonText}\n                                    </button>\n                                </div>\n                            </form>\n                            <a href=\"javascript:void(0)\" onClick={this.emailAlertNoThanksBtnHandler} className={'noThanks'}>No thanks, I'm happy to search myself</a>\n                        </div>\n                    ) : \"\"}\n                    {this.state.newAlertCreatedSuccessfully  && !this.state.newAlertCreateForm ? (\n                        <div className=\"profile-text\">\n                            {/*<p style={{color: '#ccac4c', paddingBottom: 0}}>Well Done! </p>*/}\n                            <p className=\"color-text\" style={{textAlign: 'center', margin: '10px 0px', fontSize: '13px'}}>We will\n                                send you an email a day with new lettings. Be the first to apply for them. </p>\n                            <iframe src=\"https://giphy.com/embed/fxsqOYnIMEefC\" frameBorder={0} className=\"giphy-embed\"\n                                    allowFullScreen style={{width: '80%'}}/>\n                        </div>\n                    ) : \"\"}\n                    {false ? (\n                        <div className=\"profile-text\">\n                            <p className=\"green-text\" style={{textAlign: 'center', margin: '10px 0px', color: 'black'}}>\n                                You will now be notified of the new lettings in Dundrum of County Dubin.\n                            </p>\n                            <hr/>\n                            <p className=\"color-text mar-top-20\" style={{\n                                textAlign: 'center',\n                                margin: '20px 0px 10px', /* display: 'none', */\n                                fontSize: '14px'\n                            }}>Your active alerts are</p>\n                            <table className=\"table table-bordered\">\n                                <thead>\n                                <tr>\n                                    <th style={{textAlign: 'center'}}>County</th>\n                                    <th style={{textAlign: 'center'}}>Area</th>\n                                    <th/>\n                                </tr>\n                                </thead>\n                                <tbody style={{color: '#8b8b8b', fontSize: '14px'}}>\n                                <tr>\n                                    <td>Dublin</td>\n                                    <td>All Areas</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                <tr>\n                                    <td>Limrick</td>\n                                    <td>City Center North</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                <tr>\n                                    <td>Limrick</td>\n                                    <td>Madison square</td>\n                                    <td><a>Delete</a></td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    ) : \"\"}\n                </div>\n    ) : \"\"}\n\n            </div>\n\n        );\n        }\n};\nexport default withTracker(() => {\n\n    var showCookieConsent = false;\n    var errorModel = false;\n    var showLoginDialog = false;\n    if(Meteor.isClient) {\n        if (Session.get('loginFlowComplete')) {\n            setTimeout(function () {\n                Session.set('loginFlowComplete', undefined);\n            }, 1000)\n        }\n\n        ///////////////////// errorModel start\n        var tmp = Session.get(\"showErrorDlg\");\n        if (!tmp) tmp = [];\n        if (tmp)\n            if (tmp.length) {\n                var timeoutVal = 0;\n                if (!$.fancybox) timeoutVal = 3000;\n                let tmpHTML = ''\n                for(let j=0;j<tmp.length;j++){\n                    tmpHTML += '<p>'+tmp[j]+'</p>'\n                }\n                $('#errorModel').html(tmpHTML);\n                setTimeout(function () {\n                    $.fancybox({\n                        'padding': 0,\n                        'href': '#errorModel',\n                        // afterShow:function(template){\n                        //     setTimeout(function () {\n                        //         $.fancybox.close();\n                        //     },3000)\n                        // },\n                        afterClose: function () {\n                            var tmp = Session.get(\"showErrorDlg\");\n                            if (!tmp) tmp = [];\n                            tmp.shift();\n                            Session.set(\"showErrorDlg\", tmp)\n                        }\n                    })\n                }, timeoutVal)\n\n            }\n        ///////////////////// showLoginDialog start\n        if (Session.get('showLoginSignupFancyBoxDialog')) {\n            showLoginPopup()\n        } else {\n            if ($)\n                if ($.fancybox)\n                    $.fancybox.close();\n        }\n        ///////////////////// showCreateAlertPopup start\n        if (Session.get('showCreateAlertPopup')) {\n            showCreateAlertPopup();\n        }\n        // else {//No need for any control over its closing.\n        //     if ($)\n        //         if ($.fancybox)\n        //             $.fancybox.close();\n        // }\n\n        showCookieConsent = !parseInt(readCookie('cookieConsent'))\n        errorModel= Session.get(\"showErrorDlg\")\n        showLoginDialog= Session.get(\"showLoginDialog\")\n    }\n\n    var user= Meteor.user();\n    ///////////////////// displayName start\n    var displayName = \"Guest\";\n    try{\n        if (user) {\n            if (user.profile && user.profile.name) {\n                displayName = user.profile.name;\n            }\n        }\n    }catch (e){}\n    ///////////////////// getProfilePic start\n    var getProfilePic = cdnPath(\"/images/user-img.png\");\n    try{\n        if (user.profile.picture)\n        {\n            if(user.services.facebook)\n                if(user.services.facebook.indexOf('?width=40')==-1)\n                    getProfilePic = user.profile.picture+\"?width=40\"; //@BCompatibility : adding ?width=40 to it\n\n            getProfilePic = user.profile.picture;\n        }\n    }catch (e){}\n\n\n    return {\n        showCookieConsent: showCookieConsent,\n        currentUserId: Meteor.userId(),\n        errorModel: errorModel,\n        showLoginDialog: showLoginDialog,\n        displayName: displayName,\n        currentUser: Meteor.user(),\n    };\n})(MainLayoutHeader);\n\nclass LoginFormMessages extends Component {\n    render() {\n        return (\n            <div>\n                { this.props.messages ?\n                    (\n                        <div>\n                        {this.props.messages.info ?\n                            this.props.messages.info.map((item, i) => {\n                                return (\n                                    <div className=\"changePwdAlertMsgs alert alert-info\" role=\"alert\" key={i}>\n                                        <span className=\"glyphicon glyphicon-info-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                    </div>\n                                )\n                            })\n                        :\"\"}\n                        {this.props.messages.warning ?\n                            this.props.messages.warning.map((item, i) => {\n                                return (\n                                <div className=\"changePwdAlertMsgs alert alert-warning\" role=\"alert\" key={i}>\n                                    <span className=\"glyphicon glyphicon-warning-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                </div>\n                                )\n                            })\n                        :\"\"}\n                            {this.props.messages.success ?\n                                this.props.messages.success.map((item, i) => {\n                                    return (\n                                        <div className=\"changePwdAlertMsgs alert success\" role=\"alert\" key={i}>\n                                            <span className=\"glyphicon glyphicon-ok\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                        </div>\n                                    )\n                                })\n                            :\"\"}\n                            {this.props.messages.errors ?\n                                this.props.messages.errors.map((item, i) => {\n                                    return (\n                                        <div className=\"changePwdAlertMsgs alert alert-danger\" role=\"alert\" key={i}>\n                                            <span className=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>&nbsp; {item.reason}\n                                        </div>\n                                    )\n                                })\n                            :\"\"}\n\n                        </div>\n                    )\n                :\"\"\n                }\n            </div>\n\n        );\n    }\n};\n\nclass LoginForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showForgotForm : props.showForgotForm ? true : false,\n            showSignupForm : props.showSignupForm ? true : false,\n            isLandLordMode : props.isLandLordMode ? true : false,\n            loginFromApplyNowBtn : props.loginFromApplyNowBtn ? true : false\n        }\n    }\n    showForgotFormHandler(){\n        this.setState({showForgotForm:true});\n        this.setState({showSignupForm:false});\n        this.setState({isLandLordMode:false});\n    }\n    showSignupFormHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:true});\n        this.setState({isLandLordMode:false});\n    }\n    showSignInFormHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:false});\n        this.setState({isLandLordMode:false});\n    }\n    showLandlordViewHandler(){\n        this.setState({showForgotForm:false});\n        this.setState({showSignupForm:true});\n        this.setState({isLandLordMode:true});\n    }\n    render() {\n        return (\n            <div className=\"loginForm\">\n                {\n                    this.state.showForgotForm ?\n                        <LoginFormResetPasswordView onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                    :\n                        this.state.showSignupForm ?\n                            this.state.isLandLordMode ?\n                                <LoginFormSignUpViewLandlord onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                            :\n                                <LoginFormSignUpView loginFromApplyNowBtn={this.state.loginFromApplyNowBtn} onPage={false} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                        :\n                            <LoginFormSignInView loginFromApplyNowBtn={this.state.loginFromApplyNowBtn} onPage={false} showSignupFormHandler={this.showSignupFormHandler.bind(this)} showForgotFormHandler={this.showForgotFormHandler.bind(this)}/>\n\n                }\n            </div>\n        );\n    }\n};\nLoginFormT = withTracker(() => {\n    var ret = {}\n    if(Meteor.isClient){\n        ret.showSignupForm = Session.get('showSignupForm')\n        ret.showForgotForm = Session.get('showForgotForm')\n        ret.isLandLordMode = Session.get('isLandLordMode')\n        ret.loginFromApplyNowBtn = Session.get('loginFromApplyNowBtn')\n    }\n    return ret;\n})(LoginForm);\n\nclass LoginPage extends Component {\n    render() {\n        return (\n            <section className=\"mar-top-20 no-print\">\n                <div className=\"container\">\n                    <div className=\"filter-holder\">\n                        <div className=\"head-border-bottom\">\n                            <LoginFormT/>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n};\n\nclass SocialLoginButtons extends Component {\n    componentWillMount(){\n        if(Meteor.isClient){\n            Session.set('loginFlowStart',true)\n            Session.set('loginFlowComplete', undefined)\n            delete Session.keys.loginFlowComplete\n        }\n        this.state = {\n            errorMessages : {}\n        }\n        this.dontShow = true\n        this.buttonForText = '';\n        switch(this.props.buttonFor){\n            case 'login': this.buttonForText = 'Login';break;\n            case 'signup': this.buttonForText = 'Signup';break;\n            default: this.buttonForText = 'Login / Signup';\n        }\n        this.handleFBLogin = this.handleFBLogin.bind(this)\n        this.handleTwitterLogin = this.handleTwitterLogin.bind(this)\n        this.handleGoogleLogin = this.handleGoogleLogin.bind(this)\n        this.handleLinkedInLogin = this.handleLinkedInLogin.bind(this)\n    }\n\n    handleFBLogin(event) {\n        this.setState({errorMessages:{}})\n        this.FBCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'FBUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'FBUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'FBUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'FB LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Facebook failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.FBCallback = this.FBCallback.bind(this)\n        Meteor.loginWithFacebook({}, this.FBCallback);\n    }\n\n    handleTwitterLogin(event) {\n        this.setState({errorMessages:{}})\n        this.TwitterCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'TwitterUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'TwitterUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'TwitterUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Twitter LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Twitter failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.TwitterCallback = this.TwitterCallback.bind(this)\n        Meteor.loginWithTwitter({}, this.TwitterCallback);\n    }\n\n    handleGoogleLogin(event) {\n        this.setState({errorMessages:{}})\n        this.GoogleCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'GoogleUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'GoogleUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'GoogleUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'Google LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with Google failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.GoogleCallback = this.GoogleCallback.bind(this)\n        Meteor.loginWithGoogle({}, this.GoogleCallback);\n    }\n\n    handleLinkedInLogin(event) {\n        this.setState({errorMessages:{}})\n        this.LinkedInCallback = function(err){\n            switch(this.props.buttonFor){\n                case 'login':\n                    fbq('track', 'LinkedInUserLogin'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Login '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                case 'signup':\n                    fbq('track', 'LinkedInUserSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn Signup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n                default:\n                    fbq('track', 'LinkedInUserLoginSignup'+ (err ? \"Failed\" : \"Successful\"));\n                    ga('send', 'event', 'General', 'userLoginSignup', 'LinkedIn LoginSignup '+ (err ? \"Failed\" : \"Successful\"));\n                    break;\n            }\n            if (err) {\n                console.log(err)\n                var msg = 'Connect with LinkedIn failed. ';\n                if(err.errorType=='Accounts.LoginCancelledError')msg += 'Seems like attempt was cancelled. ';\n                else if(err.error=='account-exists'){\n                    msg += err.reason+' ';\n                }else if(err.message)msg += err.message+'. ';\n                msg += \"Please try again. Contact us if needed.\";\n                var errors = []\n                errors.push( {\n                    \"error\": \"SOCIALLOGIN_FAIL\",\n                    \"reason\": msg\n                })\n                this.setState({errorMessages:{errors: errors}})\n            }else{\n                if(this.props.usedInDlg){\n                    Session.set('showLoginSignupFancyBoxDialog',false)\n                    Session.set('showForgotForm',false)\n                    Session.set('showSignupForm',true)\n                    Session.set('showLoginDialog',true)\n                }\n                Session.set('loginFlowComplete', true)\n                Session.set('loginFlowStart',undefined)\n                delete Session.keys.loginFlowStart\n            }\n        }\n        this.LinkedInCallback = this.LinkedInCallback.bind(this)\n        Meteor.loginWithLinkedIn({}, this.LinkedInCallback);\n    }\n    \n    render() {\n        const self = this;\n        return (\n            <div>\n                <div onClick={self.handleFBLogin} id=\"facebook-login\" className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Facebook</div>\n                <div onClick={self.handleTwitterLogin} id=\"twitter-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Twitter</div>\n                <div onClick={self.handleGoogleLogin} id=\"google-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">{this.buttonForText} with Google</div>\n                {this.dontShow ? \"\" :\n                <div onClick={self.handleLinkedInLogin} id=\"linkedin-login\" style={{marginTop: '10px'}} className=\"blue-btn btns social-button\" data-max-rows=\"1\" data-size=\"medium\" data-show-faces=\"false\" data-auto-logout-link=\"false\">Login with LinkedIn</div>\n                }\n\n                <br/>\n                <LoginFormMessages messages={this.state.errorMessages} />\n                <br/>\n            </div>\n        );\n    }\n};\nSocialLoginButtonsT = withTracker(() => {\n    var ret = {}\n    if(Meteor.isClient){\n        ret.showSignupForm = Session.get('showSignupForm')\n        ret.showForgotForm = Session.get('showForgotForm')\n    }\n    ret.user = Meteor.user()\n    return ret;\n})(SocialLoginButtons);\n\nclass LoginFormHorizontal extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            showForgotForm : props.showForgotForm ? true : false,\n            isLandLordMode : props.isLandLordMode ? true : false\n        }\n    }\n    showForgotFormHandler(){\n        this.setState({showForgotForm:true});\n    }\n    showSignInFormHandler(){\n        this.setState({showForgotForm:false});\n    }\n    componentDidMount(){\n        if(this.props.user) Session.set('loginFlowComplete', true)//todo: check this\n    }\n    render() {\n        return (\n            <div className=\"loginForm onpageSignin-form\">\n                <div className=\"row\">\n                    <SocialLoginButtonsT/>\n                </div>\n                <div className=\"row text-center\">\n                    <div className=\"col-md-6 col-sm-12\">\n                        {\n                            this.state.showForgotForm ?\n                                <LoginFormResetPasswordView onPage={true} showSignInFormHandler={this.showSignInFormHandler.bind(this)}/>\n                                :\n                                <LoginFormSignInView  onPage={true} showForgotFormHandler={this.showForgotFormHandler.bind(this)}/>\n                        }\n                    </div>\n                    <div className=\"col-md-6 col-sm-12\">\n                        {\n                            this.state.isLandLordMode ?\n                                <LoginFormSignUpViewLandlord onPage={true}/>\n                                :\n                                <LoginFormSignUpView  onPage={true}/>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n};\nLoginFormHorizontalT = withTracker(() => {\n    var ret = {}\n    ret.user = Meteor.user()\n    return ret;\n})(LoginFormHorizontal);\n\nclass LoginPageHorizontal extends Component {\n    render() {\n        return (\n        <section className=\"mar-top-20 mar-btm-20 no-print loginPageHorizontal\">\n            <div className=\"container\">\n                <div className=\"filter-holder\">\n                    <div className=\"head-border-bottom\">\n                        <LoginFormHorizontalT/>\n                    </div>\n                </div>\n            </div>\n        </section>\n            \n        );\n    }\n};\n\nexport {\n    LoginFormHorizontalT,\n    SocialLoginButtonsT,\n    LoginPage,\n    LoginPageHorizontal,\n    LoginFormT,\n    LoginFormMessages\n}","import {Component} from \"react\";\nimport MainLayoutHeader from \"./MainLayoutHeader\";\nimport MainLayoutFooter from \"./MainLayoutFooter\";\nimport React from \"react\";\n\nexport default class NotFound extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <main role=\"main\" id=\"main\">\n                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                        <div className=\"filter-holder\">\n                            <div className=\"mar-top-30\">\n                                <h2>Page Not Found</h2><br/>\n                                <button className=\"blue-btn btns backBtn\" type=\"button\">Try again</button>\n                            </div>\n                        </div>\n                    </div>\n                </main>\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n        );\n    }\n};","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader, {LoginFormHorizontalT}  from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n// function getAreas(countySelected) {\n//     var distinctEntries = _.uniq(Collections.Areas.find({County:countySelected}, {\n//         sort: {Area: 1}, fields: {Area: true}\n//     }).fetch().map(function(x) {\n//         return x.Area;\n//     }), true);\n//     allareas = []\n//     for(var i=0;i< distinctEntries.length;i++){\n//         if(!distinctEntries[i])continue;\n//         allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n//     }\n//     return allareas;\n// }\nsearialisedAdvertiseForm = '';\nfunction saveToLocalStorage(){\n    searialisedAdvertiseForm = $('#advertiseWithUsFormCF').serializeArray();\n    if (localStorage) {\n        // localStorage.searialisedAdvertiseForm=searialisedAdvertiseForm// doesn' work as it saves as string, but we need to store as object\n        localStorage.advertisewithusFormData={}\n        localStorage.advertisewithusFormData_address = $( \"input[name='address.address']\" ).val();\n        localStorage.advertisewithusFormData_price = $( \"input[name='price']\" ).val();\n        localStorage.advertisewithusFormData_county = $( \"select[name='address.county']\" ).val();\n        localStorage.advertisewithusFormData_area = $( \"select[name='address.area']\" ).val();\n        localStorage.advertisewithusFormData_type = $( \"select[name='type']\" ).val();\n        localStorage.advertisewithusFormData_furnished = $( \"select[name='furnished']\" ).val();\n        localStorage.advertisewithusFormData_baths = $( \"input[name='baths']\" ).val();\n        localStorage.advertisewithusFormData_numBedRoomCount = $( \"input[name='numBedRoomCount']\" ).val();\n    }\n}\nclass AdvertiseWithUs extends Component {\n\n    constructor(props){\n        super(props)\n        this.components = {\n            c1: AwsStep1,\n            c2: AwsStep2,\n            AwsStep1: AwsStep1,\n            AwsStep2: AwsStep2,\n            AwsStep3: AwsStep3\n        }\n    }\n\n    render(){\n        const self = this;\n        const TagName = this.components[this.props.curStepComponent];\n\n        return (\n        <div>\n            <MainLayoutHeader />\n            <div id=\"video-div\" style={{display: \"none\"}}>\n                <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/L689NIDwFdc?autoplay=1&rel=0\" frameBorder=\"0\" allowFullScreen></iframe>\n                {/* allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" */}\n            </div>\n            <section className=\"mar-top-20 mar-btm-20\">\n                <div className=\"container background-white \">\n                    <div className=\"filter-holder mar-top-20 pad-btm-20\">\n                        <div className=\"autoFrm\">\n                            <TagName />\n                        </div>\n                    </div>\n                </div>\n            </section>\n            <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n        </div>\n    )\n    }\n}\nexport default withTracker(() => {\n    if(Meteor.isClient){\n        var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n\n        var loginFlowComplete = Session.get('loginFlowComplete')\n        if(pageno == 2 && loginFlowComplete){\n            FlowRouter.go('advertisewithus',{pageno:3})\n            Session.set('loginFlowComplete', undefined);\n            if(typeof fbq !== 'undefined')fbq('track', 'Lead');\n            if(typeof ga !== 'undefined')ga('send', 'event', 'AdvertiseWithUsPage', 'UserLoginCompleted', 'User login / signup')\n        }\n    }\n\n    return {}\n})(AdvertiseWithUs);\nclass AwsStep1 extends Component {\n    componentDidMount(){\n        setTimeout(function(){\n            try{\n                $.fancybox({\n                    'padding': 0,\n                    'href':'#video-div'\n                })\n            }catch(e){}\n        },3000)\n    }\n    render(){\n        const self = this;\n        return (\n        <div>\n            <h1>Advertise your property to rent for FREE!</h1><br />\n            <p>List your property to rent in SpotMyCrib. Let thousands of verified tenants apply for your letting. Choose if you are a landlord, agent or the current tenant looking for a replacement so you can move. </p><br />\n            <p>Enter the details of the property below and click submit.<br /><br /><br /><br /></p>\n            <AdvertiseWithUsFormT/>\n        </div>\n        )\n    }\n}\nclass AwsStep2 extends Component {\n    constructor(props){\n        super(props);\n        this.backBtnHandler = this.backBtnHandler.bind(this);\n    }\n    backBtnHandler(){\n        FlowRouter.go('advertisewithus')\n    }\n    render(){\n        const self = this;\n        return (\n        <div>\n            <h1>Advertise your property to rent (step 2 of 3)</h1><br />\n            <a href=\"javascript:void(0)\" className=\"backBtn\" onClick={this.backBtnHandler}>&lt;&lt; Back to step 1</a>\n            <p>Connect your advert to your account. Login now or sign up with your social account. <br /><br /><br /><br /></p>\n\n            <LoginFormHorizontalT isLandLordMode={true}/>\n\n        </div>\n        )\n    }\n}\nclass AwsStep3 extends Component {\n\n    constructor(props){\n        super(props);\n        this.state={\n            propertyId:'',\n            auctionId:'',\n            myPropertyLink:'',\n        }\n        this.backBtnHandler = this.backBtnHandler.bind(this);\n        this.addPropImagesHandler = this.addPropImagesHandler.bind(this);\n    }\n    backBtnHandler(){\n        FlowRouter.go('advertisewithus')\n    }\n    addPropImagesHandler(){\n        if(typeof ga !== 'undefined')ga('send', 'event', 'AdvertiseWithUsPage', 'addPropertyImagesBtnClick', 'AddPropertyImages button clicked.');\n        Session.set('OpenImageUploader',true);\n        Session.set('fromAdvertiseWithUsPage',true);\n        FlowRouter.go('account/editproperty',{id:this.state.propertyId})\n    }\n    myPropertyLink(){\n        var propertyId = this.state.propertyId; if(!propertyId)return '';\n        var auctionId = this.state.auctionId; if(!auctionId)return '';\n        var prop = Collections.Properties.findOne(propertyId); if(!prop)return '';\n        var auction = Collections.Auctions.findOne({_id:auctionId}); if(!auction)return '';\n\n        return FlowRouter.path('rent',{slug:prop.slug,key:auction.lettingAuctionCode})\n    }\n    componentDidMount(){\n        if(Meteor.isClient){\n            var user = Meteor.user();\n            if(!user){//\n                FlowRouter.go('advertisewithus',{pageno:2})\n                return;\n            }\n            if(!searialisedAdvertiseForm){\n                FlowRouter.go('advertisewithus')\n                return;\n            }\n            this.addPropertyCallback = function (error, propertyId) {\n\n                if(error){\n                    console.log(error)\n                    var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                    var msg = 'An error occurred.';\n                    if(error.reason)msg += ' '+error.reason+'.'\n                    else if(error.message)msg += ' '+error.message+'.'\n                    tmp.push(msg);\n                    Session.set(\"showErrorDlg\",tmp)\n                    return;\n                }\n                this.setState({propertyId:propertyId})\n                Meteor.subscribe('editProperty',propertyId)//Can also be used for advertisewithus\n                this.addAdvertisementFormCallback = function (error, auctionId) {\n                    if(error){\n                        console.log(error)\n                        //    validator.showErrors({\n                        //         email: error.reason\n                        //     });\n                        var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                        var msg = 'An error occurred.';\n                        if(error.reason)msg += ' '+error.reason+'.'\n                        else if(error.message)msg += ' '+error.message+'.'\n                        tmp.push(msg);\n                        Session.set(\"showErrorDlg\",tmp)\n                        return;\n                    }\n                    console.log('addAdvertisement created successfully')\n                    console.log(auctionId);\n                    var templateInstance = this;\n                    this.setState({auctionId:auctionId},function () {\n                        var propertyId = templateInstance.state.propertyId; if(!propertyId)return '';\n                        var auctionId = templateInstance.state.auctionId; if(!auctionId)return '';\n                        var prop = Collections.Properties.findOne({_id:propertyId}); if(!prop)return '';\n                        var auction = Collections.Auctions.findOne({_id:auctionId}); if(!auction)return '';\n\n                        var myPropertyLink = FlowRouter.url('rent',{slug:prop.slug,key:auction.lettingAuctionCode})\n                        this.setState({myPropertyLink:myPropertyLink})\n                    })\n                }\n                this.addAdvertisementFormCallback = this.addAdvertisementFormCallback.bind(this)\n                Meteor.call('addAdvertisement',searialisedAdvertiseForm,propertyId,this.addAdvertisementFormCallback)\n            }\n            this.addPropertyCallback = this.addPropertyCallback.bind(this);\n            Meteor.call('addProperty',searialisedAdvertiseForm,this.addPropertyCallback)\n        }\n\n\n\n    }\n    //todo: this is page is not developed. So finish it.\n    render(){\n        const self = this;\n        return (\n        <div>\n            <h1>Congratulations! Your property is now live.</h1><br />\n            <a href=\"javascript:void(0)\" className=\"backBtn\" onClick={this.backBtnHandler}>&lt;&lt; Back to step 1</a>\n            {/*<h2>Add property images. </h2>*/}\n            <p style={{margin: '10px 0 10px 0px'}}>Choose add property images button below to add images to your advert to make it clear and attractive. Add description and choose amenities available by choosing edit option below. Choose preview below to view it, use the link from the preview window to share it with others. </p>\n            <div className=\"signin-form cf-1\">\n                <div className=\"clearfix\">\n                    <div className=\"styled-full-width\">\n                        <button className=\"btns blue-btn addPropImages\" onClick={self.addPropImagesHandler}>Add property images</button>\n                        {self.state.propertyId ? (\n                            <a href={FlowRouter.url('account/editproperty', {id:self.state.propertyId})} className=\"btns transparent-btn mar-left-10\">Edit property</a>\n                        ) : \"\"}\n                        <a href={self.state.myPropertyLink} target=\"_blank\" className=\"btns blue-btn mar-left-10\">Preview property</a>\n                    </div>\n                    <div className=\"w-100\" />\n                </div>\n            </div>\n            <h2>Whats next?</h2>\n            <p>Visit <a href={FlowRouter.url('account/myProperties')}>my properties</a> from <a href={FlowRouter.url('account/myProperties')}>here</a> or from top menu to see the list of all your properties. Visit <span className=\"green-text\">view applications</span> from my properties to see list of all applications your property receive. .</p>\n        </div>\n        )\n    }\n}\nclass AdvertiseWithUsForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            addPropertyFormSaving : false,\n            numBedRoomCount:0,\n            numBedRoomCountArr:0,\n            counties:props.counties,\n            areas:props.areas,\n            countySelected:props.countySelected,\n            propertyTypes:props.propertyTypes\n        };\n        this.countySelectedHandler = this.countySelectedHandler.bind(this);\n        this.areaSelectedHandler = this.areaSelectedHandler.bind(this);\n        this.propertyTypeHandler = this.propertyTypeHandler.bind(this);\n    }\n    countySelectedHandler(event){\n        var countySelected = event.target.value\n        this.setState({countySelected:countySelected})\n\n        if( Meteor.isClient )Session.set('countySelected', countySelected);\n        // if(countySelected) this.setState({areas:getAreas(countySelected)})\n\n        setTimeout(function(){\n            $('.areaSelected').val(\"\")\n            saveToLocalStorage();\n        },250)\n    }\n\n    areaSelectedHandler(event){\n        this.setState({areaSelected:event.target.value})\n        setTimeout(saveToLocalStorage,250)\n    }\n\n    propertyTypeHandler(event){\n        this.setState({propertyTypeSelected:event.target.value})\n        setTimeout(saveToLocalStorage,250)\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        this.setState({addPropertyFormSaving:true})\n        var instance = this;\n        setTimeout(function(){\n            instance.setState({addPropertyFormSaving:false})\n        },2000)\n        const address = ReactDOM.findDOMNode(this.refs.address).value.trim()\n        const price = ReactDOM.findDOMNode(this.refs.price).value.trim()\n        const county = ReactDOM.findDOMNode(this.refs.county).value.trim()\n    }\n\n    updateNumBedRoomCount(event){\n        this.setState({numBedRoomCount:event.target.value})\n        var countArr = [];\n        for (var i=0; i<event.target.value; i++){\n            countArr.push({'index':i+1});\n        }\n        this.setState({numBedRoomCountArr:countArr})\n    }\n\n    componentDidMount(){\n        // console.log(this.props)\n        var instance = this;\n        if(Meteor.isClient) {\n            var validator = $('#advertiseWithUsFormCF').validate({\n                submitHandler: function (event) {\n                    // addPropertyFormSaving.set(true);//Not needed on this form.\n                    console.log(\"You just submitted the 'addPropertyForm' form.\");\n                    saveToLocalStorage();\n                    if (instance.props.user) {\n                        FlowRouter.go('advertisewithus', {pageno: 3})\n                    }\n                    else {\n                        FlowRouter.go('advertisewithus', {pageno: 2})\n                    }\n\n                }\n            });\n        }\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n            instance.restoreLocalStorageSettings();\n        },500)\n    }\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.propertyTypes.length)//update only if it has vals.\n            this.setState({propertyTypes:nextProps.propertyTypes})\n        if(nextProps.areas.length)//update only if it has vals.\n            this.setState({areas:nextProps.areas})\n\n        \n    }\n    restoreLocalStorageSettings(){\n        var county = '';\n        if(localStorage) {\n            if (localStorage.advertisewithusFormData_county) {\n                county=localStorage.advertisewithusFormData_county;\n            }else if(localStorage.advertisewithusFormData_county===undefined){//Only for first time users\n                county = 'Dublin'\n            }\n            if (localStorage.advertisewithusFormData_type) {\n                this.setState({propertyTypeSelected:localStorage.advertisewithusFormData_type})\n            }\n        }\n        this.setState({countySelected:county})\n        if( Meteor.isClient )Session.set('countySelected', county);\n        // if(county)this.setState({areas:getAreas(county)})\n\n        if(localStorage)\n        if (localStorage.advertisewithusFormData_area) {\n            this.setState({areaSelected:localStorage.advertisewithusFormData_area})\n        }\n    }\n\n    render(){\n        const self = this;\n        return (\n        <form className=\"signin-form cf-1\" id=\"advertiseWithUsFormCF\" onSubmit={this.handleSubmit.bind(this)}>\n            <div className=\"clearfix\">\n                <div className=\"styled-input \">\n                    <input type=\"text\" name=\"address.address\" id=\"address.address\" required ref=\"address\"/>\n                    <label id=\"address.address-error\" className=\"error\" htmlFor=\"address.address\">This field is required.</label>\n                    <br />\n                    <label>Name and Street *</label>\n                    <span />\n                </div>\n                <div className=\"styled-input \">\n                    <input type=\"number\" name=\"price\" required ref=\"price\" />\n                    <label id=\"address.address-error\" className=\"error\" htmlFor=\"address.address\">This field is required.</label>\n                    <br />\n                    <label>Rent *</label>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>County</label>\n                    <select autoComplete=\"on\" name=\"address.county\" ref=\"county\" required className=\"countySelected\" onChange={this.countySelectedHandler} value={this.state.countySelected}>\n                        <option value={\"\"}>(Select One)</option>\n                        {this.state.counties.map(function(c,i){\n                            return (\n                                <option key={i} value={c.value} >{c.label}</option>\n                            )\n                        })}\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>Area *</label>\n                    <select autoComplete=\"on\" name=\"address.area\" required className=\"areaSelected\" onChange={this.areaSelectedHandler} value={this.state.areaSelected}>\n                        <option value={\"\"}>(Select One)</option>\n                        {this.state.areas.map(function(c,i){\n                            return (\n                                <option key={i} value={c.value} >{c.label}</option>\n                            )\n                        })}\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>Property type *</label>\n                    <select autoComplete=\"on\" name=\"type\" ref=\"type\" required className=\"\" onChange={this.propertyTypeHandler} value={this.state.propertyTypeSelected}>\n                        <option value={\"\"}>(Select One)</option>\n                        {this.state.propertyTypes.map(function(c,i){\n                            return (\n                                <option key={i} value={c.value} >{c.label}</option>\n                            )\n                        })}\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input styled-input-select\">\n                    <label>Furnished? *</label>\n                    <select name=\"furnished\" required autoComplete=\"on\" ref=\"furnished\">\n                        <option value=\"true\">Yes</option>\n                        <option value=\"false\">No</option>\n                    </select>\n                    <span />\n                </div>\n                <div className=\"styled-input underline\">\n                    <input type=\"number\" name=\"baths\" id=\"baths\" required ref=\"baths\"/>\n                    <label>Number of bathrooms</label>\n                    <span />\n                </div>\n                <div className=\"styled-input underline\">\n                    <input type=\"number\" name=\"numBedRoomCount\" id=\"numBedRoomCount\" required ref=\"numBedRoomCount\" onChange={this.updateNumBedRoomCount.bind(this)} value={self.state.numBedRoomCount}/>\n                    <label>Number of bedrooms</label>\n                    <span />\n                </div>\n                { self.state.numBedRoomCountArr ? (\n                    <div>\n                        <div className=\"styled-full-width\">\n                            <label className=\"sep-label\">Ensuite? </label>\n                            {this.state.numBedRoomCountArr.map(function (arr,k) {\n                                return (\n                                    <div key={k} className=\"styled-input-select styled-input-checkbox max-20\">\n                                        <div className=\"checkbox disabled\">\n                                            <label><input type=\"checkbox\"\n                                                          name={\"bedrooms.\"+arr.index+\".ensuite\"}/>Bedroom {arr.index} Ensuite?</label>\n                                        </div>\n                                        <label>Bed Type</label>\n                                        <select required=\"\" autoComplete=\"\" name={\"bedrooms.\"+arr.index+\".bedType\"}>\n                                            <option value=\"single\">Single</option>\n                                            <option value=\"double\">Double</option>\n                                            <option value=\"twin\">Twin</option>\n                                        </select>\n                                        <span></span>\n                                    </div>\n                                )\n                            })}\n\n\n                        </div>\n                        <div className=\"w-100\"></div>\n                    </div>\n                ) : \"\"\n                }\n\n                <div className=\"styled-full-width\">\n                    {self.state.addPropertyFormSaving ? (\n                            <button type=\"button\" className=\"btns transparent-btn\">Saving</button>\n                        ) : (\n                        <button type=\"submit\" className=\"btns blue-btn addPropertyFormSaveBtn\">Save</button>\n                        )\n                    }\n                    <button type=\"button\" className=\"btns transparent-btn addPropertyFormCancelBtn mar-left-10\">Cancel</button>\n                </div>\n\n\n                <div className=\"w-100\" />\n            </div>\n        </form>\n    )}\n}\nAdvertiseWithUsFormT = withTracker(() => {\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    var allareas = [];\n    var allcounties = [];\n    var countySelected = 'Dublin';\n\n    if( Meteor.isClient )if(Session.get('countySelected'))countySelected = Session.get('countySelected')\n\n    for(var i=0;i< staticCounties.length;i++){\n        if(!staticCounties[i])continue;\n        allcounties.push({label: staticCounties[i], value: staticCounties[i] })\n    }\n    var distinctEntries = _.uniq(Collections.Areas.find({}, {//County:countySelected ; Dynamically load areas based on the subscription.\n        sort: {Area: 1}, fields: {Area: true}\n    }).fetch().map(function(x) {\n        return x.Area;\n    }), true);\n    allareas = []\n    for(var i=0;i< distinctEntries.length;i++){\n        if(!distinctEntries[i])continue;\n        allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n    }\n\n    var Config = Collections.Config.find().fetch();Config = Config[0];\n    var propertyTypes = []\n    if(Config)\n        for(var i=0;i< Config.propertyType.length;i++){\n            propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n        }\n\n    const AreasSub = Meteor.subscribe('Areas','','',countySelected,'','',function(){\n        if( ConfigSub.ready()  )Session.set('subscriptionsReady',true);\n    });\n    const ConfigSub = Meteor.subscribe('Config',function(){\n        if(AreasSub.ready() )Session.set('subscriptionsReady',true);\n    });\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    // Meteor.subscribe('Areas');\n    // Meteor.subscribe('Config');\n    Meteor.subscribe('userData')\n    return {\n        user: Meteor.user(),\n        counties: allcounties,\n        countySelected: countySelected,\n        areas: allareas,\n        propertyTypes: propertyTypes,\n    }\n})(AdvertiseWithUsForm);\n","/**\n * Created by njanjanam on 08/08/2018.\n */\nimport { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nfunction titleCase(str) {\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction dateFormat(text){\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n}\n\nfunction chunkify(a, n, balanced) {\n\n    if (n < 2)\n        return [a];\n\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else if (balanced) {\n        while (i < len) {\n            size = Math.ceil((len - i) / n--);\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else {\n\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n            size--;\n        while (i < size * n) {\n            out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n\n    }\n\n    return out;\n}\n\nclass blogDetail extends Component {\n\n    constructor(props) {\n        super(props)\n        var current = FlowRouter.current();\n        this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n\n        this.backBtnHandler = this.backBtnHandler.bind(this)\n\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n    backBtnHandler(){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n        }\n    }\n    componentDidMount(){\n        try {\n            jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n        } catch (e) {\n            document.body.scrollTop = document.documentElement.scrollTop = 0;\n        }\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n\n        },500)\n    }\n    componentDidUpdate() {}\n\n\n    renderMain(){\n        let blog = this.props.data\n        let blogImage='';\n        return (\n\n\n            <section className=\"main-sec\" style={{marginTop:0}}>\n                {false ? (\n                    <div>\n                        <section className=\"banner\">\n                            <div className=\"container\">\n                                <div className=\"row\">\n                                    <div id=\"imagessection\" className=\"col-md-7 padding0\">\n                                        <figure>\n                                            <div className=\"banner-holder\">\n                                                {blog.image ? (\n                                                    <img src={cdnPath(blog.image)} alt={'Photo of '+blog.title} title={blog.title}/>\n                                                ):(\n                                                    <img src={cdnPath(\"/images/no-photo.png\")} alt={'Image not available'} title={'Image not available'}/>\n                                                )}\n                                            </div>\n                                            { false ? (\n                                                <figcaption>\n                                                    <h2>{this.props.isAgent.name}</h2>\n                                                    <h5 style={{padding: 0}}>{this.props.isAgent.address1}</h5>\n                                                </figcaption>\n                                            ) : \"\"\n                                            }\n                                        </figure>\n                                    </div>\n                                    <div className=\"col-md-5 purva-bg\">\n                                        <div className=\"purva\">\n                                            <h1 dangerouslySetInnerHTML={{__html: blog.title}}></h1>\n                                            <div className=\"blogContentArea\" style={{marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: blog.excerpt}}></div>\n\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n                ):\"\"}\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div id=\"detailssection\" className=\"border mar-btm-20 background-white col-md-9 col-sm-12 col-xs-12\">\n                                <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                    <h1 dangerouslySetInnerHTML={{__html: blog.title}}></h1>\n                                </div>\n                                <div className=\"developer proj-dtls \">\n                                    <div className=\"clearfix\">\n                                        <div className=\"col-md-12 blogContentArea\" style={{marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: blog.content}}>\n\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            {this.props.data.related ?(\n                                <div id=\"\" className=\"rightRelatedSection mar-btm-30 amenities col-md-3 col-sm-12 col-xs-12\">\n                                    <div className=\"head-border-bottom head-border-bottomTitleArea\"><h2>Similar Articles</h2></div>\n                                        <div className=\"background-white\" style={{float:'left',display:'block'}}>\n                                            <p style={{margin: '0px 0px 5px 5px'}}>Below are few more articles similar to <span dangerouslySetInnerHTML={{__html: blog.title}}></span></p>\n                                            <ul className={\"thumbnails thumbRelated\"}>\n                {\n                    this.props.data.related.map(function (relatedBlog,i) {\n\n                    // style={{width: 250, height: 188}}\n                    return (\n                    <li className=\"span4\" key={i} style={{float:'left'}}>\n                        <a href={ FlowRouter.url('blogdetail',{slug:relatedBlog.slug}) }>\n                            <div className=\"thumbnail\">\n                                {relatedBlog.image.src ? (\n                                    <img src={relatedBlog.image.src} width={relatedBlog.image.width} height={relatedBlog.image.height}\n                                    alt={relatedBlog.title}\n                                    className=\"img-responsive\"/>\n                                    ) : (\n                                    <img src={cdnPath(\"/images/no-photo.png\")}\n                                         alt={'Image not available'}\n                                         className=\"img-responsive\" style={{width: 250, height: 188}}/>\n                                )}\n                                <h3 dangerouslySetInnerHTML={{__html: relatedBlog.title}}></h3>\n                        </div></a>\n                    </li>\n                    )\n                }\n                )\n                }\n                                                </ul>\n                                            </div>\n                                 </div>\n                            ): \"\"}\n                            {this.props.recentBlogs ?(\n                                <div id=\"realtedsection\" className=\"background-white mar-btm-30 amenities col-md-12 col-sm-12 col-xs-12\">\n                                    <div className=\"head-border-bottom head-border-bottomTitleArea\"><h2>Recent Articles</h2></div>\n                                        <div className=\"amenitiy-block\" style={{float:'left',display:'block'}}>\n                                            <p style={{margin: '0 20px'}}>Below are few more recenty updated articles similar to <span dangerouslySetInnerHTML={{__html: blog.title}}></span></p>\n                                            <ul className={\"thumbnails thumbRelated\"}>\n                {\n                    this.props.recentBlogs.map(function (relatedBlog,i) {\n\n                    // style={{width: 250, height: 188}}\n                    return (\n                    <li className=\"span4\" key={i} style={{float:'left'}}>\n                        <a href={ FlowRouter.url('blogdetail',{slug:relatedBlog.slug}) }>\n                            <div className=\"thumbnail\">\n                                {relatedBlog.image ? (\n                                    <img src={relatedBlog.image} style={{width: 250, height: 188}}\n                                    alt={relatedBlog.title}\n                                    className=\"img-responsive\"/>\n                                    ) : (\n                                    <img src={cdnPath(\"/images/no-photo.png\")}\n                                         alt={'Image not available'}\n                                         className=\"img-responsive\" style={{width: 250, height: 188}}/>\n                                )}\n                                <h3 dangerouslySetInnerHTML={{__html: relatedBlog.title}}></h3>\n                        </div></a>\n                    </li>\n                    )\n                }\n                )\n                }\n                                                </ul>\n                                            </div>\n                                 </div>\n                            ): \"\"}\n\n                        </div>\n                    </div>\n                </section>\n\n        )\n    }\n\n    renderFullMain(){\n\n        if(Meteor.isClient){\n            setTimeout(function(){\n                $('#lettingDetailCarousel').carousel();\n                $('#lettingDetailCarousel .carousel-control.right').unbind('click').bind('click',function(){$('#lettingDetailCarousel').carousel('next')})\n                $('#lettingDetailCarousel .carousel-control.left').unbind('click').bind('click',function(){$('#lettingDetailCarousel').carousel('prev')})\n            },1000)\n        }\n\n        return (\n            <div className=\"property-details-page\" id={'props_list'}>\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n\n                <section className=\"banner\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <nav aria-label=\"breadcrumb\">\n                                <ol className=\"breadcrumb\" style={{margin:\"10px 0\"}}>\n                                    <li className=\"breadcrumb-item\"><a href={FlowRouter.url('home')}>Home</a></li>\n                                    <li className=\"breadcrumb-item\"><a href={FlowRouter.url('bloghome')}>Blogs</a></li>\n                                    <li className=\"breadcrumb-item active\" aria-current=\"page\">This Article</li>\n                                </ol>\n                            </nav>\n                        </div>\n                    </div>\n                </section>\n\n                {\n                    this.props.isSubsLoaded ?\n                        this.props.data ? this.renderMain() :\n                            (\n                                <section className=\"\">\n                                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                        <div className=\"filter-holder\">\n                                            <div className=\"mar-top-30\">\n                                                <span>\n                                                    <strong>This article is not found. Please check the url and try again.</strong><br /><br />\n                                                    <a href={FlowRouter.url('bloghome')} className=\"blue-btn btns noPropBackBtn\">Find recent articles</a>\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </section>\n                            )\n                        :\n                        (\n                            <section className=\"mar-top-20 mar-btm-20 no-print\">\n                                <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                    <div className=\"filter-holder\">\n                                        <div className=\"mar-top-30\">\n                                            <div className={'h2-div'}>Loading...</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </section>\n                        )\n                }\n            </div>\n        )\n    }\n\n    render() {\n        const self = this;\n        if(Meteor.isClient && this.propsListHTML==\"\"){\n            this.propsListHTML = $('#props_list').html()\n        }\n        if(Meteor.isClient) {\n            this.isServerSSRReq = $('#isservercheckdiv').html()\n            if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n            else this.isServerSSRReq = false\n        }\n        // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n        return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded )  ? (\n                        this.renderFullMain()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n}\n\nexport default withTracker(() => {\n\n    var slug = FlowRouter.getParam('slug'); if(!slug)return {data:false,isSubsLoaded:true};\n\n    const viewBlogSub = Meteor.subscribe(\"viewBlog\",slug,function(){\n        Session.set('subscriptionsReady',true);\n    })\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n\n    if( !viewBlogSub.ready() ) {\n        return {data: false, isSubsLoaded:false};\n    }\n\n    var blog = Collections.Blogs.find({\"slug\" : slug}, { limit: 1 }).fetch();\n    if(blog.length){\n        blog = blog[0];\n    }\n    var recentBlogs = Collections.Blogs.find({\"slug\" : {$not: slug}}, { sort: {updatedAt:-1} }).fetch();\n\n    if(!blog || blog.length==0){//Blog not found\n        clearMeta();\n        DocHead.setTitle('Article not found | SpotMyCrib');\n        DocHead.addMeta({name: \"description\", content: \"\"});\n        return {\n            data: false,\n            recentBlogs: recentBlogs,\n            isSubsLoaded:true\n        }\n    }else{\n        var title = blog.metaTitle; //Is Rental Cap Able to Control the Housing Market Crisis? - Blog - SpotMyCrib\n        var desc = blog.metaDesc;\n\n        clearMeta();\n        let titleTmp = title + ' | SpotMyCrib Blog'\n        if(titleTmp.length<=75)title = titleTmp;\n\n        DocHead.setTitle(title);\n        DocHead.addMeta({\n            name: \"description\",\n            content: desc\n        });\n\n        var socialDesc = blog.metaDesc;\n        var socialTitle = blog.metaTitle;\n        var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params);\n        DocHead.addMeta({property: \"og:title\", content: socialTitle});\n        DocHead.addMeta({property: \"og:description\", content: socialDesc});\n\n        DocHead.addMeta({rel: \"canonical\", href: currentURL  });\n\n        DocHead.addMeta({property: \"og:type\", content: \"article\"});\n        DocHead.addMeta({property: \"og:url\", content: currentURL });\n        DocHead.addMeta({property: \"fb:app_id\", content: '309356899476430'})\n\n        try{DocHead.addMeta({property: \"og:image\", content: blog.image  }); }\n        catch (c){\n            //Putting this here is making FB take the first response from here. & its showing no image if if this meta is later updated. So better put it later after all rendering at a template level. For now lets not keep anywhere.\n            // DocHead.addMeta({name: \"og:image\", content: 'https://www.spotmycrib.ie/images/spot-my-crib-logo.png'  });\n        }\n    }\n\n\n    return {\n        data: blog,\n        recentBlogs: recentBlogs,\n        isSubsLoaded:true\n    };\n})(blogDetail);\n\nclass ImagesSlider extends Component {\n    constructor(props) {\n        super(props)\n        var current = FlowRouter.current();\n        this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n    }\n    componentDidMount(){\n        $(document).ready(function() {\n            // $('#lettingDetailCarousel').first().addClass('active');//not needed as bug of isActive helper not working is fixed.\n\n            $('#imagessection .item img').width('100%')\n            var w = $('#imagessection .item img').first().width()\n            var h = w/1.33;\n            if(h>250)$('#imagessection .item img').height(w/1.33)\n            setTimeout(function () {\n                $('#imagessection .item img').width('100%')\n                var w = $('#imagessection .item img').first().width()\n                var h = w/1.33;\n                if(h>250)$('#imagessection .item img').height()\n            },3000)\n\n            // $('#lettingDetailCarousel').carousel();\n            // $(\"#lettingDetailCarousel\").swiperight(function() {\n            //     $(this).carousel('prev');\n            // });\n            // $(\"#lettingDetailCarousel\").swipeleft(function() {\n            //     $(this).carousel('next');\n            // });\n        });\n    }\n    render() {\n        return (\n\n            <div id=\"lettingDetailCarousel\" className=\"carousel slide\" data-ride=\"carousel\">\n                <div className=\"carousel-inner\">\n                    {this.props.images ?\n                        this.props.images.map(function(image,i){\n                            return (\n                            <div key={i} className={'item '+ (i==0 ? 'active' : \"\")}>\n                                <img src={image.url} alt={image.altText} title={image.altText} className=\"img-responsive\"/>\n                            </div>\n                            )\n                        })\n                    :(\n                        <div className=\"item active\">\n                            <img src={cdnPath(\"/images/no-photo.png\")} alt={'Image not available'} title={'Image not available'} className=\"img-responsive\"/>\n                        </div>\n                    )}\n                </div>\n                {/* Left and right controls */}\n                <a className=\"left carousel-control\" href={\"javascript:void(0)\"} data-slide=\"prev\">\n                    <span className=\"glyphicon glyphicon-chevron-left\"/>\n                    <span className=\"sr-only\">Previous</span>\n                </a>\n                <a className=\"right carousel-control\" href={\"javascript:void(0)\"} data-slide=\"next\">\n                    <span className=\"glyphicon glyphicon-chevron-right\"/>\n                    <span className=\"sr-only\">Next</span>\n                </a>\n            </div>\n        );\n    }\n}\n","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\n\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nimport { Collections } from  '../../api/collections.js'\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nlet countsCollection = null;\nfunction dateFormat(text){\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n}\n\nclass Pagination extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        // console.log(this.props)\n    }\n    \n    render() {\n        const self = this;\n        return (\n        <nav>\n            <ul className=\"pagination\">\n                <li className={\"page-item \" +self.props.pagination.prevPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.prevPage.href} \n                    tabIndex=\"-1\"\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)}\n                    >{self.props.pagination.prevPage.text}\n                    </a>\n                </li>\n                {self.props.pagination.pages.map((page, i) => {\n                    if(typeof page.current !== 'undefined' && page.current) {\n                        return (\n                            <li key={i} className=\"page-item active\">\n                                <a className=\"page-link\" href={page.href}>{page.text} <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                        );\n                    } else {\n                        return (\n                           <li key={i} className=\"page-item\">\n                            <a \n                            className=\"page-link\" \n                            onClick={self.props.handleChoosePage.bind(self, page.text, self.props.parent)}\n                            href={page.href}\n                            >{page.text}\n                            </a>\n                           </li>\n                        );\n                    }\n                })}\n                <li className={\"page-item \" + self.props.pagination.nextPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.nextPage.href}\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)}\n                    >{self.props.pagination.nextPage.text}\n                    </a>\n                </li>\n            </ul>\n        </nav>\n        )\n    }\n}\n\nclass BlogHome extends Component {\n\n    constructor(props) {\n        super(props);\n\n        let pBlogs = props.blogs; if(!pBlogs)pBlogs = [];\n        let pTotalCount = props.totalCount; if(!pTotalCount)pTotalCount = 0;\n        let pPagination = props.pagination; if(!pPagination)pPagination = 0;\n        this.state = {\n            blogs: pBlogs,\n            totalCount: pTotalCount,\n            pagination: pPagination,\n        };\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            blogs: nextProps.blogs,\n            totalCount: nextProps.totalCount,\n            pagination: nextProps.pagination\n        });\n    }\n\n    componentWillMount() {}\n\n    componentDidMount() {\n        const self = this;\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n        },500)\n    }\n    componentDidUpdate() {}\n    handleChoosePage(page, component) {\n        if (typeof page == \"undefined\") return\n\n        // var data = getSlugData();\n        // var slug = generateSlug(data);\n        //\n        // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n        //\n        // component.setState({pagination: pagination()});\n    }\n\n    propGrid() {\n        const self = this;\n        let blogImage = '';\n        return (\n            <div className=\"row\">\n                {self.state.blogs.map((blog, i) => {\n                    if(blog.image){\n                        let tmp = blog.image.split('?');\n                        blogImage = tmp[0]+\"?resize=200%2C140\";\n                    }else{\n                        blogImage='';\n                    }\n                    return (\n                        <section key={i} className=\"main-holder border-top mar-btm-10\" id>\n                            <div className=\"container\">\n                                <div className=\"act-box\">\n                                    <div className=\"background-white\">\n                                        <div className=\"logo-holder-div\" style={{padding: '10px 20px'}}>\n                                            <div className=\"logo-holder\">\n                                                <ul>\n                                                    <li>\n                                                        <a href={FlowRouter.url('blogdetail', {slug: blog.slug})}>\n                                                            <h3 className=\"pad-btm-0\" dangerouslySetInnerHTML={{__html: blog.title}}></h3>\n                                                        </a>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"apt-info1 background-white clearfix\">\n                                        <div className=\"media\">\n                                            { blogImage ?\n                                                (\n                                                <a className=\"pull-left\" href={FlowRouter.url('blogdetail', {slug: blog.slug})}>\n                                                    <img className=\"media-object\" src={blogImage} alt={blog.title}/>\n                                                </a>\n                                                )\n                                                :\n                                                (\n                                                <img src={cdnPath(\"/images/no-photo.png\")}\n                                                alt={'Image not available'}\n                                                className=\"img-responsive\"/>\n                                                )\n                                            }\n\n                                            <div className=\"media-body\">\n                                                <div className=\"text-left mar-btm-10\" dangerouslySetInnerHTML={{__html: blog.excerpt}}></div>\n                                                {/*... <span className=\"read-more\"><a href={FlowRouter.url('blogdetail', {slug: blog.slug})}>Read More &raquo;</a></span>*/}\n                                                <ul className=\"list-inline list-unstyled\">\n                                                    <li><span><i className=\"glyphicon glyphicon-calendar\" /> {dateFormat(blog.created)} </span></li>\n                                                    {/*<li>|</li>*/}\n                                                    {/*<li>*/}\n                                                        {/*/!* Use Font Awesome http://fortawesome.github.io/Font-Awesome/ *!/*/}\n                                                        {/*<span><i className=\"fa fa-facebook-square\" /></span>*/}\n                                                        {/*<span><i className=\"fa fa-twitter-square\" /></span>*/}\n                                                        {/*<span><i className=\"fa fa-google-plus-square\" /></span>*/}\n                                                    {/*</li>*/}\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    );\n                })}\n            </div>\n        )\n    }\n    mainAllPage(){\n        const self = this;\n        return (\n            <div id=\"props_list\">\n                <section className=\"logo-below-div value-div\">\n                    <div className=\"container\">\n                        <div className=\"logo-holder-div\">\n                            <div className=\"logo-holder\">\n                                <ul>\n                                    <li>\n                                        <h1 style={{marginBottom: 10}}>Blog â€“ SpotMyCrib</h1>\n                                        <div className=\"h4-div\" style={{paddingBottom: 5}}>Property renting tips, management and much more</div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                { self.state.totalCount == 0 && this.props.isSubsLoaded ? (\n                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                        <strong>\n                            No blogs found.\n                        </strong>\n                    </div>\n                ) : (\"\")}\n\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea mar-top-20 \">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <p className={'mar-btm-20'}>\n                                        Found total {self.state.totalCount ? self.state.totalCount : 'no'} articles. Browse the latest property news, renting tips, management and much more. Use the navigation below to find more.\n                                    </p>\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n\n                { self.state.totalCount > 0 ? (\n                <section className=\"proplist-sec property-list\">\n                    <div className=\"container\">\n                        {this.propGrid()}\n                    </div>\n                </section>\n                ) : (\"\")}\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n            </div>\n        )\n    }\n\n    render() {\n    const self = this;\n    let totalCount = 0;\n    if(Meteor.isClient && this.propsListHTML==\"\"){\n        this.propsListHTML = $('#props_list').html()\n    }\n    if(Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html()\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n        else this.isServerSSRReq = false\n    }\n    // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n    return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded && self.state.blogs )  ? (\n                        this.mainAllPage()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n};\n\nexport default withTracker(() => {\n    \n    function getPaginationData(totalResultsCount,currentPageNo,resultsPerPage) {\n        currentPageNo = parseInt(currentPageNo);\n        var pages = [], prevPage = {}, nextPage={};\n        var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage);\n        if(!Number.isInteger(currentPageNo)){\n            return {\n                \"prevPage\":prevPage,\n                \"pages\":pages,\n                \"nextPage\": nextPage\n            }\n        }\n        \n        if(pgMin<1)pgMin =1;\n        if(pgMax<1)pgMax =1;\n        if(maxPages<1)maxPages =1;\n        if(pgMin>maxPages)currentPageNo =maxPages;\n\n        let tmp={};let href = '';\n        let cRoute = FlowRouter.current().route.name, cParams = FlowRouter.current().params, cQueryParams = FlowRouter.current().queryParams;\n        for (var i=pgMin; i<=maxPages;i++){\n            cParams.pageno = i;\n            tmp = {\n                \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n                \"text\": i\n            }\n            if(i== currentPageNo) {\n                tmp['href'] = 'javascript:void(0);';\n                tmp['current'] = true;\n            }\n            pages.push(tmp)\n        }\n\n        var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n        \n        if(prevPageNo<1){\n            prevPage['href'] = 'javascript:void(0)';\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = prevPageNo;\n            prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n            prevPage['prevPageNo'] = prevPageNo;\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = '';\n        }\n\n        if(nextPageNo>maxPages) nextPageNo = maxPages;\n        if(nextPageNo == currentPageNo){\n            nextPage['href'] = 'javascript:void(0)';\n            nextPage['text'] = 'Next';\n            nextPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = nextPageNo;\n            nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n            nextPage['text'] = 'Next';\n            nextPage['nextPageNo'] = nextPageNo;\n            nextPage['disabled'] = '';\n        }\n\n        return {\n            \"prevPage\":prevPage,\n            \"pages\":pages,\n            \"nextPage\": nextPage\n        }\n    }\n\n    var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n    var resperpage = 6;\n    // var query = FlowRouter.current().queryParams;\n    var current = FlowRouter.current();\n    var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams)\n\n    var sortOptions = { updatedAt : -1 }\n\n    const bBlogsSub = Meteor.subscribe(\"browseBlogs\", {viewName: 'browseBlogs.view', pageno:pageno, resperpage:resperpage } ,function(){\n        if(bBlogsSub.ready() && Meteor.isClient)Session.set('subscriptionsReady',true);\n    });\n\n    Meteor.subscribe(\"total-blogs-count\", {viewName: 'browseBlogs.view', pageno:pageno, resperpage:resperpage});\n\n    if(Meteor.isServer){\n        if(countsCollection==null)countsCollection = new Mongo.Collection('counts');\n        Counts.get = function countsGet(name) {\n            const count = countsCollection.findOne(name);\n            return count && count.count || 0;\n        };\n        Counts.has = function countsHas(name) {\n            return !!countsCollection.findOne(name);\n        };\n\n        totalCount = Counts.get(\"total-blogs-count\");\n\n    }else{\n        totalCount = Counts.get(\"total-blogs-count\");\n    }\n\n    // Meteor.subscribe('userData');\n    // Meteor.subscribe('Config');\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !bBlogsSub.ready() ) {\n        return {\n            isSubsLoaded : false\n        }\n    }\n\n    return {\n        totalCount: totalCount,\n        pagination: getPaginationData(totalCount,pageno,6),\n        blogs: Collections.Blogs.find().fetch(),\n        isSubsLoaded : true\n    };\n})(BlogHome);","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nfunction titleCase(str){\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction saveToLocalStorage(){\n    if(Meteor.isServer)return;\n    if (localStorage) {\n        // if($( \".countySelected\" ).val().toString().trim()) //It needs to work even all options are reset, i.e its empty.\n        localStorage.homePageMainFormData_county = $( \".countySelected\" ).val();\n        // if($( \".areaSelected\" ).val().toString().trim())//it needs to reset to empty\n        localStorage.homePageMainFormData_area = $( \".areaSelected\" ).val();\n        var tmp = $( \"input:radio[name=propertyType]:checked\" ).val();\n        if(tmp)localStorage.homePageMainFormData_propertyType = tmp\n        localStorage.homePageMainFormData_maxRent = $('.maxRent').val();\n    }\n}\nfunction slugify (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '')           // Replace spaces with \"\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var maxRent = curURL.maxRent\n    var country = curURL.country;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query=[];\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(country)slug+=\"-\"+country\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    if(maxRent && maxRent!=selectedCur.max)query[\"maxRent\"] = maxRent;\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction chunkify(a, n, balanced) {\n\n    if (n < 2)\n        return [a];\n\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else if (balanced) {\n        while (i < len) {\n            size = Math.ceil((len - i) / n--);\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else {\n\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n            size--;\n        while (i < size * n) {\n            out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n\n    }\n\n    return out;\n}\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var maxRent = curURL.maxRent\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query={};\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(bedCount)query.bedCount = bedCount;\n    if(luxurySort)query.luxurySort = 1;\n    if(cheapSort)query.cheapSort = 1;\n\n    if(country)slug+=\"-\"+country\n    else slug+=\"-ireland\"\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    if(maxRent && maxRent!=selectedCur.max)query.maxRent = maxRent;\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction generateSlugURL(curURL){\n    var ret = generateSlug(curURL)\n    return FlowRouter.url('b',{slug:ret[0]},ret[1]);\n}\nfunction fixImageSize() {\n    var avgW=0;\n    $('.image-holder img').each(function(){\n\n        if(!avgW)avgW = $(this).width();\n        else {\n            avgW += $(this).width();\n            avgW =  avgW / 2;\n        }\n    })\n    if(!avgW)avgW = 250;\n    $('.image-holder img').width('100%');\n    $('.image-holder img').height(avgW*0.7);\n}\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.searchCrumbs){\n            var chunks = chunkify(props.searchCrumbs,3,true)\n            searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.fCrumbs){\n            var chunks = chunkify(props.fCrumbs,3,true)\n            fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.areaCrumbs){\n            var chunks = chunkify(props.areaCrumbs,3,true)\n            areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.countyCrumbs){\n            var chunks = chunkify(props.countyCrumbs,3,true)\n            countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        this.state = {\n            'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs\n        }\n        this.searchCrumbsLoaded = false;\n\n    }\n    componentWillMount(){\n        if(Meteor.isClient) Session.set('showLoginInPlace',false);\n        // console.log('In componentWillMount');\n    }\n\n    componentDidMount() {\n        // console.log('In componentDidMount');\n        if ( /^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n            $('select').addClass('safariSelect')//css('-moz-appearance','none');\n        }\n   \n        $('.iamarenterbtn').click(function (e) {\n            e.preventDefault();\n            $('html,body').animate({scrollTop: $(this.hash).offset().top }, 500,function(){\n                $(\".bigsearchbox\").css({border: '0 solid red','background-color':\"rgba(0, 0, 0, 0.8)\"}).animate({\n                    borderWidth: 2,\n                    'background-color':\"rgba(0, 0, 0, 1)\"\n                }, 500, function() {\n                    $(\".bigsearchbox\").animate({\n                        borderWidth: 0,\n                        'background-color':\"rgba(0, 0, 0, 0.8)\"\n                    }, 500);\n                });\n            })\n        });\n\n        if(Meteor.isClient) {\n            setTimeout(function(){\n                if(window.location.hash){\n                    jQuery(\"html,body\").animate({scrollTop: $(window.location.hash).offset().top }, 250);\n                }\n            },2000)\n        }\n    }\n    \n    componentDidUpdate() {\n    }\n\n    crumbsUpdate(){\n        if(!this.searchCrumbsLoaded){\n            var searchCrumbs = {c1:[],c2:[],c3:[]}\n            var fCrumbs = {c1:[],c2:[],c3:[]}\n            var areaCrumbs = {c1:[],c2:[],c3:[]}\n            var countyCrumbs = {c1:[],c2:[],c3:[]}\n            if(this.props.searchCrumbs){\n                var chunks = chunkify(this.props.searchCrumbs,3,true)\n                searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.fCrumbs){\n                var chunks = chunkify(this.props.fCrumbs,3,true)\n                fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.areaCrumbs){\n                var chunks = chunkify(this.props.areaCrumbs,3,true)\n                areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.countyCrumbs){\n                var chunks = chunkify(this.props.countyCrumbs,3,true)\n                countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.searchCrumbsLoaded)//Update the state only once; when its true\n                this.setState({'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs})\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        // console.log(this)\n        // console.log('In componentWillReceiveProps');\n        this.crumbsUpdate();\n    }\n\n    handleJoinNow() {\n        Session.set('showForgotForm',false)\n        Session.set('isLandLordMode',true)\n        Session.set('showSignupForm',true)\n        Session.set('showLoginSignupFancyBoxDialog',true)\n        Session.set('showLoginDialog',true)\n    }\n    \n    handlePostYourProperty(event) {\n        event.preventDefault();\n        var prevRoute = {name: FlowRouter.current().route.name,args:{scrollTo:0},instructions:{openPostNewProp:true} }\n        Session.set('prevRoute',prevRoute);\n        FlowRouter.go('account/myProperties')\n    }\n\n    render() {\n        const self = this;\n        return (\n        <div>\n            <MainLayoutHeader />\n            <div className=\"index home\">\n                <section className=\"\" id=\"searchform\">\n                    <div className=\"index-main-banner\">\n                        <div className=\"container\">\n                            <div className=\"index-bnr-cont\">\n                                \n                                { true ? (\n                                <div id=\"homeSliderParent\" >\n                                    <div id=\"homeSlider\">\n                                        <div className=\"carousel-inner\">\n                                            <div className=\"item active\">\n                                                <p>Best properties to rent in Ireland. Find them, right here!</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                ) : \"\"}\n                                <div className=\"home-banner\" style={{marginBottom: \"50px\"}}>\n                                    <a className=\"btns green-btn \" href={FlowRouter.url('estateagent')} style={{fontSize:'15px'}}>I'm a Landlord</a>\n                                    <a className=\"btns transparent-btn iamarenterbtn\" href=\"#searchform\">I'm a Renter</a>\n                                </div>\n                                <div className=\"box-places home-page-box-places bigsearchbox\">\n                                    <ul>\n                                        <li>\n                                            <HomePageMainFormT />\n                                        </li>\n                                    </ul>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <HomePageLatestPropsT />\n                {true ? (\n                <section id=\"homeLinks\" className=\"sec-holder how-it-works\">\n                    <div className=\"container\">\n\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div id=\"\" className=\"mar-btm-30 amenities\">\n\n                                    <div className=\"\" style={{paddingTop:0}}>\n                                        { this.props.fCrumbs === undefined || this.props.fCrumbs.length == 0 ? (\"\") : (\n                                            <div className={'bottomcrumbs row'}>\n                                                <h2>Browse properties to rent in top cities</h2>\n                                                <span className=\"bottom-line\"></span>\n                                                <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.fCrumbs.c1 ?\n                                                            this.state.fCrumbs.c1.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.fCrumbs.c2 ?\n                                                            this.state.fCrumbs.c2.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.fCrumbs.c3 ?\n                                                            this.state.fCrumbs.c3.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                        <a style={{display: \"block\"}} className=\"iamarenterbtn\" href=\"#searchform\">More</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )}\n                                        { this.props.countyCrumbs === undefined || this.props.countyCrumbs.length == 0  ? (\"\") : (\n                                            <div className={'bottomcrumbs row mar-top-30'}>\n                                                {/*<h2>Counties</h2>*/}\n                                                <span className=\"bottom-line\"></span>\n                                                <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.countyCrumbs.c1 ?\n                                                            this.state.countyCrumbs.c1.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.countyCrumbs.c2 ?\n                                                            this.state.countyCrumbs.c2.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                    </div>\n                                                    <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                        {this.state.countyCrumbs.c3 ?\n                                                            this.state.countyCrumbs.c3.map(function (crumb, i) {\n                                                                return (\n                                                                    <a key={i} style={{display: \"block\"}}\n                                                                       href={crumb.url}>{crumb.name}</a>\n                                                                )\n                                                            })\n                                                            : \"\"}\n                                                        <a style={{display: \"block\"}} className=\"iamarenterbtn\" href=\"#searchform\">More</a>\n                                                    </div>\n                                                </div>\n\n                                            </div>\n                                        )}\n                                    </div>\n\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </section>\n                ) : \"\"}\n                <section id=\"whatis\" className=\"sec-holder how-it-works whatissmc\" style={{background:'white'}}>\n                    <div className=\"container\">\n                        <h2>What is SpotMyCrib?</h2>\n                        <span className=\"bottom-line\"></span>\n                        <div className=\"container\">\n                            <p>SpotMyCrib is the safest platform to find your next rental home. It brings 100% verified landlords with genuine rentals to you. Just search for your ideal home, apply, get screened, e-sign your lease and pay rent online.</p>\n                            <a href=\"#how-works\" className=\"scroll1 transparent-btn btns \">Know More</a>\n                        </div>\n                    </div>\n                </section>\n                <section id=\"how-works\" className=\"sec-holder how-it-works\">\n                    <div className=\"container\">\n                        <h2>How it works</h2>\n                        <span className=\"bottom-line\"></span>\n                        <ul className=\"mar-top-30\">\n                            <li>\n                                <h6 className=\"pad-btm-30\">Search Property</h6>\n                                <img src={cdnPath(\"/images/how-it-works/search-and-find-property-apartment-flat.png\")} alt=\"Search and find your rental property\" className=\"pad-btm-30\" />\n                                <p>\n                                    Search and find an apartment/house you like from our <a className=\"iamarenterbtn\" href={FlowRouter.url('home')+'#searchform'}>browse form</a>.\nOr choose your county from our <a href={FlowRouter.url('home')+'#homeLinks'}>county list</a>.\n                                    </p>\n                            </li>\n                            <li>\n                                <h6 className=\"pad-btm-30\">Set Your Rent</h6>\n                                <img src={cdnPath(\"/images/how-it-works/set-your-rent-apartment.png\")} alt=\"Apply and set your rent for Apartment\"  className=\"pad-btm-30\"/>\n                                <p>Make your offer for the house and click apply. Remember to upload all your references in your profile.</p>\n                            </li>\n                            <li>\n                                <h6 className=\"pad-btm-30\">Confirm your Home</h6>\n                                <img src={cdnPath(\"/images/how-it-works/confirm-your-rent-in-dublin.png\")} alt=\"Confirm your rental\"  className=\"pad-btm-30\"/>\n                                <p>Landlord chooses a tenant based on your references and your offer. If you are chosen, you would receive a confirmation email. </p>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"container mar-top-30\">\n                        <a href={FlowRouter.url('faqs')} className=\"transparent-btn btns \" type=\"button\">Learn more</a>\n                        <span className=\"pad-btm-30 visible-xs visible-sm\">&nbsp;</span>\n                    </div>\n                </section>\n                <section className=\"sec-holder about-us\">\n                    <div className=\"container\">\n                        <h1>Manage all your lettings at one place</h1>\n                        <h3 style={{marginTop: \"10px\", color: \"white\"}}>From finding tenants to verifying their social profiles</h3>\n                        <h3 style={{marginTop: \"10px\", color: \"white\"}}>From collecting rents to logging maintenance costs</h3>\n                        <div>\n                        { self.props.currentUserId ?\n                            <a href=\"#TODO\" style={{marginTop: \"10px\"}} onClick={self.handlePostYourProperty} className=\"pink-btn oval-btn postYourProperty\">Post your property</a>\n                        :\n                            <a href=\"javascript:;\" style={{marginTop: \"10px\"}} onClick={self.handleJoinNow} className=\"pink-btn oval-btn joinNowBtn\">Start Your Free 30-Day Trial</a>\n                        }\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n        </div>\n        );\n    }\n};\n\n\nexport default withTracker(() => {\n    ////////// ADV BREADCRUMBS MORE LINKS\n    advancedCrumbs = function(propertyType){\n        let fCrumbs = [], tmpCrumbs = [], areaCrumbs = [], countyCrumbs = [];\n        if(propertyType)propertyType = propertyType.toLowerCase();\n\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        //Property Size\n        //Property Size - Property Type\n        //Property Size - Property Type - County\n        //Property Type - county\n        //Counties\n        //Areas\n        //Property Size - Property Type - area - County\n        //Property Size - area - County\n        //Property Type - area - county\n\n        fCrumbs.push({url: generateSlugURL({propertyType: 'studio'}), name: 'Studios'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 1}), name: '1-Beds'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 2}), name: '2-Beds'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3}), name: '3-Beds'})\n\n        tmpCrumbs.push({url: generateSlugURL({cheapSort: true, propertyType: 'house'}), name: 'Cheap Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'house'}), name: '1-Bed Houses'})//Property Size - Property Type\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'house'}), name: '2-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'house'}), name: '3-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({luxurySort: true, propertyType: 'house'}), name: 'Luxury Houses'})\n\n        if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n            url: generateSlugURL({cheapSort: true, propertyType: 'apartment'}),\n            name: 'Cheap Apartments'\n        })\n        fCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'apartment'}), name: '1-Bed Apartments'})//Property Size - Property Type\n        fCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'apartment'}), name: '2-Bed Apartments'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'apartment'}), name: '3-Bed Apartments'})\n        fCrumbs.push({\n            url: generateSlugURL({luxurySort: true, propertyType: 'apartment'}),\n            name: 'Luxury Apartments'\n        })\n\n        if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n//dublin-apartments\n        //Not doing dublin-houses due to less searches for Dublin apartments\n        var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n        for (var i = 0; i < staticCounties.length; i++) {\n            if (!staticCounties[i]) continue;\n            countyCrumbs.push({\n                url: generateSlugURL({county: staticCounties[i]}),\n                name: staticCounties[i] + ' Apartments'\n            })\n        }\n\n        return {\n            fCrumbs:fCrumbs,\n            areaCrumbs: areaCrumbs,\n            countyCrumbs:countyCrumbs\n        }\n    }\n    let advC = {fCrumbs:[],areaCrumbs:[],countyCrumbs:[]}\n    if(true) {\n        let propertyType = '';\n        if(Meteor.isClient)propertyType = Session.get('HPFpropertyTypeSelected');\n        if(!propertyType)propertyType = 'Apartment';\n        advC = advancedCrumbs(propertyType);\n    }\n    ////////// END ADV BREADCRUMBS\n\n    \n    // Meteor.subscribe('Areas')\n    // Meteor.subscribe('Config');\n\n  return {\n    currentUserId: Meteor.userId(),\n    fCrumbs : advC.fCrumbs,\n    areaCrumbs : advC.areaCrumbs,\n    countyCrumbs : advC.countyCrumbs\n  };\n})(Home);\n\nclass HomePageMainForm extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            counties:props.counties,\n            areas:props.areas,\n            countySelected:props.countySelected,\n        }\n        this.isLocalAlreadySet = false;\n        this.isLocalAreaAlreadySet = false;\n        this.countySelectedHandler = this.countySelectedHandler.bind(this);\n        this.areaSelectedHandler = this.areaSelectedHandler.bind(this);\n        this.propertyTypeHandler = this.propertyTypeHandler.bind(this);\n        this.maxRentHandler = this.maxRentHandler.bind(this);\n        this.localHistorySet = this.localHistorySet.bind(this);\n    }\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        this.setState({\n            areas: nextProps.areas\n        });\n    }\n    localHistorySet(){\n        if(this.props.isSubsLoaded && this.isLocalAlreadySet && !this.isLocalAreaAlreadySet){\n            if (localStorage.homePageMainFormData_area) {\n                this.setState({areaSelected:localStorage.homePageMainFormData_area})\n            }\n            this.isLocalAreaAlreadySet = true;\n        }\n        if(this.props.isSubsLoaded && !this.isLocalAlreadySet){\n            var county = '';\n            if(localStorage) {\n                if (localStorage.homePageMainFormData_maxRent) {\n                    $('.maxRent').val(localStorage.homePageMainFormData_maxRent);\n                }\n                if (localStorage.homePageMainFormData_county) {\n                    county=localStorage.homePageMainFormData_county;\n                }else if(localStorage.homePageMainFormData_county===undefined){//Only for first time users\n                    county = 'Dublin'\n                }\n                if (localStorage.homePageMainFormData_propertyType) {\n                    var tmp = localStorage.homePageMainFormData_propertyType\n                    $('input:radio[name=propertyType]').removeAttr('checked');\n                    $('input:radio[name=propertyType][value=\"'+tmp+'\"]').prop('checked', true)\n                }\n            }\n            this.setState({countySelected:county})\n            if( Meteor.isClient )Session.set('countySelected', county);\n            // if(county)this.setState({areas:getAreas(county)})\n            this.isLocalAreaAlreadySet = false;\n\n            this.isLocalAlreadySet = true;\n        }\n    }\n    componentDidMount(){\n        this.localHistorySet();\n        // setTimeout(function () {\n        //     $('.countySelected').val(county)\n        // },100)\n        // setTimeout(function () {\n        //     if (localStorage.homePageMainFormData_area) {\n        //         Session.set('areaRestored',localStorage.homePageMainFormData_area)\n        //         // setTimeout(function () {\n        //         //     $('.areaSelected').val(localStorage.homePageMainFormData_area)\n        //         // },100)\n        //     }\n        // },1000)\n    }\n    componentDidUpdate(){\n        this.localHistorySet();\n    }\n    countySelectedHandler(event){\n        var countySelected = event.target.value\n        this.setState({countySelected:countySelected})\n        if( Meteor.isClient )Session.set('countySelected', countySelected);\n\n        //if(countySelected) this.setState({areas:getAreas(countySelected)})\n        this.isLocalAreaAlreadySet = false;\n\n        if(localStorage)localStorage.homePageMainFormData_county = countySelected;\n    }\n    areaSelectedHandler(event){\n        this.setState({areaSelected:event.target.value})\n        if(localStorage)localStorage.homePageMainFormData_area = event.target.value;\n    }\n    propertyTypeHandler(event){\n        if(localStorage)localStorage.homePageMainFormData_propertyType = event.target.value;\n    }\n    maxRentHandler(event){\n        if(localStorage)localStorage.homePageMainFormData_maxRent = event.target.value;\n    }\n    submitFormHandler(event) {\n        event.preventDefault();\n        const target = event.target;\n        const key = target.propertykey.value;\n        if(key){\n            if(key.length!=5){\n                alert('Invalid property key! It should of 5 characters in length.');\n                return;\n            }\n            FlowRouter.go('letting',{key:key.toUpperCase()})\n            return;\n        }\n\n        // const territory = target.territory.value;\n\n        var data={\n            country:target.country.value,\n            county:target.countySelected.value == 'all' ? '' : target.countySelected.value,\n            area:target.areaSelected.value == 'all' ? '' : target.areaSelected.value,\n            maxRent:target.maxRent.value,\n            propertyType:target.propertyType.value,\n        }\n        var slug = generateSlug(data);\n        FlowRouter.go('b',{slug:slug[0]},slug[1])\n    }\n    render(){\n    return (\n<form className=\"propertykey-form\" onSubmit={this.submitFormHandler}>\n<div className=\"input-group\">\n{/*start */}\n<div className=\"searchformSec\">\n<input type=\"hidden\" name=\"country\" defaultValue=\"ireland\" />\n<div className=\"profile-text\">\n<div className=\"rd-details\">\n{ false ? (<span>I am looking for an</span>) : \"\"}\n<label className=\"account-type-label\" htmlFor=\"rd1\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" id=\"rd1\" name=\"propertyType\" defaultValue=\"apartment\" type=\"radio\" defaultChecked onChange={this.propertyTypeHandler} />\nApartment for rent\n</label>\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"house\" type=\"radio\" onChange={this.propertyTypeHandler} />\nHouse for rent\n</label>\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"student\" type=\"radio\" onChange={this.propertyTypeHandler} />\nStudent Accommodation\n</label>\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"share\" type=\"radio\" onChange={this.propertyTypeHandler} />\nShare\n</label>\n{ false ? (\n<label className=\"account-type-label\">\n<input autoComplete=\"on\" className=\"account-type-radio propertyType\" name=\"propertyType\" defaultValue=\"holidayhomes\" type=\"radio\" onChange={this.propertyTypeHandler} />\nHoliday Homes\n</label>\n) : \"\"}\n</div>\n\n<div className=\"signin-form\">\n<div className=\"frm-group clearfix\">\n<div className=\"styled-input styled-input-select\">\n<select autoComplete=\"on\" name=\"countySelected\" className=\"countySelected\" onChange={this.countySelectedHandler} value={this.state.countySelected}>\n<option value={\"\"}>Choose City/County</option>\n<option value={\"all\"} >All</option>\n{this.state.counties.map(function(c,i){\n    return (\n        <option key={i} value={c.value} >{c.label}</option>\n        )\n})}\n</select>\n<span />\n</div>\n<div className=\"styled-input styled-input-select\">\n<select autoComplete=\"on\" name=\"areaSelected\" className=\"areaSelected\" onChange={this.areaSelectedHandler} value={this.state.areaSelected}>\n<option value={\"\"}>Choose Area</option>\n<option value={\"all\"}>All</option>\n    {this.state.areas.map(function(c,i){\n        return (\n            <option key={i} value={c.value} >{c.label}</option>\n        )\n    })}\n</select>\n<span />\n</div>\n<div className=\"styled-input styled-input-select\">\n<select autoComplete=\"on\" name=\"maxRent\" className=\"maxRent\" onChange={this.maxRentHandler}>\n<option value={\"\"}>Max Rent</option>\n<option value={\"\"}>Any</option>\n    {this.props.maxRent.map(function(c,i){\n        return (\n            <option key={i} value={c.value} >{c.label}</option>\n        )\n    })}\n</select>\n<span />\n</div>\n<div className=\"styled-input styled-input-select\">\n<input autoComplete=\"on\" type=\"text\" className=\"form-control propertykey\" name=\"propertykey\" placeholder=\"Property KEY\" />\n</div>\n<div className=\"styled-input\">\n<span className=\"input-group-btn\" style={{zIndex: 0}}>\n<button className=\"btn white-btn\" type=\"submit\" style={{width:'100%'}}>Find</button>\n</span>\n</div>\n</div>\n</div>\n\n</div>\n</div>\n</div>\n</form>\n\n    );\n    }\n}\nHomePageMainFormT = withTracker(() => {\n    var countries = [{label: \"Ireland\", value: \"Ireland\"}];//Both capital\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    var allareas = [];\n    var allcounties = [];\n    var countySelected = 'Dublin';\n\n    if( Meteor.isClient )if(Session.get('countySelected'))countySelected = Session.get('countySelected')\n    let isSubsLoaded = false;\n    const areasSub = Meteor.subscribe('Areas','','',countySelected,'','',function(){\n        if(areasSub.ready() && Meteor.isClient )Session.set('subscriptionsReady',true);\n    })\n    // Meteor.subscribe('Config');\n    if( Meteor.isClient )\n    if( Session.get('subscriptionsReady') ) {\n        isSubsLoaded = true;\n    }\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n\n    for(var i=0;i< staticCounties.length;i++){\n        if(!staticCounties[i])continue;\n        allcounties.push({label: staticCounties[i], value: staticCounties[i] })\n    }\n    ////////////////////////START AREAS PROCESSING\n    var distinctEntries = _.uniq(Collections.Areas.find({}, {//Dynamically load areas based on the subscription.\n        sort: {Area: 1}, fields: {Area: true}\n    }).fetch().map(function(x) {\n        return x.Area;\n    }), true);\n    allareas = []\n    for(var i=0;i< distinctEntries.length;i++){\n        if(!distinctEntries[i])continue;\n        allareas.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n    }\n    ////////////////////////END AREAS PROCESSING\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    var maxRent = []\n    for(var i=selectedCur.min;i<selectedCur.max+1;i=i+50){\n        maxRent.push({label: i, value: i })\n    }\n\n    // var Config = Collections.Config.find().fetch();Config = Config[0];\n    var propertyTypes = []\n    // if(Config)\n    // for(var i=0;i< Config.propertyType.length;i++){\n    //     propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n    // }\n\n    \n    return {\n        // countries: countries,\n        counties: allcounties,\n        countySelected: countySelected,\n        areas: allareas,\n        maxRent: maxRent,\n        isSubsLoaded:isSubsLoaded\n        // propertyTypes: propertyTypes,\n    };\n})(HomePageMainForm);\n\n\nclass HomePageLatestProps extends Component{\n    constructor(props) {\n        super(props);\n        let pAuctions = props.auctions; if(!pAuctions)pAuctions = [];\n        let pProperties = props.properties; if(!pProperties)pProperties = [];\n        this.state = {\n            auctions: pAuctions,\n            properties: pProperties\n        };\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        this.setState({\n            auctions: nextProps.auctions,\n            properties: nextProps.properties\n        });\n    }\n\n    componentWillMount() {}\n\n    componentDidMount() {\n        const self = this;\n        // console.log('In componentDidMount');\n        // console.log(this)\n\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        $(window).resize(fixImageSize);\n    }\n\n    componentDidUpdate() {\n        // console.log('In did update');\n        // console.log(this)\n\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n    }\n    propGrid() {\n        const self = this;\n        let propType = '';\n        return (\n            <div className=\"row\" id=\"props_list\">\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n                {self.state.auctions.map((auction, i) => {\n                    return (\n                        <div key={i} className=\"col-md-4 col-sm-6 img-hold-div\">\n                            {this.state.properties.map(function (property, a) {\n                                if (auction.propertyId !== property._id) return false\n                                if(typeof property.gallery === 'undefined' || property.gallery.length == 0 || typeof property.gallery[0] !== 'object') return false;\n                                propType = '';\n                                switch(property.type){\n                                    case 'apartment': propType = 'Apartment to rent'; break;\n                                        case 'house': propType = 'House for rent'; break;\n                                        case 'student': propType = 'Student Accommodation'; break;\n                                        case 'share': propType = 'Flat Share'; break;\n                                        case 'holidayhomes': propType = 'Holiday Home'; break;\n                                        case 'studio': propType = 'Studio for rent'; break;\n                                }\n                                return (\n                                    <div key={a} className=\"proj-card\">\n                                        <div className=\"prop-img-hold\">\n                                            <a href={\n                                                property.slug && auction.lettingAuctionCode ?\n                                                    FlowRouter.url('rent', {\n                                                        slug: property.slug,\n                                                        key: auction.lettingAuctionCode\n                                                    })\n                                                    :\n                                                    FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                            }>\n                                                <div className=\"image-holder\">\n                                                    {typeof property.gallery !== 'undefined' && property.gallery.length > 0 && typeof property.gallery[0] === 'object' ? (\n                                                        <img className=\"img-responsive\" src={property.gallery[0].url}\n                                                             alt={'Photo 1 of ' + titleCase(property.address.address) + (property.address.area ? \", \" + titleCase(property.address.area) : '') + (property.address.county ? \", \" + titleCase(property.address.county) : '')}/>\n                                                    ) : (\n                                                        <div className=\"item active\">\n                                                            <img src={cdnPath(\"/images/no-photo.png\")}\n                                                                 alt={'Image not available'}\n                                                                 className=\"img-responsive\"/>\n                                                        </div>\n                                                    )}\n                                                    <div className=\"image-position\">\n                                                        <h3 className=\"color-white\"\n                                                            style={{paddingBottom: \"2px\"}}>{property.address.area ? titleCase(property.address.area) : ''}{property.address.county ? (property.address.area ? \", \" : \"\") + titleCase(property.address.county) : ''}</h3>\n                                                        {/*<h4>{property.address.county ? titleCase(property.address.county) : ''} </h4>*/}\n                                                        {propType ? ( <h4 style={{paddingBottom:'4px'}}>{propType}</h4> ) : ''}\n                                                        <h4>{property.bedCount ? property.bedCount : '1'} Beds, {property.baths ? property.baths : '1'} Baths </h4>\n                                                    </div>\n\n                                                </div>\n                                                <div className=\"bg-opacity\"></div>\n                                            </a>\n                                        </div>\n                                        <div className=\"textbox-holder\" style={{margin: 0, padding: 20, height: 130}}>\n                                            <h4>\n                                                <a href={\n                                                    property.slug && auction.lettingAuctionCode ?\n                                                        FlowRouter.url('rent', {\n                                                            slug: property.slug,\n                                                            key: auction.lettingAuctionCode\n                                                        })\n                                                        :\n                                                        FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                                }>\n                                                    {titleCase(property.address.address)}\n                                                    {property.address.area ? \" \" + titleCase(property.address.area) : ''}\n                                                    {/*{property.address.county ? \" \"+titleCase(property.address.county) : ''}*/}\n                                                </a>\n                                            </h4>\n                                            <ul>\n                                                <li className=\"left-border\">\n                                                    <h4>Rent</h4>\n                                                    <div className={'h2-div'}>&euro;<span>{auction.price}</span></div>\n                                                </li>\n\n                                                <li className=\"pad-right-0\">\n                                                    <a\n                                                        className=\"transparent-btn btns view-details\"\n                                                        href={\n                                                            property.slug && auction.lettingAuctionCode ?\n                                                                FlowRouter.url('rent', {\n                                                                    slug: property.slug,\n                                                                    key: auction.lettingAuctionCode\n                                                                })\n                                                                :\n                                                                FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                                        }\n                                                        type=\"button\"\n                                                        id=\"enter-auction\">view details</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    );\n                })}\n            </div>\n        )\n    }\n    render(){\n\n        if(Meteor.isClient && this.propsListHTML==\"\"){\n            this.propsListHTML = $('#props_list').html()\n        }\n        if(Meteor.isClient) {\n            this.isServerSSRReq = $('#isservercheckdiv').html()\n            if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n            else this.isServerSSRReq = false\n        }\n        // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n    return (\n<section className=\"property-list\" id=\"latestRentals\">\n   <div className=\"container\">\n      {true ? (\n      <div className=\"prop-wrap\">\n         <h2>Latest Rentals</h2>\n         <span className=\"bottom-line\" />\n      </div>\n      ): ''}\n      <div className=\"auction\">\n        { false ? (<h5>Ends on endsDate</h5> ): \"\"}\n         <section>\n            <section className=\"proplist-sec\">\n               <div className=\"row blogs\">\n                  \n                  { (this.props.isSubsLoaded && this.state.auctions && this.state.properties )  ? (\n                        this.propGrid()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <div className={'h2-div'} style={{textAlign:'center'}}>Loading...</div>\n                )}\n\n                  <div className=\"pink-div col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                     <a href={FlowRouter.url('b',{'slug':\"rent-in-ireland\"},{'mostRecentSort':1})} className=\"pink-btn oval-btn \">View All</a>\n                  </div>\n               </div>\n            </section>\n         </section>\n      </div>\n   </div>\n</section>\n\n\n    );\n    }\n}\nHomePageLatestPropsT = withTracker(() => {\n    const bLettingsSub = Meteor.subscribe(\"browseLettings\", {viewName: 'browseLettings.view', slug:'rent-in-ireland', pageno:1, resperpage:6, query:{mostRecentSort:1}, propertykey:''} ,function(){\n        if(bLettingsSub.ready() && Meteor.isClient)Session.set('subscriptionsReady',true);\n    });\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !bLettingsSub.ready() ) {\n        return {\n            isSubsLoaded : false\n        }\n    }\n\n    return {\n        auctions: Collections.Auctions.find({},{sort:{updatedAt : -1}}).fetch(),\n        properties: Collections.Properties.find().fetch(),\n        isSubsLoaded : true\n    };\n})(HomePageLatestProps);\n","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport { withTracker } from 'meteor/react-meteor-data';\n\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nimport { Collections } from  '../../api/collections.js'\n\nlet countsCollection = null;\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\nfunction titleCase(str) {\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\n\nfunction titleCaseAllWords(str) {\n    if(!str)return;\n    return str.split(' ').map(function(str){\n        return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n    }).join(' ')\n}\nfunction chunkify(a, n, balanced) {\n\n    if (n < 2)\n        return [a];\n\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else if (balanced) {\n        while (i < len) {\n            size = Math.ceil((len - i) / n--);\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else {\n\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n            size--;\n        while (i < size * n) {\n            out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n\n    }\n\n    return out;\n}\nfunction slugify (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '')           // Replace spaces with \"\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}\n\nfunction getSlugData() {\n    var query = FlowRouter.current().queryParams;\n    var slug = FlowRouter.current().params.slug;\n\n    var propertyType = \"\";\n    var county = \"\";\n    var area = \"\";\n    var maxRent = \"\";\n    var minRent = \"\";\n    var minBeds = \"\";\n    var maxBeds = \"\";\n    var country = \"\";\n    var bedCount = \"\";\n    var luxurySort = \"\";\n    var cheapSort = \"\";\n    var mostRecentSort = \"\";\n    var leastRecentSort = \"\";\n\n    var range = [{cur:\"eur\",min:0,max:10000}]\n    var selectedCur = range[0];\n\n    if(query) {\n        if(query.minRent)minRent = query.minRent;\n        if(query.maxRent)maxRent = query.maxRent;\n        if(query.minBeds)minBeds = query.minBeds;\n        if(query.maxBeds)maxBeds = query.maxBeds;\n        if(query.bedCount)bedCount = query.bedCount;\n        if(query.luxurySort)luxurySort = query.luxurySort;\n        if(query.cheapSort)cheapSort = query.cheapSort;\n        if(query.mostRecentSort)mostRecentSort = query.mostRecentSort;\n        if(query.leastRecentSort)leastRecentSort = query.leastRecentSort;\n    }\n\n    if(!slug){\n        return {\n            country:country,\n            county:county,\n            area:area,\n            minRent:minRent,\n            maxRent:maxRent,\n            minBeds:minBeds,\n            maxBeds:maxBeds,\n            bedCount:bedCount,\n            luxurySort:luxurySort,\n            cheapSort:cheapSort,\n            mostRecentSort:mostRecentSort,\n            leastRecentSort:leastRecentSort,\n            propertyType:propertyType,\n        };\n    }\n    if(slug.indexOf('-for-')!=-1){\n        propertyType = slug.split('-for-')[0];\n        propertyType = propertyType.split('-').join(' ');\n    }\n    if(slug.indexOf('-in-')!=-1) {\n        var tmp = slug.split('-in-')[1].split('-')\n        switch (tmp.length) {\n            case 3:\n                country = tmp[2];\n                county = tmp[1];\n                area = tmp[0];\n                break;\n            case 2:\n                country = tmp[1];\n                county = tmp[0];\n                break;\n            case 1:\n                country = tmp[0];\n                break;\n        }\n        if (propertyType) propertyType = propertyType.replace(/_/g, ' ')\n        if (county) county = titleCaseAllWords(county.replace(/_/g, ' '))\n        if (country) country = titleCaseAllWords(country.replace(/_/g, ' '))\n        if (area) area = titleCaseAllWords(area.replace(/_/g, ' '))\n    }\n    return {\n        country:country,\n        county:county,\n        area:area,\n        minRent:minRent,\n        maxRent:maxRent,\n        minBeds:minBeds,\n        maxBeds:maxBeds,\n        bedCount:bedCount,\n        luxurySort:luxurySort,\n        cheapSort:cheapSort,\n        mostRecentSort:mostRecentSort,\n        leastRecentSort:leastRecentSort,\n        propertyType:propertyType,\n    }\n}\n\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var minRent = curURL.minRent\n    var maxRent = curURL.maxRent\n    var minBeds = curURL.minBeds\n    var maxBeds = curURL.maxBeds\n    var sortBy = curURL.sortBy\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort;\n    var mostRecentSort = curURL.mostRecentSort;\n    var leastRecentSort = curURL.leastRecentSort;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query={};\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(bedCount)query.bedCount = bedCount;\n\n    if(country)slug+=\"-\"+country\n    else slug+=\"-ireland\"\n\n    var range = [{cur:\"eur\",min:200,max:10000}]\n    var selectedCur = range[0];\n    if(minRent && minRent!=selectedCur.min)query.minRent = minRent;\n    if(maxRent && maxRent!=selectedCur.max)query.maxRent = maxRent;\n    if(minBeds)query.minBeds = minBeds;\n    if(maxBeds)query.maxBeds = maxBeds;\n    if(sortBy){\n        switch(sortBy){\n            case 'ascRent': query.cheapSort = 1; break;\n            case 'descRent': query.luxurySort = 1; break;\n            case 'mRecent': query.mostRecentSort = 1; break;\n            case 'lRecent': query.leastRecentSort = 1; break;\n        }\n    }else{\n        if(luxurySort)query.luxurySort = 1;\n        if(cheapSort)query.cheapSort = 1;\n        if(mostRecentSort)query.mostRecentSort = 1;\n        if(leastRecentSort)query.leastRecentSort = 1;\n    }\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction generateSlugURL(curURL){\n    var ret = generateSlug(curURL)\n    return FlowRouter.url('b',{slug:ret[0]},ret[1]);\n}\n\nfunction updateRoute() {\n    // Function is not in use\n    //console.log(\"In updateRoute\")\n    // TODO Router.query.clear();\n\n  var baseURL = window.location.href.split('?')[0];\n  var route = baseURL;\n  //debugger;\n\n  var curCity = Session.get('curCity');\n  if(curCity && curCity!='All')\n    route = updateQueryStringParameter(route, 'city', curCity)\n\n\n    var curBuilder = Session.get('curBuilder');\n    if(curBuilder && curBuilder!='All')\n        route = updateQueryStringParameter(route, 'builder', curBuilder)\n\n  //console.log(\"New Route\"+route);\n  FlowRouter.go(route);\n}\n\nfunction fixImageSize() {\n    var avgW=0;\n    $('.image-holder img').each(function(){\n\n        if(!avgW)avgW = $(this).width();\n        else {\n            avgW += $(this).width();\n            avgW =  avgW / 2;\n        }\n    })\n    if(!avgW)avgW = 250;\n    $('.image-holder img').width('100%');\n    $('.image-holder img').height(avgW*0.7);\n}\n\nfunction saveToLocalStorage(){//There is no restore local on this page; its not needed as people come to this page from other pages and they might have diff preferences every time.\n    if (localStorage) {\n\n        localStorage.homePageMainFormData_county = $( \".countySelected\" ).val();\n\n        localStorage.homePageMainFormData_area = $( \".areaSelected\" ).val();\n        var tmp = $( \"input:radio[name=propertyType]:checked\" ).val();\n        if(tmp)localStorage.homePageMainFormData_propertyType = tmp\n            tmp = $('.maxRent').val()\n        if(tmp)localStorage.homePageMainFormData_maxRent = $('.maxRent').val();\n    }\n}\n\nclass Pagination extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        // console.log(this.props)\n    }\n    \n    render() {\n        const self = this;\n        return (\n        <nav>\n            <ul className=\"pagination\">\n                <li className={\"page-item \" +self.props.pagination.prevPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.prevPage.href} \n                    tabIndex=\"-1\"\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.prevPage.prevPageNo, self.props.parent)}\n                    >{self.props.pagination.prevPage.text}\n                    </a>\n                </li>\n                {self.props.pagination.pages.map((page, i) => {\n                    if(typeof page.current !== 'undefined' && page.current) {\n                        return (\n                            <li key={i} className=\"page-item active\">\n                                <a className=\"page-link\" href={page.href}>{page.text} <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                        );\n                    } else {\n                        return (\n                           <li key={i} className=\"page-item\">\n                            <a \n                            className=\"page-link\" \n                            onClick={self.props.handleChoosePage.bind(self, page.text, self.props.parent)}\n                            href={page.href}\n                            >{page.text}\n                            </a>\n                           </li>\n                        );\n                    }\n                })}\n                <li className={\"page-item \" + self.props.pagination.nextPage.disabled}>\n                    <a \n                    className=\"page-link\" \n                    href={self.props.pagination.nextPage.href}\n                    onClick={self.props.handleChoosePage.bind(self, self.props.pagination.nextPage.nextPageNo, self.props.parent)}\n                    >{self.props.pagination.nextPage.text}\n                    </a>\n                </li>\n            </ul>\n        </nav>\n        )\n    }\n}\n\n\nclass HousesForrent extends Component {\n\n    constructor(props) {\n        super(props);\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.searchCrumbs){\n            var chunks = chunkify(props.searchCrumbs,3,true)\n            searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n}\n        if(props.fCrumbs){\n            var chunks = chunkify(props.fCrumbs,3,true)\n            fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.areaCrumbs){\n            var chunks = chunkify(props.areaCrumbs,3,true)\n            areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        if(props.countyCrumbs){\n            var chunks = chunkify(props.countyCrumbs,3,true)\n            countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n        }\n        let pCS = props.countySelected; if(!pCS)pCS = '';\n        let pAS = props.areaSelected; if(!pAS)pAS = '';\n        let pTS = props.propertyTypeSelected; if(!pTS)pTS = '';\n        let pCounties = props.counties; if(!pCounties)pCounties = [];\n        let pPropertyTypes = props.propertyTypes; if(!pPropertyTypes)pPropertyTypes = [];\n        let pAreas = props.areas; if(!pAreas)pAreas = [];\n        let pAuctions = props.auctions; if(!pAuctions)pAuctions = [];\n        let pProperties = props.properties; if(!pProperties)pProperties = [];\n        let pTotalCount = props.totalCount; if(!pTotalCount)pTotalCount = 0;\n        let pPagination = props.pagination; if(!pPagination)pPagination = 0;\n        this.state = {\n            showXSMenu:false,\n            countySelected: pCS,\n            areaSelected: pAS,\n            propertyTypeSelected: pTS,\n            counties: pCounties,\n            propertyTypes: pPropertyTypes,\n            areas: pAreas,\n            auctions: pAuctions,\n            properties: pProperties,\n            totalCount: pTotalCount,\n            pagination: pPagination,\n            'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs\n        };\n        this.searchCrumbsLoaded = false;\n\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // console.log(nextProps)\n        this.setState({\n            counties: nextProps.counties,\n            areas: nextProps.areas,\n            propertyTypes: nextProps.propertyTypes,\n            auctions: nextProps.auctions,\n            properties: nextProps.properties,\n            totalCount: nextProps.totalCount,\n            pagination: nextProps.pagination\n        });\n        // if(!this.state.countySelected)\n            this.setState({countySelected:nextProps.countySelected})\n        // if(!this.state.areaSelected)\n            this.setState({areaSelected:nextProps.areaSelected})\n        // if(!this.state.propertyTypeSelected)\n            this.setState({propertyTypeSelected:nextProps.propertyTypeSelected})\n\n            this.setState({minRentSelected:nextProps.minRentSelected})\n            this.setState({maxRentSelected:nextProps.maxRentSelected})\n            this.setState({minBedCountSelected:nextProps.minBedCountSelected})\n            this.setState({maxBedCountSelected:nextProps.maxBedCountSelected})\n            this.setState({sortBySelected:nextProps.sortBySelected})\n    }\n\n    componentWillMount() {}\n\n    componentDidMount() {\n        const self = this;\n        // console.log('In componentDidMount');\n        // console.log(this)\n\n        try{\n            jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n        }catch(e){\n            document.body.scrollTop = document.documentElement.scrollTop = 0;\n        }\n\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        $(window).resize(fixImageSize);\n\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n        },500)\n    }\n\n    componentDidUpdate() {\n        // console.log('In did update');\n        // console.log(this)\n\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        this.crumbsUpdate();\n\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n        },500)\n    }\n\n    minRentOptions(){\n        var range = [{cur:\"eur\",min:200,max:9900}]\n        var selectedCur = range[0];\n        var maxRent = []\n        for(var i=selectedCur.min;i<selectedCur.max+1;){\n            maxRent.push({label: i, value: i })\n            if(i<1000)i=i+50\n            else if(i<=4000)i=i+100\n            else if(i<=8000)i=i+500\n            else i=i+1000\n        }\n        return maxRent;\n    }\n    maxRentOptions(){\n        var range = [{cur:\"eur\",min:400,max:10000}]\n        var selectedCur = range[0];\n        var maxRent = []\n        for(var i=selectedCur.min;i<selectedCur.max+1;){\n            maxRent.push({label: i, value: i })\n            if(i<1000)i=i+50\n            else if(i<=4000)i=i+100\n            else if(i<=8000)i=i+500\n            else i=i+1000\n        }\n        return maxRent;\n    }\n    minBedOptions(){\n        var range = [{min:1,max:9}]\n        var selectedCur = range[0];\n        var maxRent = []\n        for(var i=selectedCur.min;i<selectedCur.max+1;i=i+1){\n            maxRent.push({label: i, value: i })\n        }\n        return maxRent;\n    }\n    maxBedOptions(){\n        var range = [{min:2,max:10}]\n        var selectedCur = range[0];\n        var maxRent = []\n        for(var i=selectedCur.min;i<selectedCur.max+1;i=i+1){\n            maxRent.push({label: i, value: i })\n        }\n        return maxRent;\n    }\n    sortByOptions(){\n        var sortBy = [\n            {label: \"Most recent\", value: \"mRecent\" },\n            {label: \"Least recent\", value: \"lRecent\" },\n            {label: \"Rent: Cheaper first\", value: \"ascRent\" },\n            {label: \"Rent: Luxury first\", value: \"descRent\" },\n            ]\n        return sortBy;\n    }\n    crumbsUpdate(){\n        if(!this.searchCrumbsLoaded){\n            var searchCrumbs = {c1:[],c2:[],c3:[]}\n            var fCrumbs = {c1:[],c2:[],c3:[]}\n            var areaCrumbs = {c1:[],c2:[],c3:[]}\n            var countyCrumbs = {c1:[],c2:[],c3:[]}\n            if(this.props.searchCrumbs){\n                var chunks = chunkify(this.props.searchCrumbs,3,true)\n                searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.fCrumbs){\n                var chunks = chunkify(this.props.fCrumbs,3,true)\n                fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.areaCrumbs){\n                var chunks = chunkify(this.props.areaCrumbs,3,true)\n                areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.props.countyCrumbs){\n                var chunks = chunkify(this.props.countyCrumbs,3,true)\n                countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n                this.searchCrumbsLoaded = true;\n            }\n            if(this.searchCrumbsLoaded)//Update the state only once; when its true\n                this.setState({'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs})\n        }\n    }\n    isEqualSelect(a,b) {\n        if(a==b)return ' selected ';\n        return '';\n    }\n\n    updateQueryStringParameter(uri, key, value) {\n        var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n        var separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\n        if (uri.match(re)) {\n            return uri.replace(re, '$1' + key + \"=\" + value + '$2');\n        } else {\n            return uri + separator + key + \"=\" + value;\n        }\n    }\n\n    handleChoosePage(page, component) {\n        if (typeof page == \"undefined\") return \n\n        // var data = getSlugData();\n        // var slug = generateSlug(data);\n        //\n        // FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0], pageno: page}, slug[1]);\n        //\n        // component.setState({pagination: pagination()});\n    }\n\n    handleCountyDropdown(event){\n        var val = event.target.value;\n\n        var countyChanged = false;\n        var data = getSlugData();\n        var countySelected = data.county;\n\n        this.setState({countySelected: val});\n        if(localStorage)localStorage.homePageMainFormData_county = val;\n\n        this.setState({areaSelected: \"\"});\n\n        // if(val!=countySelected)\n        //     countyChanged=true;\n\n        // if(countyChanged)\n        //     this.setState({areaSelected: \"\"});\n\n        data.county = val;\n        data.area = '';\n        // if(countyChanged)data.area='';\n\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handleAreaDropdown(event){\n        var val = event.target.value;\n        this.setState({areaSelected: val});\n        if(localStorage)localStorage.homePageMainFormData_area = val;\n\n        var data = getSlugData();\n        data.area = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handlePropertyTypeDropdown(event){\n        var val = event.target.value;\n        this.setState({propertyTypeSelected: val});\n        if(localStorage)localStorage.homePageMainFormData_propertyType = val;\n\n        var data = getSlugData();\n        data.propertyType = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handleMinRentDropdown(event){\n        var val = event.target.value;\n        this.setState({minRentSelected: val});\n        if(localStorage)localStorage.homePageMainFormData_minRent = val;\n\n        var data = getSlugData();\n        data.minRent = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handleMaxRentDropdown(event){\n        var val = event.target.value;\n        this.setState({maxRentSelected: val});\n        if(localStorage)localStorage.homePageMainFormData_maxRent = val;\n\n        var data = getSlugData();\n        data.maxRent = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handleMinBedDropdown(event){\n        var val = event.target.value;\n        this.setState({minBedCountSelected: val});\n        if(localStorage)localStorage.homePageMainFormData_minBed = val;\n\n        var data = getSlugData();\n        data.minBeds = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handleMaxBedDropdown(event){\n        var val = event.target.value;\n        this.setState({maxBedCountSelected: val});\n        if(localStorage)localStorage.homePageMainFormData_maxBed = val;\n\n        var data = getSlugData();\n        data.maxBeds = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    handleSortByDropdown(event){\n        var val = event.target.value;\n        this.setState({sortBySelected: val});\n\n        var data = getSlugData();\n        data.sortBy = val;\n        var slug = generateSlug(data);\n\n        FlowRouter.go('/b/:slug/:pageno?', {slug: slug[0]}, slug[1]);\n    }\n    searchXSMenu(event){\n        console.log('searchXSMenu')\n        this.setState({showXSMenu: false});\n        ga('send', 'event', 'BrowsePage', 'searchXSMenuBtn', 'Mobile: searchXSMenu Btn Clicked');\n    }\n    cancelSearchXSMenu(event){\n        console.log('cancelSearchXSMenu')\n        this.setState({showXSMenu: false});\n        ga('send', 'event', 'BrowsePage', 'cancelFilterBtn', 'Mobile: cancelFilter Btn Clicked');\n    }\n    handleShowFilters(event){\n        this.setState({showXSMenu: true});\n        ga('send', 'event', 'BrowsePage', 'showFilterBtn', 'Mobile: showFilter Btn Clicked');\n    }\n    showFilterText(state){\n        var text = [];\n        if(state.countySelected){\n            text.push(\"County: \"+state.countySelected)\n        }//else text.push(\"all counties\")\n        if(state.areaSelected){\n            text.push(\"Area: \"+state.areaSelected)\n        }//else text.push(\"Area: all areas\")\n        if(state.propertyTypeSelected){\n            text.push(\"Type: \"+this.formatedPT(state.propertyTypeSelected))\n        }//else text.push(\"Type: all property types\")\n\n        if(state.minRentSelected && state.maxRentSelected){\n            text.push(\"Rent: between &euro;\"+state.minRentSelected+\" and &euro;\"+state.maxRentSelected+\"\")\n        }else if(state.minRentSelected){\n            text.push(\"Rent: greater than &euro;\"+state.minRentSelected+\"\")\n        }else if(state.maxRentSelected){\n            text.push(\"Rent: less than &euro;\"+state.maxRentSelected+\"\")\n        }else{\n            // text.push(\"Rent: Any\")\n        }\n\n        if(state.minBedCountSelected && state.maxBedCountSelected){\n            text.push(\"Beds: between \"+state.minBedCountSelected+\" and \"+state.maxBedCountSelected)\n        }else if(state.minBedCountSelected){\n            text.push(\"Beds: has at least \"+state.minBedCountSelected+\"\" )\n        }else if(state.maxBedCountSelected){\n            text.push(\"Beds: at most \"+state.maxBedCountSelected+\"\")\n        }else{\n            // text.push(\"Rent: Any\")\n        }\n\n        switch(this.state.sortBySelected){\n            case 'mRecent': text.push('Showing: Most recent first'); break;\n            case 'lRecent': text.push('Showing: Oldest first'); break;\n        }\n        if(state.propertyTypeSelected){\n            switch(this.state.sortBySelected){\n                case 'ascRent': text.push('Showing: Cheap '+this.formatedPT(state.propertyTypeSelected)+' first'); break;\n                case 'descRent': text.push('Showing: Luxury '+this.formatedPT(state.propertyTypeSelected)+' first'); break;\n            }\n        }else{\n            switch(this.state.sortBySelected){\n                case 'ascRent': text.push('Showing: Least expensive first'); break;\n                case 'descRent': text.push('Showing: Most expensive first'); break;\n            }\n        }\n\n\n\n        return 'Chosen filters are <br/>'+text.join('<br/>')\n\n        // Searching in county Dublin<br>\n        // Area: Amiens Street<br>\n        // Rent: between 200 to 1200 Euros<br>\n        // Bedrooms: between 2 to 4<br>\n        // Showing: Most recent first\n    }\n\n    handleClearFilters() {\n        FlowRouter.go('/b/:slug/:pageno?', {slug: 'rent-in-ireland'});\n    }\n    formatedPT(propertyTypeSelected){\n        propertyTypeSelected = propertyTypeSelected.toLowerCase();\n        if(propertyTypeSelected=='student')return 'Student Accommodation';\n        if(propertyTypeSelected=='holidayhomes')return 'Holiday Homes';\n        if(propertyTypeSelected=='parkingspace')return 'Parking Space';\n        return titleCaseAllWords(propertyTypeSelected);\n    }\n\n    propGrid() {\n        const self = this;\n        let propType = '';\n        return (\n            <div className=\"row\">\n                {self.state.auctions.map((auction, i) => {\n                    return (\n                        <div key={i} className=\"col-md-4 col-sm-6 img-hold-div\">\n                            {this.state.properties.map(function (property, a) {\n                                if (auction.propertyId !== property._id) return false\n                                propType = '';\n                                switch(property.type){\n                                    case 'apartment': propType = 'Apartment to rent'; break;\n                                        case 'house': propType = 'House for rent'; break;\n                                        case 'student': propType = 'Student Accommodation'; break;\n                                        case 'share': propType = 'Flat Share'; break;\n                                        case 'holidayhomes': propType = 'Holiday Home'; break;\n                                        case 'studio': propType = 'Studio for rent'; break;\n                                }\n                                return (\n                                    <div key={a} className=\"proj-card\">\n                                        <div className=\"prop-img-hold\">\n                                            <a href={\n                                                property.slug && auction.lettingAuctionCode ?\n                                                    FlowRouter.url('rent', {\n                                                        slug: property.slug,\n                                                        key: auction.lettingAuctionCode\n                                                    })\n                                                    :\n                                                    FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                            }>\n                                                <div className=\"image-holder\">\n                                                    {typeof property.gallery !== 'undefined' && property.gallery.length > 0 && typeof property.gallery[0] === 'object' ? (\n                                                        <img className=\"img-responsive\" src={property.gallery[0].url}\n                                                             alt={'Photo 1 of ' + titleCase(property.address.address) + (property.address.area ? \", \" + titleCase(property.address.area) : '') + (property.address.county ? \", \" + titleCase(property.address.county) : '')}/>\n                                                    ) : (\n                                                        <div className=\"item active\">\n                                                            <img src={cdnPath(\"/images/no-photo.png\")}\n                                                                 alt={'Image not available'}\n                                                                 className=\"img-responsive\"/>\n                                                        </div>\n                                                    )}\n                                                    <div className=\"image-position\">\n                                                        <h3 className=\"color-white\"\n                                                            style={{paddingBottom: \"2px\"}}>{property.address.area ? titleCase(property.address.area) : ''}{property.address.county ? (property.address.area ? \", \" : \"\") + titleCase(property.address.county) : ''}</h3>\n                                                        {/*<h4>{property.address.county ? titleCase(property.address.county) : ''} </h4>*/}\n                                                        {propType ? ( <h4 style={{paddingBottom:'4px'}}>{propType}</h4> ) : ''}\n                                                        <h4>{property.bedCount ? property.bedCount : '1'} Beds, {property.baths ? property.baths : '1'} Baths </h4>\n                                                    </div>\n\n                                                </div>\n                                                <div className=\"bg-opacity\"></div>\n                                            </a>\n                                        </div>\n                                        <div className=\"textbox-holder\" style={{margin: 0, padding: 20, height: 130}}>\n                                            <h4>\n                                                <a href={\n                                                    property.slug && auction.lettingAuctionCode ?\n                                                        FlowRouter.url('rent', {\n                                                            slug: property.slug,\n                                                            key: auction.lettingAuctionCode\n                                                        })\n                                                        :\n                                                        FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                                }>\n                                                    {titleCase(property.address.address)}\n                                                    {property.address.area ? \" \" + titleCase(property.address.area) : ''}\n                                                    {/*{property.address.county ? \" \"+titleCase(property.address.county) : ''}*/}\n                                                </a>\n                                            </h4>\n                                            <ul>\n                                                <li className=\"left-border\">\n                                                    <h4>Rent</h4>\n                                                    <div className={'h2-div'}>&euro;<span>{auction.price}</span></div>\n                                                </li>\n                                                {/*<li className=\"\" style={{verticalAlign:\"middle\"}}>*/}\n                                                {/*<h4 style={{padding:\"0\"}}>{property.bedCount ? property.bedCount : '1'} Beds</h4><br/>*/}\n                                                {/*<h4>{property.baths ? property.baths : '1'} Baths</h4>*/}\n                                                {/*</li>*/}\n                                                <li className=\"pad-right-0\">\n                                                    <a\n                                                        className=\"transparent-btn btns view-details\"\n                                                        href={\n                                                            property.slug && auction.lettingAuctionCode ?\n                                                                FlowRouter.url('rent', {\n                                                                    slug: property.slug,\n                                                                    key: auction.lettingAuctionCode\n                                                                })\n                                                                :\n                                                                FlowRouter.url('letting', {key: auction.lettingAuctionCode})\n                                                        }\n                                                        type=\"button\"\n                                                        id=\"enter-auction\">view details</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    );\n                })}\n            </div>\n        )\n    }\n    mainAllPage(){\n        const self = this;\n        var slugData = getSlugData();\n        this.sluggedTitle = '';\n        this.sluggedTitleWithoutType = '';\n        this.sluggedType = ''\n\n        try{\n            this.sluggedType = slugData.propertyType ? slugData.propertyType : 'Property';\n\n            this.sluggedTitle += slugData.propertyType ? slugData.propertyType+\" for\" : '';\n            this.sluggedTitle += this.sluggedTitle ? ' rent in' : 'rent in'\n            this.sluggedTitle += slugData.area ? ' '+slugData.area+\"\" : '';\n            this.sluggedTitle += slugData.county ? ' '+slugData.county+\"\" : '';\n            this.sluggedTitle += ' Ireland'\n\n            this.sluggedTitleWithoutType = 'rent in'\n            this.sluggedTitleWithoutType += slugData.area ? ' '+slugData.area+\"\" : '';\n            this.sluggedTitleWithoutType += slugData.county ? ' '+slugData.county+\"\" : '';\n            this.sluggedTitleWithoutType += ' Ireland'\n        }catch(e){}\n\n        try{this.sluggedTitle = this.props.slug.replace(/[-_]/g,' ');}catch(e){}\n\n        this.propertyTypePlural = this.state.propertyTypeSelected;\n        switch(this.propertyTypePlural){\n            case 'apartment': this.propertyTypePlural = 'Apartments '; break;\n                case 'house': this.propertyTypePlural = 'Houses '; break;\n                case 'student': this.propertyTypePlural = 'Student Accommodations '; break;\n                case 'share': this.propertyTypePlural = 'Flat Shares '; break;\n                case 'holidayhomes': this.propertyTypePlural = 'Holiday Homes '; break;\n                case 'studio': this.propertyTypePlural = 'Studios '; break;\n                case '': this.propertyTypePlural = 'advertisements '; break;\n        }\n\n        return (\n            <div id=\"props_list\">\n                <section className=\"logo-below-div value-div\">\n                    <div className=\"container\">\n                        <div className=\"logo-holder-div\">\n                            <div className=\"logo-holder\">\n                                <ul>\n                                    <li>\n                                        <h1 style={{marginBottom: 10}}>\n                                            {self.state.propertyTypeSelected ? this.formatedPT(self.state.propertyTypeSelected) : 'Houses'}\n                                            &nbsp;for rent\n                                            { self.state.countySelected ? (\n                                                <span>\n                                                    &nbsp;in {self.state.areaSelected ? self.state.areaSelected + \" \" : ''}\n                                                    {self.state.countySelected}\n                                                </span>\n                                            ) : (\n                                                \"\"\n                                            )}\n                                        </h1>\n                                        <div className=\"h4-div\" style={{paddingBottom: 5}}>Found {self.state.totalCount} \n                                        {this.props.pageno > 1 ? ( ' (Showing page 3)' ):\"\"}\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                            {this.state.showXSMenu ? (\n                            <div className=\"xs-filter-menu xs-menu visible-xs transition\">\n                                <div className=\"xs-menu-close-icon text-right\">\n                                    <span className=\"h2-h2\" style={{float: \"left\",marginLeft:'12px'}}>FILTERS</span>\n                                    <span className=\"sprite xs-close\" onClick={self.cancelSearchXSMenu.bind(this)}/>\n                                </div>\n                                <ul className=\"transition\" style={{paddingTop:0}}>\n                                    <li>\n                                        <p className=\"color-grey\">Change County</p>\n                                        <div className=\"styled-input styled-input-select\">\n                                            <select\n                                                name=\"furnished\"\n                                                autoComplete=\"true\"\n                                                style={{margin: 0}}\n                                                className=\"countyDropdown countySelected\"\n                                                onChange={self.handleCountyDropdown.bind(this)}\n                                                value={self.state.countySelected}\n                                            >\n                                                <option value=\"\">All</option>\n                                                {self.state.counties ?\n                                                    self.state.counties.map((item, i) => {\n                                                        return (\n                                                            <option key={i} value={item.value}>{item.label}</option>\n                                                        )\n                                                    }) : \"\"}\n                                            </select>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <p className=\"color-grey\">Area</p>\n                                        <div className=\"styled-input styled-input-select\">\n                                            <select\n                                                name=\"furnished\"\n                                                autoComplete=\"true\"\n                                                style={{margin: 0}}\n                                                className=\"countyDropdown areaSelected\"\n                                                onChange={self.handleAreaDropdown.bind(this)}\n                                                value={self.state.areaSelected}\n                                            >\n                                                <option value=\"\">All</option>\n                                                {self.state.areas ? self.state.areas.map((item, i) => {\n                                                    return (\n                                                        <option key={i} value={item.value}>{item.label}</option>\n                                                    )\n                                                }):\"\"}\n                                            </select>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <div className=\"row\">\n                                            <div className=\"col-xs-6 col-md-6\">\n                                                <p className=\"color-grey\">Min Rent</p>\n                                                <div className=\"styled-input styled-input-select\">\n                                                    <select\n                                                        name=\"furnished\"\n                                                        autoComplete=\"true\"\n                                                        style={{margin: 0}}\n                                                        className=\"countyDropdown countySelected\"\n                                                        onChange={self.handleMinRentDropdown.bind(this)}\n                                                        value={self.state.minRentSelected}\n                                                    >\n                                                        <option value=\"\">All</option>\n                                                        { self.minRentOptions().map((item, i) => {\n                                                            return (\n                                                                <option key={i} value={item.value}>{item.label}</option>\n                                                            )\n                                                        }) }\n                                                    </select>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-xs-6 col-md-6\">\n                                                <p className=\"color-grey\">Max Rent</p>\n                                                <div className=\"styled-input styled-input-select\">\n                                                    <select\n                                                        name=\"furnished\"\n                                                        autoComplete=\"true\"\n                                                        style={{margin: 0}}\n                                                        className=\"countyDropdown countySelected\"\n                                                        onChange={self.handleMaxRentDropdown.bind(this)}\n                                                        value={self.state.maxRentSelected}\n                                                    >\n                                                        <option value=\"\">All</option>\n                                                        { self.maxRentOptions().map((item, i) => {\n                                                            return (\n                                                                <option key={i} value={item.value}>{item.label}</option>\n                                                            )\n                                                        }) }\n                                                    </select>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <p className=\"color-grey\">How many bedrooms?</p>\n                                        <div className=\"row\">\n                                            <div className=\"col-xs-6 col-md-6\">\n                                                <p className=\"color-grey\">Min Beds</p>\n                                                <div className=\"styled-input styled-input-select\">\n                                                    <select\n                                                        name=\"furnished\"\n                                                        autoComplete=\"true\"\n                                                        style={{margin: 0}}\n                                                        className=\"countyDropdown countySelected\"\n                                                        onChange={self.handleMinBedDropdown.bind(this)}\n                                                        value={self.state.minBedCountSelected}\n                                                    >\n                                                        <option value=\"\">All</option>\n                                                        { self.minBedOptions().map((item, i) => {\n                                                            return (\n                                                                <option key={i} value={item.value}>{item.label}</option>\n                                                            )\n                                                        }) }\n                                                    </select>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-xs-6 col-md-6\">\n                                                <p className=\"color-grey\">Max Beds</p>\n                                                <div className=\"styled-input styled-input-select\">\n                                                    <select\n                                                        name=\"furnished\"\n                                                        autoComplete=\"true\"\n                                                        style={{margin: 0}}\n                                                        className=\"countyDropdown countySelected\"\n                                                        onChange={self.handleMaxBedDropdown.bind(this)}\n                                                        value={self.state.maxBedCountSelected}\n                                                    >\n                                                        <option value=\"\">All</option>\n                                                        { self.maxBedOptions().map((item, i) => {\n                                                            return (\n                                                                <option key={i} value={item.value}>{item.label}</option>\n                                                            )\n                                                        }) }\n                                                    </select>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <p className=\"color-grey\">Property Type? </p>\n                                        <div className=\"styled-input styled-input-select\">\n                                            <select\n                                                name=\"furnished\"\n                                                autoComplete=\"true\"\n                                                style={{margin: 0}}\n                                                className=\"countyDropdown countySelected\"\n                                                onChange={self.handlePropertyTypeDropdown.bind(this)}\n                                                value={self.state.propertyTypeSelected}\n                                            >\n                                                <option value=\"\">All</option>\n                                                {self.state.propertyTypes ? self.state.propertyTypes.map((item, i) => {\n                                                    return (\n                                                        <option key={i} value={item.value}>{item.label}</option>\n                                                    )\n                                                }):\"\"}\n                                            </select>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <p className=\"color-grey\">Sort by</p>\n                                        <div className=\"styled-input styled-input-select\">\n                                            <select\n                                                name=\"furnished\"\n                                                autoComplete=\"true\"\n                                                style={{margin: 0}}\n                                                className=\"countyDropdown countySelected\"\n                                                onChange={self.handleSortByDropdown.bind(this)}\n                                                value={self.state.sortBySelected}\n                                            >\n                                                <option value=\"\">All</option>\n                                                {self.sortByOptions().map((item, i) => {\n                                                    return (\n                                                        <option key={i} value={item.value}>{item.label}</option>\n                                                    )\n                                                })}\n                                            </select>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <button className=\"btns green-btn\" onClick={self.searchXSMenu.bind(this)}>Search</button>\n                                        <button className=\"btns transparent-btn\" style={{marginLeft:5}}  onClick={self.cancelSearchXSMenu.bind(this)}>Cancel</button>\n                                    </li>\n                                </ul>\n                            </div>\n                            ):\"\"}\n                            <div className=\"menu houseForRentFilters\">\n                                <ul>\n                                    <li className=\"left-border pad-right-0 cf-1\">\n                                        <p className=\"visible-xs\" dangerouslySetInnerHTML={{__html:this.showFilterText(this.state)}}></p>\n                                        <a className=\"visible-xs\" href=\"javascript:void(0)\" onClick={self.handleShowFilters.bind(this)}><h4 className=\"hfr-h4\">Edit Filters <span className=\"glyphicon glyphicon-filter\"></span></h4></a>\n                                        <p className=\"color-grey\">Change County</p>\n                                        <div className=\"styled-input styled-input-select\">\n                                            <select\n                                                name=\"furnished\"\n                                                autoComplete=\"true\"\n                                                style={{margin: 0}}\n                                                className=\"countyDropdown countySelected\"\n                                                onChange={self.handleCountyDropdown.bind(this)}\n                                                value={self.state.countySelected}\n                                            >\n                                                <option value=\"\">All</option>\n                                                {self.state.counties ?\n                                                    self.state.counties.map((item, i) => {\n                                                        return (\n                                                            <option key={i} value={item.value}>{item.label}</option>\n                                                        )\n                                                    }) : \"\"}\n                                            </select>\n                                        </div>\n                                    </li>\n                                    <li className=\"cf-1 pad-right-0\">\n                                        <p className=\"color-grey\">Area</p>\n                                        <div className=\"styled-input styled-input-select\">\n                                            <select\n                                                name=\"furnished\"\n                                                autoComplete=\"true\"\n                                                style={{margin: 0}}\n                                                className=\"countyDropdown countySelected\"\n                                                onChange={self.handleAreaDropdown.bind(this)}\n                                                value={self.state.areaSelected}\n                                            >\n                                                <option value=\"\">All</option>\n                                                {self.state.areas ? self.state.areas.map((item, i) => {\n                                                    return (\n                                                        <option key={i} value={item.value}>{item.label}</option>\n                                                    )\n                                                }):\"\"}\n                                            </select>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                { self.state.totalCount == 0 && this.props.isSubsLoaded ? (\n                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                        <strong>\n                            No {this.propertyTypePlural}found\n                            { self.state.countySelected ? (\n                                <span>\n                                &nbsp;in {self.state.areaSelected ? self.state.areaSelected + \" of \" : ''}\n                                    county {self.state.countySelected}\n                            </span>\n                            ) : (\n                                \"\"\n                            )}.&nbsp;\n                            Click show all below to search other areas.\n                        </strong>\n\n                        <br/><br/>\n                        <button\n                            className=\"blue-btn btns clearFilters\"\n                            onClick={self.handleClearFilters}\n                            type=\"button\">Show all\n                        </button>\n                    </div>\n                ) : (\"\")}\n\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea mar-top-20 \">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <p className={'mar-btm-20'}>\n                                        {this.props.pageno > 1 ? ( 'Showing page 3 of ' ):'Found '}\n                                        total {self.state.totalCount ? self.state.totalCount : 'no'} {this.sluggedTitle}. Browse through the apartments, houses, studios, 1 bed, 2 bed, 3 bed rooms available to {this.sluggedTitleWithoutType}. Choose county and area from the top right drop-down options. Click view details button by the {this.sluggedType.toLowerCase()} to know more about it. Use the navigation below to find more {this.sluggedTitle}.\n                                    </p>\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n\n                <section className=\"proplist-sec property-list\">\n                    <div className=\"container\">\n                        {this.propGrid()}\n                    </div>\n                </section>\n                { self.state.totalCount > 0 ? (\n                    <section className=\"paginationArea subscribeTillPopop\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <Pagination\n                                        pagination={self.state.pagination}\n                                        handleChoosePage={self.handleChoosePage}\n                                        parent={self}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                ) : (\"\")}\n\n\n\n\n\n\n\n                {true ? (\n                    <section className=\"\">\n                        <div className=\"container\">\n                                    <div id=\"homeLinks\" className=\"mar-btm-30 amenities\">\n\n                                        <div className=\"amenitiy-block-removed\" style={{paddingTop:0,textAlign:\"center\"}}>\n                                            { this.props.searchCrumbs === undefined || this.props.searchCrumbs.length == 0  ? (\"\") : (\n                                                <div id=\"searchsection\" className={'row'}>\n                                                    <h2>Search more properties to rent</h2>\n                                                    <p>Chooes a link below to browse through more relavent properties to rent.</p>\n                                                    <br/>\n                                                    <div className=\"pad0\">\n                                                        <div className=\"col-md-5 col-sm-5 col-xs-12\">\n                                                            {this.state.searchCrumbs.c1 ?\n                                                                this.state.searchCrumbs.c1.map(function(crumb,i){\n                                                                    return (\n                                                                        <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.searchCrumbs.c2 ?\n                                                                this.state.searchCrumbs.c2.map(function(crumb,i){\n                                                                    return (\n                                                                        <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-3 col-sm-3 col-xs-12\">\n                                                            {this.state.searchCrumbs.c3 ?\n                                                                this.state.searchCrumbs.c3.map(function(crumb,i){\n                                                                    return (\n                                                                        <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                    </div>\n\n                                                </div>\n                                            )}\n                                            { this.props.fCrumbs === undefined || this.props.fCrumbs.length == 0 ? (\"\") : (\n                                                <div className={'row mar-top-30'}>\n                                                    <h2>Property types to rent</h2><br/>\n                                                    <div className=\"pad0\">\n                                                        <div className=\"col-md-3 col-sm-3 col-xs-12\">\n                                                            {this.state.fCrumbs.c1 ?\n                                                                this.state.fCrumbs.c1.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.fCrumbs.c2 ?\n                                                                this.state.fCrumbs.c2.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-5 col-sm-5 col-xs-12\">\n                                                            {this.state.fCrumbs.c3 ?\n                                                                this.state.fCrumbs.c3.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            )}\n                                            { this.props.areaCrumbs === undefined || this.props.areaCrumbs.length == 0  ? (\"\") : (\n                                                <div className={'row mar-top-30'}>\n                                                    <h2>{self.state.countySelected} neighbourhoods</h2><br/>\n                                                    <div className=\"pad0\">\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.areaCrumbs.c1 ?\n                                                                this.state.areaCrumbs.c1.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.areaCrumbs.c2 ?\n                                                                this.state.areaCrumbs.c2.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.areaCrumbs.c3 ?\n                                                                this.state.areaCrumbs.c3.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            )}\n                                            { this.props.countyCrumbs === undefined || this.props.countyCrumbs.length == 0  ? (\"\") : (\n                                                <div className={'row mar-top-30'}>\n                                                    <h2>Other counties</h2><br/>\n                                                    <div className=\"pad0\">\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.countyCrumbs.c1 ?\n                                                                this.state.countyCrumbs.c1.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.countyCrumbs.c2 ?\n                                                                this.state.countyCrumbs.c2.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                        <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                            {this.state.countyCrumbs.c3 ?\n                                                                this.state.countyCrumbs.c3.map(function (crumb, i) {\n                                                                    return (\n                                                                        <a key={i} style={{display: \"block\"}}\n                                                                           href={crumb.url}>{crumb.name}</a>\n                                                                    )\n                                                                })\n                                                                : \"\"}\n                                                        </div>\n                                                    </div>\n\n                                                </div>\n                                            )}\n                                        </div>\n\n                                    </div>\n                                \n                        </div>\n                    </section>\n                ) : \"\"}\n\n\n\n\n\n\n            </div>\n        )\n    }\n\n    render() {\n    const self = this;\n    let totalCount = 0;\n    if(Meteor.isClient && this.propsListHTML==\"\"){\n        this.propsListHTML = $('#props_list').html()\n    }\n    if(Meteor.isClient) {\n        this.isServerSSRReq = $('#isservercheckdiv').html()\n        if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n        else this.isServerSSRReq = false\n    }\n    // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n    return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded && self.state.auctions && self.state.properties )  ? (\n                        this.mainAllPage()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n};\nvar startTime = Date.now();\nexport default withTracker(() => {\n    var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n    function counties() {\n\n        var ret = []\n        for(var i=0;i< staticCounties.length;i++){\n            if(!staticCounties[i])continue;\n            ret.push({label: titleCase(staticCounties[i]), value: staticCounties[i] })\n        }\n        return ret;\n    }\n\n    function areas() {\n\n        var distinctEntries = _.uniq(Collections.Areas.find({}, {//Dynamically load areas based on the subscription.\n            sort: {Area: 1}, fields: {Area: true}\n        }).fetch().map(function(x) {\n            return x.Area;\n        }), true);\n        var ret = []\n        for(var i=0;i< distinctEntries.length;i++){\n            if(!distinctEntries[i])continue;\n            ret.push({label: titleCase(distinctEntries[i]), value: distinctEntries[i] })\n        }\n        return ret;\n    }\n    function propertyTypes() {\n        var Config = Collections.Config.find().fetch();Config = Config[0];\n        var propertyTypes = []\n        if(Config)\n            for(var i=0;i< Config.propertyType.length;i++){\n                propertyTypes.push({label: titleCase(Config.propertyType[i].name), value: Config.propertyType[i].value})\n            }\n\n        return propertyTypes;\n    }\n\n    function areaSelected(){\n        var data = getSlugData();\n        var areaSelected = data.area;\n\n        if(areaSelected!=false)return areaSelected;\n        else{\n            var data = getSlugData();\n            return data.area;\n        }\n    }\n\n\n    function propertyTypeSelected(){\n        var data = getSlugData();\n        var propertyTypeSelected = data.propertyType;\n\n        if(propertyTypeSelected!=false){\n            propertyTypeSelected = propertyTypeSelected.toLowerCase();\n            return propertyTypeSelected;\n        }\n        else{\n            var data = getSlugData();\n            propertyTypeSelected = data.propertyType;\n            propertyTypeSelected = propertyTypeSelected.toLowerCase();\n            return propertyTypeSelected;\n        }\n    }\n\n    function getPaginationData(totalResultsCount,currentPageNo,resultsPerPage) {\n        currentPageNo = parseInt(currentPageNo);\n        var pages = [], prevPage = {}, nextPage={};\n        var pgMin = currentPageNo-4, pgMax = currentPageNo+ 5, maxPages = Math.ceil(totalResultsCount/resultsPerPage);\n        if(!Number.isInteger(currentPageNo)){\n            return {\n                \"prevPage\":prevPage,\n                \"pages\":pages,\n                \"nextPage\": nextPage\n            }\n        }\n        \n        if(pgMin<1)pgMin =1;\n        if(pgMax<1)pgMax =1;\n        if(maxPages<1)maxPages =1;\n        if(pgMin>maxPages)currentPageNo =maxPages;\n\n        let tmp={};let href = '';\n        let cRoute = FlowRouter.current().route.name, cParams = FlowRouter.current().params, cQueryParams = FlowRouter.current().queryParams;\n        for (var i=pgMin; i<=maxPages;i++){\n            cParams.pageno = i;\n            tmp = {\n                \"href\": FlowRouter.url(cRoute, cParams, cQueryParams),\n                \"text\": i\n            }\n            if(i== currentPageNo) {\n                tmp['href'] = 'javascript:void(0);';\n                tmp['current'] = true;\n            }\n            pages.push(tmp)\n        }\n\n        var prevPageNo = currentPageNo- 1, nextPageNo=currentPageNo+ 1;\n\n        if(prevPageNo<1){\n            prevPage['href'] = 'javascript:void(0)';\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = prevPageNo;\n            prevPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n                prevPage['prevPageNo'] = prevPageNo;\n            prevPage['text'] = 'Previous';\n            prevPage['disabled'] = '';\n        }\n\n        if(nextPageNo>maxPages) nextPageNo = maxPages;\n        if(nextPageNo == currentPageNo){\n            nextPage['href'] = 'javascript:void(0)';\n            nextPage['text'] = 'Next';\n            nextPage['disabled'] = 'disabled';\n        }else{\n            cParams.pageno = nextPageNo;\n            nextPage['href'] = FlowRouter.url(cRoute, cParams, cQueryParams),\n                nextPage['text'] = 'Next';\n            nextPage['nextPageNo'] = nextPageNo;\n            nextPage['disabled'] = '';\n        }\n\n        return {\n            \"prevPage\":prevPage,\n            \"pages\":pages,\n            \"nextPage\": nextPage\n        }\n    }\n\n    advancedCrumbs = function(countyParam,areaParam,propertyType){\n        let fCrumbs = [], tmpCrumbs = [], areaCrumbs = [], countyCrumbs = [];\n        if(propertyType)propertyType = propertyType.toLowerCase();\n\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        //Property Size\n        //Property Size - Property Type\n        //Property Size - Property Type - County\n        //Property Type - county\n        //Counties\n        //Areas\n        //Property Size - Property Type - area - County\n        //Property Size - area - County\n        //Property Type - area - county\n\n        fCrumbs.push({url: generateSlugURL({propertyType: 'studio'}), name: 'Studios'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 1}), name: '1-Bed'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 2}), name: '2-Beds'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3}), name: '3-Beds'})\n\n        tmpCrumbs.push({url: generateSlugURL({cheapSort: true, propertyType: 'house'}), name: 'Cheap Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'house'}), name: '1-Bed Houses'})//Property Size - Property Type\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'house'}), name: '2-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'house'}), name: '3-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({luxurySort: true, propertyType: 'house'}), name: 'Luxury Houses'})\n\n        if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n            url: generateSlugURL({cheapSort: true, propertyType: 'apartment'}),\n            name: 'Cheap Apartments'\n        })\n        fCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'apartment'}), name: '1-Bed Apartments'})//Property Size - Property Type\n        fCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'apartment'}), name: '2-Bed Apartments'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'apartment'}), name: '3-Bed Apartments'})\n        fCrumbs.push({\n            url: generateSlugURL({luxurySort: true, propertyType: 'apartment'}),\n            name: 'Luxury Apartments'\n        })\n\n        if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n//dublin-apartments\n        //Not doing dublin-houses due to less searches for Dublin apartments\n\n        for (var i = 0; i < staticCounties.length; i++) {\n            if (!staticCounties[i]) continue;\n            countyCrumbs.push({\n                url: generateSlugURL({county: staticCounties[i]}),\n                name: staticCounties[i] + ' Apartments'\n            })\n        }\n\n        if (countyParam) {\n            // var propertyType = curURL.propertyType;\n            // var county = curURL.county\n            // var area = curURL.area\n            // var maxRent = curURL.maxRent\n            // var country = curURL.country;\n            // var bedCount = curURL.bedCount;\n            // var luxurySort = curURL.luxurySort;\n            // var cheapSort = curURL.cheapSort;\n\n            //////////////////////////// WITH COUNTY\n            tmpCrumbs = [];\n            tmpCrumbs.push({\n                url: generateSlugURL({cheapSort: true, propertyType: 'house', county: countyParam}),\n                name: 'Cheap Houses to rent in ' + titleCase(countyParam)\n            })\n\n            if (propertyType == 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n            fCrumbs.push({\n                url: generateSlugURL({cheapSort: true, propertyType: 'apartment', county: countyParam}),\n                name: 'Cheap Apartments to rent in ' + titleCase(countyParam)\n            })\n\n            if (propertyType != 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n\n            fCrumbs.push({\n                url: generateSlugURL({propertyType: 'studio', county: countyParam}),\n                name: 'Studio to rent in ' + titleCase(countyParam)\n            })\n\n            tmpCrumbs = [];\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 1, propertyType: 'house', county: countyParam}),\n                name: '1-Bed Houses to rent in ' + titleCase(countyParam)\n            })//Property Size - Property Type\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 2, propertyType: 'house', county: countyParam}),\n                name: '2-Bed Houses to rent in ' + titleCase(countyParam)\n            })\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 3, propertyType: 'house', county: countyParam}),\n                name: '3-Bed Houses to rent in ' + titleCase(countyParam)\n            })\n            tmpCrumbs.push({\n                url: generateSlugURL({luxurySort: true, propertyType: 'house', county: countyParam}),\n                name: 'Luxury Houses to rent in ' + titleCase(countyParam)\n            })\n\n            if (propertyType == 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 1, propertyType: 'apartment', county: countyParam}),\n                name: '1-Bed Apartments to rent in ' + titleCase(countyParam)\n            })//Property Size - Property Type\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 2, propertyType: 'apartment', county: countyParam}),\n                name: '2-Bed Apartments to rent in ' + titleCase(countyParam)\n            })\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 3, propertyType: 'apartment', county: countyParam}),\n                name: '3-Bed Apartments to rent in ' + titleCase(countyParam)\n            })\n            fCrumbs.push({\n                url: generateSlugURL({luxurySort: true, propertyType: 'apartment', county: countyParam}),\n                name: 'Luxury Apartments to rent in ' + titleCase(countyParam)\n            })\n\n            if (propertyType != 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n\n            if (areaParam) {\n                //////////////////////////// WITH AREA COUNTY\n                tmpCrumbs = [];\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        cheapSort: true,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Cheap Houses to rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType == 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        cheapSort: true,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Cheap Apartments to rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType != 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n\n                fCrumbs.push({\n                    url: generateSlugURL({propertyType: 'studio', county: countyParam, area: areaParam}),\n                    name: 'Studio to rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                tmpCrumbs = [];\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 1,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '1-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })//Property Size - Property Type\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 2,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '2-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 3,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '3-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        luxurySort: true,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Luxury Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType == 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 1,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '1-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })//Property Size - Property Type\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 2,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '2-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 3,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '3-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        luxurySort: true,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Luxury Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType != 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n            }\n\n            var distinctEntries = _.uniq(Collections.Areas.find({}, {//County: countyParam ; Dynamically load areas based on the subscription.\n                sort: {Area: 1}, fields: {Area: true}\n            }).fetch().map(function (x) {\n                return x.Area;\n            }), true);\n            areaCrumbs = []\n            for (var i = 0; i < distinctEntries.length; i++) {\n                if (!distinctEntries[i]) continue;\n                // if (distinctEntries[i] == areaParam) continue;//Don't show the same area in this list\n                areaCrumbs.push({\n                    url: generateSlugURL({county: countyParam, area: distinctEntries[i]}),\n                    name: distinctEntries[i] + ' Apartments'\n                })\n            }\n\n            // let ptypeString='';\n            // switch(propertyType){\n            //     case 'apartment': ptypeString = 'Apartments '; break;\n            //     case 'house': ptypeString = 'Houses '; break;\n            // }\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'Studio for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'1-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'2-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'3-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        }\n        return {\n            fCrumbs:fCrumbs,\n            areaCrumbs: areaCrumbs,\n            countyCrumbs:countyCrumbs\n        }\n    }\n\n    var pageno = FlowRouter.getParam('pageno'); if(!pageno)pageno=1;\n    var resperpage = 20;\n    var minBeds = FlowRouter.getQueryParam('minBeds'); if(!minBeds)minBeds=\"\";\n    var maxBeds = FlowRouter.getQueryParam('maxBeds'); if(!maxBeds)maxBeds=\"\";\n    var minRent = FlowRouter.getQueryParam('minRent'); if(!minRent)minRent=\"\";\n    var maxRent = FlowRouter.getQueryParam('maxRent'); if(!maxRent)maxRent=\"\";\n    var bedCount = FlowRouter.getQueryParam('bedCount'); if(!bedCount)bedCount=null;\n    var luxurySort = FlowRouter.getQueryParam('luxurySort'); if(!luxurySort)luxurySort=null;\n    var cheapSort = FlowRouter.getQueryParam('cheapSort'); if(!cheapSort)cheapSort=null;\n    var mostRecentSort = FlowRouter.getQueryParam('mostRecentSort'); if(!mostRecentSort)mostRecentSort=null;\n    var leastRecentSort = FlowRouter.getQueryParam('leastRecentSort'); if(!leastRecentSort)leastRecentSort=null;\n    var propertykey = FlowRouter.getQueryParam('propertykey'); if(!propertykey)propertykey=null;\n    var slug = FlowRouter.getParam('slug');\n    var query = FlowRouter.current().queryParams;\n    var current = FlowRouter.current();\n    var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams)\n\n    // try{if(!slug)slug = FlowRouter.current().params.slug;}catch(e){}\n\n    if(!slug || slug.indexOf('-in-')==-1){\n        return {\n            isSubsLoaded : false\n        }\n        // if( (Date.now() - startTime) < 1000 )\n        //     return {\n        //         isSubsLoaded : false\n        //     }\n        // // this.render('notFound');\n        // var prevRoute = {name: 'home',args:{scrollTo:0} }\n        // Session.set('prevRoute',prevRoute);\n        // FlowRouter.go('pagenotfound');\n        // return;\n    }\n\n    let sortBySelected = \"mRecent\";\n    var sortOptions = { updatedAt : -1 }\n    if( luxurySort ){sortBySelected = \"descRent\"; sortOptions = { rentMonthly : -1 } }\n    else if( cheapSort ){sortBySelected = \"ascRent\";  sortOptions = { rentMonthly : 1 } }\n    else if( mostRecentSort ){sortBySelected = \"mRecent\"; sortOptions = { updatedAt : -1 } }\n    else if( leastRecentSort ){sortBySelected = \"lRecent\"; sortOptions = { updatedAt : 1 } }\n\n    const bLettingsSub = Meteor.subscribe(\"browseLettings\", {viewName: 'browseLettings.view', slug:slug, pageno:pageno, resperpage:resperpage, query:query, propertykey:propertykey} ,function(){\n        if(bLettingsSub.ready() && areasSub.ready()  && Meteor.isClient)Session.set('subscriptionsReady',true);\n    });\n\n    Meteor.subscribe(\"total-houses-for-rent-count\", {viewName: 'browseLettings.view', slug:slug, pageno:pageno, resperpage:resperpage, query:query, propertykey:propertykey});\n\n    if(Meteor.isServer){\n        if(countsCollection==null)countsCollection = new Mongo.Collection('counts');\n        Counts.get = function countsGet(name) {\n            const count = countsCollection.findOne(name);\n            return count && count.count || 0;\n        };\n        Counts.has = function countsHas(name) {\n            return !!countsCollection.findOne(name);\n        };\n\n        totalCount = Counts.get(\"total-houses-for-rent-count\");\n\n    }else{\n        totalCount = Counts.get(\"total-houses-for-rent-count\");\n    }\n\n    var slugData = getSlugData();\n    var countySelected = slugData.county;\n\n    Meteor.subscribe('userData');\n    const areasSub = Meteor.subscribe('Areas','','',countySelected,'','',function(){\n        if(bLettingsSub.ready() && areasSub.ready() && Meteor.isClient )Session.set('subscriptionsReady',true);\n    })\n    Meteor.subscribe('Config');\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !bLettingsSub.ready() || !areasSub.ready() ) {\n        return {\n            isSubsLoaded : false\n        }\n    }\n\n    ////////// ADV BREADCRUMBS MORE LINKS\n    let advC = {fCrumbs:[],areaCrumbs:[],countyCrumbs:[]}\n    if(true) {\n        advC = advancedCrumbs(slugData.county,slugData.area,slugData.propertyType);\n    }\n    ////////// END ADV BREADCRUMBS\n\n    var title = '';//slug.replace(/[-_]/g,' ')\n    title += slugData.propertyType ? slugData.propertyType+\" for\" : '';\n    title += title ? ' rent in' : 'Rent in'\n    title += slugData.area ? ' '+slugData.area+\"\" : '';\n    title += slugData.county ? ' '+slugData.county+\"\" : '';\n    title += ' Ireland'\n\n    var description = \"\"\n    description = 'Find';\n    description += slugData.propertyType ? ' an '+slugData.propertyType+\" for\" : '';\n    description += ' rent in'\n    description += slugData.area ? ' '+slugData.area+\"\" : '';\n    description += slugData.county ? ' '+slugData.county+\"\" : '';\n    description += ' Ireland.'\n\n    description += \" Browse through the apartments, houses, studios, 1 bed, 2 bed, 3 bed rooms available to rent in Ireland.\"\n\n\n    // Find an apartment for rent in Ireland. Browse through the studio, apartments, houses, 1 bed, 2 bed, 3 bed rooms available to rent in Ireland.\n    // Found total 32 apartment for rent in Ireland. Browse through the studio, apartments, houses, 1 bed, 2 bed, 3 bed rooms available to rent in Ireland. Choose county and area from the top right drop-down options. Click view details button by the apartment to know more about it. Use the navigation below to find more apartment for rent in Ireland.\n    clearMeta();\n    let titleTmp = title + ' | SpotMyCrib'\n    if(titleTmp.length<=75)title = titleTmp;\n\n    DocHead.setTitle(title);\n    DocHead.addMeta({name: \"description\", content: description});\n\n    return {\n        // currentUserId: Meteor.userId(),\n        counties: counties(),\n        totalCount: totalCount,\n        pagination: getPaginationData(totalCount,pageno,20),\n        pageno:pageno,\n        areas: areas(),\n        propertyTypes: propertyTypes(),\n        auctions: Collections.Auctions.find({},{sort:sortOptions}).fetch(),\n        properties: Collections.Properties.find().fetch(),\n        areaSelected: areaSelected(),\n        countySelected: countySelected,\n        propertyTypeSelected: propertyTypeSelected(),\n        isSubsLoaded : true,\n        slug:slug,\n        fCrumbs : advC.fCrumbs,\n        areaCrumbs : advC.areaCrumbs,\n        countyCrumbs : advC.countyCrumbs,\n        minRentSelected: slugData.minRent,\n        maxRentSelected: slugData.maxRent,\n        minBedCountSelected: slugData.minBeds,\n        maxBedCountSelected: slugData.maxBeds,\n        sortBySelected: sortBySelected,\n    };\n})(HousesForrent);","/**\n * Created by njanjanam on 08/08/2018.\n */\nimport { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\nimport {Collections} from \"../../api/collections\";\nimport { isArray } from 'util';\nupdateViewsCalled=false;\npropertyKeyOfThisPage = ''\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\nif(Meteor.isClient)Session.set('subscriptionsReady2',false);\n\nfunction titleCase(str) {\n    if(!str)return;\n    return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\nfunction dateFormat(text){\n    var date = new Date(text)\n    if(date.toString() == \"Invalid Date\")return 'N/A';\n    return  date.toDateString();\n}\nfunction addCommaToEach(arr){\n    if(!arr)return '';\n    return  arr.join(', ');\n}\nfunction nlToBr(str) {\n    if (!str) return '';\n    return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n}\nfunction validateMobileNumber(mobile){\n    let tmp = mobile.split('+');\n    if(tmp.length>1)\n        mobile = tmp[1];\n    if(mobile.length<6) return false;\n    return /^\\d+$/.test(mobile)\n}\nfunction attachEvents() {\n    $(\".confirmApplyBtn\").unbind().bind(\"click\",function () {\n        ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n    })\n    $(\".redirectToProfilePage\").unbind().bind(\"click\",function () {\n        redirectToProfilePageEvent();\n    })\n    $(\".pd_cap_btn\").unbind().bind(\"click\",function () {\n        console.log('pd_cap_btn');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    })\n    $(\".pd_cap_a\").unbind().bind(\"click\",function () {\n        console.log('pd_cap_a');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n        redirectToProfilePageEvent();\n    })\n    $(\".cap_closePopupBtn\").unbind().bind(\"click\",function () {\n        console.log('cap_closePopupBtn');\n        ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n        closePopupEvent();\n    })\n}\nfunction showConfDialog(){\n    $.fancybox({\n        'padding': 0,\n        'href': '#fully-confirm',\n        afterShow:function(){\n            attachEvents();\n\n        },\n        afterClose:function(template){}\n    })\n}\nfunction redirectToProfilePageEvent() {\n    var prevRoute = {name: FlowRouter.current().route.name,args:{key:FlowRouter.current().params.key} }\n    Session.set('prevRoute',prevRoute);\n    FlowRouter.go(\"account/profile\")\n    closePopupEvent();\n}\nfunction closePopupEvent() {\n    if($)\n        if($.fancybox)\n            $.fancybox.close();\n}\nfunction generateSlug(curURL){\n    var propertyType = curURL.propertyType;\n    var county = curURL.county\n    var area = curURL.area\n    var maxRent = curURL.maxRent\n    var country = curURL.country;\n    var bedCount = curURL.bedCount;\n    var luxurySort = curURL.luxurySort;\n    var cheapSort = curURL.cheapSort;\n    // const territory = target.territory.value;\n\n    var slug='';\n    var query={};\n\n    if(propertyType)propertyType = propertyType.replace(/\\s+/g, '_')\n    if(county)county = county.replace(/\\s+/g, '_')\n    if(area)area = area.replace(/\\s+/g, '_')\n    if(country)country = country.replace(/\\s+/g, '_')\n\n    if(propertyType)slug=propertyType+\"-for-\"\n    slug+=\"rent\"\n    // if(areaSelected||countySelected||country)\n    slug+=\"-in-\"\n\n    if(!county)area = '';\n\n    if(area)slug+=area\n    if(area && county)slug+=\"-\"\n    if(county)slug+=county\n\n    if(bedCount)query.bedCount = bedCount;\n    if(luxurySort)query.luxurySort = 1;\n    if(cheapSort)query.cheapSort = 1;\n\n    if(country)slug+=\"-\"+country\n    else slug+=\"-ireland\"\n\n    var range = [{cur:\"eur\",min:400,max:10000}]\n    var selectedCur = range[0];\n    if(maxRent && maxRent!=selectedCur.max)query.maxRent = maxRent;\n\n    // apartment-for-rent-in-dundrum-dublin-ireland\n    // apartment-for-rent-in-donnybroke-london-uk\n    // rent/apartment/dundrum/dublin\n    // rent/apartment/donnybroke/london/england/uk/\n    return [\n        slugify(slug),\n        query\n    ]\n}\nfunction generateSlugURL(curURL){\n    var ret = generateSlug(curURL)\n    return FlowRouter.url('b',{slug:ret[0]},ret[1]);\n}\nfunction slugify (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '')           // Replace spaces with \"\"\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with ''\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single ''\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}\nfunction showLoginDialog(){\n    Session.set('showForgotForm',false)\n    Session.set('showSignupForm',false)\n    Session.set('showLoginSignupFancyBoxDialog',true)\n    Session.set('showLoginDialog',true)\n}\nfunction fixImageSize() {\n    var avgW=0;\n    $('#relatedsection .thumbnail img').each(function(){\n\n        if(!avgW)avgW = $(this).width();\n        else {\n            avgW += $(this).width();\n            avgW =  avgW / 2;\n        }\n    })\n    if(!avgW)avgW = 250;\n    $('#relatedsection .thumbnail img').width('100%');\n    $('#relatedsection .thumbnail img').height(avgW*0.7);\n}\nfunction chunkify(a, n, balanced) {\n\n    if (n < 2)\n        return [a];\n\n    if(!Array.isArray(a))return [];\n\n    var len = a.length,\n        out = [],\n        i = 0,\n        size;\n\n    if (len % n === 0) {\n        size = Math.floor(len / n);\n        while (i < len) {\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else if (balanced) {\n        while (i < len) {\n            size = Math.ceil((len - i) / n--);\n            out.push(a.slice(i, i += size));\n        }\n    }\n\n    else {\n\n        n--;\n        size = Math.floor(len / n);\n        if (len % size === 0)\n            size--;\n        while (i < size * n) {\n            out.push(a.slice(i, i += size));\n        }\n        out.push(a.slice(size * n));\n\n    }\n\n    return out;\n}\nfunction autoExpandDelayed() {\n    setTimeout(autoExpand,500)\n}\nfunction autoExpand() {\n    let field = $('#bidMessage')[0]\n    if(!field)return;\n    // Reset field height\n    field.style.height = 'inherit';\n\n    // Get the computed styles for the element\n    var computed = window.getComputedStyle(field);\n\n    // Calculate the height\n    var height = parseInt(computed.getPropertyValue('border-top-width'), 10)\n        + parseInt(computed.getPropertyValue('padding-top'), 10)\n        + field.scrollHeight\n        + parseInt(computed.getPropertyValue('padding-bottom'), 10)\n        + parseInt(computed.getPropertyValue('border-bottom-width'), 10);\n\n    field.style.height = (height-20) + 'px';//adding -40 due to the result of test case that its causing too much space extra in a normal way, may be due to font size, line height etc.\n\n};\nisApplySuccessfulOpen = false;\nfunction showApplySuccessfulDialog(){\n    // console.log(\"Apply showApplySuccessfulDialog\")\n\n    $.fancybox({\n        'padding': 0,\n        'href': '#apply-successful-popup',\n        afterShow:function(){isApplySuccessfulOpen=true;},\n        afterClose:function(){isApplySuccessfulOpen=false;}\n    })\n}\n\nclass LettingDetail extends Component {\n\n    constructor(props) {\n        super(props)\n        var current = FlowRouter.current();\n        this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.data){\n            if(props.data.searchCrumbs){\n                var chunks = chunkify(props.data.searchCrumbs,3,true)\n                searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n            if(props.data.fCrumbs){\n                var chunks = chunkify(props.data.fCrumbs,3,true)\n                fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n            if(props.data.areaCrumbs){\n                var chunks = chunkify(props.data.areaCrumbs,3,true)\n                areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n            if(props.data.countyCrumbs){\n                var chunks = chunkify(props.data.countyCrumbs,3,true)\n                countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            }\n        }\n        this.state = {\n            isApplicationInProgress:false,\n            'searchCrumbs':searchCrumbs,fCrumbs:fCrumbs,areaCrumbs:areaCrumbs,countyCrumbs:countyCrumbs,\n            personalMessage:\"\"\n        }\n        this.searchCrumbsLoaded = false;\n\n        this.applyNowBtnHandler = this.applyNowBtnHandler.bind(this)\n        this.redirectToProfilePageHandler = this.redirectToProfilePageHandler.bind(this)\n        this.confirmApplyBtnHandler = this.confirmApplyBtnHandler.bind(this)\n        this.cap_closePopupBtnHandler = this.cap_closePopupBtnHandler.bind(this)\n        this.cap_viewSimilarLettingsBtnHandler = this.cap_viewSimilarLettingsBtnHandler.bind(this)\n        this.backBtnHandler = this.backBtnHandler.bind(this)\n        this.noPropBackBtnHandler = this.noPropBackBtnHandler.bind(this)\n        this.pd_cap_btnHandler = this.pd_cap_btnHandler.bind(this)\n        this.pd_cap_aHandler = this.pd_cap_aHandler.bind(this)\n        this.headerApplyNowBtnHandler = this.headerApplyNowBtnHandler.bind(this)\n        this.mainUploadRefBtnHandler = this.mainUploadRefBtnHandler.bind(this)\n        this.mainUpdateRefBtnHandler = this.mainUpdateRefBtnHandler.bind(this)\n        this.mainApplyNowBtnHandler = this.mainApplyNowBtnHandler.bind(this)\n        this.createAlertBtnHandler = this.createAlertBtnHandler.bind(this)\n        updateViewsCalled=false;\n\n        this.propsListHTML = '';\n        this.isServerSSRReq = '';\n        this.handlePersonalMessageChange = this.handlePersonalMessageChange.bind(this);\n    }\n    backBtnHandler(){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"/account/myproperies/\",{pageno:1});\n        }\n    }\n    noPropBackBtnHandler(){\n        var prevRoute = Session.get('prevRoute');\n        if(prevRoute){\n            FlowRouter.go(prevRoute.name,prevRoute.args)\n            Session.set('prevRoute',false);\n        }else{\n            FlowRouter.go(\"home\");\n        }\n    }\n    cap_closePopupBtnHandler(){\n        console.log('cap_closePopupBtn');\n        ga('send', 'event', 'PDPage', 'CAPClosePopupBtn', 'CAP: Cancle Apply Btn Clicked');\n        closePopupEvent();\n    }\n    cap_viewSimilarLettingsBtnHandler(){\n        console.log('cap_viewSimilarLettingsBtnHandler');\n        ga('send', 'event', 'PDPage', 'CAPViewSimilarLettingsBtn', 'CAP: View Simiar Lettings Btn Clicked');//CAP: Confirm Apply Popup\n        closePopupEvent();\n        var element = document.getElementById(\"relatedsection\");\n        element.scrollIntoView();\n    }\n    redirectToProfilePageHandler(){\n        redirectToProfilePageEvent();\n    }\n    handlePersonalMessageChange(event) {\n        this.setState({personalMessage: event.target.value});\n        autoExpandDelayed();\n    }\n    confirmApplyBtnHandler(){\n        console.log('confirmApplyBtn');\n        ga('send', 'event', 'PDPage', 'confirmApplyBtn', 'CAP: Confirm Apply Btn Clicked');\n\n        var auctionId = this.props.data._id;\n        var price = $('#bidPrice').val();\n        price = parseInt(price);\n        if(isNaN(price)){alert(\"Please enter a valid offer price.\");return;}\n        // var bidMessage = $('#bidMessage').val();\n        var bidMessage = this.state.personalMessage;\n        bidMessage = bidMessage.substring(0,500);\n        var min = this.props.data.price*0.7, max = this.props.data.price*1.5;\n        if(!auctionId){console.log(\"invalid data\");return;}\n        if(price <  min || price > max ){\n            alert(\"Offer price should be between \"+min+\" and \"+max+\". Please adjust your offer price again.\");return;\n        }\n        // debugger;\n        this.setState({isApplicationInProgress:true})\n\n        this.placeBidCallback = function(error, result){\n            this.setState({isApplicationInProgress:false})\n            if(error){\n                console.log(error);\n                var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n                tmp.push(\"Failed applying. Please try again, try checking your internet connectivity. Contact us if needed.\");\n                Session.set(\"showErrorDlg\",tmp)\n                return;\n            }\n            if(result.status=='Success'){\n                console.log(\"Success\");\n                closePopupEvent()//Dont close it, instead show the successful part of that dialog\n                setTimeout(showApplySuccessfulDialog,500)\n                setTimeout(function(){\n                    if(!isApplySuccessfulOpen)\n                        showApplySuccessfulDialog();\n                },1500)\n                setTimeout(function(){\n                    if(!isApplySuccessfulOpen)\n                        showApplySuccessfulDialog();\n                },3000)\n            }\n        }\n        this.placeBidCallback = this.placeBidCallback.bind(this);\n        Meteor.call('placeBid',[auctionId, price, bidMessage],this.placeBidCallback);\n\n        var user = Accounts.user();\n        if(user)\n        if(user.profile)\n        if(!user.profile.mobile){\n            let mobile = false, isValid = false;\n            mobile = prompt(\"You don't have a mobile number attached to your profile. Please enter mobile to proceed. \");\n            let tmp = mobile.split('+');\n            if(tmp.length>1)\n                mobile = tmp[1];\n            if( validateMobileNumber(mobile) )isValid=true;\n\n            while(! isValid) {//This is an un limited loop of mobile number.\n                mobile = prompt(\"Error! invalid format. Please enter mobile number in format +353 893456789.\");\n                if( validateMobileNumber(mobile) )isValid=true;\n            }\n            // if(/^\\d{10}$/.test(mobile)) {\n            if( isValid ) {\n                Meteor.call('updateMobile', mobile, function (error, result) {\n                    if (error) {\n                        console.log(error.error);\n                        var tmp = Session.get(\"showErrorDlg\");\n                        var msg = 'Mobile number update failed. Please try again. Contact us if needed.';\n                        tmp.push(msg);\n                        Session.set(\"showErrorDlg\", tmp)\n\n                        return;\n                    }\n                });\n            }\n        }\n\n\n    }\n    applyNowBtnHandler(event){\n        // Prevent default browser form submit\n        if(event)event.preventDefault();\n        console.log(\"Apply now btn clicked\")\n\n        if(!this.props.user){\n            Session.set('loginFromApplyNowBtn',true)\n            showLoginDialog();\n            return;\n        }\n        // if(user._id == this._createdByAgent ){\n        //     console.log(\"Owner cannot apply for the house.\");\n        //     return;\n        // }\n        //Do mobile verification\n        if(this.props.user.profile)\n        if(this.props.user.profile.personalMessage && !this.state.personalMessage){//Do this only if the current sessions personal message is empty\n            this.setState({personalMessage: this.props.user.profile.personalMessage})\n        }\n\n        if(this.props.myBid){\n            var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            tmp.push(\"Error: You have an existing application, please refresh the page.\");\n            Session.set(\"showErrorDlg\",tmp)\n            console.log(\"Already has a bid\");\n            return;\n        }\n        this.afterCFun = function(){\n            attachEvents();\n\n            setTimeout(function () {\n                $('#bidPrice').focus().select()\n                autoExpandDelayed()\n            },500)\n        }\n        this.afterCFun = this.afterCFun.bind(this);\n\n        $.fancybox({\n            'padding': 0,\n            'href': '#confirm-apply-pop',\n            afterShow:this.afterCFun,\n            afterClose:function(){}\n        })\n    }\n    headerApplyNowBtnHandler(){\n        console.log('headerApplyNowBtn');\n        ga('send', 'event', 'PDPage', 'HeaderApplyNowBtnClicked', 'Header: Apply now Btn Clicked');\n        this.applyNowBtnHandler();\n    }\n    mainApplyNowBtnHandler(event){\n        console.log('mainApplyNowBtn');\n        ga('send', 'event', 'PDPage', 'ApplyNowBtnClicked', 'Main: Apply now Btn Clicked');\n        this.applyNowBtnHandler(event);\n    }\n    pd_cap_btnHandler(event){\n        if(event)event.preventDefault();\n        console.log('pd_cap_btn');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefBtnClicked', 'CAP: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    }\n    pd_cap_aHandler(event){\n        if(event)event.preventDefault();\n        console.log('pd_cap_a');\n        ga('send', 'event', 'PDPage', 'CAPUploadRefAClicked', 'CAP: Upload Reference Anchor Link Clicked');\n        redirectToProfilePageEvent();\n    }\n    mainUploadRefBtnHandler(){\n        console.log('mainUploadRefBtn');\n        ga('send', 'event', 'PDPage', 'UploadRefBtnClicked', 'Main: Upload Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    }\n    mainUpdateRefBtnHandler(){\n        console.log('mainUpdateRefBtn');\n        ga('send', 'event', 'PDPage', 'UpdateRefBtnClicked', 'Main: Update Reference Btn Clicked');\n        redirectToProfilePageEvent();\n    }\n    createAlertBtnHandler(){\n        console.log('createAlertBtnHandler');\n        ga('send', 'event', 'PDPage', 'createAlertBtnClicked', 'Main: Create Alert Btn Clicked');\n        Session.set('showCreateAlertPopup',true)\n    }\n    componentDidMount(){\n        $(document).ready(function(){\n            $('.scroll-menu-div').hide();\n            $(window).on(\"scroll\", function() {\n                var scrollPercent = 100 * $(window).scrollTop() / ($(document).height() - $(window).height());\n                if(scrollPercent > 10){\n                    $('.scroll-menu-div').fadeIn();\n                    $(\".scroll-menu-div\").addClass('fixed-header');\n                }\n                else{\n                    $('.scroll-menu-div').hide();\n                    $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n\n                }\n            });\n            setTimeout(function(){\n                try {\n                    jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n                } catch (e) {\n                    document.body.scrollTop = document.documentElement.scrollTop = 0;\n                }\n                $('.scroll-menu-div').hide();\n                $(\".scroll-menu-div\").removeClass(\"fixed-header\");\n\n            },500)\n        });\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        // setTimeout(function(){addthis.init();addthis.layers.refresh();},5000)\n        $(window).resize(fixImageSize);\n        $(window).resize(autoExpandDelayed);\n    }\n    componentDidUpdate() {\n        setTimeout(fixImageSize,1000)\n        setTimeout(fixImageSize,3000)\n        setTimeout(fixImageSize,5000)\n        if(this.props.data && !updateViewsCalled){\n            updateViewsCalled=true;\n            Meteor.call('updateViews',this.props.data._id);\n        }\n        if(propertyKeyOfThisPage && this.props.data.lettingAuctionCode){\n            if(this.props.data.lettingAuctionCode!=propertyKeyOfThisPage){//lettingAuctionCode changed, means page is changed\n                //Constructor elements needs to be called again\n                updateViewsCalled=true;\n                Meteor.call('updateViews',this.props.data._id);\n                this.setState({isApplicationInProgress:false,personalMessage:\"\"})\n                this.searchCrumbsLoaded = false;\n                Session.set('subscriptionsReady2',false);\n                propertyKeyOfThisPage = this.props.data.lettingAuctionCode;\n                setTimeout(function(){\n                    try {\n                        jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n                    } catch (e) {\n                        document.body.scrollTop = document.documentElement.scrollTop = 0;\n                    }\n                },500)\n            }\n        }\n    }\n    componentWillReceiveProps(props){\n        var searchCrumbs = {c1:[],c2:[],c3:[]}\n        var fCrumbs = {c1:[],c2:[],c3:[]}\n        var areaCrumbs = {c1:[],c2:[],c3:[]}\n        var countyCrumbs = {c1:[],c2:[],c3:[]}\n        if(props.data.searchCrumbs != this.state.searchCrumbs){\n            var chunks = chunkify(props.data.searchCrumbs,3,true)\n            searchCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for searchCrumbs')\n            this.setState({'searchCrumbs':searchCrumbs})\n        }\n        if(props.data.fCrumbs != this.state.fCrumbs){\n            var chunks = chunkify(props.data.fCrumbs,3,true)\n            fCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for fCrumbs')\n            this.setState({fCrumbs:fCrumbs})\n        }\n        if(props.data.areaCrumbs != this.state.areaCrumbs){\n            var chunks = chunkify(props.data.areaCrumbs,3,true)\n            areaCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for areaCrumbs')\n            this.setState({areaCrumbs:areaCrumbs})\n        }\n        if(props.data.countyCrumbs != this.state.countyCrumbs){\n            var chunks = chunkify(props.data.countyCrumbs,3,true)\n            countyCrumbs = {c1:chunks[0],c2:chunks[1],c3:chunks[2]}\n            // console.log('in the setState for countyCrumbs')\n            this.setState({countyCrumbs:countyCrumbs})\n        }\n\n    }\n    // currentURL:function () {\n    //     return Router.current().originalUrl;\n    // },\n    isCurUserBid() {\n        //todo: test this\n        debugger;\n\n        if(!this.props.user)return false;\n        if(this.userId == user._id)return true;\n        return false;\n    }\n\n    renderMain(){\n        return (\n            <div>\n                <section className=\"scroll-menu-div\" style={{zIndex:'1000'}}>\n                    <div className=\"container\">\n                        <div className=\"scroll-menu\">\n                            <div className=\"left-menu\">\n                                <ul>\n                                    <li><a href={this.currentURL+\"#imagessection\"} className=\"active scroll1\">PHOTOS</a></li>\n                                    <li><a href={this.currentURL+\"#detailssection\"} className=\"scroll1\">DETAILS</a></li>\n                                    <li><a href={this.currentURL+\"#amenitiessection\"} className=\"scroll1\">AMENITIES</a></li>\n                                </ul>\n                            </div>\n                            <div className=\"right-menu\">\n                                <ul>\n                                    <li className=\"left-line\">\n                                        <p>Applications received</p>\n                                        <p className=\"pad-btm-0 text-center\">{this.props.data.applicationsReceivedCount}</p>\n                                    </li>\n                                    <li className=\"left-line\">\n                                        <p>Owner's Current Rent</p>\n                                        <p className=\"pad-btm-0 text-center\">â‚¬ {this.props.data.price +\" (\"+this.props.data.rentType+\")\"}</p>\n                                    </li>\n                                    <li>\n                                        {\n                                        this.props.alreadyLeased ?\n                                        (\n                                            <a href={this.currentURL+'#relatedsection'} className=\"green-btn  btns\" type=\"button\">View similar lettings</a>\n                                        ) :\n                                            this.props.myBid ? (\n                                            <button className=\"green-btn  btns viewMyApplication\" type=\"button\">Already applied</button>\n                                        ): (\n                                            <buttons onClick={this.headerApplyNowBtnHandler} className=\"blue-btn btns headerApplyNowBtn applyNowBtn\">Apply for this {this.props.PD.type}</buttons>\n                                        )}\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <section className=\"banner\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div id=\"imagessection\" className=\"col-md-7 padding0\">\n                                <figure>\n                                    <div className=\"banner-holder\">\n                                        <ImagesSlider images={this.props.sliderImages}/>\n                                    </div>\n                                    { this.props.isAgent ? (\n                                        <figcaption>\n                                            <h2>{this.props.isAgent.name}</h2>\n                                            <h5 style={{padding: 0}}>{this.props.isAgent.address1}</h5>\n                                        </figcaption>\n                                    ) : \"\"\n                                    }\n                                </figure>\n                            </div>\n                            <div className=\"col-md-5 purva-bg\">\n                                <div className=\"purva\">\n                                    { this.props.isAgent ? (\n                                        <img src={this.props.isAgent.logourl} alt={this.props.isAgent.name} style={this.props.isAgent.style}/>\n                                    ) : \"\"\n                                    }\n                                    <h1>{titleCase(this.props.PD.address.address)}{this.props.PD.address.area ?  (<span>, {titleCase(this.props.PD.address.area)}</span>) : ''}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}</h1>\n                                    <p style={{marginBottom: '10px'}}>{titleCase(this.props.PD.type)} to rent in {titleCase(this.props.PD.address.area)}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}. Its {this.props.PD.furnished ? \"a furnished\" : \"an Unfurnished\" } {titleCase(this.props.PD.type)} with {this.props.PD.bedroomsCount} beds, {this.props.PD.baths} baths, {this.props.PD.ensuiteCount ? this.props.PD.ensuiteCount : \"no\" } Ensuite and {this.props.PD.doubleBedCount ? this.props.PD.doubleBedCount : \"has no\" } Double bed property/accommodation, your next my home. { this.props.isAgent ? (<span>Its posted by {this.props.isAgent.name}.</span>) : \"\" } Click apply below to send your interest to the landlord and he would contact you soon. </p>\n                                    <ul>\n                                        <li>\n                                            <p><span style={{color: '#b3b3b3'}}>Views</span> :  {this.props.data.views}</p>\n                                        </li>\n                                        <li>\n                                            <a href={FlowRouter.url('howitworks')}><p style={{color: '#39b54a', fontFamily: '\"montserratregular\"', padding: 0}}>How it works?</p></a>\n                                        </li>\n                                        <li>\n                                            <a href={FlowRouter.url('contactus')}><p style={{color: '#39b54a', fontFamily: '\"montserratregular\"', padding: 0}}>Need help?</p></a>\n                                        </li>\n                                    </ul>\n                                    <p>&nbsp;</p>\n                                    <div className=\"purva-developer\">\n                                        <h5><span style={{color: '#b3b3b3'}}>Owner's Current Rent :</span>â‚¬ {this.props.data.price +\" (\"+this.props.data.rentType+\")\"}</h5>\n                                    </div>\n                                    {this.props.alreadyLeased ? (\n                                        <p style={{fontFamily: '\"montserratregular\"'}}>This property is already leased. Please use one of the options below.</p>\n                                    ) :\"\"}\n                                    <div className=\"purva-btns\">\n                                        <ul>\n                                            <li>\n                                                { this.props.alreadyLeased ?\n                                                    (\n                                                    <span>\n<a href={this.currentURL+'#relatedsection'} className=\"green-btn  btns\" type=\"button\">View similar lettings</a>\n<a href={this.currentURL+'#searchsection'} className=\"transparent-btn btns mar-left-10\" type=\"button\">Search More</a>\n                                                            \n                                                    </span>\n                                                    )\n                                                :\n                                                    this.props.myBid ? (\n                                                    <span>\n<button className=\"green-btn  btns viewMyApplication\" type=\"button\">Already applied</button>\n{this.hasAllReqReferences ? (\n    <button className=\"transparent-btn btns mainUpdateRefBtn mar-left-10\" onClick={this.mainUpdateRefBtnHandler} type=\"button\" title=\"View your references\">Update references</button>\n):(\n    <button className=\"transparent-btn btns mainUploadRefBtn mar-left-10\" onClick={this.mainUploadRefBtnHandler} type=\"button\" title=\"You dont have all your references updated in your profile. Missing files are  {addCommaToEach(this.props.refListArr)}\">Upload references</button>\n)}\n                                                    </span>\n                                                    ) :(\n                                                    <span>\n<buttons onClick={this.mainApplyNowBtnHandler} className=\"blue-btn btns mainApplyNowBtn applyNowBtn\">Apply for this {this.props.PD.type}</buttons>\n                                                        <span className=\"hidden-xs\">&nbsp;</span>\n                                                        <span className=\"visible-xs\" style={{height: 1}}><br/></span>\n{this.hasAllReqReferences ? (\n    <button className=\"transparent-btn btns mainUpdateRefBtn\" onClick={this.mainUpdateRefBtnHandler} type=\"button\" title=\"View your references\">Update references</button>\n):(\n    <button className=\"transparent-btn btns mainUploadRefBtn\" onClick={this.mainUploadRefBtnHandler} type=\"button\" title={\"You dont have all your references updated in your profile. Missing files are  \"+addCommaToEach(this.props.refListArr)}>Upload references</button>\n)}\n                                                    </span>\n                                                    )\n                                                }\n                                                <span className=\"hidden-xs\">&nbsp;</span>\n                                                <span className=\"visible-xs\" style={{height: 1}}><br/></span>\n                                                <button className=\"green-btn btns\" onClick={this.createAlertBtnHandler} type=\"button\" title={\"Be the first to hear about the latest lettings in your area. Signup for our email alerts.\"}>\n                                                    <span className=\"glyphicon glyphicon-bell\"></span> Create Alert</button>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <section className=\"main-sec\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div id=\"detailssection\" className=\"border mar-btm-20 background-white\">\n                                <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                    <h2>Details</h2>\n                                </div>\n                                <div className=\"developer proj-dtls \">\n                                    <div className=\"clearfix\">\n                                        <div className=\"col-md-9\">\n                                            <div>\n                                                <ul className=\"list-inline\">\n                                                    <li className>\n                                                        <h3>Rent type</h3>\n                                                        <h4 className=\"pad-btm-0\">{titleCase(this.props.data.rentType)}</h4>\n                                                    </li>\n                                                    <li className=\"left-line\">\n                                                        <h3>Available from</h3>\n                                                        <h4 className=\"pad-btm-0\">{dateFormat(this.props.data.readyFrom)}</h4>\n                                                    </li>\n                                                    <li className=\"left-line\">\n                                                        <h3>Available until</h3>\n                                                        <h4 className=\"pad-btm-0\">{this.props.data.lease}</h4>\n                                                    </li>\n                                                </ul>\n                                                <div className=\"project-detail\">\n                                                    <ul className=\"bdr-btm\">\n                                                        <li>\n                                                            <span className=\"color-grey\">Location</span>\n                                                            <h5 className=\"heading-reg\"> {titleCase(this.props.PD.address.address)}, {titleCase(this.props.PD.address.area)}, {titleCase(this.props.PD.address.county)}</h5>\n                                                        </li>\n                                                        <li className=\"pad-left-35\">\n                                                            <span className=\"color-grey\">BER</span>\n                                                            <h5 className=\"heading-reg\"> {addCommaToEach(this.props.PD.BER)}</h5>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                            <div className=\"mar-top-20 \">\n                                                <h5 className=\"heading-reg\">Description</h5>\n                                                <p className=\"color-grey pad-btm-10\" dangerouslySetInnerHTML={{__html:nlToBr( this.props.PD.about) }}></p>\n                                                {/*<a href=\"javascript:;\" class=\"text-underline\" >Read More</a>*/}\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-3\">\n                                            <h5 className=\"heading-reg\">Bedrooms : {this.props.PD.bedroomsCount}</h5>\n                                            <div className=\"handed-proj-bg clearfix\">\n                                                <div className=\"col-md-6\">\n                                                    <div>\n                                                        <h3>{this.props.PD.doubleBedCount}</h3>\n                                                        <h4 className=\"pad-btm-0\">Double</h4>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-md-6\" style={{padding: 0}}>\n                                                    <div className=\"left-line\">\n                                                        <h3>{this.props.PD.ensuiteCount}</h3>\n                                                        <h4 className=\"pad-btm-0\">Ensuite</h4>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <h5 className=\"heading-reg mar-top-30\">Contact</h5>\n                                            <div className=\"handed-proj-bg clearfix\">\n                                                {/*\n                        <div class=\"col-md-12 color-grey\"  style=\"font-size:13px\">Apply for this property to view contact details</div>\n                        */}\n    {this.props.alreadyLeased ? (\n        <p style={{fontFamily: '\"montserratregular\"'}} className={\"text-center\"}>This property is already leased.<br/>\n            <a href={this.currentURL+'#relatedsection'} title={\"Browse through more available lettings for rent in \"+titleCase(this.props.PD.address.area)+\", \"+titleCase(this.props.PD.address.county)}>View similar lettings</a><br/>\n            <a href={this.currentURL+'#searchsection'} title={\"Search more available properties for rent in \"+titleCase(this.props.PD.address.area)+\", \"+titleCase(this.props.PD.address.county)}>Search More</a>\n        </p>\n    ) :\n        this.props.data.primaryContact.phone ?\n            this.props.PD.contacts.map(function(contact,i){\n                return (\n                <div key={i} className=\"col-md-12\">\n                    <div>\n                        <h3>{titleCase(contact.name)} : <a href={\"tel:\"+contact.phone}>{contact.phone}</a></h3>\n                    </div>\n                </div>\n                )\n            })\n        : (\n            <div className=\"col-md-12\">Apply for this property to email owner</div>\n        )\n    }\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div id=\"amenitiessection\" className=\"mar-btm-30 amenities\">\n                                <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                    <h2>Amenities</h2>\n                                </div>\n                                <div className=\"amenitiy-block\">\n                                    <ul>\n                                        { this.props.PD.amenitiesWithImgs.map(function(aminity,i){\n                                            return (\n                                                <li key={i}>\n                                                    <p><span><img src={aminity.src} /></span>{titleCase(aminity.name)}</p>\n                                                </li>\n                                            )\n                                            })\n                                        }\n                                    </ul>\n                                </div>\n                            </div>\n                            {this.props.data.relatedProps ?(\n                                <div id=\"relatedsection\" className=\"mar-btm-30 amenities subscribeTillPopop\">\n                                    <div className=\"head-border-bottom head-border-bottomTitleArea\">\n                                        <h2>Similar {titleCase(this.props.PD.type)} to rent\n                                            in {titleCase(this.props.PD.address.area)}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}</h2></div>\n                                                <div className=\"amenitiy-block\" style={{float:'left',display:'block'}}>\n                                                <p style={{margin: '0 20px'}}>Below are few more {titleCase(this.props.PD.type)} to rent in {this.props.PD.address.area ?  (<span>{titleCase(this.props.PD.address.area)}</span>) : ''}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}. They are also located near {titleCase(this.props.PD.address.address)}{this.props.PD.address.area ?  (<span>, {titleCase(this.props.PD.address.area)}</span>) : ''}{this.props.PD.address.county ?  (<span>, {titleCase(this.props.PD.address.county)}</span>) : ''}</p>\n                                                <ul className={\"thumbnails thumbRelated\"}>\n                {this.props.data.relatedProps.map(function (property,i) {\n                    return (\n                    <li className=\"span4\" key={i} style={{float:'left'}}>\n                        <a href={ FlowRouter.url('rent',{slug:property.slug,key:property.auction.lettingAuctionCode}) }>\n                            <div className=\"thumbnail\">\n                                {property.firstImg ? property.firstImg.url ? property.firstImg.url.indexOf('amazonaws') ? (\n                                <img src={\"https://process.filestackapi.com/AIPACLEs7ShGwwPh6fMTxz/resize=width:250/\"+property.firstImg.url}\n                                     alt={titleCase(property.address.address)+property.address.area ?  \", \"+titleCase(property.address.area) : '' + property.address.county ?  \", \"+titleCase(property.address.county) : ''}/>\n                                    ): (\n                                <img src={\"https://process.filestackapi.com/resize=width:250/\"+property.firstImg.url}\n                                     alt={titleCase(property.address.address)+property.address.area ?  \", \"+titleCase(property.address.area) : '' + property.address.county ?  \", \"+titleCase(property.address.county) : ''}/>\n                                    ) : (\n                                    <img src={cdnPath(\"/images/no-photo.png\")} style={{width: 250, height: 188}}/>\n                                ):\"\"}\n                                <h3>{titleCase(property.address.address)}{property.address.area ?  (<as>, {titleCase(property.address.area)}</as>) : ''}{property.address.county ?  (<as>, {titleCase(property.address.county)}</as>) : ''} for rent</h3>\n                        </div></a>\n                    </li>\n                    )\n                })}\n                                                    </ul>\n                                                </div>\n                                                <div className=\"amenitiy-block\" style={{paddingTop:0}}>\n                                                    <div id=\"searchsection\" className={'bottomcrumbs row'}>\n                                                        <h2>Search more properties to rent</h2>\n                                                        <p>Chooes a link below to browse through more relavent properties to rent.</p>\n                                                        <br/>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-5 col-sm-5 col-xs-12\">\n                                                                {this.state.searchCrumbs.c1 ?\n                                                                    this.state.searchCrumbs.c1.map(function(crumb,i){\n                                                                        return (\n                                                                            <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.searchCrumbs.c2 ?\n                                                                    this.state.searchCrumbs.c2.map(function(crumb,i){\n                                                                        return (\n                                                                            <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-3 col-sm-3 col-xs-12\">\n                                                                {this.state.searchCrumbs.c3 ?\n                                                                    this.state.searchCrumbs.c3.map(function(crumb,i){\n                                                                        return (\n                                                                            <a key={i} style={{display:\"block\"}} href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n\n                                                    </div>\n                                                    {/*{ true ? (*/}\n                                                    <div className={'bottomcrumbs row'}>\n                                                        <h2>Property types to rent</h2>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-3 col-sm-3 col-xs-12\">\n                                                                {this.state.fCrumbs.c1 ?\n                                                                    this.state.fCrumbs.c1.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.fCrumbs.c2 ?\n                                                                    this.state.fCrumbs.c2.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-5 col-sm-5 col-xs-12\">\n                                                                {this.state.fCrumbs.c3 ?\n                                                                    this.state.fCrumbs.c3.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className={'bottomcrumbs row'}>\n                                                        <h2>{this.props.PD.address.county} neighbourhoods</h2>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.areaCrumbs.c1 ?\n                                                                    this.state.areaCrumbs.c1.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.areaCrumbs.c2 ?\n                                                                    this.state.areaCrumbs.c2.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.areaCrumbs.c3 ?\n                                                                    this.state.areaCrumbs.c3.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className={'bottomcrumbs row'}>\n                                                        <h2>Other counties to rent</h2>\n                                                        <div className=\"col-md-12 col-sm-12 col-xs-12 pad0\">\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.countyCrumbs.c1 ?\n                                                                    this.state.countyCrumbs.c1.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.countyCrumbs.c2 ?\n                                                                    this.state.countyCrumbs.c2.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                                                                {this.state.countyCrumbs.c3 ?\n                                                                    this.state.countyCrumbs.c3.map(function (crumb, i) {\n                                                                        return (\n                                                                            <a key={i} style={{display: \"block\"}}\n                                                                               href={crumb.url}>{crumb.name}</a>\n                                                                        )\n                                                                    })\n                                                                    : \"\"}\n                                                            </div>\n                                                        </div>\n\n                                                    </div>\n                                                     {/*) : \"\"}*/}\n                                                </div>\n\n                                 </div>\n                            ): \"\"}\n\n                        </div>\n                    </div>\n                </section>\n                <div id=\"apply-successful-popup\" style={{display: 'none'}} className={\"verification-div1 isApplicationSuccessful\"}>\n                    <div className=\"refund-div\">\n                        <h2 className=\"green-text\">Application Successful</h2>\n                    </div>\n                    <div className=\"profile-text\">\n                        <h3>Good Job!</h3>\n                        <p style={{padding: 0}}>Landlord is notified of your application and would contact you via email if successful.</p>\n\n                        { false ? \"\" :\n                            this.hasAllReqReferences ? \"\" : (\n\n                                <div className=\"\">\n                                    <hr/>\n                                    <h3>Improve your chances of securing this letting</h3>\n                                    <p className=\"color-text\" style={{textAlign:\"center\",margin:\"10px 0\"}}>Upload your references in your profile to have an higher chance over other applicants. Missing files are&nbsp;\n                                        {addCommaToEach(this.props.refListArr)}\n                                        &nbsp;<a href={FlowRouter.url(\"account/profile\")} onClick={this.pd_cap_aHandler} className=\"pd_cap_a \">Upload them now?</a>\n                                    </p>\n                                    <p><a href={FlowRouter.url(\"account/profile\")} style={{margin:'0 auto',width:\"200px\"}} className=\"blue-btn btns\" onClick={this.pd_cap_btnHandler}  type=\"button\">Upload references </a></p>\n                                </div>\n\n                            )\n                        }\n                        <hr/>\n                        <p style={{padding: 0}}><a href={this.currentURL+\"#relatedsection\"} onClick={this.cap_viewSimilarLettingsBtnHandler} className=\"transparent-btn btns\" style={{margin:'0 auto',width:\"200px\"}}>View Similar lettings</a></p>\n                    </div>\n                </div>\n                <div id=\"confirm-apply-pop\" style={{display: 'none'}} className={\"verification-div1 \"}>\n                    <div className=\"refund-div\">\n                        <h2>Confirm Apply</h2>\n                    </div>\n                    <div className=\"profile-text\">\n                        <h3>Landlords asking rent is {this.props.data.price +\" (\"+this.props.data.rentType+\")\"}</h3>\n                        <form className=\"signin-form\">\n                            <div className=\"form-border\" style={{padding: '20px 0'}}>\n                                <div className=\"styled-input underline\" style={{borderBottom: '1px solid #2169a8'}}>\n                                    <input className=\"bidPrice\" type=\"number\" placeholder={this.props.data.price} defaultValue={this.props.data.price} name=\"number\" id=\"bidPrice\" required min={this.props.priceRange.min} max={this.props.priceRange.max} />\n                                </div>\n                                <div className=\"styled-input underline\">\n                                    <textarea className=\"form-control bidMessage\" id=\"bidMessage\" rows={1} placeholder=\"You may enter a personal message to landlord if you wish.\" maxLength={500} value={this.state.personalMessage} onChange={this.handlePersonalMessageChange} style={{textAlign:\"center\"}}/>\n                                </div>\n                                {/*<div class=\"input-group date\">*/}\n                                {/*<span class=\"input-group-addon\"><i class=\"glyphicon glyphicon-calendar\"></i></span>*/}\n                                {/*<input class=\"set-due-date form-control moveindate\" type=\"text\" id=\"moveindate\"/>*/}\n                                {/*</div>*/}\n                            </div>\n                        </form>\n                        <p className=\"color-text\" style={{marginTop: '20px', textAlign:\"center\"}}>We will submit all the references available in your profile. </p>\n                        { false ? \"\" :\n                        this.hasAllReqReferences ? \"\" : (\n\n                        <div className=\"radio-bg register\">\n                            <h3 style={{lineHeight: '22px', marginBottom: '10px'}}>Oops! You dont have all your references updated in your profile. </h3>\n                            <p className=\"color-text\" style={{textAlign:\"center\"}}>Missing files are&nbsp;\n                                {addCommaToEach(this.props.refListArr)}\n                                &nbsp;<a href={FlowRouter.url(\"account/profile\")} onClick={this.pd_cap_aHandler} className=\"pd_cap_a \">Upload them now?</a>\n                            </p>\n                            <p><a href={FlowRouter.url(\"account/profile\")} style={{margin:'0 auto',width:\"200px\"}} className=\"transparent-btn btns pd_cap_btn\" onClick={this.pd_cap_btnHandler}  type=\"button\">Upload references </a></p>\n                            <p>Your chances of getting the house will be more if you apply with all the references. To proceed anyways click Submit below.</p>\n                        </div>\n\n                        )\n                        }\n                        <ul>\n                            {this.state.isApplicationInProgress ? (\n                                <li><button className=\"transparent-btn  btns\" type=\"button\">Applying... </button></li>\n                            ) : (\n                                <li><button onClick={this.confirmApplyBtnHandler} className=\"blue-btn  btns confirmApplyBtn\" type=\"button\">Submit </button></li>\n                            )}\n                            <li><button onClick={this.cap_closePopupBtnHandler} style={{marginLeft: '10px'}} className=\"transparent-btn btns cap_closePopupBtn\" disabled={this.state.isApplicationInProgress} type=\"button\">Cancel</button></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderFullMain(){\n\n        if(Meteor.isClient){\n            setTimeout(function(){\n                $('#lettingDetailCarousel').carousel();\n                $('#lettingDetailCarousel .carousel-control.right').unbind('click').bind('click',function(){$('#lettingDetailCarousel').carousel('next')})\n                $('#lettingDetailCarousel .carousel-control.left').unbind('click').bind('click',function(){$('#lettingDetailCarousel').carousel('prev')})\n            },1000)\n        }\n\n        return (\n            <div className=\"property-details-page\" id={'props_list'}>\n                {\n                    Meteor.isServer ? (\n                        <div id={\"isservercheckdiv\"}></div>\n                    ):\"\"\n                }\n                    <section className=\"banner\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className=\"breadcrumb\">\n                                        <li className=\"breadcrumb-item\"><a href={FlowRouter.url('home')}>Home</a></li>\n                                        {this.props.data ?\n                                            this.props.data.bcrumbs.map(function (crumb, i) {\n                                                return (\n                                                    <li key={i} className=\"breadcrumb-item\"><a\n                                                        href={crumb.url}>{crumb.name}</a></li>\n                                                )\n                                            })\n                                            :\"\"}\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">This property</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </section>\n                {\n                    this.props.isSubsLoaded ?\n                        this.props.data ? this.renderMain() :\n                            (\n                                <section className=\"mar-top-20\">\n                                    <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                        <div className=\"filter-holder\">\n                                            <div className=\"mar-top-30\">\n                                                {this.props.alreadyLeased ? (\n                                                    <span>\n                                                    <strong>Property already leased. Your landlord would contact you if you are chosen as a tenant.</strong><br /><br />\n                                                    <button onClick={this.backBtnHandler} className=\"blue-btn btns backBtn\" type=\"button\">Try again</button>\n                                                </span>\n                                                ) : (\n                                                    <span>\n                                                    <strong>This property is not found. Please check your key and try again.</strong><br /><br />\n                                                    <button onClick={this.noPropBackBtnHandler} className=\"blue-btn btns noPropBackBtn\" type=\"button\">Try again</button>\n                                                </span>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </section>\n                            )\n                        :\n                        (\n                            <section className=\"mar-top-20 mar-btm-20 no-print\">\n                                <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                    <div className=\"filter-holder\">\n                                        <div className=\"mar-top-30\">\n                                            <div className={'h2-div'}>Loading...</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </section>\n                        )\n                }\n            </div>\n        )\n    }\n\n    render() {\n        const self = this;\n        if(Meteor.isClient && this.propsListHTML==\"\"){\n            this.propsListHTML = $('#props_list').html()\n        }\n        if(Meteor.isClient) {\n            this.isServerSSRReq = $('#isservercheckdiv').html()\n            if (this.isServerSSRReq == \"\") this.isServerSSRReq = true\n            else this.isServerSSRReq = false\n        }\n        // if(this.propsListHTML) console.log(\"propsListHTML: \"+this.propsListHTML.length)\n\n        return (\n            <div>\n                <MainLayoutHeader />\n                { (this.props.isSubsLoaded )  ? (\n                        this.renderFullMain()\n                    ) :\n                    this.isServerSSRReq && this.propsListHTML? (\n                        <div dangerouslySetInnerHTML={{__html: this.propsListHTML}}></div>\n                    ): (\n                        <section className=\"mar-top-20 mar-btm-20 no-print\">\n                            <div className=\"container text-center mar-top-20 pad-btm-30\">\n                                <div className=\"filter-holder\">\n                                    <div className=\"mar-top-30\">\n                                        <div className={'h2-div'}>Loading...</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    )}\n                <MainLayoutFooter />\n            </div>\n        )\n    }\n}\n\nexport default withTracker(() => {\n\n    var key = FlowRouter.getParam('key'); if(!key)return {data:false,alreadyLeased:false,isSubsLoaded:true};\n    if(key && !propertyKeyOfThisPage) propertyKeyOfThisPage = key;//This will init the var\n\n    const viewLettingSub = Meteor.subscribe(\"viewLetting\",key,function(){\n        if(ConfigSub.ready()  )Session.set('subscriptionsReady',true);//AreasSub.ready() &&  make areas sub not req\n    })\n    // const AreasSub = Meteor.subscribe('Areas',function(){\n    //     if(viewLettingSub.ready() && ConfigSub.ready()  )Session.set('subscriptionsReady',true);\n    // });\n    const ConfigSub = Meteor.subscribe('Config',function(){\n        if(viewLettingSub.ready() )Session.set('subscriptionsReady',true);\n    });\n\n    if(Meteor.isClient)Session.get('subscriptionsReady');\n    if( !viewLettingSub.ready() || !ConfigSub.ready() ) {\n        return {data: false, alreadyLeased: false,isSubsLoaded:false};\n    }\n\n    var globalConfig = Collections.Config.findOne();\n\n    var deletedList = []\n    if(globalConfig){\n        deletedList = globalConfig.deletedList\n    }\n\n    if(deletedList.includes(key)){\n        return {data:false,alreadyLeased:false,isSubsLoaded:true};\n    }\n\n    var user = Meteor.user();\n    var priceRange = {min:0, max:10000}\n    var myBid = false;\n    var otherBids = false;\n    var PD = {}\n    var sliderImages = []\n\n    advancedCrumbs = function(countyParam,areaParam,propertyType){\n        let fCrumbs = [], tmpCrumbs = [], areaCrumbs = [], countyCrumbs = [];\n        if(propertyType)propertyType = propertyType.toLowerCase();\n\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        //Property Size\n        //Property Size - Property Type\n        //Property Size - Property Type - County\n        //Property Type - county\n        //Counties\n        //Areas\n        //Property Size - Property Type - area - County\n        //Property Size - area - County\n        //Property Type - area - county\n\n        fCrumbs.push({url: generateSlugURL({propertyType: 'studio'}), name: 'Studios'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 1}), name: '1-Beds'})//Property Size\n        fCrumbs.push({url: generateSlugURL({bedCount: 2}), name: '2-Beds'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3}), name: '3-Beds'})\n\n        tmpCrumbs.push({url: generateSlugURL({cheapSort: true, propertyType: 'house'}), name: 'Cheap Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'house'}), name: '1-Bed Houses'})//Property Size - Property Type\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'house'}), name: '2-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'house'}), name: '3-Bed Houses'})\n        tmpCrumbs.push({url: generateSlugURL({luxurySort: true, propertyType: 'house'}), name: 'Luxury Houses'})\n\n        if (propertyType == 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        fCrumbs.push({\n            url: generateSlugURL({cheapSort: true, propertyType: 'apartment'}),\n            name: 'Cheap Apartments'\n        })\n        fCrumbs.push({url: generateSlugURL({bedCount: 1, propertyType: 'apartment'}), name: '1-Bed Apartments'})//Property Size - Property Type\n        fCrumbs.push({url: generateSlugURL({bedCount: 2, propertyType: 'apartment'}), name: '2-Bed Apartments'})\n        fCrumbs.push({url: generateSlugURL({bedCount: 3, propertyType: 'apartment'}), name: '3-Bed Apartments'})\n        fCrumbs.push({\n            url: generateSlugURL({luxurySort: true, propertyType: 'apartment'}),\n            name: 'Luxury Apartments'\n        })\n\n        if (propertyType != 'house') {\n            fCrumbs = fCrumbs.concat(tmpCrumbs);\n        }\n\n        //dublin-apartments\n        //Not doing dublin-houses due to less searches for Dublin apartments\n        var staticCounties = [\"Carlow\", \"Cavan\", \"Clare\", \"Cork\", \"Donegal\", \"Dublin\", \"Galway\", \"Kerry\", \"Kildare\", \"Kilkenny\", \"Laois\", \"Leitrim\", \"Limerick\", \"Longford\", \"Louth\", \"Mayo\", \"Meath\", \"Monaghan\", \"Offaly\", \"Roscommon\", \"Sligo\", \"Tipperary\", \"Waterford\", \"Westmeath\", \"Wexford\", \"Wicklow\"];\n\n        for (var i = 0; i < staticCounties.length; i++) {\n            if (!staticCounties[i]) continue;\n            countyCrumbs.push({\n                url: generateSlugURL({county: staticCounties[i]}),\n                name: staticCounties[i] + ' Apartments'\n            })\n        }\n\n        if (countyParam) {\n            // var propertyType = curURL.propertyType;\n            // var county = curURL.county\n            // var area = curURL.area\n            // var maxRent = curURL.maxRent\n            // var country = curURL.country;\n            // var bedCount = curURL.bedCount;\n            // var luxurySort = curURL.luxurySort;\n            // var cheapSort = curURL.cheapSort;\n\n            //////////////////////////// WITH COUNTY\n            tmpCrumbs = [];\n            tmpCrumbs.push({\n                url: generateSlugURL({cheapSort: true, propertyType: 'house', county: countyParam}),\n                name: 'Cheap Houses for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType == 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n            fCrumbs.push({\n                url: generateSlugURL({cheapSort: true, propertyType: 'apartment', county: countyParam}),\n                name: 'Cheap Apartments for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType != 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n\n            fCrumbs.push({\n                url: generateSlugURL({propertyType: 'studio', county: countyParam}),\n                name: 'Studio for rent in county ' + titleCase(countyParam)\n            })\n\n            tmpCrumbs = [];\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 1, propertyType: 'house', county: countyParam}),\n                name: '1-Bed Houses for rent in county ' + titleCase(countyParam)\n            })//Property Size - Property Type\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 2, propertyType: 'house', county: countyParam}),\n                name: '2-Bed Houses for rent in county ' + titleCase(countyParam)\n            })\n            tmpCrumbs.push({\n                url: generateSlugURL({bedCount: 3, propertyType: 'house', county: countyParam}),\n                name: '3-Bed Houses for rent in county ' + titleCase(countyParam)\n            })\n            tmpCrumbs.push({\n                url: generateSlugURL({luxurySort: true, propertyType: 'house', county: countyParam}),\n                name: 'Luxury Houses for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType == 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 1, propertyType: 'apartment', county: countyParam}),\n                name: '1-Bed Apartments for rent in county ' + titleCase(countyParam)\n            })//Property Size - Property Type\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 2, propertyType: 'apartment', county: countyParam}),\n                name: '2-Bed Apartments for rent in county ' + titleCase(countyParam)\n            })\n            fCrumbs.push({\n                url: generateSlugURL({bedCount: 3, propertyType: 'apartment', county: countyParam}),\n                name: '3-Bed Apartments for rent in county ' + titleCase(countyParam)\n            })\n            fCrumbs.push({\n                url: generateSlugURL({luxurySort: true, propertyType: 'apartment', county: countyParam}),\n                name: 'Luxury Apartments for rent in county ' + titleCase(countyParam)\n            })\n\n            if (propertyType != 'house') {\n                fCrumbs = fCrumbs.concat(tmpCrumbs);\n            }\n\n            if (areaParam) {\n                //////////////////////////// WITH AREA COUNTY\n                tmpCrumbs = [];\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        cheapSort: true,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Cheap Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType == 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        cheapSort: true,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Cheap Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType != 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n\n                fCrumbs.push({\n                    url: generateSlugURL({propertyType: 'studio', county: countyParam, area: areaParam}),\n                    name: 'Studio for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                tmpCrumbs = [];\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 1,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '1-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })//Property Size - Property Type\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 2,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '2-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 3,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '3-Bed Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                tmpCrumbs.push({\n                    url: generateSlugURL({\n                        luxurySort: true,\n                        propertyType: 'house',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Luxury Houses for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType == 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 1,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '1-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })//Property Size - Property Type\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 2,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '2-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        bedCount: 3,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: '3-Bed Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n                fCrumbs.push({\n                    url: generateSlugURL({\n                        luxurySort: true,\n                        propertyType: 'apartment',\n                        county: countyParam,\n                        area: areaParam\n                    }), name: 'Luxury Apartments for rent in ' + titleCase(areaParam) + ' ' + titleCase(countyParam)\n                })\n\n                if (propertyType != 'house') {\n                    fCrumbs = fCrumbs.concat(tmpCrumbs);\n                }\n            }\n\n            var distinctEntries = _.uniq(Collections.Areas.find({}, {//County: countyParam ; Dynamically load areas based on the subscription.\n                sort: {Area: 1}, fields: {Area: true}\n            }).fetch().map(function (x) {\n                return x.Area;\n            }), true);\n            areaCrumbs = []\n            for (var i = 0; i < distinctEntries.length; i++) {\n                if (!distinctEntries[i]) continue;\n                // if (distinctEntries[i] == areaParam) continue;//Don't show the same area in this list\n                areaCrumbs.push({\n                    url: generateSlugURL({county: countyParam, area: distinctEntries[i]}),\n                    name: distinctEntries[i] + ' Apartments'\n                })\n            }\n\n            // let ptypeString='';\n            // switch(propertyType){\n            //     case 'apartment': ptypeString = 'Apartments '; break;\n            //     case 'house': ptypeString = 'Houses '; break;\n            // }\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'Studio for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'1-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'2-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n            // fCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'3-Bed '+ptypeString+'for rent in county '+titleCase(PD.address.county)})\n        }\n        return {\n            fCrumbs:fCrumbs,\n            areaCrumbs: areaCrumbs,\n            countyCrumbs:countyCrumbs\n        }\n    }\n\n\n    var data = Collections.Auctions.findOne({\"lettingAuctionCode\" : key}, { limit: 1 });\n\n    if(data){\n\n        data.applicationsReceivedCount = Collections.Bids.find({auctionId:data._id}).count();\n        PDret = Collections.Properties.find(data.propertyId).fetch();\n        PD = PDret[0];\n\n        PD.bedroomsCount=0\n        PD.ensuiteCount = 0;\n        PD.doubleBedCount = 0;\n        if(PD.bedrooms){\n            PD.bedroomsCount = PD.bedrooms.length;\n            for (var i = 0; i < PD.bedrooms.length; i++) {\n                if (PD.bedrooms[i][\"ensuite\"] ) {\n                    PD.ensuiteCount++;\n                }\n            if (PD.bedrooms[i][\"bedType\"] == 'double' ) {\n                PD.doubleBedCount++;\n            }\n        }\n        }\n\n        if(PD.contacts) {//Take the contact of activation not property\n            data.primaryContact = PD.contacts[0];\n        }else data.primaryContact = {};\n\n        tmp = [];\n        if(PD.amenities){\n            for ( var i=0; i< PD.amenities.length;i++){\n                var src = globalConfig.amenitiesLogos[PD.amenities[i]];\n                if(!src)src = globalConfig.amenitiesLogos[\"default\"]\n                tmp.push({name:PD.amenities[i], src: cdnPath(src) })\n            }\n        }\n        PD.amenitiesWithImgs = tmp;\n\n        if(PD.gallery){\n            for(var i=0;i<PD.gallery.length;i++){\n                let altText = 'Photo '+(i+1)+' of '+titleCase(PD.address.address)\n                if (PD.address.area) altText +=', '+titleCase(PD.address.area)\n                if (PD.address.county) altText +=', '+titleCase(PD.address.county)\n\n                // sliderImages.push(PD.gallery[i].url)\n                sliderImages.push({url:PD.gallery[i].url,altText:altText})\n            }\n        }\n\n        ////////// BREADCRUMBS\n        let bcrumbs = [];let slugTemp, searchCrumbs = [];\n        // Home / Search Residential Rentals / Dublin City Apartments for Rent / Dublin 2 Apartments for Rent\n        if(PD.address.county){\n            slugTemp = generateSlug({county:PD.address.county})\n            bcrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:titleCase(PD.address.county)})\n            searchCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'rent in '+titleCase(PD.address.county)})\n        }\n        if(PD.address.area && PD.address.county) {\n            slugTemp = generateSlug({county: PD.address.county, area:PD.address.area})\n            bcrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:titleCase(PD.address.area)})\n            searchCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:'rent in '+titleCase(PD.address.area)+\" of county \"+titleCase(PD.address.county)})\n        }\n        if(PD.address.area && PD.address.county && PD.type) {\n            slugTemp = generateSlug({\n                county: PD.address.county,\n                area: PD.address.area,\n                propertyType: PD.type\n            })\n            bcrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:titleCase(PD.type)})\n            searchCrumbs.push({url:FlowRouter.url('b',{slug:slugTemp[0]}), name:''+titleCase(PD.type)+\" for rent in \"+titleCase(PD.address.area)+\" of county \"+titleCase(PD.address.county)})\n        }\n        data.bcrumbs = bcrumbs;\n        data.searchCrumbs = searchCrumbs.reverse();\n        ////////// END BREADCRUMBS\n        ////////// ADV BREADCRUMBS MORE LINKS\n        if(true) {\n            if(PD.address.county) {\n                AreasSub = Meteor.subscribe('Areas','','',PD.address.county,'','',function(){\n                    Session.set('subscriptionsReady2',true);\n                });\n            }\n            if(Meteor.isClient)Session.get('subscriptionsReady2');\n\n            var advC = advancedCrumbs(PD.address.county,PD.address.area,PD.type);\n            data.fCrumbs = advC.fCrumbs;\n            data.areaCrumbs = advC.areaCrumbs;\n            data.countyCrumbs = advC.countyCrumbs;\n        }\n        ////////// END ADV BREADCRUMBS\n        //////// RELATED PROPS\n        var notArr = [PD._id]\n        var filters = {\n            \"type\":PD.type,\n            \"address.county\":PD.address.county,\n            \"address.area\":PD.address.area,\n            \"auctionId\": {$exists:true, $gt: \"\" },\n            \"isArchived\":false,\n            \"_id\": { $not: { $in: notArr } }\n        }\n\n        data.relatedProps = []\n        var tmpRelated = Collections.Properties.find(filters,{\n            transform:function(doc){\n                doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                if(doc.gallery){\n                    if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                }\n                return doc;\n            },\n            limit:4}).fetch();\n        data.relatedProps = data.relatedProps.concat(tmpRelated);\n        notArr = [PD._id]\n        for(var i=0;i<data.relatedProps.length;i++){\n            notArr.push(data.relatedProps[i]._id)\n        }\n        filters[\"_id\"] = { $not: { $in: notArr } };\n\n        if(data.relatedProps.length<4){\n            delete filters[\"address.area\"];\n            var tmpRelated = Collections.Properties.find(filters,{\n                transform:function(doc){\n                    doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                    if(doc.gallery){\n                        if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                    }\n                    return doc;\n                },\n                limit:4}).fetch();\n            data.relatedProps = data.relatedProps.concat(tmpRelated);\n        }\n        notArr = [PD._id]\n        for(var i=0;i<data.relatedProps.length;i++){\n            notArr.push(data.relatedProps[i]._id)\n        }filters[\"_id\"] = { $not: { $in: notArr } };\n\n        if(data.relatedProps.length<4){\n            delete filters[\"address.county\"]\n            var tmpRelated = Collections.Properties.find(filters,{\n                transform:function(doc){\n                    doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                    if(doc.gallery){\n                        if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                    }\n                    return doc;\n                },\n                limit:4}).fetch();\n            data.relatedProps = data.relatedProps.concat(tmpRelated);(tmpRelated);\n        }\n        notArr = [PD._id]\n        for(var i=0;i<data.relatedProps.length;i++){\n            notArr.push(data.relatedProps[i]._id)\n        }filters[\"_id\"] = { $not: { $in: notArr } };\n\n        if(data.relatedProps.length<4){\n            delete filters[\"type\"]\n            var tmpRelated = Collections.Properties.find(filters,{\n                transform:function(doc){\n                    doc.auction = Collections.Auctions.findOne({_id:doc.auctionId})\n                    if(doc.gallery){\n                        if(doc.gallery[0])doc.firstImg = doc.gallery[0]\n                    }\n                    return doc;\n                },\n                limit:4}).fetch();\n            data.relatedProps = data.relatedProps.concat(tmpRelated);(tmpRelated);\n        }\n        if(data.relatedProps.length>4){\n            data.relatedProps = data.relatedProps.slice(0,4);\n        }\n        ///////// END FILTERS\n\n        var min = data.price*0.7, max = data.price*1.5;// also used in propertyApplications.onRendered\n        priceRange = {min:min, max:max}\n\n        ///////// START MY BIG AND OTHER BIDS\n        if(user){\n            var ret = Collections.Bids.find({auctionId:data._id,userId:user._id, isArchived:false}, {limit: 1}).fetch();\n            myBid = ret[0];\n\n            var maxLen = 5;\n            var forTotCount = Collections.Bids.find({auctionId:data._id, isArchived:false}, {\n                limit: maxLen,\n                sort: { yourBid : -1 }\n            })\n            // debugger;\n            if(!forTotCount.count()){//No results, return\n                otherBids = {\n                    needed: false,\n                    arr: []\n                }\n            }else{\n                if(!myBid || !user)\n                    otherBids = {\n                        needed: true,\n                        arr: forTotCount.fetch()\n                    }\n                else{\n                    var weNeedOnSides = Math.floor( maxLen/2 )\n                    var needAbove = weNeedOnSides;\n                    var back = Collections.Bids.find({auctionId:data._id, userId:{$ne: user._id}, yourBid:{$lt:myBid.yourBid} ,isArchived:false}, {\n                        limit: maxLen - 1,\n                        sort: { yourBid : -1 }\n                    })\n                    var backCount = back.count();\n\n                    if(backCount<weNeedOnSides){ // if count isn't enough, then change back itself.\n                        back = Collections.Bids.find({auctionId: data._id, userId:{$ne: user._id}, yourBid:{$lte:myBid.yourBid} ,isArchived:false},         {\n                            limit: maxLen - 1,\n                            sort: { yourBid : -1 }\n                        })\n                    }\n                    backCount = back.count();\n                    if(backCount<weNeedOnSides){//if its still less, then update we needAbove value\n                        needAbove += weNeedOnSides-backCount;\n                    }\n\n                    var above = Collections.Bids.find({auctionId:data._id, userId:{$ne: user._id}, yourBid:{$gt:myBid.yourBid} ,isArchived:false}, {\n                        limit: maxLen - 1,\n                        sort: { yourBid : -1 }\n                    })\n                    var aboveCount = above.count();\n\n                    if(aboveCount<needAbove){ // if count isn't enough, then change back itself.\n                        above = Collections.Bids.find({auctionId:data._id, userId:{$ne: user._id}, yourBid:{$gte:myBid.yourBid} ,isArchived:false}, {\n                            limit: maxLen - 1,\n                            sort: { yourBid : -1 }\n                        })\n                    }\n                    aboveCount = above.count();\n\n                    var retAbove = above.fetch();\n                    var retBack = back.fetch();\n                    retAbove.push(myBid)\n\n                    otherBids = {\n                        needed: true,\n                        arr: retAbove.concat(retBack)\n                    };\n\n                }\n            }\n        }\n        ///////// START MY BIG AND OTHER BIDS\n    }\n\n    var isAgent = false;\n    // switch(data.createdByAgent){\n    //     case '':\n    //         isAgent = {\n    //             \"logourl\":Meteor.absoluteUrl()+'images/property-rental-agents/Bell-Property-Consultants.jpeg',\n    //             \"name\": 'Bell Property Consultants Ltd',\n    //             \"address1\":\"Harolds Cross, Dublin\",\n    //             \"style\":{height:\"100px\"}\n    //         }\n    // }\n\n    var alreadyLeased = false;\n    if(data){\n        if(data.isArchived)alreadyLeased=true;\n    }\n\n    var refListArr = [];\n    var hasAllReqReferences = false;\n    if(user)\n    if(user.profile)\n    if(user.profile.references) {\n        // if (!user.profile.references.hasResume) refListArr.push(\"Resume\");//Why do you need it?\n        if (!user.profile.references.hasLandlordRef) refListArr.push(\"Landlord reference\");\n        if (!user.profile.references.employerName) refListArr.push(\"Employer name\");\n        if (!user.profile.references.hasWorkRef) refListArr.push(\"Work reference\");\n        if (!user.profile.references.hasFinancialRef) refListArr.push(\"Financial reference\");\n        if (!user.profile.references.hasGovtID) refListArr.push(\"Government ID\");\n        if (!user.profile.references.hasPassport) refListArr.push(\"Passport\");\n        if (!user.profile.references.hasPPS) refListArr.push(\"PPS\");\n        try{\n            if(user.profile.references.hasResume && user.profile.references.hasLandlordRef && user.profile.references.hasGovtID && user.profile.references.hasWorkRef )hasAllReqReferences = true;\n        }catch(e){console.log(e)}\n    }\n\n\n\n    try {\n        var title = '';\n        title = PD.address.address + ', ' + PD.address.area;\n        if (PD.address.county) title += ', ' + PD.address.county;\n\n        var desc = '';\n        if(PD.type) desc += titleCase(PD.type)+ ' for rent at ';\n        desc += PD.address.address + ', ' + PD.address.area;\n        if (PD.address.county) desc += ', ' + PD.address.county+'. ';\n        desc += 'Its '+ (PD.furnished ? \"a furnished \" : \"an Unfurnished \")+ titleCase(PD.type)+\n            \" with \"+ (PD.bedroomsCount ? PD.bedroomsCount : 'no')+\" beds, \"+\n            (PD.baths ? PD.baths : 'no')+\" baths, \"+\n            (PD.ensuiteCount ? PD.ensuiteCount : \"no\" )+\" Ensuite and \" +\n            (PD.doubleBedCount ? PD.doubleBedCount : \"has no\" )+\" Double bed property. \"\n        desc += \"Apply for this \" + PD.type + \", view its images, details and much more.\";\n\n        // Apartment for rent in\n        //     Newbrook road, mullingar, co. westmeath, murrisk, mayo | SpotMyCrib\n        clearMeta();\n        let titleTmp = title + ' | SpotMyCrib'\n        if(titleTmp.length<=75)title = titleTmp;\n\n        DocHead.setTitle(title);\n        DocHead.addMeta({\n            name: \"description\",\n            content: desc\n        });\n\n        var socialDesc = \"Apply for this \" + PD.type + \", view its images, details and much more.\";\n        var socialTitle = '';\n        if(PD.bedroomsCount) socialTitle += PD.bedroomsCount+ ' Bed '\n        if(PD.type) socialTitle += PD.type+ ' available at '\n        socialTitle += title\n        socialTitle = '' + titleCase(socialTitle) + ' | SpotMyCrib'\n        DocHead.addMeta({property: \"og:title\", content: socialTitle});\n        DocHead.addMeta({property: \"og:description\", content: socialDesc});\n\n        {/*<link rel=\"canonical\" href=\"http://example.com/wordpress/seo-plugin/\" />*/}\n        if(FlowRouter.current().route.name == 'letting')\n        DocHead.addMeta({rel: \"canonical\", href: FlowRouter.url('rent',{slug:PD.slug,key:key}) });\n\n        DocHead.addMeta({property: \"og:type\", content: \"place\"});\n        DocHead.addMeta({property: \"og:url\", content: FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params) });\n        DocHead.addMeta({property: \"fb:app_id\", content: '309356899476430'})\n\n        try{DocHead.addMeta({property: \"og:image\", content: PD.gallery[0].url  }); }\n        catch (c){\n            //Putting this here is making FB take the first response from here. & its showing no image if if this meta is later updated. So better put it later after all rendering at a template level. For now lets not keep anywhere.\n            // DocHead.addMeta({name: \"og:image\", content: 'https://www.spotmycrib.ie/images/spot-my-crib-logo.png'  });\n        }\n\n    }catch(err){\n        clearMeta();\n        DocHead.setTitle(' Property not found | SpotMyCrib');\n        DocHead.addMeta({name: \"description\", content: \"\"});\n    }\n\n    return {\n        data: data,\n        alreadyLeased: alreadyLeased,\n        isAgent: isAgent,\n        user: user,\n        refListArr: refListArr,\n        priceRange: priceRange,\n        hasAllReqReferences: hasAllReqReferences,\n        myBid: myBid,\n        otherBids: otherBids,\n        PD: PD,\n        sliderImages: sliderImages,\n        isSubsLoaded:true\n    };\n})(LettingDetail);\n\nclass ImagesSlider extends Component {\n    constructor(props) {\n        super(props)\n        var current = FlowRouter.current();\n        this.currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params)\n    }\n    componentDidMount(){\n        $(document).ready(function() {\n            // $('#lettingDetailCarousel').first().addClass('active');//not needed as bug of isActive helper not working is fixed.\n\n            $('#imagessection .item img').width('100%')\n            var w = $('#imagessection .item img').first().width()\n            var h = w/1.33;\n            if(h>250)$('#imagessection .item img').height(w/1.33)\n            setTimeout(function () {\n                $('#imagessection .item img').width('100%')\n                var w = $('#imagessection .item img').first().width()\n                var h = w/1.33;\n                if(h>250)$('#imagessection .item img').height()\n            },3000)\n\n            // $('#lettingDetailCarousel').carousel();\n            // $(\"#lettingDetailCarousel\").swiperight(function() {\n            //     $(this).carousel('prev');\n            // });\n            // $(\"#lettingDetailCarousel\").swipeleft(function() {\n            //     $(this).carousel('next');\n            // });\n        });\n    }\n    render() {\n        return (\n\n            <div id=\"lettingDetailCarousel\" className=\"carousel slide\" data-ride=\"carousel\">\n                <div className=\"carousel-inner\">\n                    {this.props.images ?\n                        this.props.images.map(function(image,i){\n                            return (\n                            <div key={i} className={'item '+ (i==0 ? 'active' : \"\")}>\n                                <img src={image.url} alt={image.altText} title={image.altText} className=\"img-responsive\"/>\n                            </div>\n                            )\n                        })\n                    :(\n                        <div className=\"item active\">\n                            <img src={cdnPath(\"/images/no-photo.png\")} alt={'Image not available'} title={'Image not available'} className=\"img-responsive\"/>\n                        </div>\n                    )}\n                </div>\n                {/* Left and right controls */}\n                <a className=\"left carousel-control\" href={\"javascript:void(0)\"} data-slide=\"prev\">\n                    <span className=\"glyphicon glyphicon-chevron-left\"/>\n                    <span className=\"sr-only\">Previous</span>\n                </a>\n                <a className=\"right carousel-control\" href={\"javascript:void(0)\"} data-slide=\"next\">\n                    <span className=\"glyphicon glyphicon-chevron-right\"/>\n                    <span className=\"sr-only\">Next</span>\n                </a>\n            </div>\n        );\n    }\n}\nclass AddThisReact extends Component {\n    constructor(props) {\n        super(props)\n        console.log('Add this started')\n    }\n    componentDidMount(){\n        console.log('Add this rendered');\n    }\n    render() {\n        return (\n            <div className=\"addThis\">\n                <div className=\"addthis_inline_share_toolbox\"></div>\n            </div>\n        );\n    }\n}\n// Error: Can't find npm module 'aws-sdk'. Did you forget to call 'Npm.depends' in package.js within the 'jns_flow-router-ssr' package?","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class About extends Component {\n    render() {\n        return (\n        <div>\n            <MainLayoutHeader />\n            <div className=\"index\">\n                <section className=\"about-bnr\">\n\n                    <h1>About Us</h1>\n\n                </section>\n                <section className=\"abt-content1\">\n                    <div className=\"container text-center\" style={{maxWidth: 750}}>\n                        <h2 className=\"no-capitalize\">Renting in Ireland is a pain, let us make it easy.</h2>\n                        <span className=\"bottom-line\"></span>\n                        <q className=\"color-grey\" style={{display: 'block', marginBottom: 20}}>An average tenant spends\n                            around 1 month of their time, viewing 10+ houses and submitting manual printed references to\n                            find their rental home. In the same way, a landlord shows their letting to 50+ potential\n                            tenants, manually verifying all of their paper refrences before finalising one of them. </q>\n                        <h6>We are spotmycrib. A couple of months ago, we had an intuition : A painless renting system.\n                            One where people can find their dream home for rent without any pain, unnecessary viewings\n                            and disappointment. That gave us our inspiration \"Renting made digital\". That means both\n                            landlords and tenants can use spotmycrib to save their time and money - For the better. We\n                            are just getting started. So, join us. <br/> Write to us at <a\n                                href={FlowRouter.url('contactus')}>Contact</a></h6>\n                    </div>\n                </section>\n            </div>\n            <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n        </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nvar TxtType = function(el, toRotate, period) {\n    this.toRotate = toRotate;\n    this.el = el;\n    this.loopNum = 0;\n    this.period = parseInt(period, 10) || 2000;\n    this.txt = '';\n    this.tick();\n    this.isDeleting = false;\n};\n\nTxtType.prototype.tick = function() {\n    var i = this.loopNum % this.toRotate.length;\n    var fullTxt = this.toRotate[i];\n\n    if (this.isDeleting) {\n        this.txt = fullTxt.substring(0, this.txt.length - 1);\n    } else {\n        this.txt = fullTxt.substring(0, this.txt.length + 1);\n    }\n\n    this.el.innerHTML = '<span class=\"wrap\">'+this.txt+'</span>';\n\n    var that = this;\n    var delta = 200 - Math.random() * 100;\n\n    if (this.isDeleting) { delta /= 2; }\n\n    if (!this.isDeleting && this.txt === fullTxt) {\n        delta = this.period;\n        this.isDeleting = true;\n    } else if (this.isDeleting && this.txt === '') {\n        this.isDeleting = false;\n        this.loopNum++;\n        delta = 500;\n    }\n\n    setTimeout(function() {\n        that.tick();\n    }, delta);\n};\nexport default class Careers extends Component {\n    componentDidMount(){\n        var elements = document.getElementsByClassName('typewrite');\n        for (var i=0; i<elements.length; i++) {\n            var toRotate = elements[i].getAttribute('data-type');\n            var period = elements[i].getAttribute('data-period');\n            if (toRotate) {\n                new TxtType(elements[i], JSON.parse(toRotate), period);\n            }\n        }\n        // INJECT CSS\n        var css = document.createElement(\"style\");\n        css.type = \"text/css\";\n        css.innerHTML = \".typewrite > .wrap { border-right: 0.08em solid #fff}\";\n        document.body.appendChild(css);\n    }\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"contact-bnr\">\n                        <h1>We are looking for talented <a className=\"typewrite\" data-period={2000} data-type=\"[ &quot;marketers&quot;, &quot;sales&quot;, &quot;engineers&quot; ]\">\n                            <span className=\"wrap\" />\n                        </a></h1>\n                    </section>\n                    <section className=\"contact-content career-content\">\n                        <div className=\"container\">\n                            <h3 className=\"bnr-txt\">Join our team in Dublin to transform the online real estate industry. Build tools that help hundreds of people find their dream home everyday. </h3><br />\n                            <p style={{fontSize: 14}}>Why wait? tell us about you and why you want to join us. </p><br />\n                            <a href=\"https://goo.gl/forms/nYxSp8YmuyMYTMEc2\" className=\"btns blue-btn\">Apply</a>\n                        </div>\n                    </section>\n                </div>\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nfunction updateFormFromLocalStorage() {\n    if(localStorage) {\n        if (localStorage.contactFormData_name) {\n            $( \"input[name='name']\" ).val( localStorage.contactFormData_name );\n        }\n        if (localStorage.contactFormData_email) {\n            $( \"input[name='email']\" ).val(localStorage.contactFormData_email);\n        }\n        if (localStorage.contactFormData_mobile) {\n            $( \"input[name='mobile']\" ).val( localStorage.contactFormData_mobile);\n        }\n        if (localStorage.contactFormData_message) {\n            $( \"textarea[name='message']\" ).val( localStorage.contactFormData_message);\n            try {\n                var element = $(\"textarea[name='message']\")[0]\n                element.style.height = \"5px\";\n                if (element.scrollHeight < 310) element.style.height = (element.scrollHeight) + \"px\";\n                else element.style.height = \"310px\";\n            }catch(e){}\n        }\n    }\n}\nfunction saveToLocalStorage(){\n    searialisedContactUsForm = $('#contactUsForm').serializeArray();\n    if (localStorage) {\n        localStorage.contactFormData_name = $( \"input[name='name']\" ).val();\n        localStorage.contactFormData_email = $( \"input[name='email']\" ).val();\n        localStorage.contactFormData_mobile = $( \"input[name='mobile']\" ).val();\n        localStorage.contactFormData_message = $( \"textarea[name='message']\" ).val();\n    }\n}\nfunction clearLocalStorage(){\n    searialisedContactUsForm = $('#contactUsForm').serializeArray();\n    if (localStorage) {\n        localStorage.removeItem('contactFormData_name')\n        localStorage.removeItem('contactFormData_email')\n        localStorage.removeItem('contactFormData_mobile')\n        localStorage.removeItem('contactFormData_message')\n    }\n}\n\nexport default class ContactUs extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            contactFormSaving:false,\n            contactFormSavedSuccess:false\n        }\n        this.takeBackupHandler = this.takeBackupHandler.bind(this)\n        this.formSubmitHandler = this.formSubmitHandler.bind(this)\n        this.autoGrowTAHandler = this.autoGrowTAHandler.bind(this)\n    }\n    takeBackupHandler(){\n        saveToLocalStorage();\n    }\n    formSubmitHandler(event){\n        event.preventDefault();\n    }\n    autoGrowTAHandler(event){\n        var element = event.target;\n        element.style.height = \"5px\";\n        if(element.scrollHeight<310)element.style.height = (element.scrollHeight)+\"px\";\n        else element.style.height = \"310px\";\n    }\n    componentDidMount(){\n        updateFormFromLocalStorage();\n\n        const self = this;\n        var validator = $('#contactUsForm').validate({\n            submitHandler: function(event){\n                self.setState({contactFormSaving:true})\n                self.setState({contactFormSavedSuccess:true})\n\n                console.log(\"You just submitted the 'contact us' form.\");\n                var userId = Meteor.userId();\n                if(!userId)userId = '';\n                var sub = 'Contact form request '\n                var desc = `\n\nName: `+$( \"input[name='name']\" ).val()+`<br/>\nEmail: `+$( \"input[name='email']\" ).val()+`<br/>\nMobile: `+$( \"input[name='mobile']\" ).val()+`<br/>\nMessage: `+$( \"textarea[name='message']\" ).val()+`<br/>\nUser ID: `+userId+`<br/>\n`\n                Meteor.call('notifyAdmin', sub, desc,function(){\n                    $('#contactUsForm')[0].reset();\n                    clearLocalStorage();\n                    self.setState({contactFormSaving:false})\n                    self.setState({contactFormSavedSuccess:false})\n                });\n\n//             var sub = 'Thank you for getting in touch!'\n//             var desc = `\n// We will look over your message and get back to you by soon. In the meantime, you can check the <a href=\"https://www.spotmycrib.ie/faqs\">FAQ section</a>, our <a href=\"https://www.spotmycrib.ie/estateagent\">EstateAgent / Landlord page</a>, our <a href=\"https://www.spotmycrib.com/b/rent-in-ireland/?\">latest letting listings</a> or browse through our <a href=\"http://blog.spotmycrib.com/\">latest blog posts</a>.\n//\n// Your friends at SpotMyCrib.ie\n// `\n//             Meteor.call('notifyAdmin', sub, desc,function(){\n//\n//             });\n\n                // fbq('track', 'ViewContent');No FB Q here, let keep fb thing only for pre planned areas, just to make sure it doesn' give wrong success notices .\n                ga('send', 'event', 'ContactUsPage', 'formSubmitted', 'Contact us form is submitted');\n            }\n        });\n        setTimeout(function () {\n            fbq('track', 'ViewContent');\n            ga('send', 'event', 'ContactUsPage', 'formRendered', 'Contact us form is viewed');\n        },2000)\n\n    }\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"contact-bnr\">\n                        <h1>Contact Us</h1>\n                    </section>\n                    <section className=\"contact-content mar-btm-20\" style={{background: 'white'}}>\n                        <div className=\"container\">\n                            <p className=\"text-center\" style={{marginBottom: 10}}>\n                                Please contact the owner directly for queries regarding the properties advertised on our site as we do not own or deal diretly with them. For other queries please email at below email or fill the form below.\n                            </p>\n                            <p className=\"text-center\"><a style={{color: '#428bca'}} href=\"mailto:support@spotmycrib.com\"><i className=\"glyphicon glyphicon-envelopee\" /> support@spotmycrib.com</a></p>\n                            <p className=\"text-center\"> Or </p>\n                            <form onSubmit={this.formSubmitHandler} className=\"signin-form cf-1\" id=\"contactUsForm\">\n                                <div className=\"w-100\" />\n                                <div className=\"sep-section\">\n                                    <label className=\"sep-label\">Write to us</label>\n                                    <div className=\"styled-input underline\">\n                                        <input onChange={this.takeBackupHandler} type=\"text\" name=\"name\" required />\n                                        <label>Name *</label>\n                                        <span />\n                                    </div>\n                                    <div className=\"styled-input underline\">\n                                        <input onChange={this.takeBackupHandler} type=\"email\" name=\"email\" required />\n                                        <label>Email *</label>\n                                        <span />\n                                    </div>\n                                    <div className=\"styled-input underline\">\n                                        <input onChange={this.takeBackupHandler} type=\"text\" name=\"mobile\" />\n                                        <label>Mobile </label>\n                                        <span />\n                                    </div>\n                                    <div className=\"styled-full-width\">\n                                        <textarea onChange={this.takeBackupHandler} onKeyUp={this.autoGrowTAHandler} name=\"message\" className=\"styled-input-textarea autoGrowTA\" id=\"contactAG\" placeholder=\"Enter your message\" required defaultValue={\"\"} />\n                                    </div>\n                                    <div className=\"styled-full-width mar-top-10\">\n                                        {this.state.contactFormSaving ? (\n                                            <button type=\"button\" className=\"btns transparent-btn\">Saving</button>\n                                        ):(\n                                            <button type=\"submit\" className=\"btns blue-btn\">Submit</button>\n                                        )}\n                                    </div>\n                                    {this.state.contactFormSavedSuccess ? (\n                                    <div className=\"styled-full-width\">\n                                        <div className=\"alert alert-success\" role=\"alert\">\n                                            <span className=\"glyphicon glyphicon-ok\" aria-hidden=\"true\" />&nbsp;Thank you for contacting us, we will reach out to you as soon as possible.\n                                        </div>\n                                    </div>\n                                    ):\"\"}\n                                </div>\n                                <div className=\"w-100\" />\n                            </form>\n\n                        </div>\n                    </section>\n                </div>\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class CookiePolicy extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"about-bnr\">\n                        <h1>Cookie Policy</h1>\n                    </section>\n                    <section className=\"faq-content cookieconsent-content pad-btm-30\">\n                        <div className=\"container\">\n                            <div className=\"faq-section-hold\">\n                                <p>By using this website, you consent to the use of cookies in accordance with the SpotMyCrib.ie Cookie Policy below.<br /><br />SpotMyCrib.ie uses small pieces of data called cookies to help customise your user experience. Learn more about cookies and how you can control them by reading our Cookies Policy.<br /><br />We may update our Cookies Policy to reflect any changes in technology or data protection legislation. Any updates or changes that may affect how we use cookies or how you as a user can manage cookies will appear on this page.</p>\n                                <h3>What is a Cookie?</h3>\n                                <p>A cookie is a small piece of data sent by a websiteâ€™s server to your computer or mobile device and stored in your browser (e.g. Google Chrome, Firefox, Internet Explorer etc). It consists of anonymous information, including a unique user identifier. When you revisit a site or navigate between pages, this data is passed from your browser to the siteâ€™s server. With this data, the website is able to â€˜rememberâ€™ your browser, enabling it to retrieve your user preferences, to personalise your visits and to simplify any sign-in procedures.<br /><br />Cookies are intended to improve your user experience by making it easier and faster to navigate through a website. For example, some websites require that you log in to gain access. If such sites did not use cookies, then you would be required to enter your login details every time you navigated to a new page because the website would not be able to remember that you had already logged in.<br /><br />Many websites also use cookies for advertising purposes. For example, certain cookies allow a website to determine if youâ€™ve already seen a particular ad and therefore it may not display that ad on subsequent pages that you visit.<br /><br />All of the information a cookie collects can only be retrieved by the website server that sent the cookie to your browser.</p>\n                                <h3>Cookies on SpotMyCrib.ie</h3>\n                                <p>We use the following Cookies on sections of SpotMyCrib.ie site and the mobile application:<br /><br />Strictly necessary cookies: These are cookies that are required for the operation of our website. They include, for example, cookies that enable you to log into secure areas of our website.<br /><br />Analytical / Performance Cookies: They are set by SpotMyCrib.ie and third parties, including Comscore and Google Analytics. Performance cookies allow us to collect statistical information about our visitors, such as whether they have visited the site before and the pages they view. This information is gathered anonymously - it does NOT enable us to identify who you are. We use these cookies to determine the kind of content and services our visitors value most, which in turn helps us improve our website and its content.<br /><br />Third Party Cookies: We and third-party vendors, including Google, use first-party cookies and third-party cookies together to inform, optimise and serve ads based on usersâ€™ past visits to this website. We use data from Google's Interest-based advertising or 3rd-party audience data (such as age, gender and interests) with Google Analytics to understand who our users are in order to create a better experience for them while visiting our website. We may use Remarketing with Google Analytics to advertise online. Third-party vendors, including Google, show our ads on sites across the Internet.<br /><br />Google Analytics: Users can opt out of Google Analytics for Display Advertising and customise Google Display Network ads using the Ads Settings found here: www.google.com/settings/ads.<br /><br />Functionality cookies: These are used to recognise you when you return to our website. This enables us to personalise our content for you, greet you by name and remember your preferences.<br /><br />Targeting cookies: These cookies record your visit to our website, the pages you have visited and the links you have followed. We will use this information to make our website and the advertising displayed on it more relevant to your interests. We may also share this information with third parties for this purpose.<br /><br />We do not control which cookies are set by third parties or how the cookie information is used â€“ a cookie can only be accessed by the party who set it. For more information on these cookies, please visit the third-party website.</p>\n                                <h3>Controlling cookies</h3>\n                                <p>Cookies are meant to improve the user experience, but some users prefer to set restrictions on the types of cookies that can be stored on their computer or mobile phone.<br /><br />By modifying your browser preferences, you have the choice to accept all cookies, to be notified when a cookie is set or to reject all cookies.<br /><br />It is important to note that you will lose some functions of a website if you choose to restrict or disable its cookies.</p>\n                                <br />\n                                <p>Have more questions? <a href={FlowRouter.url('contactus')}>Submit a request</a></p>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\n\nexport default class EstateAgent extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            f2Success:false,\n            knowMore:false\n        }\n        this.sinterestformHandler = this.sinterestformHandler.bind(this)\n        this.sinterestformtryagainHandler = this.sinterestformtryagainHandler.bind(this)\n        this.knowMoreBtnHandler = this.knowMoreBtnHandler.bind(this)\n    }\n    componentDidMount(){\n        // var $zoho=$zoho || {};$zoho.salesiq = $zoho.salesiq ||\n        //     {widgetcode:\"5e6f4b070bdd6e53b8a76febfd867047f48220a3f0e688fad51400b27169fabc7e3e6a8594601225fa1324917f66ed28\", values:{},ready:function(){}};\n        // var d=document;s=d.createElement(\"script\");s.type=\"text/javascript\";s.id=\"zsiqscript\";s.defer=true;\n        // s.src=\"https://salesiq.zoho.eu/widget\";t=d.getElementsByTagName(\"script\")[0];t.parentNode.insertBefore(s,t);d.write(\"<div id='zsiqwidget'></div>\");\n        try{\n            jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n        }catch(e){\n            document.body.scrollTop = document.documentElement.scrollTop = 0;\n        }\n        var data = [\n            [30,1,2,20],\n            ['300',10,20,'200'],//333 //10\n            ['3,000',100,200,'2,000'],//333 //100\n            ['6,000',200,400,'4,000'],//333 //200\n            ['12,000',400,800,'8,000'],//333 //400\n            ['30,000','1,000','2,000','20,000'],//333 //1000\n            ['60,000','2,000','4,000','40,000'],//333 //2000\n        ]\n        // $(\"#slider\").slider({\n        //\n        //     value: \"1\",\n        //     min: 0,\n        //     max: 6,\n        //     step: 1,\n        //     slide: function(event, ui) {\n        //         console.log('Sliding in progress');\n        //         // debugger;\n        //         $(\".viewingsSaved\").html(data[ui.value][0]);\n        //         $(\".tripsSaved\").html(data[ui.value][1]);\n        //         $(\".hoursSaved\").html(data[ui.value][2]);\n        //         $(\".moneySaved\").html(data[ui.value][3]);\n        //\n        //     }\n        // });\n\n        $(\"#many_properties_area_slider\").noUiSlider({\n            start: [ 10 ],\n            range: {\n                'min': [  1 ],\n                '30%': [  10 ],\n                '50%': [  100 ],\n                '60%': [  500 ],\n                '70%': [  1000 ],\n                'max': [ 2000 ]\n            }\n        }).on('slide', function (ev, val) {\n            // set real values on 'slide' event\n            var i = Math.round(val);\n            // $('#lcountInline').html(i);\n            $('#lcount').html(i);\n            $(\".viewingsSaved\").html(30*i);\n            $(\".tripsSaved\").html(1*i);\n            $(\".hoursSaved\").html(2*i);\n            $(\".moneySaved\").html(80*i);\n        }).on('change', function (ev, val) {\n            // round off values on 'change' event\n        });\n\n        // setTimeout(function() {\n        //     var slider = document.getElementById('many_properties_area_slider');\n        //     templateInstance.noUiSlider.create(slider, {\n        //         start: [ 10 ],\n        //         range: {\n        //             'min': [  1 ],\n        //             '30%': [  200 ],\n        //             '50%': [  500 ],\n        //             '70%': [  1000 ],\n        //             'max': [ 2000 ]\n        //         },\n        //         // tooltips: [wNumb({ decimals: 1 })]\n        //         tooltips: true\n        //\n        //\n        //     });\n        //\n        //     slider.noUiSlider.on('update', function( values, handle ) {\n        //         var i = Math.round(values[handle]);\n        //         $('#lcount').html(i);\n        //         $(\".viewingsSaved\").html(30*i);\n        //         $(\".tripsSaved\").html(1*i);\n        //         $(\".hoursSaved\").html(2*i);\n        //         $(\".moneySaved\").html(80*i);\n        //     });\n        // },500);\n        // setTimeout(function() {\n        //     // $.scrollify({\n        //     //     section: \"section\",\n        //     // });\n        // },500);\n    }\n    joinNowBtnHandler(){\n        FlowRouter.go('joinnowlandlord');\n    }\n    sinterestformHandler(event){\n        event.preventDefault();\n        const target = event.target;\n        const email = target.emailaddress.value;\n        const fullname = target.fullname.value;\n        const company = target.company.value;\n        const phone = target.phone.value;\n\n        // import \"../accounts/validation.js\";\n        let validatedEmail = LoginFormValidation.email(email);\n        if (validatedEmail !== true) {\n            console.log(validatedEmail.error);\n            alert(validatedEmail.reason);\n            // var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            // if(!validatedEmail.reason)error.reason = 'Invalid email. Please correct the email address entered.';\n            // tmp.push(validatedEmail.reason);\n            // Session.set(\"showErrorDlg\",tmp)\n        }else{\n            ga('send', 'event', 'estateAgentPage', 'sinterestForm', 'Special intro offer form submitted');\n            Meteor.call('introOfferRequestReceived',email,fullname,company,phone);\n            this.setState({f2Success:true})\n        }\n    }\n    sinterestformtryagainHandler(){\n        this.setState({f2Success:false})\n    }\n    knowMoreBtnHandler(){\n        if(this.state.knowMore)this.setState({knowMore:false})\n        else{\n            this.setState({knowMore:true})\n            setTimeout(function () {\n                try{\n                    $('html, body').animate({\n                        scrollTop: $(\"#knowmorebegin\").offset().top\n                    }, 500);\n                }catch(e){}\n            },500)\n        }\n    }\n    render() {\n        return (\n            <div>\n                <link rel=\"stylesheet\" href=\"css/estateagent.css\" />\n                <section className=\"topheader\" id=\"topheader\">\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <div className=\"col-md-12 logo\">\n                                <a href={FlowRouter.url('home')}><img src={cdnPath(\"/images/estateagentpage/logo.png\")}/></a>\n                            </div>\n                            <div className=\"col-md-10 col-md-offset-1 property_listings\">\n                                <h1>Post Your Property listings and Select your tenant now</h1>\n                                <div className=\"box-places home-page-box-places\" style={{background: 'none', padding: 0}}>\n                                    <ul>\n                                        <li>\n                                            <KnowMoreForm/>\n                                        </li>\n                                    </ul>\n                                </div>\n                                {/*<div class=\"col-md-10 col-md-offset-1 \">\n                  <form class=\"form-horizontal\">\n                      <div class=\"form-group\">\n                          <div class=\"col-sm-9\">\n                              <input type=\"email\" class=\"input-group form-control\" id=\"email\" placeholder=\"Enter email\">\n                          </div>\n                          <div class=\"col-sm-3\">\n                              <button type=\"submit\" class=\"btn green-btn\">Know More!</button>\n                          </div>\n                      </div>\n                  </form>\n              </div>*/}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/* Header Section End*/}\n                {/*Spot Your Tenant Section Start*/}\n                <section className=\"spotyourtenant\">\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <div className=\"col-md-12 rdc\">\n                                <div className=\"col-md-6 \">\n                                    <h2>Spot Your Tenant</h2>\n                                    <p>SpotMyCrib makes your work easy. You can <br />post your property and screen tenants online. The screening process includes a rental application <br />with their references and their complete social profiles.</p>\n                                </div>\n                                <div className=\"col-md-6 \">\n                                    {false? (<img src={cdnPath(\"/images/estateagentpage/video.png\")} className=\"img-responsive\" />):\"\"}\n            <div id=\"video-div\">\n                <iframe width=\"462.2\" height=\"260\" src=\"https://www.youtube.com/embed/L689NIDwFdc?rel=0\" frameBorder=\"0\" allowFullScreen></iframe>\n                {/* allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" */}\n            </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*Spot Your Tenant Section Start*/}\n                {/*Spot Your Tenant Section Start*/}\n                <section className=\"many_properties_area\" style={{minHeight: 700}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container rdc container-fixed\">\n                            <div className=\"col-md-12 rdc text-center\">\n                                <h2>How Many Properties are you listing?</h2>\n                                {/*<span id=\"lcountInline\">10</span>*/}\n                                <div className=\"wrappernew\">\n                                    <div className=\"colThree\" style={{margin: '0px 0 20px 0px', textAlign: 'left'}}>\n                                        <div id=\"contenta\">\n                                            <div id=\"lcount\">10</div>\n                                            <span>1</span><span style={{float: 'right'}}>2000</span>\n                                            <div id=\"many_properties_area_slider\" />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"container container-fixed\">\n                                <div className=\"col-md-12 rdc\">\n                                    <article className=\"col oneline\">\n                                        <div className=\"circle-in\">\n                                            <div className=\"viewingsSaved\">300</div>\n                                            <p>Viewings Saved</p></div>\n                                    </article>\n                                    <article className=\"col oneline\">\n                                        <div className=\"circle-in\">\n                                            <div className=\"tripsSaved\">10</div>\n                                            <p>Travel trips Saved</p>\n                                        </div>\n                                    </article>\n                                    <article className=\"col oneline\">\n                                        <div className=\"circle-in\">\n                                            <div><span className=\"hoursSaved\">20</span><strong>Hours</strong></div>\n                                            <p>Time Saved</p>\n                                        </div>\n                                    </article>\n                                    <article className=\"col oneline\">\n                                        <div className=\"circle-in\">\n                                            <div>â‚¬<span className=\"moneySaved\">800</span></div>\n                                            <p>Money Saved</p>\n                                        </div>\n                                    </article>\n                                </div>\n                            </div>\n                            <div className=\"col-md-12 btn-account_area\">\n                                <button type=\"submit\" className=\"btn green-btn joinNowBtn\" onClick={this.joinNowBtnHandler}>Claim your Free Account</button>\n                            </div>\n                            <div className=\"container rdc\">\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*Spot Your Tenant Section Start*/}\n                {/*Business Section Start*/}\n                <section className=\"business_area\" style={{minHeight: 970}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container  rdc\">\n                            <div className=\"col-md-12 rdc business_area_onesecton\">\n                                <h2>Expand / Develop Your Business with these BENEFITS</h2>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_01.png\")} className=\"img-responsive\" />\n                                    <h3>Competitive Advantage</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Get the competitive edge you need to excel in this extremely competitive market. </p>\n                                    {/*This value added service will give you the competitive edge you need in an extremely competitive market*/}\n                                </div>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_02.png\")} className=\"img-responsive\" />\n                                    <h3>Reduced Admin</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Save time and money by automating <br />renting, managing and maintaining <br />your property.</p>\n                                </div>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_03.png\")} className=\"img-responsive\" />\n                                    <h3>Safe secure system</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>SpotMyCrib uses state of the art<br />technology to keep your data<br /> safe and secure.</p>\n                                </div>\n                            </div>\n                            <div className=\"col-md-12 rdc business_area_onesecton\">\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_04.png\")} className=\"img-responsive\" />\n                                    <h3>Digital accounting and maintenance</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Post your property instantly on the<br />go, from your mobile phone. Save valuable time.</p>\n                                </div>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_05.png\")} className=\"img-responsive\" />\n                                    <h3>Screen tenants</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Receive and access all your tenant <br />references and applications from one centralised account. Access them anytime, anywhere across the globe. </p>\n                                    {/*No more manual uploading into your 3rd party file storage.*/}\n                                </div>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_06.png\")} className=\"img-responsive\" />\n                                    <h3>Verify social profiles</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}> LinkedIn, twitter and facebook profile verification.</p>\n                                </div>\n                            </div>\n                            <div className=\"col-md-12 rdc business_area_onesecton\">\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_10.png\")} className=\"img-responsive\" />\n                                    <h3>Report</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Get intelligent reports on rental and maintenance costs identifying patterns to add revenue streams.</p>\n                                    {/*Intelligent reporting on rents received, maintenance costs to identify patterns to boost business and add new revenue streams.*/}\n                                </div>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_08.png\")} className=\"img-responsive\" />\n                                    <h3>Get Paid</h3>\n                                    {/*<p style=\"line-height:30px;font-size:17px;\">Set your own Application Fee.<br>The Applicants will pay you online</p>*/}\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Auto-rent collection, friendly rental reminders 24 hours prior to rental date, failure to pay on time leads to warning notices being issued and much more.</p>\n                                </div>\n                                <div className=\"col-md-4 competitive\">\n                                    <img src={cdnPath(\"/images/estateagentpage/img_09.png\")} className=\"img-responsive\" />\n                                    <h3>e-Sign Lease</h3>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Generate and sign lease/contracts<br />online.</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*Business Section End*/}\n                {/*How It Work Section End*/}\n                <section className=\"howitwork_section\" style={{minHeight: 650}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container rdc\">\n                            <h2>How it works</h2>\n                            <div className=\"col-md-12 rdc\">\n                                <div className=\"col-md-3 posting_section\" style={{paddingBottom: 81}}>\n                                    <h3>POSTING LETTING</h3>\n                                    <img src={cdnPath(\"/images/estateagentpage/workimg_01.png\")} className=\"img-responsive\" />\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Market your property through spotmycrib.ie and find your ideal tenant effortlessly. Post your property photographs n details.</p>\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Market your property through spotmycrib.ie and find your ideal tenant effortlessly. Post your property photographs and particulars.</p>\n                                </div>\n                                <div className=\"col-md-3 posting_section\" style={{paddingBottom: 56}}>\n                                    <h3>SCREEN TENANTS</h3>\n                                    <img src={cdnPath(\"/images/estateagentpage/workimg_02.png\")} className=\"img-responsive\" />\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Our applicants apply for your property online via SpotMyCrib. View all their details, references, social profiles online and screen them. Click \"choose\" and select your tenant. It is as simple as that.</p>\n                                </div>\n                                <div className=\"col-md-3 posting_section\" style={{paddingBottom: 81}}>\n                                    <h3>SIGN DIGITAL LEASE</h3>\n                                    <img src={cdnPath(\"/images/estateagentpage/workimg_03.png\")} className=\"img-responsive\" />\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Generate and sign legally binding lease/contracts online. Automatic reminder and reporting on lease expiry dates. </p>\n                                </div>\n                                <div className=\"col-md-3 posting_section\" style={{paddingBottom: 81}}>\n                                    <h3>COLLECT RENTS</h3>\n                                    <img src={cdnPath(\"/images/estateagentpage/workimg_04.png\")} className=\"img-responsive\" />\n                                    <p style={{lineHeight: '30px', fontSize: '17px'}}>Let your tenants pay rent online. Automated rent collection and owner disbursements. Reminders and reporting on all payments.</p>\n                                </div>\n                            </div>\n                            <div className=\"col-md-12 btn-account_area\">\n                                {this.state.knowMore ? (\n                                    <button className=\"btn green-btn knowMoreBtn\" onClick={this.knowMoreBtnHandler}>Know Less!</button>\n                                ) : (\n                                    <button className=\"btn green-btn knowMoreBtn\" onClick={this.knowMoreBtnHandler}>Know More!</button>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*How It Work Section End*/}\n            {this.state.knowMore ? (\n                <div>\n                {/*Property Area Section Start*/}\n                <section id=\"knowmorebegin\" className=\"property_area\" style={{minHeight: 700}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <h2 style={{marginBottom: 60}}>Make your life faster and easier!!</h2>\n                            <div className=\"col-md-12\">\n                                <div className=\"col-md-6\">\n                                    <h3>Post your property</h3>\n                                    <p style={{}}>Here is your chance to post your property in the best light possible. Describe it, is it furnished? What amenities are available? Pets allowed? Add all the desirable features of it. Post the best photographs of it. Have tenants fall in love with your property time and time again.</p>\n                                    <a href={FlowRouter.url('advertisewithus')} className=\"btn green-btn\">Post your letting</a>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <img src={cdnPath(\"/images/post.png\")} className=\"img-responsive\" style={{boxShadow: 'none'}} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*Property Area Section End*/}\n                {/*Property Area Section Start*/}\n                <section className=\"screentenants_area\" style={{minHeight: 700}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <div className=\"col-md-12\">\n                                <div className=\"col-md-6\">\n                                    <img src={cdnPath(\"/images/estateagentpage/screen-tenants.jpg\")} className=\"img-responsive\" />\n                                </div>\n                                <div className=\"col-md-1\" />\n                                <div className=\"col-md-5\">\n                                    <h3>Screen Tenants</h3>\n                                    <p>Find your best tenant by screening them online. You get all their details, references, social profiles as they apply for your property. Their application package will also include credentials like their experian credit check, criminal check, previous rental history and all other necessary details. Screen them faster and close your deal.</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*Manage rent*/}\n                <section className=\"property_area\" style={{minHeight: 700}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <div className=\"col-md-12\">\n                                <div className=\"col-md-6\">\n                                    <h3>Manage Rent Online</h3>\n                                    <p>No more paperwork. Manage your rental income online. SpotMyCrib is safe and reliable. You can also check the deposits, rent amount and deadlines here. No more hassle with cash payments or standing orders.</p>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <img src={cdnPath(\"/images/payment.png\")} className=\"img-responsive\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*Online Lease Signing*/}\n                <section className=\"property_area\" style={{minHeight: 700}}>\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <div className=\"col-md-12\">\n                                <div className=\"col-md-6\">\n                                    <img src={cdnPath(\"/images/e-sign.png\")} className=\"img-responsive\" />\n                                </div>\n                                <div className=\"col-md-1\" />\n                                <div className=\"col-md-5\">\n                                    <h3>Online Lease Signing</h3>\n                                    <p>Simply upload your necessary details. Get your legally binding document back with minimal effort. SpotMyCrib makes your job much easier and simpler. Store your contract online and view it any time you wish.</p>\n                                    {/*Generate rental agreements online and get them to e-sign. */}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                </div>\n            ):\"\"}\n                {/*receive Section Start*/}\n                <section className=\"receive_area\">\n                    <div className=\"container-fluid\">\n                        <div className=\"container container-fixed rdc\">\n                            <div className=\"col-md-12 rdc text-center\">\n                                <h2>Receive a Special Introductory Offer</h2>\n                                {this.state.f2Success ? (\n        <div>\n            <p style={{marginBottom: 20, color: 'black'}} className=\"text-center\">Thank you for your interest.</p>\n            <button className=\"btn green-btn sinterestformtryagain\" type=\"submit\" onClick={this.sinterestformtryagainHandler}>Add another</button>\n        </div>\n                                ):(\n                                <form role=\"form\" className=\"sinterest-form\" onSubmit={this.sinterestformHandler}>\n                                    <div className=\"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n                                        <input autoComplete=\"email\" type=\"email\" className=\"form-control\" id=\"emailaddress\" name=\"emailaddress\" placeholder=\"Enter your email\" />\n                                    </div>\n                                    <div className=\"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n                                        <input autoComplete=\"name\" type=\"text\" className=\"form-control\" id=\"fullname\" name=\"fullname\" placeholder=\"Your full name\" />\n                                    </div>\n                                    <div className=\"clearfix\" />\n                                    <div className=\"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n                                        <input autoComplete=\"organization\" type=\"text\" className=\"form-control\" id=\"company\" name=\"company\" placeholder=\"Company\" />\n                                    </div>\n                                    <div className=\"form-group col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n                                        <input autoComplete=\"tel\" type=\"text\" className=\"form-control\" id=\"phone\" name=\"phone\" placeholder=\"Phone\" />\n                                    </div>\n                                    <div className=\"clearfix\" />\n                                    <div className=\"clearfix\" />\n                                    <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 submit\">\n                                        <button type=\"submit\" className=\"btns green-btn\">Learn More!</button>\n                                    </div>\n                                </form>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                {/*receive Section End*/}\n                <section className=\"frequently_area\">\n                    <div className=\"container-fluid\">\n                        <section className=\"faq-content mar-btm-20\">\n                            <div className=\"container container-fixed rdc\">\n                                <div className=\"faq-section-hold\">\n                                    <h2>Frequently asked questions</h2>\n                                    <div className=\"panel-group agent-panel-group\" id=\"accordion\" role=\"tablist\" aria-multiselectable=\"true\">\n                                        <div className=\"panel panel-default\">\n                                            <a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseOne\" aria-expanded=\"false\" aria-controls=\"collapseOne\" className=\"collapsed\">\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                                    <h4 className=\"panel-title \">\n                                                        <span className=\"green-circle\">1</span>\n                                                        <p className=\"position\">It is my understanding that current legislation will not allow for bidding that exceeds the permitted rent amount. </p>\n                                                        <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                    </h4>\n                                                </div>\n                                            </a>\n                                            <div id=\"collapseOne\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingOne\" aria-expanded=\"false\" style={{height: 0}}>\n                                                <div className=\"panel-body\">\n                                                    <ul>\n                                                        <li>We have an option to disable the bidding and have done so.</li>\n                                                        <li>We have contacted the RTB: Residential Tenancies Board in Ireland (in writing) and asked them if a tenant offers more rent and a landlord agrees to it - is that legal. They confirmed it is legal if both sides agree to it.</li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"panel panel-default\">\n                                            <a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseOne\" className=\"collapsed\">\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                                    <h4 className=\"panel-title \">\n                                                        <span className=\"green-circle\">2</span>\n                                                        <p className=\"position\">What would the knock effect be should there be arrears, can warning letters be sent? etc</p>\n                                                        <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                    </h4>\n                                                </div>\n                                            </a>\n                                            <div id=\"collapseTwo\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingOne\" aria-expanded=\"false\">\n                                                <div className=\"panel-body\">\n                                                    <ul>\n                                                        <li>We can send warning emails/reminder emails and report on who are due rents, arrears.</li>                                              <li>SpotMyCrib also remembers the history of a tenants arrears, etc</li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"panel panel-default\">\n                                            <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseThree\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingTwo\">\n                                                    <h4 className=\"panel-title\">\n                                                        <span className=\"green-circle\">3</span>\n                                                        <p className=\"position\">What responsibility is there on the agent, from a Data Protection perspective, If references are sent to a website?</p>\n                                                        <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                    </h4>\n                                                </div>\n                                            </a>\n                                            <div id=\"collapseThree\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingTwo\" aria-expanded=\"false\">\n                                                <div className=\"panel-body\">\n                                                    <ul>\n                                                        <li>All Data is being held and maintained by SpotMyCrib within Europe and the key system ensures the data is being shared within in the terms of the consumer's signup.</li>\n                                                        <li>There is no responsibility on the agent, Users agree to terms of service, privacy when they upload their references. This actively operates within the GDPR (<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/General_Data_Protection_Regulation\"> Data protection Regulation</a>) framework. </li>\n                                                        <li>Customers retain at all times the option to have all of their data removed, inspected or deletion if we're contacted in writing directly or indirectly by the agent on the consumer's behalf.</li>\n                                                        <li>The key system ensures the agent can deal with all Data Protection issues for a renter, speedily and thoroughly within the regulations.</li>\n                                                        <li>Plus we are 100% compliant with data being stored within Europe, all of our data is stored on Amazon Ireland.</li>\n                                                        <li>We also use https encryption, which encrypts all the communication between user and spotmycrib.ie</li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"panel panel-default\">\n                                            <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseFour\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingThree\">\n                                                    <h4 className=\"panel-title\">\n                                                        <span className=\"green-circle\">4</span>\n                                                        <p className=\"position\">Is there a benefit to the references being collect by Spot my crib rather than say our personal emails? </p>\n                                                        <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                    </h4>\n                                                </div>\n                                            </a>\n                                            <div id=\"collapseFour\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingThree\" aria-expanded=\"false\">\n                                                <div className=\"panel-body\">\n                                                    <p>There are many other advantages as given below. </p>\n                                                    <ul>\n                                                        <li>Centralised records, no more going through emails back and forth to gain references.</li>\n                                                        <li>Time tracking applications and sequencing</li>\n                                                        <li>Elimination of duplication.</li>\n                                                        <li>Time-saving - as discussed on our previous meeting, let's say Neptune gets 30 viewings per house and for 100 units, its 3000 viewings - that is 3k digital applications</li>\n                                                        <li>Instant social profile checks - verify users to check if they would they be a good fit for the property.</li>\n                                                        <li>Digital fingerprint background Checks - of all the references</li>\n                                                        <li>Instant salary affordability checks - Check if the tenants can afford the house</li>\n                                                        <li>No more paper to get lose.</li>\n                                                        <li>No longer tied to office - checks can be made from anywhere, any device, laptop/mobile.</li>\n                                                        <li>Customised filters - to choose only the best tenants using an Agent's experience.</li>\n                                                        <li>Set up invites for viewing - only invite selected applicants for the viewing.</li>\n                                                        <li>The key ensures it is a particular property and eliminates confusion for the renter.</li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"panel panel-default\">\n                                            <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseFive\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                                                <div className=\"panel-heading\" role=\"tab\" id=\"headingThree\">\n                                                    <h4 className=\"panel-title\">\n                                                        <span className=\"green-circle\">5</span>\n                                                        <p className=\"position\">How does someone who Is looking for an Apartment know to go to Spot my Crib?. They will think My Home and Daft. </p>\n                                                        <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                    </h4>\n                                                </div>\n                                            </a>\n                                            <div id=\"collapseFive\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingThree\" aria-expanded=\"false\">\n                                                <div className=\"panel-body\">\n                                                    <ul>\n                                                        <li>Tenants can search for the property directly from our home page.</li>\n                                                        <li>A property's link/key is shared either in the ad or with the ad in daft, myhome etc.</li>\n                                                        <li>A property's link/key can also be posted on the Agent's website.</li>\n                                                        <li>Agents can print the key and give a hardcopy of the key to viewers when they visit the property. </li>\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-md-12 btn-account_area\">\n                                        <a href={FlowRouter.url('faqs')} className=\"btn green-btn\">More FAQs!</a>\n                                    </div>\n                                </div>\n                            </div>{/*container*/}\n                        </section>\n                    </div>\n                </section>\n            </div>\n\n        )\n    }\n}\nclass KnowMoreForm extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            f1Success:false,\n        }\n        this.knowmoreformtryagainHandler = this.knowmoreformtryagainHandler.bind(this)\n        this.knowmoreformHandler = this.knowmoreformHandler.bind(this)\n    }\n    knowmoreformtryagainHandler(){\n        this.setState({f1Success:false})\n    }\n    knowmoreformHandler(event){\n        event.preventDefault();\n        const target = event.target;\n        const email = target.emailaddress.value;\n\n        let validatedEmail = LoginFormValidation.email(email);\n        if (validatedEmail !== true) {\n            console.log(validatedEmail.error);\n            alert(validatedEmail.reason);\n            // var tmp =  Session.get(\"showErrorDlg\");if(!tmp)tmp=[];\n            // if(!validatedEmail.reason)error.reason = 'Invalid email. Please correct the email address entered.';\n            // tmp.push(validatedEmail.reason);\n            // Session.set(\"showErrorDlg\",tmp)\n        }else{\n            ga('send', 'event', 'estateAgentPage', 'knowmoreForm', 'Know more form submitted');\n            Meteor.call('knowMoreRequestReceived',email);\n            this.setState({f1Success:true})\n        }\n    }\n    render() {\n        return (\n            <form className=\"knowmore-form\" onSubmit={this.knowmoreformHandler}>\n                <div className=\"input-group\">\n                    <span className=\"input-group-btn\" style={{zIndex: 0, margin: 0}}>\n                      <a href={FlowRouter.url('advertisewithus')} className=\"btn green-btn\">Advertise your property</a>\n                    </span>\n                    {this.state.f1Success ? (\n                        <p style={{marginBottom: 20, display: 'inline', paddingRight:'15px'}}>Thank you for your interest.</p>\n                    ) : (\n                        <input autoComplete=\"email\" type=\"text\" className=\"form-control emailaddress\" name=\"emailaddress\" placeholder=\"Enter your email.\" style={{paddingLeft: 10, zIndex: 0}} />\n                    )}\n                    {this.state.f1Success ? (\n                        <button className=\"btn transparent-btn knowmoreformtryagain\" type=\"submit\" onClick={this.knowmoreformtryagainHandler}>Add another</button>\n                        ) : (\n                        <span className=\"input-group-btn\" style={{zIndex: 0}}>\n                          <button className=\"btn transparent-btn\" type=\"submit\">Know More!</button>\n                        </span>\n                    )}\n\n                </div>\n            </form>\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class Faqs extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"contact-bnr\">\n                        <h1>Frequently Asked Questions</h1>\n                    </section>\n                    <section className=\"faq-content\">\n                        <div className=\"container\">\n                            <div className=\"faq-section-hold\">\n                                <h3>About SpotMyCrib</h3>\n                                <div className=\"panel-group\" id=\"accordion1\" role=\"tablist\" aria-multiselectable=\"true\">\n                                    <div className=\"panel panel-default\">\n                                        <a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion1\" href=\"#collapseOne1\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                                <h4 className=\"panel-title \">\n                                                    <span className=\"green-circle\">1</span>\n                                                    <p className=\"position\">What is SpotMyCrib?</p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseOne1\" className=\"panel-collapse collapse in\" role=\"tabpanel\" aria-labelledby=\"headingOne\">\n                                            <div className=\"panel-body\">\n                                                <p>Spotmycrib is an honest and open platform to provide you an ultimately safe and secure way make your renting experience an incredibly convenient experience for you. We understand your pain of standing in cold long queues and not getting called for. Say goodbye to your worries as spotmycrib is just a click away to bring together the landlord and the renter.</p>\n                                                <p>SpotMyCrib brings renters and property owners together in one&nbsp;transparent platform.</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"panel panel-default\">\n                                        <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion1\" href=\"#collapseTwo1\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingTwo\">\n                                                <h4 className=\"panel-title\">\n                                                    <span className=\"green-circle\">2</span>\n                                                    <p className=\"position\">Why do you need it?</p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseTwo1\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingTwo\">\n                                            <div className=\"panel-body\">\n                                                <p>Your pain in waiting for the call after a long reference is about to end. This is the platform to view and apply to your future home conveniently using your mobile and get screened sooner. This platform provides you the ideal experience like no other.</p>\n                                                <p>Save your precious time and valuable money! You donâ€™t need to wait for long. Submit your online application along with your personal credentials and make this process much easier and faster. Get your dream house with just a few clicks. Our online rental payment system is reliable and safe to pay your rent once you are in your home. Monthly payment is digital now.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"panel panel-default\">\n                                        <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion1\" href=\"#collapseThree1\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingThree\">\n                                                <h4 className=\"panel-title\">\n                                                    <span className=\"green-circle\">3</span>\n                                                    <p className=\"position\">How it works?</p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseThree1\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingThree\">\n                                            <div className=\"panel-body\">\n                                                <p className=\"hidden-xs\">I am a\n                                                    <a className=\"btns transparent-btn mar-left-10\" href={FlowRouter.url('estateagent')}>Landlord</a>\n                                                    <a className=\"btns green-btn scroll1 mar-left-10\" href={FlowRouter.url('howitworks')}>Renter</a>\n                                                </p>\n                                                <p className=\"visible-xs\">\n                                                    Choose from below options<br />\n                                                    <a className=\"btns transparent-btn mar-left-10\" href={FlowRouter.url('estateagent')}>Landlord</a>\n                                                    <a className=\"btns green-btn scroll1 mar-left-10\" href={FlowRouter.url('howitworks')}>Renter</a>\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"faq-section-hold pad-btm-60\">\n                                <h3>Estate Agents/Landlords/Property Owners</h3>\n                                <div className=\"panel-group agent-panel-group\" id=\"accordion\" role=\"tablist\" aria-multiselectable=\"true\">\n                                    <div className=\"panel panel-default\">\n                                        <a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseOne\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                                <h4 className=\"panel-title \">\n                                                    <span className=\"green-circle\">1</span>\n                                                    <p className=\"position\">It is my understanding that current legislation will not allow for bidding that exceeds the permitted rent amount. </p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseOne\" className=\"panel-collapse collapse in\" role=\"tabpanel\" aria-labelledby=\"headingOne\">\n                                            <div className=\"panel-body\">\n                                                <ul>\n                                                    <li>We have an option to disable the bidding and have done so.</li>\n                                                    <li>We have contacted the RTB: Residential Tenancies Board in Ireland (in writing) and asked them if a tenant offers more rent and a landlord agrees to it - is that legal. They confirmed it is legal if both sides agree to it.</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"panel panel-default\">\n                                        <a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                                <h4 className=\"panel-title \">\n                                                    <span className=\"green-circle\">2</span>\n                                                    <p className=\"position\">What would the knock effect be should there be arrears, can warning letters be sent? etc</p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseTwo\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingOne\">\n                                            <div className=\"panel-body\">\n                                                <ul>\n                                                    <li>We can send warning emails/ reminder emails and report on who are due rents, arrears.</li>                                              <li>SpotMyCrib also remembers the history of a tenants arrears, etc</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"panel panel-default\">\n                                        <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseThree\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingTwo\">\n                                                <h4 className=\"panel-title\">\n                                                    <span className=\"green-circle\">3</span>\n                                                    <p className=\"position\">What responsibility is there on the agent, from a Data Protection perspective, If references are sent to a website?</p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseThree\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingTwo\">\n                                            <div className=\"panel-body\">\n                                                <ul>\n                                                    <li>All Data is being held and maintained by Spot My Crib within Europe and the key system ensures the data is being shared within in the terms of the consumer's signup.</li>\n                                                    <li>There is no responsibility on the agent, Users agree to terms of service, privacy when they upload their references. This actively operates within the GDPR (<a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/General_Data_Protection_Regulation\"> Data protection Regulation</a>) framework. </li>\n                                                    <li>Customers retain at all times the option to have all of their data removed, inspected or deletion if we're contacted in writing directly or indirectly by the agent on the consumer's behalf.</li>\n                                                    <li>The key system ensures the agent can deal with all Data Protection issues for a renter, speedily and thoroughly within the regulations.</li>\n                                                    <li>Plus we are 100% compliant with data being stored within Europe, all of our data is stored on Amazon Ireland.</li>\n                                                    <li>We also use https encryption, which encrypts all the communication between user and spotmycrib.ie</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"panel panel-default\">\n                                        <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseFour\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingThree\">\n                                                <h4 className=\"panel-title\">\n                                                    <span className=\"green-circle\">4</span>\n                                                    <p className=\"position\">Is there a benefit to the references being collect by Spot my crib rather than say our personal emails? </p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseFour\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingThree\">\n                                            <div className=\"panel-body\">\n                                                <p>There are many other advantages as given below. </p>\n                                                <ul>\n                                                    <li>Centralised records, no more going through emails back and forth to gain references.</li>\n                                                    <li>Time tracking applications and sequencing</li>\n                                                    <li>Elimination of duplication.</li>\n                                                    <li>Time-saving - as discussed on our previous meeting, let's say Neptune gets 30 viewings per house and for 100 units, its 3000 viewings - that is 3k digital applications</li>\n                                                    <li>Instant social profile checks - verify users to check if they would they be a good fit for the property.</li>\n                                                    <li>Digital fingerprint background Checks - of all the references</li>\n                                                    <li>Instant salary affordability checks - Check if the tenants can afford the house</li>\n                                                    <li>No more paper to get lose.</li>\n                                                    <li>No longer tied to office - checks can be made from anywhere, any device, laptop/mobile.</li>\n                                                    <li>Customised filters - to choose only the best tenants using an Agent's experience.</li>\n                                                    <li>Set up invites for viewing - only invite selected applicants for the viewing.</li>\n                                                    <li>The key ensures it is a particular property and eliminates confusion for the renter.</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"panel panel-default\">\n                                        <a className=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseFive\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                                            <div className=\"panel-heading\" role=\"tab\" id=\"headingThree\">\n                                                <h4 className=\"panel-title\">\n                                                    <span className=\"green-circle\">5</span>\n                                                    <p className=\"position\">How does someone who Is looking for an Apartment know to go to Spot my Crib?. They will think My Home and Daft. </p>\n                                                    <i className=\"glyphicon glyphicon-menu-down active-arrow\" />\n                                                </h4>\n                                            </div>\n                                        </a>\n                                        <div id=\"collapseFive\" className=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingThree\">\n                                            <div className=\"panel-body\">\n                                                <ul>\n                                                    <li>Tenants can search for the property directly from our home page.</li>\n                                                    <li>A property's link/key is shared either in the ad or with the ad in daft, myhome etc.</li>\n                                                    <li>A property's link/key can also be posted on the Agent's website.</li>\n                                                    <li>Agents can print the key and give a hardcopy of the key to viewers when they visit the property. </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"container mar-top-30\" style={{textAlign: 'center'}}>\n                                    <p>Learn more</p>\n                                    <a className=\"btns transparent-btn mar-left-10\" href={FlowRouter.url('estateagent')}>I'm a Landlord</a>\n                                    <a className=\"btns green-btn scroll1 mar-left-10\" href={FlowRouter.url('howitworks')}>I'm a Renter</a>\n                                </div>\n                            </div>\n                        </div>{/*container*/}\n                    </section>\n                </div>\n\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class Gdpr extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"contact-bnr\">\n                        <h1>Data Protection / GDPR</h1>\n                    </section>\n                    <section className=\"faq-content conditions\">\n                        <div className=\"container\">\n                            <div className=\"pad-top-btm-30 for-font\">\n                                <h3>EU General Data Protection Regulation (GDPR)</h3>\n                                <div className>\n                                    <p>\n                                        The EU General Data Protection Regulation (GDPR) will set a new standard for how companies use and protect EU citizens' data. It will take effect from May 2018.\n                                    </p><p>\n                                    At SpotMyCrib, we've been working hard to prepare for GDPR, to ensure that we fulfil its obligations and maintain our transparency about user and customer data and how we use data.\n                                </p><p>\n                                    Here's an overview of GDPR, and how we are preparing for it at SpotMyCrib.\n                                </p>\n                                    <h3>Overview</h3>\n                                    <h4>What is GDPR?</h4>\n                                    <p>The GDPR is a comprehensive European data protection law that provides significant data rights for protecting the privacy of natural persons residing in the EU. SpotMyCrib is committed to ensuring that our platform is GDPR-compliant when the regulation becomes enforceable on May 25, 2018.</p>\n                                    <h4>How is GDPR applicable to SpotMyCrib?</h4>\n                                    <p>We collect data from our users and customers to better serve them. We also take ID proofs, references from our users as a supporting document for their letting application. We respect everyone's personal information, and it makes perfect sense for us to have one privacy policy and set of procedures to protect everyone's interests, including compliance with applicable local laws.</p>\n                                    <h4>What personal information does SpotMyCrib process on behalf of its customers?</h4>\n                                    <ol>\n                                        <li>We collect and maintain personal contact details which includes contact name, job title, email address, telephone number, and company name. If the customer is an individual sole proprietor or unaffiliated with any commercial or non-profit entity, it's possible that additional information such as street address and credit cardholder data is included.</li>\n                                        <li>All customer data, that is, data controlled by our customers which we process according to their instructions, is appropriately classified as Confidential. This confidential data could contain personally-identifiable information about our Customers' End Users, which we cannot identify because it is encrypted and not accessible by SpotMyCrib staff.</li>\n                                        <li>We also collect personal identity information as references to users application to a property. For example passport ID, PPS, resume or other details are collected to help you with your application process.</li>\n                                        <li>More covered on <a href={FlowRouter.url('privacy')}>privacy page</a>.</li>\n                                    </ol>\n                                    <h4>What are Data Controllers and Data Processors?</h4>\n                                    <p>GDPR is designed to ensure protection of the privacy rights of data subjects. Data subjects are people from whom or about whom you collect information in connection with your business and its operations. Your obligations with regard to data subjects and their personal data depend on whether you're considered a controller or a processor under GDPR.</p>\n                                    <ul>\n                                        <li>Data Controllers</li>\n                                    </ul>\n                                    <p>GDPR defines a data controller as \"the natural or legal person, public authority, agency or another body which, alone or jointly with others, determines the purposes and means of the processing of personal data.\" In other words, if your organization processes personal data for your own organization's purposes and needs-not merely as a service provider acting on behalf of another organization-then you are likely to be a data controller.</p>\n                                    <p>SpotMyCrib is a Data Controller for our direct customers.</p>\n                                    <ul>\n                                        <li>Data Processor</li>\n                                    </ul>\n                                    <p>Businesses or organizations that process personal data solely on behalf of, and as directed by, data controllers are data processors. In other words, when a data controller outsources a data processing function to another entity, that other entity is generally a data processor.</p>\n                                    <p>For purposes of the GDPR, SpotMyCrib is also considered a Data Processor for our customers' end-users.</p>\n                                    <h4>What steps is SpotMyCrib taking to ensure GDPR compliance?</h4>\n                                    <ol>\n                                        <li>We conducted an internal review of all data our data points, how its collected, stored and how it's being used.</li>\n                                        <li>We conducted an internal Data Protection Impact Assessment (DPIA) to discover what information we collect, and how it's being used.</li>\n                                        <li>We will provide users and customers with resources and helpful information about privacy and GDPR, including whitepapers and blog posts.</li>\n                                        <li>We will announce an update of our Privacy Policy for GDPR.</li>\n                                    </ol>\n                                    <h3>Our Customers and the GDPR</h3>\n                                    <h4>As a SpotMyCrib customer, what are my main responsibilities under the GDPR?</h4>\n                                    <p>SpotMyCrib customers are responsible for protecting the personal information of their end users, as Data Controllers and/or Data Exporters.</p>\n                                    <p>Your responsibilities under GDPR will depend on the nature of your business and your personal data processing activities.  Nonetheless, broadly speaking, GDPR requires that personal data be:</p>\n                                    <ol>\n                                        <li>Processed lawfully, fairly and in a transparent manner,</li>\n                                        <li>Collected for specified, explicit and legitimate purposes and not further processed in a manner incompatible with those purposes,</li>\n                                        <li>Adequate, relevant, and limited to what is necessary for achieving those purposes,</li>\n                                        <li>Accurate and kept up to date</li>\n                                        <li>Stored no longer than necessary to achieve the purposes for which it was collected, and</li>\n                                        <li>Properly secured against accidental loss, destruction or damage.</li>\n                                    </ol>\n                                    <p>It is our customer's responsibility to obtain the EXPRESS CONSENT of individual Data Subjects (for example, tenants, applications) to transfer their Personal Data to SpotMyCrib as a Data Processor and/or Data Importer. SpotMyCrib processes all such information as Confidential Data in accordance with the terms of our Data Processing Agreement and/or this Privacy Policy.</p>\n                                    <h4>What actions does our customers need to take?</h4>\n                                    <ol>\n                                        <li>In addition to seeking independent legal advice regarding your obligations under the GDPR, here are some tips to get you started:</li>\n                                        <li>Educate yourself on the provisions of the <a href=\"https://gdpr-info.eu/\" target=\"_blank\">GDPR</a> to understand how they may differ from your existing data protection obligations and practices.</li>\n                                        <li>If you don't have dedicated data privacy or security personnel in-house, consider appointing a directly responsible individual (DRI) or small team to manage your company's GDPR compliance efforts.</li>\n                                        <li>Create an up-to-date inventory of personal data that you collect and manage.</li>\n                                        <li>Create a list of vendors who you send data to (analytics tools, CRMs, email tools, etc.), and understand whether they are a controller or a processor. Then, determine what their obligations are, and make sure they have a plan to be ready for the GDPR.</li>\n                                        <li>Develop a plan for obtaining and managing <a href=\"https://gdpr-info.eu/art-7-gdpr/\" target=\"_blank\">consent</a> in accordance with the GDPR or establish other lawful grounds for using personal data.</li>\n                                        <li>Determine if your company needs to appoint a <a href=\"https://gdpr-info.eu/art-37-gdpr/\" target=\"_blank\">Data Protection Officer</a> (DPO). For public authorities, and companies processing large amounts of special categories of personal data, the appointment of a <a href=\"https://secure.edps.europa.eu/EDPSWEB/edps/EDPS/DPO\" target=\"_blank\">data protection officer</a> (DPO) is mandatory. Organizations will be expected to hire someone who has real expertise and knowledge of the latest laws and practices.</li>\n                                        <li>Becoming GDPR compliant takes time, and will require you to rethink how you collect and manage customer data. If you have any questions about the GDPR or want to learn how SpotMyCrib can help you prepare, please let us know.</li>\n                                    </ol>\n                                    <h4>What are the penalties for non-compliance with GDPR?</h4>\n                                    <p>Depending on the nature of the violation, data protection authorities may issue fines or penalties for non-compliance up to â‚¬ 20 million or 4% of global revenue.</p>\n                                    <h4>Where can I get more information about GDPR?</h4>\n                                    <ol>\n                                        <li>From the original source: The Council of the European Union where the legislation was approved. <a href=\"https://publications.europa.eu/en/publication-detail/-/publication/c7d157e6-fccd-11e7-b8f5-01aa75ed71a1/language-en/format-PDF/source-62885347\" target=\"_blank\">https://publications.europa.eu/en/publication-detail/-/publication/c7d157e6-fccd-11e7-b8f5-01aa75ed71a1/language-en/format-PDF/source-62885347</a></li>\n                                        <li>For more general GDPR readiness portals, we suggest:&nbsp;<a href=\"https://www.eugdpr.org/\" target=\"_blank\">https://www.eugdpr.org/</a>\n                                            <ul>\n                                                <li>GDPR FAQs: <a href=\"https://www.eugdpr.org/gdpr-faqs.html\" target=\"_blank\">https://www.eugdpr.org/gdpr-faqs.html</a></li>\n                                            </ul>\n                                        </li>\n                                        <li>From leading Privacy advocacy organizations:\n                                            <ol>\n                                                <li><a href=\"https://iapp.org/resources/topics/eu-gdpr/\" target=\"_blank\">https://iapp.org/resources/topics/eu-gdpr/</a></li>\n                                                <li><a href=\"https://www.epic.org/international/eu_general_data_protection_reg.html\" target=\"_blank\">https://www.epic.org/international/eu_general_data_protection_reg.html</a></li>\n                                                <li><a href=\"http://www.truste.com\" target=\"_blank\">www.truste.com</a></li>\n                                            </ol>\n                                        </li>\n                                    </ol>\n                                    <p>Have more questions? <a href={FlowRouter.url('contactus')} target=\"_blank\">Submit a request</a></p>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class HowItWorks extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"about-bnr\">\n                        <h1>How it Works</h1>\n                    </section>\n                    <section id=\"how-works\" className=\"sec-holder how-it-works\">\n                        <div className=\"container\">\n                            {/*<h2>How it works</h2>*/}\n                            {/*<span class=\"bottom-line\"></span>*/}\n                            {/*<div class=\"\">*/}\n                            {/*<a id=\"video\" class=\"oval-btn green-btn cursor\"><span class=\"fa fa-play-circle-o play-icon\"></span>Watch the video</a>*/}\n                            {/*</div>*/}\n                            <ul className=\"mar-top-30\">\n                                <li>\n                                    <h6 className=\"pad-btm-30\">Search Property</h6>\n                                    <img src={cdnPath(\"/images/how-it-works/search-and-find-property-apartment-flat.png\")} alt=\"Search and find your rental property\" className=\"pad-btm-30\" />\n                                    <p>\n                                    Search and find an apartment/house you like from our <a href={FlowRouter.url('home')+'#searchform'}>browse form</a>.\nOr choose your county from our <a href={FlowRouter.url('home')+'#homeLinks'}>county list</a> in our home page.\n                                    </p>\n                                </li>\n                                <li>\n                                    <h6 className=\"pad-btm-30\">Set Your Rent</h6>\n                                    <img src={cdnPath(\"/images/how-it-works/set-your-rent-apartment.png\")} alt=\"Apply and set your rent for Apartment\" className=\"pad-btm-30\" />\n                                    <p>Make your offer for the house and click apply. Remember to upload all your references in your profile.</p>\n                                </li>\n                                <li>\n                                    <h6 className=\"pad-btm-30\">Confirm your Home</h6>\n                                    <img src={cdnPath(\"/images/how-it-works/confirm-your-rent-in-dublin.png\")} alt=\"Confirm your rental\" className=\"pad-btm-30\" />\n                                    <p>Landlord chooses a tenant based on your references and your offer. If you are chosen, you would receive a confirmation email. </p>\n                                </li>\n                            </ul>\n                        </div>\n                        <div className=\"container mar-top-30\">\n                            <a href={FlowRouter.url('faqs')} className=\"green-btn btns \" type=\"button\">Learn more</a>\n                        </div>\n                    </section>\n                </div>\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class Privacy extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"contact-bnr\">\n                        <h1>Privacy Policy</h1>\n                    </section>\n                    <section className=\"faq-content conditions\">\n                        <div className=\"container\">\n                            <div className=\"pad-top-btm-30 for-font\">\n                                {/*<h3>SpotMyCrib Terms &amp; Conditions</h3>*/}\n                                <div className=\"color-grey\">\n                                    <div className=\"innerText\">Your privacy is important to us. This privacy policy explains what personal data SpotMyCrib collects from you, through our interactions with you and through our products, and how we use that data.\n                                        <br /></div>\n                                    <span id=\"infoCo\" /><br />\n                                    <div className=\"innerText\">It is compiled to better serve those who are concerned with how their 'Personally Identifiable Information' (PII) is being used online. PII, as described in privacy law and information security, is information that can be used on its own or with other information to identify, contact, or locate a single person, or to identify an individual in context. Please read our privacy policy carefully to get a clear understanding of how we collect, use, protect or otherwise handle your Personally Identifiable Information in accordance with our website.<br /></div>\n                                    <span id=\"infoCo\" /><br />\n                                    <div className=\"color-black\"><strong>What personal information do we collect from the people that visit website?</strong></div>\n                                    <br />\n                                    <ol>\n                                        <li>We collect and maintain personal contact details which includes contact name, job title, email address, telephone number, and company name. If the customer is an individual sole proprietor or unaffiliated with any commercial or non-profit entity, it's possible that additional information such as street address and credit cardholder data is included.</li>\n                                        <li>All customer data, that is, data controlled by our customers which we process according to their instructions, is appropriately classified as Confidential. This confidential data could contain personally-identifiable information about our Customers' End Users, which we cannot identify because it is encrypted and not accessible by SpotMyCrib staff.</li>\n                                        <li>We also collect personal identity information as references to users application to a property. For example passport ID, PPS, resume or other details are collected to help you with your application process.</li>\n                                        <li>More covered on <a href={FlowRouter.url('gdpr')}>Data Protection</a> page.</li>\n                                    </ol>\n                                    <br />\n                                    <div className=\"color-black\"><strong>When do we collect information?</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">We collect information from you when you register on our site, applying for a letting, upload references to your profile, browse through the site, search for properties, fill out a form or enter information on our site.</div>\n                                    <br /> <span id=\"infoUs\" /><br />\n                                    <div className=\"color-black\"><strong>How do we use your information? </strong></div>\n                                    <br />\n                                    <div className=\"innerText\"> We may use the information we collect from you when you register, apply for a letting, sign up for our newsletter, respond to a survey or marketing communication, surf the website, or use certain other site features in the following ways:<br /><br /></div>\n                                    <div className=\"color-black\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> As a reference to your letting application process, your references and personal info will only be shared with the landlord or the agents who posted the property. Your information will not be shared with anyone else and will be kept confidential. </div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> To personalize your experience and to allow us to deliver the type of content and product offerings in which you are most interested.</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> To improve our website in order to better serve you.</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> To quickly process your transactions.</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> To send periodic emails regarding your rental application, profile, property alerts or other similar services.</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> To follow up with them after correspondence (live chat, email or phone inquiries)</div>\n                                    <span id=\"infoPro\" /><br />\n                                    <div className=\"color-black\"><strong>How do we protect your information?</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">We do not use vulnerability scanning and/or scanning to PCI standards.</div>\n                                    <div className=\"innerText\">We only provide articles and information. We never ask for credit card numbers.</div>\n                                    <div className=\"innerText\">We do not use Malware Scanning.<br /><br /></div>\n                                    <div className=\"innerText\">Your personal information is contained behind secured networks and is only accessible by a limited number of persons who have special access rights to such systems, and are required to keep the information confidential. In addition, all sensitive/credit information you supply is encrypted via Secure Socket Layer (SSL) technology. </div>\n                                    <br />\n                                    <div className=\"innerText\">We implement a variety of security measures when a user enters, submits, or accesses their information to maintain the safety of your personal information.</div>\n                                    {/*<br>*/}\n                                    {/*<div class='innerText'>For your convenience we may store your credit card information kept for more than 60 days in order to expedite future orders, and to automate the billing process.</div>*/}\n                                    <br /><span id=\"coUs\" /><br />\n                                    <div className=\"color-black\"><strong>How to Access &amp; Control Your Personal Data?</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">You can view, edit, or delete your personal data online for your profile. You can always choose whether you wish to receive promotional email, SMS messages, telephone calls and postal mail from SpotMyCrib. You can also opt out from receiving interest-based advertising from SpotMyCrib by clicking on unsubscribe from our emails or by writing to us at <a href=\"mailto:support@spotmycrib.com\">support@spotmycrib.com</a> .</div><br />\n                                    <br /><span id=\"coUs\" /><br />\n                                    <div className=\"color-black\"><strong>Do we use 'cookies'?</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">Yes. Cookies are small files that a site or its service provider transfers to your computer's hard drive through your Web browser (if you allow) that enables the site's or service provider's systems to recognize your browser and capture and remember certain information. For instance, we use cookies to help us remember and process the items in your shopping cart. They are also used to help us understand your preferences based on previous or current site activity, which enables us to provide you with improved services. We also use cookies to help us compile aggregate data about site traffic and site interaction so that we can offer better site experiences and tools in the future.</div>\n                                    <div className=\"innerText\"><br /><strong>We use cookies to:</strong></div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> Understand and save user's preferences for future visits.</div>\n                                    <div className=\"innerText\"><br />You can choose to have your computer warn you each time a cookie is being sent, or you can choose to turn off all cookies. You do this through your browser settings. Since browser is a little different, look at your browser's Help Menu to learn the correct way to modify your cookies.<br /></div>\n                                    <br />\n                                    <div className=\"innerText\">If you turn cookies off, Some of the features that make your site experience more efficient may not function properly.It won't affect the user's experience that make your site experience more efficient and may not function properly.</div><br />\n                                    <div className=\"innerText\">More information about out cookies are in our <a href={FlowRouter.url('cookiepolicy')}>Cookie Policy</a> page.</div>\n                                    <br /><span id=\"trDi\" /><br />\n                                    <div className=\"color-black\"><strong>Third-party disclosure</strong></div>\n                                    <br />\n                                    <div className=\"innerText\"><strong>Do we disclose the information we collect to Third-Parties?</strong></div>\n                                    <div className=\"innerText\">\n                                        We sell,trade, or otherwise transfer to outside parties your name, address,city,town, any form or online contact identifier email, name of chat account etc., screen name or user names, phone number\n                                        <div className=\"innerText\"><br /><strong>We engage in this practice because,:</strong></div>\n                                        <div className=\"innerText\">Users references and personal details uploaded in profile will only be shared with landlord or agents, as a proof of your application. </div>\n                                        Personally Identifiable Information.\n                                    </div>\n                                    <br /><span id=\"trLi\" /><br />\n                                    <div className=\"color-black\"><strong>Third-party links</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">Occasionally, at our discretion, we may include or offer third-party products or services on our website. These third-party sites have separate and independent privacy policies. We therefore have no responsibility or liability for the content and activities of these linked sites. Nonetheless, we seek to protect the integrity of our site and welcome any feedback about these sites.</div>\n                                    <span id=\"gooAd\" /><br />\n                                    <div className=\"blueText\"><strong>Google</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">Google's advertising requirements can be summed up by Google's Advertising Principles. They are put in place to provide a positive experience for users. https://support.google.com/adwordspolicy/answer/1316548?hl=en <br /><br /></div>\n                                    <div className=\"innerText\">We use Google AdSense Advertising on our website.</div>\n                                    <div className=\"innerText\"><br />Google, as a third-party vendor, uses cookies to serve ads on our site. Google's use of the DART cookie enables it to serve ads to our users based on previous visits to our site and other sites on the Internet. Users may opt-out of the use of the DART cookie by visiting the Google Ad and Content Network privacy policy.<br /></div>\n                                    <div className=\"innerText\"><br /><strong>We have implemented the following:</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">We, along with third-party vendors such as Google use first-party cookies (such as the Google Analytics cookies) and third-party cookies (such as the DoubleClick cookie) or other third-party identifiers together to compile data regarding user interactions with ad impressions and other ad service functions as they relate to our website. </div>\n                                    <div className=\"innerText\"><br />\n                                        <strong>Opting out:</strong>\n                                        <br />\n                                        Users can set preferences for how Google advertises to you using the Google Ad Settings page. Alternatively, you can opt out by visiting the Network Advertising Initiative Opt Out page or by using the Google Analytics Opt Out Browser add on.\n                                    </div>\n                                    <span id=\"calOppa\" /><br />\n                                    <div className=\"blueText\"><strong>California Online Privacy Protection Act</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy.  The law's reach stretches well beyond California to require any person or company in the United States (and conceivably the world) that operates websites collecting Personally Identifiable Information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals or companies with whom it is being shared. -  See more at: http://consumercal.org/california-online-privacy-protection-act-caloppa/#sthash.0FdRbT51.dpuf<br /></div>\n                                    <div className=\"innerText\"><br /><strong>According to CalOPPA, we agree to the following:</strong><br /></div>\n                                    <div className=\"innerText\">Users can visit our site anonymously.</div>\n                                    <div className=\"innerText\">Once this privacy policy is created, we will add a link to it on our home page or as a minimum, on the first significant page after entering our website.<br /></div>\n                                    <div className=\"innerText\">Our Privacy Policy link includes the word 'Privacy' and can easily be found on the page specified above.</div>\n                                    <div className=\"innerText\"><br />You will be notified of any Privacy Policy changes:</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> On our Privacy Policy Page<br /></div>\n                                    <div className=\"innerText\">Can change your personal information:</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> By logging in to your account</div>\n                                    <div className=\"innerText\"><br /><strong>How does our site handle Do Not Track signals?</strong><br /></div>\n                                    <div className=\"innerText\">We honor Do Not Track signals and Do Not Track, plant cookies, or use advertising when a Do Not Track (DNT) browser mechanism is in place. </div>\n                                    <div className=\"innerText\"><br /><strong>Does our site allow third-party behavioral tracking?</strong><br /></div>\n                                    <div className=\"innerText\">It's also important to note that we do not allow third-party behavioral tracking</div>\n                                    <span id=\"coppAct\" /><br />\n                                    <div className=\"blueText\"><strong>COPPA (Children Online Privacy Protection Act)</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">When it comes to the collection of personal information from children under the age of 13 years old, the Children's Online Privacy Protection Act (COPPA) puts parents in control.  The Federal Trade Commission, United States' consumer protection agency, enforces the COPPA Rule, which spells out what operators of websites and online services must do to protect children's privacy and safety online.<br /><br /></div>\n                                    <div className=\"innerText\">We do not specifically market to children under the age of 13 years old.</div>\n                                    <div className=\"innerText\">Do we let third-parties, including ad networks or plug-ins collect PII from children under 13?</div>\n                                    <span id=\"ftcFip\" /><br />\n                                    <div className=\"blueText\"><strong>Fair Information Practices</strong></div>\n                                    <br />\n                                    <div className=\"innerText\">The Fair Information Practices Principles form the backbone of privacy law in the United States and the concepts they include have played a significant role in the development of data protection laws around the globe. Understanding the Fair Information Practice Principles and how they should be implemented is critical to comply with the various privacy laws that protect personal information.<br /><br /></div>\n                                    <div className=\"innerText\"><strong>In order to be in line with Fair Information Practices we will take the following responsive action, should a data breach occur:</strong></div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> Within 7 business days</div>\n                                    <div className=\"innerText\">We will notify the users via in-site notification</div>\n                                    <div className=\"innerText\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>â€¢</strong> Within 7 business days</div>\n                                    <div className=\"innerText\"><br />We also agree to the Individual Redress Principle which requires that individuals have the right to legally pursue enforceable rights against data collectors and processors who fail to adhere to the law. This principle requires not only that individuals have enforceable rights against data users, but also that individuals have recourse to courts or government agencies to investigate and/or prosecute non-compliance by data processors.</div>\n                                    <br />\n                                    <p>Have more questions? <a href={FlowRouter.url('contactus')}>Submit a request</a></p>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport MainLayoutFooter from '../layout/MainLayoutFooter.jsx'\nimport MainLayoutHeader from '../layout/MainLayoutHeader.jsx'\n\nexport default class Terms extends Component {\n    render() {\n        return (\n            <div>\n                <MainLayoutHeader />\n                <div className=\"index\">\n                    <section className=\"contact-bnr\">\n                        <h1>Terms of Service</h1>\n                    </section>\n                    <section className=\"faq-content conditions\">\n                        <div className=\"container\">\n                            <div className=\"pad-top-btm-30 for-font\">\n                                <div className=\"color-grey\">\n                                    <h3>1. Terms</h3>\n                                    <p>By accessing the website at <a href=\"https://www.spotmycrib.ie/\">https://www.spotmycrib.ie/</a>, you are agreeing to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site. The materials contained in this website are protected by applicable copyright and trademark law.</p>\n                                    <h3>2. Use License</h3>\n                                    <ol type=\"a\">\n                                        <li>Permission is granted to temporarily download one copy of the materials (information or software) on SpotMyCrib.ie's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:\n                                            <ol type=\"i\">\n                                                <li>modify or copy the materials;</li>\n                                                <li>use the materials for any commercial purpose, or for any public display (commercial or non-commercial);</li>\n                                                <li>attempt to decompile or reverse engineer any software contained on SpotMyCrib.ie's website;</li>\n                                                <li>remove any copyright or other proprietary notations from the materials; or</li>\n                                                <li>transfer the materials to another person or \"mirror\" the materials on any other server.</li>\n                                            </ol>\n                                        </li>\n                                        <li>This license shall automatically terminate if you violate any of these restrictions and may be terminated by SpotMyCrib.ie at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format.</li>\n                                    </ol>\n                                    <h3>3. Disclaimer</h3>\n                                    <ol type=\"a\">\n                                        <li>The materials on SpotMyCrib.ie's website are provided on an 'as is' basis. SpotMyCrib.ie makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.</li>\n                                        <li>Further, SpotMyCrib.ie does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its website or otherwise relating to such materials or on any sites linked to this site.</li>\n                                    </ol>\n                                    <h3>4. Limitations</h3>\n                                    <p>In no event shall SpotMyCrib.ie or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on SpotMyCrib.ie's website, even if SpotMyCrib.ie or a SpotMyCrib.ie authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.</p>\n                                    <h3>5. Accuracy of materials</h3>\n                                    <p>The materials appearing on SpotMyCrib.ie website could include technical, typographical, or photographic errors. SpotMyCrib.ie does not warrant that any of the materials on its website are accurate, complete or current. SpotMyCrib.ie may make changes to the materials contained on its website at any time without notice. However SpotMyCrib.ie does not make any commitment to update the materials.</p>\n                                    <h3>6. Links</h3>\n                                    <p>SpotMyCrib.ie has not reviewed all of the sites linked to its website and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by SpotMyCrib.ie of the site. Use of any such linked website is at the user's own risk.</p>\n                                    <h3>7. Modifications</h3>\n                                    <p>SpotMyCrib.ie may revise these terms of service for its website at any time without notice. By using this website you are agreeing to be bound by the then current version of these terms of service.</p>\n                                    <h3>8. Governing Law</h3>\n                                    <p>These terms and conditions are governed by and construed in accordance with the laws of Dublin and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location.</p>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n                <footer className=\"footer-default\"><MainLayoutFooter /></footer>\n            </div>\n\n        )\n    }\n}","/**\n * Created by njanjanam on 06/04/2017.\n */\nimport {Mongo} from \"meteor/mongo\";\n// import \"./schemas.js\";\n// export const Tasks = new Mongo.Collection('Property');\n// import SimpleSchema from \"simpl-schema\";\n// SimpleSchema.extendOptions(['autoform']);\nCollections = {}\nCollections.Properties = new Mongo.Collection(\"Properties\");\nCollections.Bids = new Mongo.Collection(\"Bids\");\nCollections.Auctions = new Mongo.Collection(\"Auctions\");\nCollections.Agents = new Mongo.Collection(\"Agents\");\nCollections.Config = new Mongo.Collection(\"Config\");\nCollections.PropertyManage = new Mongo.Collection(\"PropertyManage\");\nCollections.ActivityHistory = new Mongo.Collection(\"ActivityHistory\");\nCollections.Areas = new Mongo.Collection(\"Areas\");\nCollections.Blogs = new Mongo.Collection(\"Blogs\");\nCollections.EmailEnquiries = new Mongo.Collection(\"EmailEnquiries\");\nCollections.EmailRequests = new Mongo.Collection(\"EmailRequests\");\n\nCollections.Properties.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Properties.before.update(function (userId, doc, fieldNames, modifier, options) {\n    var skip=false;\n    if(Array.isArray(fieldNames))\n        if(fieldNames.indexOf('auctionHistory')!=-1){\n            if(modifier['$set']['auctionId']==\"\" && modifier['$set']['rent']==\"\")\n                skip = true //This is for deactivate\n        }\n    if(!skip){\n        modifier.$set = modifier.$set || {};\n        modifier.$set.updatedAt = new Date()\n    }\n});\nCollections.Bids.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Bids.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.Auctions.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Auctions.before.update(function (userId, doc, fieldNames, modifier, options) {\n    var skip=false;\n    if(Array.isArray(fieldNames))\n    if(fieldNames.length==1 && fieldNames.indexOf('views')!=-1){\n        // console.log('Its just view, so skipping')\n        skip=true\n    }\n    if(fieldNames['isArchived']==true) skip=true //This is for deactivate\n    if(!skip){\n        modifier.$set = modifier.$set || {};\n        modifier.$set.updatedAt = new Date()\n    }\n});\nCollections.Agents.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Agents.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.Config.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Config.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.PropertyManage.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.PropertyManage.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.ActivityHistory.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.ActivityHistory.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.Areas.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Areas.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.Blogs.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.Blogs.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.EmailEnquiries.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.EmailEnquiries.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\nCollections.EmailRequests.before.insert(function (userId, doc) {\n    doc.createdAt = new Date()\n    doc.updatedAt = new Date()\n});\nCollections.EmailRequests.before.update(function (userId, doc, fieldNames, modifier, options) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.updatedAt = new Date()\n});\n\nif (Meteor.isClient) {\n    Collections.PA_AvgOffer = new Mongo.Collection(\"avgOffer\");\n}\nif(Meteor.isServer){\n    Collections.propertyAlerts = new Mongo.Collection(\"propertyAlerts\");\n    Collections.propertyAlerts.before.insert(function (userId, doc) {\n        if(userId)doc.userId = userId\n        doc.createdAt = new Date()\n        doc.updatedAt = new Date()\n    });\n    Collections.propertyAlerts.before.update(function (userId, doc, fieldNames, modifier, options) {\n        modifier.$set = modifier.$set || {};\n        modifier.$set.updatedAt = new Date()\n    });\n\n}\n\n// Collections.Auctions.attachSchema(Schema.Auctions);\n// Collections.Properties.attachSchema(Schema.Properties);\n// Collections.Bids.attachSchema(Schema.Bids);\n\nUI.registerHelper(\"retCollectionProperties\", function () {\n    return  Collections.Properties;\n});\n\n\n\n\nexport {Collections};\n\n\n\n\n//\n// Collections = [\n//     {\"Property\" : new Mongo.Collection(\"Property\") },\n//     {Bids : new Mongo.Collection(\"Bids\")},\n//     {Auctions : new Mongo.Collection(\"Auctions\")},\n//     {Agents : new Mongo.Collection(\"Agents\")},\n//     {Config : new Mongo.Collection(\"Config\")}\n// ];\n\n\n// Collections.Properties = new Mongo.Collection(\"Property\");\n// //Meteor.subscribe(\"Projects\");\n// export Collections.Bids = new Mongo.Collection(\"Bids\");\n// //Meteor.subscribe(\"Bids\");\n// export Collections.Auctions = new Mongo.Collection(\"Auctions\");\n// //Meteor.subscribe(\"Auctions\");\n// export Collections.Config = new Mongo.Collection(\"Config\");\n// //Meteor.subscribe(\"Config\");\n\n\n","import \"./collections.js\";\nimport {check} from \"meteor/check\";\n\nMeteor.methods({\n  updateReferenceFile: function(args){\n    // check([], []);\n    console.log(\"server method updateReferenceFile called\")\n\n    const userId = Meteor.userId();\n    var p1='';\n    var p2='';\n    switch (args[0]){\n        case \"Resume\": p1 = \"hasResume\"; p2 = \"resume\"; break;\n        case \"Work Reference\": p1 = \"hasWorkRef\"; p2 = \"workRef\"; break;\n        case \"Landlord Reference\": p1 = \"hasLandlordRef\"; p2 = \"landlordRef\"; break;\n        case \"Financial Reference\": p1 = \"hasFinancialRef\"; p2 = \"financialRef\"; break;\n        case \"Government ID\": p1 = \"hasGovtID\"; p2 = \"govtID\"; break;\n        case \"Passport\": p1 = \"hasPassport\"; p2 = \"passport\"; break;\n        case \"PPS\": p1 = \"hasPPS\"; p2 = \"PPS\"; break;\n       }\n\n    if(p1 && p2) {\n      p1 = \"profile.references.\"+p1\n      p2 = \"profile.references.\"+p2\n        var setObj = {}\n        setObj[p1] =true;\n        setObj[p2]= args[1]\n\n        console.log(p1);\n        console.log(p2);\n        console.log(setObj);\n        Meteor.users.update(userId, {\n            $set: setObj\n        });\n    }\n    return {\n      status: 'Success'\n    }\n\n  },\n  updateMobile: function(newMobile){\n    // check(newMobile, []);\n    console.log(\"server method updateMobile called\")\n    const userId = Meteor.userId();\n    Meteor.users.update({\n      \"_id\": userId\n    }, {\n      $set: {\n        \"profile.mobile\": newMobile,\n        \"profile.isMobileVerified\": false\n      }\n    });\n    return {\n      status: 'Success'\n    }\n\n  },\n  updateEmployerName: function(newEmp){\n    check(newEmp, String);\n    if(!newEmp.length || newEmp.length<2){\n        throw new Meteor.Error(500, 'Invalid employee name', 'Employee name cannot be less then 2 characters.');\n    }\n    console.log(\"server method updateEmployerName called: \"+newEmp)\n    const userId = Meteor.userId();\n    Meteor.users.update({\n      \"_id\": userId\n    }, {\n      $set: {\n        \"profile.references.employerName\": newEmp\n      }\n    });\n    return {\n      status: 'Success'\n    }\n\n  },\n  updateEmployerTakeHome: function(salary){\n    check(salary, Number);\n    if(salary<0 || salary > Number.MAX_VALUE){\n        throw new Meteor.Error(500, 'Invalid employee take home', 'Employee take home salary cannot be less then 0 or too large.');\n    }\n    console.log(\"server method updateEmployerTakeHome called: \"+salary)\n    const userId = Meteor.userId();\n    Meteor.users.update({\n      \"_id\": userId\n    }, {\n      $set: {\n        \"profile.references.employerTakeHome\": salary\n      }\n    });\n    return {\n      status: 'Success'\n    }\n\n  },\n  sendOTP: function(args){\n    check(args, Match.Any);\n    console.log(\"server method sendOTP called\")\n\n    if(!isLoggedOn()){\n      throw new Meteor.Error(500, 'Error 500: Login needed', 'Please login before you request.');\n    }\n\n    const user = Meteor.user();\n    if( user.profile.isMobileVerified){\n      throw new Meteor.Error(500, 'Error 500: Mobile already verified. ', 'Your mobile is already verified.');\n    }\n\n    //DON'T need below code as we will be using this method for both send and RESEND.\n    //if(user.profile.OTPValue){\n    //  var today = new Date();\n    //  var OTPSentOn = new Date(user.profile.OTPSentOn);\n    //  var diffMs = (OTPSentOn - today); // milliseconds between now & Christmas\n    //  var diffMins = Math.round(((diffMs % 86400000) % 3600000) / 60000); // minutes\n    //  if(diffMins > 15){//OTP has expired\n    //\n    //  }else{//OTP previous OTP is still valid.\n    //\n    //  }\n    //}\n\n    const newOTP    = Math.floor(100000 + Math.random() * 900000);\n    const userEmail = user.profile.email;\n    const username  = user.profile.name;\n\n    //TODO separate SMS sending in an this.unblock method\n\n    /* Send OTP via email */\n    Meteor.call(\"sendNotificationEmail\", {\n      template: \"otpEmail\",\n      user    : {\n        profile: {\n          username: username\n        }\n      },\n      otp     : newOTP,\n      subject : \"IBidMyHome OTP: Verify your mobile number\",\n      mailTo  : user.profile.email\n    });\n\n    /* Send OTP via mobile*/\n    var OPTsmsText = 'Your OTP is: ' + newOTP;\n\n    var APIURL = 'http://atrans.smscuppa.com/sendsms.jsp?user=mybids&password=mybids&mobiles='+user.profile.mobile+'&general='+OPTsmsText+'&senderid=MYBIDS&version=3';\n    var APIURL = 'http://atrans.smscuppa.com/sendsms.jsp';\n\n    var options = {\n      \"params\":{\n        \"user\" : \"mybids\",\n        \"password\" : \"mybids\",\n        \"mobiles\":user.profile.mobile,\n        \"sms\":OPTsmsText,\n        \"senderid\":\"MYBIDS\",\n        \"version\":\"3\"\n      },\n      \"headers\":{\n        //\"X-API-KEY\" : APIKey,\n        //\"X-Auth-Token\" : AUTHToken\n      }\n    }\n    var response  = HTTP.get(APIURL, options)\n\n\n    Meteor.users.update({\n      \"_id\": user._id\n    }, {\n      $currentDate: {\n        \"profile.OTPSentOn\": { $type: \"timestamp\" }\n      },\n      $set: {\n        \"profile.OTPValue\": newOTP\n      }\n    });\n\n\n    return {\n      status: 'Success'\n    }\n\n  },\n  verifyOTP: function(args){\n    check(args, Match.Any);\n    var otp = args[0];\n    console.log(\"server method verifyOTP called\")\n\n    if(!isLoggedOn()){\n      throw new Meteor.Error(500, 'Error 500: Login needed', 'Please login before you request.');\n    }\n\n    const user = Meteor.user();\n\n    if(user.profile.OTPValue){\n      var today = new Date();\n      var OTPSentOn = new Date(user.profile.OTPSentOn);\n      var diffMs = (OTPSentOn - today); // milliseconds between now & Christmas\n      var diffMins = Math.round(((diffMs % 86400000) % 3600000) / 60000); // minutes\n      if(diffMins > 15){//OTP has expired\n        throw new Meteor.Error(500, 'Error 500: OTP has expired', 'Your OTP has expired.');\n      }else{//OTP previous OTP is still valid.\n\n      }\n    }else{\n      throw new Meteor.Error(500, 'Error 500: OTP is not valid', 'You need an OTP to verify.');\n    }\n\n\n    if(user.profile.OTPValue == otp) {\n      Meteor.users.update({\n        \"_id\": user._id\n      }, {\n        $set: {\n          \"profile.isMobileVerified\": true\n        }\n      });\n    }else{\n      throw new Meteor.Error(500, 'Error 500: OTP is not valid', 'OTP entered is wrong.');\n    }\n\n    return {\n      status: 'Success'\n    }\n\n  }\n})\n\nfunction randomString(length, chars) {\n  var mask = '';\n  if (chars.indexOf('a') > -1) mask += 'abcdefghijklmnopqrstuvwxyz';\n  if (chars.indexOf('A') > -1) mask += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  if (chars.indexOf('#') > -1) mask += '0123456789';\n  if (chars.indexOf('!') > -1) mask += '~`!@#$%^&*()_+-={}[]:\";\\'<>?,./|\\\\';\n  var result = '';\n  for (var i = length; i > 0; --i) result += mask[Math.floor(Math.random() * mask.length)];\n  return result;\n}\n","import \"./collections.js\";\nimport {check} from \"meteor/check\";\n// import TokenGen from 'token-gen';\n\nMeteor.methods({\n    addProperty: function(data) {\n        console.log(\"common method addProperty called\")\n\n        const userId = Meteor.userId();\n        console.log(userId)\n\n        if (!userId) {\n            throw new Meteor.Error('not-authorized');\n        }\n\n        var doc = {\n            \"address\" : {\n                \"address\" : getA(data,'address.address'),\n                \"county\" : getA(data,'address.county'),\n                \"area\" : getA(data,'address.area'),\n                \"country\" : \"Ireland\"\n            },\n            \"type\" : getA(data,'type'),\n            \"baths\" : parseInt(getA(data,'baths')),\n            \"furnished\" : getA(data,'furnished')==\"true\" ? true : false,\n            \"contacts\" : [\n                {\n                    \"name\" : getA(data,'contacts.0.name'),\n                    \"phone\" : getA(data,'contacts.0.phone'),\n                    \"email\" : getA(data,'contacts.0.email')\n                }\n            ],\n            \"about\" : getA(data,'about'),\n            \"amenities\" : getA(data,'amenities'),\n            \"createdByAgent\":userId,\n            \"isArchived\":false,\n            \"createdAt\":new Date(),\n            \"updatedAt\":new Date()\n        }\n        var slug = '';\n        if(doc.type)slug = doc.type\n        if(doc.address.address)slug += '-'+doc.address.address\n        if(doc.address.area)slug += '-'+doc.address.area\n        if(doc.address.county)slug += '-'+doc.address.county\n\n        doc.slug = slugify(slug);\n        // {name: \"bedrooms.0.ensuite\", value: \"on\"}\n        // 8\n        // :\n        // {name: \"bedrooms.0.bedType\", value: \"single\"}\n        // \"bedrooms\" : [\n        //     {\n        //         \"bedType\" : \"double\",\n        //         \"ensuite\" : true\n        //     },\n        //     {\n        //         \"bedType\" : \"single\",\n        //         \"ensuite\" : false\n        //     }\n        // ],\n\n        var isImported = getA(data,'isImported')\n        if(isImported=='true'){\n            doc['isImported']=true;\n            let url = getA(data,'url')\n            if(url){\n                doc.importData = {'url':url,'lastCheckedDate':new Date()}\n            }\n        }\n\n        var numBedRoomCount = getA(data,'numBedRoomCount')\n        if( numBedRoomCount ){\n            var bedrooms = [];\n            for(var i=0; i<numBedRoomCount; i++){\n                var bne = \"bedrooms.\"+i+\".ensuite\"\n                var bnt = \"bedrooms.\"+i+\".bedType\"\n                var tmp = {}\n\n                if(getA(data,bne)) tmp.ensuite = true;\n                else tmp.ensuite = false;\n                tmp.bedType = getA(data,bnt);\n\n                bedrooms.push(tmp)\n            }\n            doc['bedrooms'] = bedrooms;\n            doc['bedCount'] = bedrooms.length;\n        }else {\n            doc['bedrooms'] = [];\n            doc['bedCount'] = '1';//default 1\n        }\n\n        var docId = Collections.Properties.insert(doc);\n        //, {validationContext: 'create'}, function(err, res) {\n    //     if (err) {\n    //         throw new Meteor.Error(400, Collections.Properties.simpleSchema().namedContext('create').invalidKeys());\n    //     }\n    //     return res;\n    // });\n        Meteor.call('addManageProperty',docId);//Don't show meteor error as users can also enable this later.\n        return docId;\n    }\n})\nArray.prototype.pushUnique = function (item){\n    if(this.indexOf(item) == -1) {\n        //if(jQuery.inArray(item, this) == -1) {\n        this.push(item);\n        return true;\n    }\n    return false;\n}\nfunction getA(arr,find){\n    if(!Array.isArray(arr))return;\n    var eles = [];\n    for(var i=0;i<arr.length;i++){\n        if(arr[i]['name']==find)eles.push(arr[i]['value'])\n    }\n    if(find=='amenities')return eles;\n    if(eles.lenght>1)return eles;\n    if(eles.lenght==0)return false;\n    return eles[0];\n}\nfunction slugify (text) {\n    if(!text)return '';\n    const a = 'Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§ÃŸÃ¿Å“Ã¦Å•Å›Å„á¹•áºƒÇµÇ¹á¸¿Ç˜áºÅºá¸§Â·/_,:;'\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------'\n    const p = new RegExp(a.split('').join('|'), 'g')\n\n    return text.toString().toLowerCase()\n        .replace(/\\s+/g, '-')           // Replace spaces with -\n        .replace(p, c =>\n            b.charAt(a.indexOf(c)))     // Replace special chars\n        .replace(/&/g, '-and-')         // Replace & with 'and'\n        .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\n        .replace(/^-+/, '')             // Trim - from start of text\n        .replace(/-+$/, '')             // Trim - from end of text\n}","import \"./collections.js\";\n\nif (Meteor.isClient) {\n\n}\n\n//PUBLICATIONS\nif (Meteor.isServer) {\n    Meteor.publish(\"PropertyManage\", function (terms) {\n        var parameters = queryConstructor(terms);\n        if(parameters.fail) {return [];this.ready();}\n        return Collections.PropertyManage.find(parameters.find, parameters.options);\n    });\n    Meteor.publish(\"ActivityHistory\", function (terms) {\n        // console.log('ActivityHistory');\n\n        return Collections.ActivityHistory.find( {propertyId:terms.id}, {limit: terms.limit,sort: { createdAt : -1 }});\n    });\n    Meteor.publish(\"avgOffer\", function(auctionId) {\n        // console.log(\"Subscribed: auctionId: \"+auctionId)\n        // var self = this;\n        // var handle = Collections.Bids.aggregate([\n        //     { $match : { \"auctionId\" : auctionId } },\n        //     { $group : {\n        //             '_id': this.userId,\n        //             'avgOffer': {\n        //                 // In this case, we're running summation.\n        //                 $avg: '$yourBid'\n        //             }\n        //         }\n        //     }\n        // ]).forEach(function(data) {\n        //     self.added('avgOffer', 'first', data);\n        // });\n\n        ReactiveAggregate(this, Collections.Bids,[\n            { $match : { \"auctionId\" : auctionId } },\n            { $group : {\n                    '_id': this.userId,\n                    'avgOffer': {\n                        // In this case, we're running summation.\n                        $avg: '$yourBid'\n                    }\n                }\n            }\n        ] , { clientCollection: \"avgOffer\" }\n        );\n\n    });\n    Meteor.publish(\"Property\", function (terms) {\n        // console.log('Property');\n        var parameters = queryConstructor(terms);\n        // console.log(parameters.find)\n        // console.log(parameters.options)\n        // console.log(Collections.Properties.find(parameters.find, parameters.options).count())\n        if(parameters.fail) {return [];this.ready();}\n        return Collections.Properties.find(parameters.find, parameters.options);\n    });\n    Meteor.publish(\"userData\", function () {\n        if(!this.userId)return []; //Need to login\n        // 'services.password':1,Don use this , we have a method for this\n        return Meteor.users.find({_id: this.userId},{\n            limit:1,â€¨\n            fields: {â€¨\n            'services.facebook.id':1,\n            'services.twitter.screenName':1,\n            'services.linkedin.publicProfileUrl':1,\n            'services.google.id':1,\n            'createdAt':1,â€¨\n            'lastLoginDate':1,â€¨\n            'profile':1â€¨,\n            'isSA':1â€¨,\n            },\n        }\n        )\n    });\n    Meteor.publish(\"userDataUsername\", function (username) {\n        if(!username)return [];\n        var ret = Meteor.users.find({ \"profile.username\":username },{\n            limit:1,\n            fields: {\n                'createdAt':1,\n                'lastLoginDate':1,\n                'profile.name':1,\n                'profile.email':1,\n                'profile.role':1,\n                'profile.picture':1,\n                'profile.mobile':1,\n                'profile.isPublic':1,\n                'profile.username':1,\n            }\n        });\n        var user = ret.fetch();\n        // console.log(username)\n        // console.log(user)\n        if(!user.length){ return [];}\n        try{\n        if(user[0].profile.isPublic){//If public then include social info as well.\n            return  Meteor.users.find({ \"profile.username\":username },{\n                limit:1,\n                fields: {\n                    'createdAt':1,\n                    'lastLoginDate':1,\n                    'profile':1,\n                    'services.facebook.id':1,\n                    'services.twitter.screenName':1,\n                    'services.linkedin.publicProfileUrl':1,\n                    'services.google.id':1,\n                }\n            });\n        }\n        }catch(e){\n            console.log(e)\n        }\n        return ret;\n    });\n    Meteor.publish(\"allUserData\", function () {\n        return Meteor.users.find({}, {\n            fields: {\n                'createdAt':1,\n                'lastLoginDate':1,\n                'profile':1,\n                'services.facebook.id':1,\n                'services.twitter.screenName':1,\n                'services.linkedin.publicProfileUrl':1,\n                'services.google.id':1\n            }\n        });//fields: {'nested.things': 1}\n    });\n    Meteor.publish(\"tenants\", function (pageno) {\n        var pg = 1;\n        try{pg = parseInt(pageno);}catch(e){}\n        if(isNaN(pg))pg = 1;\n        var resperpage = 10;\n        var skip = (pg-1)*resperpage;\n\n        return Meteor.users.find({ \"profile.isPublic\":true },{\n            skip:skip,\n            limit:resperpage,\n            fields: {\n                'createdAt':1,\n                'lastLoginDate':1,\n                'profile.name':1,\n                'profile.email':1,\n                'profile.role':1,\n                'profile.picture':1,\n                'profile.mobile':1,\n                'profile.isPublic':1,\n                'services.facebook.id':1,\n                'services.twitter.screenName':1,\n                'services.linkedin.publicProfileUrl':1,\n                'services.google.id':1,\n                // 'profile.username':1,\n            }\n        });\n    });\n\n    Meteor.publish(\"browseLettings\", function (terms) {\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n\n        var auctions = [],properties = [];\n        parameters.options.fields = {\n            address:1,\n            createdByAgent:1,\n            type:1,\n            createdAt:1,\n            updatedAt:1,\n            isArchived:1,\n            auctionId:1,\n            slug:1,\n            bedCount:1,\n            baths:1,\n            rent:1,\n            rentType:1,\n            gallery:1\n        };\n\n        // console.log('property key is')\n        // console.log(parameters.propertykey)\n        if(parameters.propertykey)\n        if(parameters.propertykey.length>0){\n            console.log('inside propertykey')\n            auctions = Collections.Auctions.find({lettingAuctionCode:{$in:parameters.propertykey},isArchived:false},parameters.options)\n            var tmp = auctions.fetch();\n\n            var propertyIds = [];\n            for(var i=0;i<tmp.length;i++){\n                propertyIds.push(tmp[i].propertyId);\n                if(i>parameters.options.limit)break;\n            }\n\n            properties = []\n            if(propertyIds.length){\n                properties = Collections.Properties.find({_id:{$in:propertyIds}},{\n                    limit:parameters.options.limit,\n                    sort:parameters.options.sort\n                })\n            }\n            if(!propertyIds.length)return [];\n            return [properties, auctions];\n        }\n\n        parameters.find.isArchived = false;\n        parameters.find.auctionId = {$exists:true, $gt: \"\" };//if we don' put $gt, then its also giving results of records with empty vals - but we don' need deactivated properties\n        if(parameters.minRent && parameters.maxRent){\n            parameters.find.rent = {$gte:parseInt(parameters.minRent),$lte:parseInt(parameters.maxRent)}\n        }else if (parameters.minRent){\n            parameters.find.rent = {$gte:parseInt(parameters.minRent)}\n        }else if (parameters.maxRent){\n            parameters.find.rent = {$lte:parseInt(parameters.maxRent)}\n        }\n        if(parameters.minBeds && parameters.maxBeds){\n            parameters.find.bedCount = {$gte:parseInt(parameters.minBeds),$lte:parseInt(parameters.maxBeds)}\n        }else if (parameters.minBeds){\n            parameters.find.bedCount = {$gte:parseInt(parameters.minBeds)}\n        }else if (parameters.maxBeds){\n            parameters.find.bedCount = {$lte:parseInt(parameters.maxBeds)}\n        }else if(parameters.bedCount && !isNaN(parameters.bedCount)){\n            parameters.find.bedCount = parseInt(parameters.bedCount)\n        }\n\n        // console.log('In browseLettings start')\n        // console.log(parameters.find)\n        // console.log(parameters.options)\n        // console.log(Collections.Properties.find(parameters.find, parameters.options).count())\n        // console.log('In browseLettings end')\n\n        properties = Collections.Properties.find(parameters.find,parameters.options)\n        var tmp = properties.fetch();\n\n        var propertyIds = [];\n        for(var i=0;i<tmp.length;i++){\n            propertyIds.push(tmp[i].auctionId);\n            if(i>parameters.options.limit)break;\n        }\n\n        auctions = []\n        if(propertyIds.length){\n            auctions = Collections.Auctions.find({_id:{$in:propertyIds}},{\n                limit:parameters.options.limit,\n                sort:parameters.options.sort\n            })\n        }\n\n        if(!propertyIds.length)return properties;\n        return [properties, auctions];\n    });\n    Meteor.publish(\"total-houses-for-rent-count\",function(terms){\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n\n        parameters.options.fields = {_id:1};\n\n        if(parameters.propertykey) {\n            if (parameters.propertykey.length > 0) {\n\n                Counts.publish(this,\"total-houses-for-rent-count\",Collections.Auctions.find({\n                    lettingAuctionCode: {$in: parameters.propertykey},\n                    isArchived: false\n                }),parameters.options);\n\n            }\n        }else{\n            parameters.find.isArchived = false;\n            parameters.find.auctionId = {$exists:true, $gt: \"\" };//if we don' put $gt, then its also giving results of records with empty vals - but we don' need deactivated properties\n            if(parameters.minRent && parameters.maxRent){\n                parameters.find.rent = {$gte:parseInt(parameters.minRent),$lte:parseInt(parameters.maxRent)}\n            }else if (parameters.minRent){\n                parameters.find.rent = {$gte:parseInt(parameters.minRent)}\n            }else if (parameters.maxRent){\n                parameters.find.rent = {$lte:parseInt(parameters.maxRent)}\n            }\n            if(parameters.minBeds && parameters.maxBeds){\n                parameters.find.bedCount = {$gte:parseInt(parameters.minBeds),$lte:parseInt(parameters.maxBeds)}\n            }else if (parameters.minBeds){\n                parameters.find.bedCount = {$gte:parseInt(parameters.minBeds)}\n            }else if (parameters.maxBeds){\n                parameters.find.bedCount = {$lte:parseInt(parameters.maxBeds)}\n            }else if(parameters.bedCount && !isNaN(parameters.bedCount)){\n                parameters.find.bedCount = parseInt(parameters.bedCount)\n            }\n            // console.log('In count start')\n            // console.log(parameters.find)\n            // console.log(parameters.options)\n            // console.log(Collections.Properties.find(parameters.find, parameters.options).count())\n            // console.log('In count end')\n\n            Counts.publish(this,\"total-houses-for-rent-count\",Collections.Properties.find(parameters.find),parameters.options);\n        }\n    });\n\n    Meteor.publish(\"viewLetting\", function (key) {\n\n        // var auctions = Collections.Auctions.find({lettingAuctionCode:key,isArchived:false},{\n        var auctions = Collections.Auctions.find({lettingAuctionCode:key},{\n            limit:1\n        })\n        var tmp = auctions.fetch();\n\n        var properties = [],bids=[],mainProperty={},relatedPropsTmp=[],maxRel = 5,//Max rel always needs to be 1 number higher than the req, due to the logic below.\n            relPropIds = [],relAuctionIds = [],i=0\n        try{\n            relPropIds.push(tmp[0].propertyId);\n            relAuctionIds.push(tmp[0]._id);\n\n            bids = Collections.Bids.find({auctionId:tmp[0]._id},{\n                limit:100,\n                sort: {updatedAt: -1}\n            })\n\n            //////// RELATED PROPS\n            mainProperty = Collections.Properties.findOne({_id:tmp[0].propertyId});\n            var notArr = [mainProperty._id]\n            var filters = {\n                \"type\":mainProperty.type,\n                \"address.county\":mainProperty.address.county,\n                \"address.area\":mainProperty.address.area,\n                \"auctionId\": {$exists:true, $gt: \"\" },\n                \"isArchived\":false,\n                \"_id\": { $not: { $in: relPropIds } }\n            }\n\n            relatedPropsTmp = Collections.Properties.find(filters,{fields:{_id:1,auctionId:1},limit:maxRel}).fetch();\n            for(i=0;i<relatedPropsTmp.length;i++){\n                relPropIds.push(relatedPropsTmp[i]._id);\n                relAuctionIds.push(relatedPropsTmp[i].auctionId)\n            }\n\n            if(relPropIds.length<maxRel) {\n                delete filters[\"address.area\"];\n                filters[\"_id\"] = { $not: { $in: relPropIds } };\n                relatedPropsTmp = Collections.Properties.find(filters, {\n                    fields: {_id: 1,auctionId:1},\n                    limit: (maxRel - relPropIds.length)\n                }).fetch();\n                for (i = 0; i < relatedPropsTmp.length; i++){ relPropIds.push(relatedPropsTmp[i]._id); relAuctionIds.push(relatedPropsTmp[i].auctionId)}\n            }\n            if(relPropIds.length<maxRel) {\n                delete filters[\"address.county\"];\n                filters[\"_id\"] = { $not: { $in: relPropIds } };\n                relatedPropsTmp = Collections.Properties.find(filters, {\n                    fields: {_id: 1,auctionId:1},\n                    limit: (maxRel - relPropIds.length)\n                }).fetch();\n                for (i = 0; i < relatedPropsTmp.length; i++){ relPropIds.push(relatedPropsTmp[i]._id); relAuctionIds.push(relatedPropsTmp[i].auctionId)}\n            }\n            if(relPropIds.length<maxRel) {\n                delete filters[\"type\"];\n                filters[\"_id\"] = { $not: { $in: relPropIds } };\n                relatedPropsTmp = Collections.Properties.find(filters, {\n                    fields: {_id: 1,auctionId:1},\n                    limit: (maxRel - relPropIds.length)\n                }).fetch();\n                for (i = 0; i < relatedPropsTmp.length; i++){ relPropIds.push(relatedPropsTmp[i]._id); relAuctionIds.push(relatedPropsTmp[i].auctionId)}\n            }\n\n\n            properties = Collections.Properties.find({_id:{$in:relPropIds}},{\n                limit:(maxRel+1)})\n            auctions = Collections.Auctions.find({_id:{$in:relAuctionIds}},{\n                limit:(maxRel+1)})\n        }catch(e){\n            console.log(e);\n        }\n\n        if(!tmp.length)return [];\n        return [properties, auctions,bids];\n    });\n\n    let transformMyActiveAdvertisements = (data) => {\n        // console.log('in transformMyActiveAdvertisements');\n        // console.log(data.propertyId)\n        data.property = Collections.Properties.findOne(data.propertyId,{\n            fields:{\n                address:1,\n                createdByAgent:1,\n                createdAt:1,\n                updatedAt:1,\n                isArchived:1,\n                auctionId:1\n            }\n        });\n        return data;\n    };\n    Meteor.publish(\"inviteToApply.MyActiveAdvertisements\", function () {\n        if(!this.userId)return []; //Need to login\n\n        var self = this;\n        let subHandle = Collections.Auctions\n            .find()\n            .observeChanges({\n                added: (id, fields) => {\n                    fields = transformMyActiveAdvertisements(fields);\n                    this.added('Auctions', id, fields);\n                },\n                changed: (id, fields) => {\n                    this.changed('Auctions', id, fields);\n                },\n                removed: (id) => {\n                    this.removed('Auctions', id);\n                }\n            });\n        this.ready();\n        this.onStop(() => {\n            subHandle.stop();\n        });\n\n        self.ready();\n    });\n\n    Meteor.publish(\"MyProperties\", function (terms) {\n        console.log('In MyProperties Publish ');\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n        if(!this.userId)return [];\n\n        find = {}\n        find['createdByAgent'] = {$in:[this.userId,'demoproperty']}\n        find['isArchived'] = false\n        if(terms.onlyActive)find.auctionId = {$exists:true, $gt: \"\" };\n\n        var properties = Collections.Properties.find(find, parameters.options)\n\n        var relAuctionIds = []\n        var props = properties.fetch();\n        for(var i=0;i<props.length;i++)if(props[i].auctionId)relAuctionIds.push(props[i].auctionId)\n\n        var auctions = Collections.Auctions.find({_id:{$in:relAuctionIds}},{limit:(parameters.options.limit?parameters.options.limit+2:22) } )\n        var bids = Collections.Bids.find({auctionId:{$in:relAuctionIds}},{limit:(parameters.options.limit?parameters.options.limit+2:22) } )\n\n        return [properties,\n            auctions,\n            bids\n        ];\n\n        this.ready();\n    });\n    Meteor.publish(\"total-MyProperties\", function (terms) {\n        if(!this.userId)return [];\n\n        find = {}\n        find['createdByAgent'] = {$in:[this.userId,'demoproperty']}\n        find['isArchived'] = false\n        if(terms.onlyActive)find.auctionId = {$exists:true, $gt: \"\" };\n\n        Counts.publish(this,\"total-MyProperties\",Collections.Properties.find(find));\n    });\n\n    Meteor.publish(\"PropertyApplications\", function (terms) {\n\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n        if(!this.userId)return [];\n\n        find = {_id:parameters.id}\n        find['isArchived'] = false\n\n        let properties = Collections.Properties.find(find, {limit:1})\n        let tmp = properties.fetch();\n        if(tmp.length==0)return [];\n\n        let auctionId = tmp[0].auctionId;\n        let propertyId = tmp[0]._id;\n\n\n        // console.log('In PropertyApplications start')\n        // console.log(parameters)\n        // console.log('Auctions')\n        // console.log(Collections.Auctions.find({_id:auctionId,isArchived:false},{limit:1 } ).count())\n        // console.log(Collections.Bids.find({auctionId:auctionId,isArchived:false},parameters.propertyApplications.options ).count())\n        // console.log(Collections.EmailEnquiries.find({propertyId:propertyId,isArchived:false},parameters.emailEnquiries.options ).count())\n        // console.log('In PropertyApplications end')\n\n        let auctions = Collections.Auctions.find({_id:auctionId,isArchived:false},{limit:1 } )\n        tmp = auctions.fetch();\n        if(tmp.length==0)return [];\n\n        let bids = Collections.Bids.find({auctionId:auctionId,isArchived:false},parameters.propertyApplications.options )\n\n        let EmailEnquiries = Collections.EmailEnquiries.find({propertyId:propertyId,isArchived:false},parameters.emailEnquiries.options )\n\n        tmp = bids.fetch();\n        let userIds = []\n        for(let j=0; j< tmp.length ; j++){\n            userIds.push(tmp[j].userId);\n        }\n        let users = Meteor.users.find({_id:this.userId})\n        if(parameters.emailEnquiries)\n            users = Meteor.users.find({_id:{$in: userIds}},{limit: parameters.emailEnquiries.options.limit,fields: {\n                    'services.facebook.id':1,\n                    'services.twitter.screenName':1,\n                    'services.linkedin.publicProfileUrl':1,\n                    'services.google.id':1,\n                    'createdAt':1,\n                    'lastLoginDate':1,\n                    'profile':1â€¨,\n                    'isSA':1â€¨,\n                } })// just need the limit from there.\n\n\n        return [properties,\n            auctions,\n            bids,\n            EmailEnquiries,\n            users\n        ];\n\n        this.ready();\n    });\n    Meteor.publish(\"total-PropertyApplications\", function (terms) {\n\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n        if(!this.userId)return [];\n\n        find = {_id:parameters.id}\n        find['isArchived'] = false\n\n        let properties = Collections.Properties.find(find, {limit:1})\n        let tmp = properties.fetch();\n        if(tmp.length==0)return [];\n\n        let auctionId = tmp[0].auctionId;\n        let propertyId = tmp[0]._id;\n\n        Counts.publish(this,\"total-PropertyApplications\",Collections.Bids.find({auctionId:auctionId,isArchived:false}),parameters.propertyApplications.options)\n    });\n    Meteor.publish(\"total-EmailEnquiries\", function (terms) {\n\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n        if(!this.userId)return [];\n\n        find = {_id:parameters.id}\n        find['isArchived'] = false\n\n        let properties = Collections.Properties.find(find, {limit:1})\n        let tmp = properties.fetch();\n        if(tmp.length==0)return [];\n\n        let auctionId = tmp[0].auctionId;\n        let propertyId = tmp[0]._id;\n\n        Counts.publish(this,\"total-EmailEnquiries\",Collections.EmailEnquiries.find({propertyId:propertyId,isArchived:false}),parameters.emailEnquiries.options)\n    });\n    Meteor.publish(\"Advertisement\", function (advertisementId) {\n        let validationSuccess = false;\n        if(advertisementId.length > 12 && advertisementId.length < 20)validationSuccess=true\n\n        if(!validationSuccess) return [];\n        else return Collections.Auctions.find({_id:advertisementId,isArchived:false}, {limit:1});\n\n        this.ready();\n    });\n    Meteor.publish(\"MyAdvertisements\", function (terms) {\n\n        var parameters = queryConstructor(terms);\n\n        if(parameters.fail) {return [];this.ready();}\n        if(!this.userId)return [];\n\n        return Collections.Auctions.find({createdByAgent:{$in:[this.userId,'demoproperty']},isArchived:false}, parameters.options);\n\n        this.ready();\n    });\n    Meteor.publish(\"editProperty\", function (propertyId) {\n        if(!this.userId)return [];\n\n        var auctions = Collections.Auctions.find({isArchived:false,propertyId:propertyId},{\n            transform:function(doc){\n                if(doc.createdByAgent!=this.userId){\n                    return {\n                        _id:doc._id,\n                        propertyId:doc.propertyId,\n                        createdByAgent:doc.createdByAgent\n                    }\n                }\n            },\n            limit:1\n        })\n\n        var properties = Collections.Properties.find({isArchived:false,_id:propertyId},{\n            transform:function(doc){\n                if(doc.createdByAgent!=this.userId){\n                    return {\n                        _id:doc._id,\n                        propertyId:doc.propertyId\n                    }\n                }\n            },\n            limit:1\n        })\n\n        return [auctions,properties];\n    });\n    Meteor.publish(\"propertyApplication\", function (propertyId,auctionId) {\n        if(!this.userId)return [];\n\n        var properties = Collections.Properties.find({isArchived:false,_id:propertyId},{\n            transform:function(doc){\n                if(doc.createdByAgent!=this.userId){\n                    return {\n                        _id:doc._id,\n                        propertyId:doc.propertyId,\n                        invalidAgent:true\n                    }\n                }\n            },\n            limit:1\n        })\n\n        var auctionIDTmp = '';var invalidAgentProp = false;\n        var tmp = properties.fetch()\n        try{\n            auctionIDTmp = tmp[0].auctionId;\n            if(tmp[0].invalidAgent)invalidAgentProp=true\n        }catch(e){}\n\n        if(!tmp.length || invalidAgentProp){//Property not found, no need to find auction\n            console.log(\"invalidAgentProp: \"+invalidAgentProp)\n            console.log(\"tmp.length: \"+tmp.length)\n            return [];\n        }\n\n\n        if(auctionId)auctionIDTmp=auctionId\n\n        var auctions = Collections.Auctions.find({isArchived:false,_id:auctionIDTmp},{\n            transform:function(doc){\n                if(doc.createdByAgent!=this.userId){\n                    return {\n                        _id:doc._id,\n                        propertyId:doc.propertyId,\n                        createdByAgent:doc.createdByAgent\n                    }\n                }\n            },\n            limit:1\n        })\n\n        var tmp = properties.fetch()\n        if(!tmp.length){\n            return [];\n        }\n\n        var bids = Collections.Bids.find({isArchived:false, _id:auctionIDTmp},{\n            transform:function(doc){\n                if(doc.createdByAgent!=this.userId){\n                    return {\n                        _id:doc._id,\n                        propertyId:doc.propertyId,\n                        createdByAgent:doc.createdByAgent\n                    }\n                }\n            },\n            limit:1\n        })\n\n        return [auctions,properties];\n    });\n    Meteor.publish(\"Areas\", function (c1,c2,c3,c4,c5) {\n        // For ireland\n        // c1: Territory: like UK for ireland, its empty\n        // c2: Country => Ireland\n        // c3: County => Dublin / City\n        // c4: Sub County => Dublin 1\n        // c5: Area => Baltinglass\n        // console.log('Vals are c3: '+c3)\n        // return [];\n        var selector = {},paramReceived = false;\n        if(c1){paramReceived=true;selector['Territory']=c1;}\n        if(c2){paramReceived=true;selector['Country']=c2;}\n        if(c3){paramReceived=true;selector['County']=c3;}\n        if(c4){paramReceived=true;selector['Sub County']=c4;}\n        if(c5){paramReceived=true;selector['Area']=c5;}\n        if(!paramReceived){//Don't send all area info, for performance reasons. \n            // console.log('in if c3: '+c3)\n            return [];\n        }else{ \n            // console.log('in else c3: '+c3)\n            // console.log(selector)\n            return Collections.Areas.find(selector, {});}\n        this.ready();\n    });\n\n    Meteor.publish(\"browseBlogs\", function (terms) {\n        var parameters = queryConstructor(terms);\n        if(parameters.fail) {return [];this.ready();}\n\n        parameters.find.isArchived = false;\n\n        var Blogs = Collections.Blogs.find(parameters.find,parameters.options)\n        return Blogs;\n        this.ready();\n    });\n    Meteor.publish(\"total-blogs-count\",function(terms){\n        var parameters = queryConstructor(terms);\n        if(parameters.fail) {return [];this.ready();}\n\n        parameters.find.isArchived = false;\n\n        Counts.publish(this,\"total-blogs-count\",Collections.Blogs.find(parameters.find),{fields:{_id:1}});\n    });\n    Meteor.publish(\"viewBlog\", function (key) {\n\n        if(!key)return [];\n\n        var tmp = Collections.Blogs.findOne({slug:key},{\n            limit:1\n        })\n        if(!tmp || !tmp._id){\n            return []; //Blog not found.\n        }\n\n        let notArr = [], Blogs = [],recentBlogsTmp = [],relBlogIds=[],i=0,maxRecent = 4\n        try{\n            notArr.push(tmp.wpId);\n            relBlogIds.push(tmp._id);\n            for(i=0; i< tmp.related.length;i++ ){\n                notArr.push(tmp.related[i].wpId);\n            }\n            var filters = {\n                \"isArchived\":false,\n                \"wpId\": { $not: { $in: notArr } }\n            }\n            recentBlogsTmp = Collections.Blogs.find(filters,{fields:{_id:1,wpId:1},limit:maxRecent}).fetch();\n            for(i=0;i<recentBlogsTmp.length;i++){\n                relBlogIds.push(recentBlogsTmp[i]._id);\n            }\n\n            Blogs = Collections.Blogs.find({_id:{$in:relBlogIds}},{\n                limit:(maxRecent+1),\n                // sort:{updatedAt : -1} // Not needed, anyway, it will send records to UI without order. and IDs are definitly specified.\n            })\n        }catch(e){\n            console.log(e);\n        }\n\n        return Blogs;this.ready();\n\n    });\n\n\n    Meteor.publish(\"Properties\", function () {\n\n        let Properties = Collections.Properties;\n        let selector = {};\n        return Properties.find(selector, {});\n\n        this.ready();\n    });\n    Meteor.publish(\"Bids\", function () {\n        //if (this.userId) {\n        //  let Projects = Collections.Bids;\n        //  //let selector = {\"userId\":this.userId};\n        //  let selector = {};//We need to query even when he isn't logged in.\n        //  return Projects.find(selector, {});\n        //}else {\n        //    // Declare that no data is being published. If you leave this line\n        //    // out, Meteor will never consider the subscription ready because\n        //    // it thinks you're using the added/changed/removed interface where\n        //    // you have to explicitly call this.ready().\n        //    return [];\n        //  }\n        let Projects = Collections.Bids;\n        let selector = {};\n        return Projects.find(selector, {});\n        this.ready();\n    });\n    Meteor.publish(\"MyBids\", function () {\n        if (this.userId) {\n            let Projects = Collections.Bids;\n            let selector = {\"userId\":this.userId};\n            //let selector = {};//We need to query even when he isn't logged in.\n            return Projects.find(selector, {});\n        }else {\n            // Declare that no data is being published. If you leave this line\n            // out, Meteor will never consider the subscription ready because\n            // it thinks you're using the added/changed/removed interface where\n            // you have to explicitly call this.ready().\n            return [];\n        }\n    });\n    Meteor.publish(\"Auctions\", function () {\n\n        let Projects = Collections.Auctions;\n        let selector = {};\n        return Projects.find(selector, {});\n\n        this.ready();\n    });\n    Meteor.publish(\"Config\", function () {\n\n        let Projects = Collections.Config;\n        let selector = {};\n        return Projects.find(selector, {});\n\n        this.ready();\n    });\n    // Meteor.publish(\"Payments\", function () {\n    //\n    //     if (this.userId) {\n    //         let Payments = Collections.Payments;\n    //         let selector = {\"userId\":this.userId};\n    //         //let selector = {};//We need to query even when he isn't logged in.\n    //         return Payments.find(selector, {});\n    //\n    //         this.ready();\n    //     }else {\n    //         let Payments = Collections.Payments;\n    //         let selector = {};\n    //         return Payments.find(selector, {});\n    //\n    //         this.ready();\n    //     }\n    // });\n    //Meteor.publish(\"MyBids\", function () {//NOT WORKING IN PUBLISH, HAS TO DO IN CLIENT\n    //\n    //  if (this.userId) {//userId is null if no user is logged in.\n    //    let Bids = Collections.Bids;\n    //    //const userId = Meteor.userId();\n    //    let selector = {\"userId\":this.userId};\n    //    return Bids.find(selector, {\n    //      transform: function(doc) {\n    //        doc.unit = Collections.Units.findOne({\n    //          _id: doc.unitId\n    //        });\n    //        doc.auction = Collections.Auctions.findOne({\n    //          _id: doc.auctionId\n    //        });\n    //        doc.project = Collections.Properties.findOne({\n    //          _id: doc.unit.projectId\n    //        });\n    //        return doc;\n    //      },\n    //      sort: {\n    //        createdAt: -1\n    //      }\n    //\n    //    });\n    //  } else {\n    //    // Declare that no data is being published. If you leave this line\n    //    // out, Meteor will never consider the subscription ready because\n    //    // it thinks you're using the added/changed/removed interface where\n    //    // you have to explicitly call this.ready().\n    //    return [];\n    //  }\n    //  this.ready();\n    //});\n    // Meteor.publish('Meteor.users.initials', function ({ userIds }) {\n    //     // Validate the arguments to be what we expect\n    //     new SimpleSchema({\n    //         userIds: { type: [String] }\n    //     }).validate({ userIds });\n    //\n    //     // Select only the users that match the array of IDs passed in\n    //     const selector = {\n    //         _id: { $in: userIds }\n    //     };\n    //\n    //     // Only return one field, `initials`\n    //     const options = {\n    //         fields: { initials: 1 }\n    //     };\n    //\n    //     return Meteor.users.find(selector, options);\n    // });\n}","import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\nimport { mount } from 'react-mounter';\n\nif(Meteor.isClient)Session.set('subscriptionsReady',false);\n\n\n// Search 1000s of houses, apartments & properties for sale and to rent from all leading estate agents\n//SpotMyCrib helps you find your dream house in the easiest way possible. You get to set your rent when you apply for the house, apartment or property online with leading estate agents/landlords in Ireland. Experience the safest, transparent and innovative rental process in Ireland.\ngeneralDesc = \"Find your dream house in the easiest way possible. Set your rent when you apply for the house, apartment or property online with leading estate agents/landlords in Ireland. Experience the safest, transparent and innovative rental process in Ireland. SpotMyCrib.\";\n\nFlowRouter.route('/', {\n    name: \"home\",\n    action() {\n        if (Meteor.isClient) BlazeLayout.reset()\n        import Home from '../imports/reactui/pages/Home.jsx';\n        clearMeta();\n        DocHead.setTitle('SpotMyCrib - Safe and easy rentals');\n        DocHead.addMeta({name: \"description\", content: generalDesc} );\n\n        mount(Home, {content: 'test'});\n    }\n});\nFlowRouter.route('/rent/:slug/:key', {\n    name: 'rent',\n    action(params, queryParams) {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        import LettingDetail from '../imports/reactui/pages/LettingDetail.jsx';\n        mount(LettingDetail);\n\n    }\n});\nFlowRouter.route('/blog/:pageno?', {\n    name: 'bloghome',\n    action(params, queryParams) {\n        if (Meteor.isClient) BlazeLayout.reset()\n        import BlogHome from '../imports/reactui/pages/BlogHome.jsx';\n        clearMeta();\n        DocHead.setTitle('Blog - SpotMyCrib - Property renting tips, management and much more');\n        DocHead.addMeta({name: \"description\", content: \"Browse through the latest property news, renting tips, management and much more.\"} );\n\n        mount(BlogHome);\n    }\n});\nFlowRouter.route('/article/:slug', {\n    name: 'blogdetail',\n    action(params, queryParams) {\n        if (Meteor.isClient) BlazeLayout.reset()\n        import BlogDetail from '../imports/reactui/pages/BlogDetail.jsx';\n        mount(BlogDetail);\n    }\n});\nFlowRouter.route('/letting/:key', {\n    name: 'letting',\n    action(params, queryParams) {\n        if (Meteor.isClient) BlazeLayout.reset()\n        import LettingDetail from '../imports/reactui/pages/LettingDetail.jsx';\n        mount(LettingDetail);\n\n    }\n});\nFlowRouter.route('/advertisewithus/:pageno?', {\n    name: \"advertisewithus\",\n    action(params, queryParams) {\n        var curStep = parseInt(params.pageno); if(!curStep)curStep=1;\n\n        clearMeta();\n        var title = \"Advertise with us\";\n        if(curStep==2)title +=' (step 2 of 3)'\n        if(curStep==3)title +=' (step 3 of 3)'\n        DocHead.setTitle(title+' | SpotMyCrib');\n        var description = 'List your property to rent in SpotMyCrib. Let thousands of verified tenants apply for your letting. Choose if you are a landlord, agent or the current tenant looking for a replacement so you can move.';\n        DocHead.addMeta({name: \"description\", content: description} );\n\n        let curStepComponent = 'AwsStep1';\n        switch(curStep){\n            case 1://advertiseWithUsFormDelayedRan1st = false;\n                curStepComponent = 'AwsStep1';break;\n            case 2:curStepComponent =  'AwsStep2';break;\n            case 3:curStepComponent =  'AwsStep3';break;\n        }\n        if (Meteor.isClient) BlazeLayout.reset()\n        import AdvertiseWithUs from '../imports/reactui/pages/AdvertiseWithUs.jsx';\n        mount(AdvertiseWithUs, {curStepComponent: curStepComponent});\n    }\n});\nFlowRouter.route('/b/:slug/:pageno?', {\n    name: \"b\",\n    action(params, queryParams) {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        if(!params.slug || params.slug.indexOf('-in-')==-1){\n            var prevRoute = {name: 'home',args:{scrollTo:0} }\n            if(Meteor.isClient)Session.set('prevRoute',prevRoute);\n            FlowRouter.go('pagenotfound');\n            return;\n        }\n\n        import HousesForrent from '../imports/reactui/pages/HousesForrent.jsx';\n        mount(HousesForrent);\n    }\n});\nFlowRouter.route('/joinnow', {\n    name: 'joinnow',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            clearMeta();\n            DocHead.setTitle('Join Now | SpotMyCrib');\n            var description = 'Login to your account or create an account in SpotMyCrib to apply for a letting, update your references and social profiles.';\n            DocHead.addMeta({name: \"description\", content: description} );\n\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'loginPageHorizontal' });\n        }\n        // BlazeLayout.render('loading');\n\n    }\n});\nFlowRouter.route('/joinnow-landlord', {\n    name: 'joinnowlandlord',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n            clearMeta();\n            DocHead.setTitle('Landlord Join Now | SpotMyCrib');\n            var description = 'Login to your account or create an account in SpotMyCrib to manage your lettings and advertise your property.';\n            DocHead.addMeta({name: \"description\", content: description} );\n\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'loginPageHorizontal',dataContext :{isLandlordMode:true} });\n        }\n        // BlazeLayout.render('loading');\n\n    }\n});\nvar accountRoutes = FlowRouter.group({\n    prefix: '/account',\n    name: 'account',\n    triggersEnter: [function(context, redirect) {\n        // console.log('running account group triggers');\n    }]\n});\naccountRoutes.route('/myproperies/:pageno?', {\n    name: 'account/myProperties',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n            clearMeta();\n            DocHead.setTitle('My properties | SpotMyCrib Admin');\n            DocHead.addMeta({name: \"description\", content: \"View list of your properties, activate them, print their keys, view their applications, etc.\"} );\n\n            import '../imports/ui/templates/myProperties.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'myProperties' });\n        }\n\n    }\n});\naccountRoutes.route('/editproperty/:id', {\n    name: 'account/editproperty',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            import '../imports/ui/templates/editProperty.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'editProperty' });\n        }\n\n    }\n});\naccountRoutes.route('/propertyapplications/:id/:pageno?', {\n    name: 'account/propertyApplications',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            import '../imports/ui/templates/propertyApplications.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'propertyApplications' });\n        }\n\n    }\n});\naccountRoutes.route('/manageproperty/:id/:pageno?', {\n    name: 'account/propertyManage',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            import '../imports/ui/templates/propertyManage.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'propertyManage' });\n        }\n\n    }\n});\naccountRoutes.route('/profile', {\n    name: 'account/profile',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            import '../imports/ui/templates/profile.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'profile' });\n        }\n\n    }\n});\nFlowRouter.route('/lettingprintview/:key', {\n    name: 'lettingprintview',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            import '../imports/ui/templates/lettingprintview.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactPlainLayout', { templateName: 'lettingprintview' });\n        }\n    }\n});\nFlowRouter.route('/tenant/:username', {\n    name: 'tenant',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            import '../imports/ui/templates/tenant.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'tenant' });\n        }\n\n    }\n});\nFlowRouter.route('/tenants/:pageno?', {\n    name: 'tenants',\n    action () {\n        if(Meteor.isServer)return;\n        if(Meteor.isClient) {\n            import '../imports/ui/layout/layout.js'\n\n            DocHead.setTitle('Tenant database | SpotMyCrib');\n            var description = 'View list of interested tenant profiles, their references and social profiles. Invite them to apply for your letting advertisement.';\n            DocHead.addMeta({name: \"description\", content: description} );\n\n            import '../imports/ui/templates/tenants.js';\n            mount(() => (<span></span>));\n            BlazeLayout.render('reactLayout', { templateName: 'tenants' });\n        }\n\n    }\n});\nFlowRouter.notFound = {\n    triggersEnter: [function(context, redirect) {\n        redirect('/notFound');\n    }],\n    action: function() {\n        console.log('Route not found')\n    }\n};\nFlowRouter.route('/notFound', {\n    name: 'notFound',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        clearMeta();\n        DocHead.setTitle('Page Not Found | SpotMyCrib');\n        DocHead.addMeta({name: \"description\", content: 'Could not find the page your are looking for, it might be removed. Please try again.'} );\n\n        import NotFound from '../imports/reactui/layout/NotFound.jsx';\n        mount(NotFound);\n    }\n});\nFlowRouter.route('/about', {\n    name: 'about',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('about')\n        import About from '../imports/reactui/static/About.jsx';\n        mount(About);\n    }\n});\nFlowRouter.route('/careers', {\n    name: 'careers',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('careers')\n        import Careers from '../imports/reactui/static/Careers.jsx';\n        mount(Careers);\n    }\n});\nFlowRouter.route('/contactus', {\n    name: 'contactus',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('contactus')\n        import ContactUs from '../imports/reactui/static/ContactUs.jsx';\n        mount(ContactUs);\n    }\n});\nFlowRouter.route('/cookiepolicy', {\n    name: 'cookiepolicy',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('cookiepolicy')\n        import CookiePolicy from '../imports/reactui/static/CookiePolicy.jsx';\n        mount(CookiePolicy);\n    }\n});\nFlowRouter.route('/faqs', {\n    name: 'faqs',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('faqs')\n        import Faqs from '../imports/reactui/static/Faqs.jsx';\n        mount(Faqs);\n    }\n});\nFlowRouter.route('/gdpr', {\n    name: 'gdpr',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('gdpr')\n        import Gdpr from '../imports/reactui/static/Gdpr.jsx';\n        mount(Gdpr);\n    }\n});\nFlowRouter.route('/howitworks', {\n    name: 'howitworks',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('howitworks')\n        import HowItWorks from '../imports/reactui/static/HowItWorks.jsx';\n        mount(HowItWorks);\n    }\n});\nFlowRouter.route('/privacy', {\n    name: 'privacy',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('privacy')\n        import Privacy from '../imports/reactui/static/Privacy.jsx';\n        mount(Privacy);\n    }\n});\nFlowRouter.route('/terms', {\n    name: 'terms',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('terms')\n        import Terms from '../imports/reactui/static/Terms.jsx';\n        mount(Terms);\n    }\n});\nFlowRouter.route('/estateagent', {\n    name: 'estateagent',\n    action () {\n        if (Meteor.isClient) BlazeLayout.reset()\n\n        setStaticPageMetaTags('estateagent')\n        import EstateAgent from '../imports/reactui/static/EstateAgent.jsx';\n        mount(EstateAgent);\n    }\n});\n\n\ngeneralDesc = \"Find your dream house in the easiest way possible. Set your rent when you apply for the house, apartment or property online with leading estate agents/landlords in Ireland. Experience the safest, transparent and innovative rental process in Ireland. SpotMyCrib.\";\nfunction setStaticPageMetaTags(pageName){\n    var title = '',desc = '';\n    switch(pageName){\n        case 'about':\n            title = 'About SpotMyCrib'\n            desc = \"Know more about SpotMyCrib and what inspires us to build the safest, transparent and innovative rental portal in Ireland. Learn more on how we operate and our values. Experience SpotMyCrib.\";\n            break;\n        case 'terms':\n            title = 'Terms of Service | SpotMyCrib'\n            desc = 'Read our terms and conditions and learn more on how we operate and our values.';\n            break;\n        case 'faqs':\n            title = 'FAQs | SpotMyCrib'\n            desc = 'Frequently asked questions by tenants(users) and landlords/estate agents.';\n            break;\n        case 'privacy':\n            title = 'Privacy policy | SpotMyCrib'\n            desc = 'Find how we keep your data safe and secure. Read our cookie policy and much more on our privacy policy.';\n            break;\n        case 'contactus':\n            title = 'Contact Us | SpotMyCrib'\n            desc = 'Find our contact details and work timings here.';\n            break;\n        case 'howitworks':\n            title = 'How it works | SpotMyCrib'\n            desc = 'Find your next dream home fast, easy and simple way.';\n            break;\n        case 'careers':\n            title = 'Careers | SpotMyCrib'\n            desc = 'We are hiring! Work in the most innovative online real estate company. ';\n            // import '../static/careers.js';\n            break;\n        case 'estateagent':\n            title = 'Agents/Landlords | SpotMyCrib'\n            desc = 'Learn on why you need next generation high tech automated property managment solution. Learn how SpotMyCrib can ease your life with tenant screening, digital leasing, online rent collection and much more. ';\n            // import '../static/careers.js';\n            break;\n        case 'gdpr':\n            title = 'Data Protection / EU GDPR | SpotMyCrib'\n            desc = 'An overview of Data Protection and EU GDPR and how we are preparing for it at SpotMyCrib.';\n            break;\n        case 'cookiepolicy':\n            title = 'Cookie Policy | SpotMyCrib'\n            desc = 'An overview of our cookie policy and how we use them to provide you with best user experence.';\n            break;\n        default:\n    }\n    clearMeta();\n    DocHead.setTitle(title);\n    DocHead.addMeta({name: \"description\", content: desc} );\n\n    ////////////Adding below code only for static\n    if(Meteor.isClient) {\n        setTimeout(function(){\n            try {\n                jQuery(\"html,body\").animate({scrollTop: 0}, 250);\n            } catch (e) {\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n            }\n        },2000)\n    }\n}\n// FlowRouter.triggers.enter([function(){\n//\n// }]);\n\n// FlowRouter.go('account/propertyApplications')\n// tesing my properties from anonomoues tab to see if login works and if pubs work fine,\n//     also if post login , will it automatically update pubs?\n//     use ctrl+m to see the records returned by pubs\n//FlowRouter.current().route.getName()  to FlowRouter.current().route.name\n//Router to FlowRouter\n// 1. all routes conversion\n// 2. new react header and footer used in home page needs to work\n// 3. react ssr work\n// 4. performance tuning for pages that are using ssr\n// 5. category pages\n//\n\n// FlowRouter.route(\"/\", {\n//   subscriptions: function() {\n//     var selector = {category: {$ne: \"private\"}};\n//     this.register('posts', Meteor.subscribe('posts', selector));\n//   },\n//   action: function() {\n//     ReactLayout.render(BlogLayout, {\n//       content: <PostList />\n//     });\n//   }\n// });\n\n\n// if(Meteor.isServer) {\n//     WebApp.connectHandlers.use('/', function(req, res, next) {\n//         if(isValidRoute(req.url))\n//             return next();\n//\n//         res.writeHead(404);\n//         res.end(SSR.render('404'));\n//     });\n//\n//     var pathToRegexp = Meteor.npmRequire('path-to-regexp')\n//\n//     function isValidRoute(requestUrl) {\n//         for(var i = 0; i < FlowRouter._routes.length; i++)\n//             if(pathToRegexp(FlowRouter._routes[i].path).test(requestUrl))\n//                 return true;\n//\n//         return false;\n//     }\n// }","import \"../imports/api/publications.js\";\nimport '../imports/api/profile.js';\nimport \"../imports/api/properties.js\";\nimport {Meteor} from \"meteor/meteor\";\n// import '../imports/ui/templates/accounts/signIn/signIn.js'\n// import '../imports/ui/templates/accounts/signUp/signUp.js'\n// import '../imports/ui/templates/accounts/forgot/forgot.js'\n\nviews = {};\n\nviews['propertyManage.view'] = function(terms){\n    try{\n        // var id = Router.current().params.id\n        return {\n            find: {propertyId:terms.id},\n            options: {limit: 1}\n            // sort: {sort: {createdAt: -1}, limit: 1}\n        };\n    }catch(e){\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\nviews['property.view'] = function(terms){\n    try{\n        return {\n            find: {_id:terms.id},\n            options: {limit: 1}\n        };\n    }catch(e){\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\nviews['PMactivityHistory.view'] = function(terms){\n    try{\n        // var id = Router.current().params.id\n        var lim = Session.get('resultsPerPage');\n        if(!lim) lim = 100;\n        return {\n            find: {propertyId:terms.id},\n            options: {limit: lim,sort: { createdAt : -1 }}\n            // sort: {sort: {createdAt: -1}, limit: 1}\n        };\n    }catch(e){\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\nviews['MyProperties.view'] = function(terms){\n    try{\n        var resperpage = terms.resperpage;\n        if(isNaN(resperpage))resperpage = 20;\n        if(!resperpage) resperpage = 20;\n        if(resperpage<0||resperpage>100) resperpage = 20;\n\n\n        var pg = 1;\n        try{pg = parseInt(terms.pageno);}catch(e){}\n        if(isNaN(pg))pg = 1;\n        var skip = (pg-1)*resperpage;\n        if(isNaN(skip))skip = 0;\n\n        return {\n            find: {},\n            options: {limit: parseInt(resperpage),sort: { updatedAt : -1 }, skip: parseInt(skip)}\n        };\n    }catch(e){\n        console.log(e);\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\nviews['PropertyApplications.view'] = function(terms){\n    try{\n        let originalPgSplit = null, validOriginalPgSplit = false;\n        if(terms.pageno){\n            originalPgSplit = terms.pageno.toString().split('-')\n            if(originalPgSplit.length==2){//if format issue, then reset issue.\n                // if inside it means that format is correct, below if will correct data if required.\n                validOriginalPgSplit = true;\n                if(isNaN(originalPgSplit[0])) originalPgSplit[0] = 1;// if its not a number then reset it.\n                if(isNaN(originalPgSplit[1])) originalPgSplit[1] = 1;// if its not a number then reset it.\n            }\n        }\n        if(!validOriginalPgSplit){//invalid originalPgSplit; reset it\n            originalPgSplit = [1,1]\n        }\n\n        //// for property applications\n        var resperpage = terms.PAresperpage;\n        if(isNaN(resperpage))resperpage = 20;\n        if(!resperpage) resperpage = 20;\n        if(resperpage<0||resperpage>100) resperpage = 20;\n        var pg = originalPgSplit[0];\n        var skip = (pg-1)*resperpage;\n        if(isNaN(skip))skip = 0;\n        let out = {id:terms.id,options:{limit:resperpage}}\n        out.propertyApplications = {\n            find: {},\n            options: {limit: parseInt(resperpage),sort: { createdAt : -1 }, skip: parseInt(skip)}\n        }\n        //// for Email Enquiries\n        resperpage = terms.EEresperpage;\n        if(isNaN(resperpage))resperpage = 20;\n        if(!resperpage) resperpage = 20;\n        if(resperpage<0||resperpage>100) resperpage = 20;\n        pg = originalPgSplit[1];\n        skip = (pg-1)*resperpage;\n        if(isNaN(skip))skip = 0;\n        out.emailEnquiries = {\n            find: {},\n            options: {limit: parseInt(resperpage),sort: { createdAt : -1 }, skip: parseInt(skip)}\n        }\n\n        return out;\n    }catch(e){\n        console.log(e);\n        return {\n            propertyApplications: {\n                find:{},\n                options: {limit: 1},\n                fail:true\n            },\n            emailEnquiries: {\n                find:{},\n                options: {limit: 1},\n                fail:true\n            },\n            fail:true\n        }\n    }\n}\nviews['MyAdvertisements.view'] = function(terms){\n\n    try{\n        var resperpage = terms.resperpage;\n        if(isNaN(resperpage))resperpage = 20;\n        if(!resperpage) resperpage = 20;\n        if(resperpage<0||resperpage>100) resperpage = 20;\n\n\n        var pg = 1;\n        try{pg = parseInt(terms.pageno);}catch(e){}\n        if(isNaN(pg))pg = 1;\n        var skip = (pg-1)*resperpage;\n        if(isNaN(skip))skip = 0;\n\n        return {\n            find: {},\n            options: {limit: parseInt(resperpage),sort: { updatedAt : -1 }, skip: parseInt(skip)}\n        };\n    }catch(e){\n        console.log(e);\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\nviews['browseLettings.view'] = function(terms){\n\n    try{\n        var resperpage = terms.resperpage;\n        if(isNaN(resperpage))resperpage = 20;\n        if(!resperpage) resperpage = 20;\n        if(resperpage<0||resperpage>100) resperpage = 20;\n\n        var slugData = getSlugData(terms.slug,terms.query);\n\n        var find={}\n        if(slugData.area) find['address.area']=slugData.area\n        if(slugData.county) find['address.county']=slugData.county\n        if(slugData.propertyType) find['type']=slugData.propertyType //.toString().toLowerCase()\n        // if(slugData.country) find.address.country=slugData.country;\n        // console.log(slugData)\n        var bedCount = null;\n        if(slugData.bedCount && !isNaN(slugData.bedCount) )bedCount=parseInt(slugData.bedCount)\n\n        var pg = 1;\n        try{pg = parseInt(terms.pageno);}catch(e){}\n        if(isNaN(pg))pg = 1;\n        var skip = (pg-1)*resperpage;\n        if(isNaN(skip))skip = 0;\n\n        var sortOptions = { updatedAt : -1 }\n        if( slugData.luxurySort )sortOptions = { rentMonthly : -1 }\n        else if( slugData.cheapSort )sortOptions = { rentMonthly : 1 }\n        else if( slugData.mostRecentSort )sortOptions = { updatedAt : -1 }\n        else if( slugData.leastRecentSort )sortOptions = { updatedAt : 1 }\n\n        let tmp = [],validKeys = null;\n        if(terms.propertykey){\n            validKeys = []\n            tmp = terms.propertykey.split('-');\n            for(let i=0;i<tmp.length;i++){\n                if(tmp[i].length==5)validKeys.push(tmp[i].toUpperCase())//This is the validation we are doing.\n            }\n        }\n\n        return {\n            find: find,\n            propertykey:validKeys,\n            minRent:slugData.minRent,\n            maxRent:slugData.maxRent,\n            minBeds:slugData.minBeds,\n            maxBeds:slugData.maxBeds,\n            bedCount:bedCount,\n            options: {limit: parseInt(resperpage),sort: sortOptions, skip: parseInt(skip)}\n        };\n    }catch(e){\n        console.log(e);\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\nviews['browseBlogs.view'] = function(terms){\n\n    try{\n        var resperpage = terms.resperpage;\n        if(isNaN(resperpage))resperpage = 6;\n        if(!resperpage) resperpage = 6;\n        if(resperpage<0||resperpage>100) resperpage = 6;\n\n        // if(!terms.slug) throw 'Slug required';\n        var find={}\n        // if(terms.slug) find['slug']=slug\n\n        var pg = 1;\n        try{pg = parseInt(terms.pageno);}catch(e){}\n        if(isNaN(pg))pg = 1;\n        var skip = (pg-1)*resperpage;\n        if(isNaN(skip))skip = 0;\n\n        var sortOptions = { updatedAt : -1 }\n\n        return {\n            find: find,\n            options: {limit: parseInt(resperpage),sort: sortOptions, skip: parseInt(skip)}\n        };\n    }catch(e){\n        console.log(e);\n        return {\n            find:{},\n            options: {limit: 1},\n            fail:true\n        }\n    }\n}\n\nqueryConstructor = function (terms) {\n\n    var viewFunction = views[terms.viewName]\n    var data = viewFunction(terms);\n\n    if (data.options.limit > 100) {\n        data.options.limit = 100;\n    }\n\n    return data;\n\n}//http://www.discovermeteor.com/blog/query-constructors/\n\nfunction getSlugData(slug, query){//This needs to be seperate on common.\n    var propertyType = \"\";\n    var county = \"\";\n    var area = \"\";\n    var maxRent = \"\";\n    var minRent = \"\";\n    var minBeds = \"\";\n    var maxBeds = \"\";\n    var country = \"\";\n    var bedCount = \"\";\n    var luxurySort = \"\";\n    var cheapSort = \"\";\n    var mostRecentSort = \"\";\n    var leastRecentSort = \"\";\n\n    var range = [{cur:\"eur\",min:0,max:10000}]\n    var selectedCur = range[0];\n\n    if(query) {\n        if(query.minRent)minRent = query.minRent;\n        if(query.maxRent)maxRent = query.maxRent;\n        if(query.minBeds)minBeds = query.minBeds;\n        if(query.maxBeds)maxBeds = query.maxBeds;\n        if(query.bedCount)bedCount = query.bedCount;\n        if(query.luxurySort)luxurySort = query.luxurySort;\n        if(query.cheapSort)cheapSort = query.cheapSort;\n        if(query.mostRecentSort)mostRecentSort = query.mostRecentSort;\n        if(query.leastRecentSort)leastRecentSort = query.leastRecentSort;\n    }\n\n    if(!slug){\n        return {\n            country:country,\n            county:county,\n            area:area,\n            minRent:minRent,\n            maxRent:maxRent,\n            minBeds:minBeds,\n            maxBeds:maxBeds,\n            bedCount:bedCount,\n            luxurySort:luxurySort,\n            cheapSort:cheapSort,\n            mostRecentSort:mostRecentSort,\n            leastRecentSort:leastRecentSort,\n            propertyType:propertyType,\n        };\n    }\n    if(slug.indexOf('-for-')!=-1){\n        propertyType = slug.split('-for-')[0];\n        propertyType = propertyType.split('-').join(' ');\n    }\n    if(slug.indexOf('-in-')!=-1) {\n        var tmp = slug.split('-in-')[1].split('-')\n        switch (tmp.length) {\n            case 3:\n                country = tmp[2];\n                county = tmp[1];\n                area = tmp[0];\n                break;\n            case 2:\n                country = tmp[1];\n                county = tmp[0];\n                break;\n            case 1:\n                country = tmp[0];\n                break;\n        }\n        if (propertyType) propertyType = propertyType.replace(/_/g, ' ')\n        if (county) county = titleCaseAllWords(county.replace(/_/g, ' '))\n        if (country) country = titleCaseAllWords(country.replace(/_/g, ' '))\n        if (area) area = titleCaseAllWords(area.replace(/_/g, ' '))\n    }\n    return {\n        country:country,\n        county:county,\n        area:area,\n        minRent:minRent,\n        maxRent:maxRent,\n        minBeds:minBeds,\n        maxBeds:maxBeds,\n        bedCount:bedCount,\n        luxurySort:luxurySort,\n        cheapSort:cheapSort,\n        mostRecentSort:mostRecentSort,\n        leastRecentSort:leastRecentSort,\n        propertyType:propertyType,\n    }\n}\nfunction titleCaseAllWords(str){\n    if(!str)return;\n    return str.split(' ').map(function(str){\n        return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n    }).join(' ')\n    // var words = str.split(' ')\n    // for(var i=0;i<words.length;i++){\n    //\n    // }\n    // return str.charAt(0).toUpperCase() + str.toLowerCase().substring(1);\n}\ncdnPath = function(url){\n    if(Meteor.settings.public.CDN_ENABLED){\n        return CDN.get_cdn_url()+url;\n\n        // if(Meteor.isDevelopment || !process.env.GALAXY_APP_VERSION_ID) return `http://d30nklzkhaqiiz.cloudfront.net${url}`;\n        //\n        // if(url.indexOf('?')!=-1)return `http://d30nklzkhaqiiz.cloudfront.net${url}?_g_app_v_=${process.env.GALAXY_APP_VERSION_ID}`;\n        // else return `http://d30nklzkhaqiiz.cloudfront.net${url}&_g_app_v_=${process.env.GALAXY_APP_VERSION_ID}`;\n    }\n    return url;\n}\nclearMeta = function() {\n    addLangLink();\n    if(!Meteor.isClient)return;\n    var arr_elms = [];\n    arr_elms = document.head.getElementsByTagName(\"meta\"); // This var is reactive\n    var c = 0;\n    while(arr_elms[c]){//First 3 are default and useful\n        // console.log(arr_elms[3])\n        if(arr_elms[c].name == \"description\")\n            document.head.removeChild(arr_elms[c]);\n        c++;\n    }\n    // console.log('Removed: '+c);\n    ///Below code removed extra link hreflang 's\n    arr_elms = []\n    arr_elms = document.head.getElementsByTagName(\"link\"); // This var is reactive\n    c = 0;\n    while(arr_elms[c]){//First 3 are default and useful\n        if(arr_elms[c].hreflang)\n            document.head.removeChild(arr_elms[c]);\n        c++;\n    }\n}\naddLangLink = function(){\n    try {\n        // <link rel=\"alternate\" href=\"https://www.spotmycrib.ie/\" hreflang=\"en-ie\" />\n        var currentURL = FlowRouter.url(FlowRouter.current().route.name, FlowRouter.current().params, FlowRouter.current().queryParams)\n        var linkInfo = {rel: \"alternate\", hreflang: \"en-ie\", href: currentURL};\n        DocHead.addLink(linkInfo);\n\n        if(FlowRouter.current().route.name != 'letting')\n            DocHead.addMeta({rel: \"canonical\", href: currentURL });\n        // console.log('In addLang');\n    }catch(e){\n\n    }\n}\nfbq = function(){}//Replacement for FB pixel code"]}}]