{"version":3,"sources":["meteor://ðŸ’»app/packages/meteortoys:toykit/client/main.js","meteor://ðŸ’»app/packages/meteortoys:toykit/client/ToyKit.js","meteor://ðŸ’»app/packages/meteortoys:toykit/shared/collections.js","meteor://ðŸ’»app/packages/meteortoys:toykit/shared/data.js","meteor://ðŸ’»app/packages/meteortoys:toykit/shared/index.js","meteor://ðŸ’»app/packages/meteortoys:toykit/shared/parse.js"],"names":["module","export","ToyKit","link","v","Meteor","startup","defer","Blaze","render","Template","MeteorToys","document","body","startSubscription","set","bindHotKeys","grabToys","helpers","get","MeteorToy","data","core","keys","Object","MeteorToy_addon","addon","MeteorToysPackage","temp","Package","push","all","MeteorToysCordova","cordova","navigator","platform","MTtoggle","window","open","close","_0x5dcf","_0x100734","_0x202146","_0x57ac45","_0x43ac6e","_0x20db","_0x53af96","_0x3f0619","_0x1ef887","_0x5a5054","Tracker","_0x4f7bc9","_0x9d0c63","_0x43d56b","_0x5ad71d","_0x3a5c09","_0x50c054","quote","_0x3a0087","_0x29415d","_0x17fe26","METEORTOYS_DISABLE_LOGGING","_0xfd5d9f","Collection","MongoInternals","_0x59c6","_0x7fe618","_0x3a4ea0","_0x2f5eab","_0xadad64","_0x3617","_0x3f8819","_0x232fc4","_0x5d8702","collectionList","_0x1ff186","check","String","_0xdeeda8","_0x5b00e9","_0x16a0f9","_0x32d094","_0x355098","Data","Mongo","Impersonate","allow","insert","remove","update","JetSetter","Mongol","AutoPub","Email","Result","RJSON","isClient","ReactiveDict","collection","parse","module1","some","array","f","acc","i","length","makeLexer","tokenSpecs","contents","tokens","line","findToken","tokenSpec","m","re","exec","raw","slice","matched","undefined","err","SyntaxError","substr","replace","fStringSingle","content","mm","type","match","value","JSON","fStringDouble","fIdentifier","c","fComment","test","fNumber","parseFloat","fKeyword","makeTokenSpecs","relaxed","ret","concat","lexer","strictLexer","previousNWSToken","index","stripTrailingComma","res","forEach","token","commaI","preCommaI","transform","text","reduce","str","popToken","state","pos","strToken","skipColon","colon","message","tolerant","warnings","skipPunctuation","valid","punctuation","indexOf","raiseError","raiseUnexpected","expected","checkDuplicates","obj","key","duplicate","prototype","hasOwnProperty","call","appendPair","reviver","parsePair","parseAny","parseElement","arr","parseObject","parseMany","skip","elementParser","elementName","endSymbol","parseArray","opts","endChecks","end","TypeError","filter","newtext","stringifyPair","stringify","Array","isArray","map","join","sort","bind"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,QAAM,EAAC,MAAIA;AAAZ,CAAd;AAAmCF,MAAM,CAACG,IAAP,CAAY,aAAZ;AAA2BH,MAAM,CAACG,IAAP,CAAY,oBAAZ;AAAkC,IAAID,MAAJ;AAAWF,MAAM,CAACG,IAAP,CAAY,aAAZ,EAA0B;AAACD,QAAM,CAACE,CAAD,EAAG;AAACF,UAAM,GAACE,CAAP;AAAS;;AAApB,CAA1B,EAAgD,CAAhD;AAI3GC,MAAM,CAACC,OAAP,CAAe,YAAU;AACvB;AACAD,QAAM,CAACE,KAAP,CAAa,YAAY;AACvBC,SAAK,CAACC,MAAN,CAAaC,QAAQ,CAACC,UAAtB,EAAkCC,QAAQ,CAACC,IAA3C;AACD,GAFD,EAFuB,CAMvB;;AACAX,QAAM,CAACY,iBAAP,GAPuB,CASvB;;AACAZ,QAAM,CAACa,GAAP,CAAW,OAAX,EAAoB,IAApB,EAVuB,CAYvB;;AACAb,QAAM,CAACc,WAAP,GAbuB,CAevB;;AACAd,QAAM,CAACe,QAAP;AACD,CAjBD;AAmBAP,QAAQ,CAACC,UAAT,CAAoBO,OAApB,CAA4B;AAC1BP,YAAU,EAAE,YAAY;AACtB,WAAOT,MAAM,CAACiB,GAAP,CAAW,SAAX,CAAP;AACD,GAHyB;AAI1BC,WAAS,EAAE,YAAY;AACrBC,QAAI,GAAGnB,MAAM,CAACiB,GAAP,CAAW,UAAX,EAAuBG,IAA9B;AACAC,QAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,IAAZ,CAAP;AACA,WAAOE,IAAP;AACD,GARyB;AAS1BE,iBAAe,EAAE,YAAY;AAC3BJ,QAAI,GAAGnB,MAAM,CAACiB,GAAP,CAAW,UAAX,EAAuBO,KAA9B;AACAH,QAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,IAAZ,CAAP;AACA,WAAOE,IAAP;AACD,GAbyB;AAc1BI,mBAAiB,EAAE,YAAY;AAC7B,QAAIC,IAAI,GAAG,EAAX;;AAEA,QAAIC,OAAO,CAAC,eAAD,CAAX,EAA8B;AAC5BD,UAAI,CAACE,IAAL,CAAU,QAAV;AACD;;AAED,QAAID,OAAO,CAAC,kBAAD,CAAX,EAAiC;AAC/BD,UAAI,CAACE,IAAL,CAAU,WAAV;AACD;;AAEDF,QAAI,CAACE,IAAL,CAAU,0BAAV;AAEA,WAAOF,IAAP;AACD,GA5ByB;AA6B1BG,KAAG,EAAE,YAAY;AACf,QAAIF,OAAO,CAAC,sBAAD,CAAX,EAAqC;AACnC,aAAO,kBAAP;AACD;AACF,GAjCyB;AAkC1BG,mBAAiB,EAAE,YAAY;AAC7B,QAAIH,OAAO,CAAC,mBAAD,CAAX,EAAkC;AAChC,UAAI,OAAOI,OAAP,KAAmB,QAAnB,IAA+BC,SAAS,CAACC,QAAV,KAAuB,QAA1D,EAAoE;AAClE,eAAO,IAAP;AACD;AACF;AACF,GAxCyB;AAyC1BC,UAAQ,EAAE,YAAY;AACpB,QAAIP,OAAO,CAAC,mBAAD,CAAX,EAAkC;AAChC,aAAO,IAAP;AACD;AACF;AA7CyB,CAA5B;AAiDAQ,MAAM,CAAC,YAAD,CAAN,GAAuB,EAAvB;;AAEAA,MAAM,CAAC,YAAD,CAAN,CAAqBC,IAArB,GAA4B,YAAY;AACtCpC,QAAM,CAACa,GAAP,CAAW,SAAX,EAAsB,IAAtB;AACAb,QAAM,CAACa,GAAP,CAAW,OAAX,EAAoB,IAApB;AACD,CAHD;;AAKAsB,MAAM,CAAC,YAAD,CAAN,CAAqBE,KAArB,GAA6B,YAAY;AACvCrC,QAAM,CAACa,GAAP,CAAW,SAAX,EAAsB,KAAtB;AACAb,QAAM,CAACa,GAAP,CAAW,OAAX,EAAoB,IAApB;AACD,CAHD,C;;;;;;;;;;;AC/EAf,MAAM,CAACC,MAAP,CAAc;AAACC,QAAM,EAAC,MAAIA;AAAZ,CAAd;AAAmC,IAAIA,MAAJ;AAAWF,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAwB;AAACD,QAAM,CAACE,CAAD,EAAG;AAACF,UAAM,GAACE,CAAP;AAAS;;AAApB,CAAxB,EAA8C,CAA9C;AAE9C,IAAIoC,OAAO,GAAC,CAAC,UAAD,EAAY,SAAZ,EAAsB,UAAtB,EAAiC,WAAjC,EAA6C,oBAA7C,EAAkE,SAAlE,EAA4E,OAA5E,EAAoF,MAApF,EAA2F,MAA3F,EAAkG,mBAAlG,EAAsH,MAAtH,EAA6H,gBAA7H,EAA8I,mBAA9I,EAAkK,iBAAlK,EAAoL,qBAApL,EAA0M,kBAA1M,EAA6N,wCAA7N,EAAsQ,SAAtQ,EAAgR,WAAhR,EAA4R,QAA5R,EAAqS,kBAArS,EAAwT,qBAAxT,EAA8U,KAA9U,EAAoV,eAApV,EAAoW,4DAApW,EAAia,gEAAja,EAAke,aAAle,EAAgf,oBAAhf,EAAqgB,UAArgB,EAAghB,SAAhhB,EAA0hB,OAA1hB,EAAkiB,WAAliB,EAA8iB,SAA9iB,EAAwjB,eAAxjB,EAAwkB,KAAxkB,EAA8kB,KAA9kB,EAAolB,SAAplB,EAA8lB,OAA9lB,EAAsmB,WAAtmB,EAAknB,YAAlnB,EAA+nB,wBAA/nB,EAAwpB,aAAxpB,EAAsqB,SAAtqB,EAAgrB,SAAhrB,EAA0rB,SAA1rB,EAAosB,UAApsB,EAA+sB,MAA/sB,EAAstB,oBAAttB,CAAZ;;AAAyvB,WAASC,SAAT,EAAmBC,SAAnB,EAA6B;AAAC,MAAIC,SAAS,GAAC,UAASC,SAAT,EAAmB;AAAC,WAAM,EAAEA,SAAR,EAAkB;AAACH,eAAS,CAAC,MAAD,CAAT,CAAkBA,SAAS,CAAC,OAAD,CAAT,EAAlB;AAAyC;AAAC,GAA/F;;AAAgGE,WAAS,CAAC,EAAED,SAAH,CAAT;AAAwB,CAAtJ,EAAuJF,OAAvJ,EAA+J,KAA/J,CAAD;;AAAwK,IAAIK,OAAO,GAAC,UAASC,SAAT,EAAmBC,SAAnB,EAA6B;AAACD,WAAS,GAACA,SAAS,GAAC,GAApB;AAAwB,MAAIE,SAAS,GAACR,OAAO,CAACM,SAAD,CAArB;AAAiC,SAAOE,SAAP;AAAkB,CAArH;;AAAsH9C,MAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,GAAuB,YAAU;AAAC,MAAII,SAAS,GAAC/C,MAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuB,SAAvB,CAAd;;AAAgD,MAAGI,SAAH,EAAa;AAAC/C,UAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAsC,CAAC,EAAvC;;AAA2C3C,UAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAsC,IAAtC;AAA6C,GAAtG,MAA0G;AAAC3C,UAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAsC,CAAC,CAAC,EAAxC;;AAA4C3C,UAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAsC,IAAtC;AAA6C;AAAC,CAAvR;;AAAwR3C,MAAM,CAAC,mBAAD,CAAN,GAA4B,YAAU;AAACgD,SAAO,CAAC,SAAD,CAAP,CAAmB,YAAU;AAAC7C,UAAM,CAACwC,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAsC3C,MAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,CAAtC;AAA+E,GAA7G;AAAgH,CAAvJ;;AAAwJ3C,MAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,GAAuB,YAAU;AAACR,QAAM,CAAC,kBAAD,CAAN,CAA2BQ,OAAO,CAAC,KAAD,CAAlC,EAA0C,UAASM,SAAT,EAAmB;AAAC,QAAGA,SAAS,CAACN,OAAO,CAAC,KAAD,CAAR,CAAT,KAA4B,IAA5B,IAAkCM,SAAS,CAACN,OAAO,CAAC,KAAD,CAAR,CAA9C,EAA+D;AAAC3C,YAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN;AAA0B;AAAC,GAAzJ;AAA4J,CAA9L;;AAA+L3C,MAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,GAAuB,YAAU;AAACxC,QAAM,CAACwC,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAsC,UAASO,SAAT,EAAmBC,SAAnB,EAA6B;AAACnD,UAAM,CAAC,KAAD,CAAN,CAAc2C,OAAO,CAAC,KAAD,CAArB,EAA6BQ,SAA7B;AAAyC,GAA7G;AAAgH,CAAlJ;;AAAmJnD,MAAM,CAAC2C,OAAO,CAAC,MAAD,CAAR,CAAN,GAAwB,YAAU;AAAC3C,QAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B;AAAwC,CAA3E;;AAA4E3C,MAAM,CAAC2C,OAAO,CAAC,MAAD,CAAR,CAAN,GAAwB,UAASS,SAAT,EAAmB;AAAC,MAAG,OAAOA,SAAP,KAAmBT,OAAO,CAAC,MAAD,CAA7B,EAAsC;AAAC,WAAOA,OAAO,CAAC,MAAD,CAAd;AAAwB;;AAAAS,WAAS,GAACA,SAAS,CAACT,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,IAA3B,EAAgCA,OAAO,CAAC,MAAD,CAAvC,EAAiD,SAAjD,EAA4D,IAA5D,EAAiEA,OAAO,CAAC,MAAD,CAAxE,EAAkF,SAAlF,EAA6F,IAA7F,EAAkGA,OAAO,CAAC,MAAD,CAAzG,CAAV;AAA6H,SAAOS,SAAS,CAACT,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,wGAA3B,EAAoI,UAASU,SAAT,EAAmB;AAAC,QAAIC,SAAS,GAACX,OAAO,CAAC,MAAD,CAArB;;AAA8B,QAAG,KAAKA,OAAO,CAAC,MAAD,CAAZ,EAAsBU,SAAtB,CAAH,EAAoC;AAAC,UAAG,KAAKV,OAAO,CAAC,MAAD,CAAZ,EAAsBU,SAAtB,CAAH,EAAoC;AAACC,iBAAS,GAACX,OAAO,CAAC,MAAD,CAAjB;AAA2B,OAAhE,MAAoE;AAACW,iBAAS,GAACX,OAAO,CAAC,MAAD,CAAjB;AAA2B;AAAC,KAAtI,MAA2I,IAAG,aAAaA,OAAO,CAAC,MAAD,CAApB,EAA8BU,SAA9B,CAAH,EAA4C;AAACC,eAAS,GAAC,oBAAV;AAAgC,KAA7E,MAAkF,IAAG,OAAOX,OAAO,CAAC,MAAD,CAAd,EAAwBU,SAAxB,CAAH,EAAsC;AAACC,eAAS,GAACX,OAAO,CAAC,MAAD,CAAjB;AAA2B;;AAAAY,SAAK,GAACZ,OAAO,CAAC,MAAD,CAAP,GAAgBW,SAAhB,GAA0BX,OAAO,CAAC,MAAD,CAAvC;;AAAgD,YAAOW,SAAP;AAAkB,WAAKX,OAAO,CAAC,MAAD,CAAZ;AAAqBU,iBAAS,GAACA,SAAS,CAACV,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,IAA3B,EAAgC,EAAhC,CAAV;AAA8CU,iBAAS,GAACA,SAAS,CAACV,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,IAA3B,EAAgC,EAAhC,CAAV;AAA8C,eAAOY,KAAK,GAAC,qBAAN,GAA4BD,SAA5B,GAAsCX,OAAO,CAAC,MAAD,CAA7C,GAAsDU,SAAtD,GAAgEV,OAAO,CAAC,MAAD,CAAvE,GAAgFY,KAAhF,GAAsF,GAA7F;AAAiG;;AAAM,WAAKZ,OAAO,CAAC,MAAD,CAAZ;AAAqB,eAAOA,OAAO,CAAC,MAAD,CAAP,GAAgBW,SAAhB,GAA0BX,OAAO,CAAC,MAAD,CAAjC,GAA0CU,SAA1C,GAAoD,SAA3D;AAAqE;;AAAM,WAAKV,OAAO,CAAC,MAAD,CAAZ;AAAqBU,iBAAS,GAACA,SAAS,CAACV,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,GAA3B,EAA+BU,SAAS,CAACV,OAAO,CAAC,MAAD,CAAR,CAAT,GAA2B,GAA1D,CAAV;AAAyE,eAAOY,KAAK,GAACZ,OAAO,CAAC,MAAD,CAAb,GAAsBW,SAAtB,GAAgCX,OAAO,CAAC,MAAD,CAAvC,GAAgDU,SAAhD,GAA0D,SAA1D,GAAoEE,KAA3E;AAAiF;;AAAM,WAAI,oBAAJ;AAAyB,eAAOZ,OAAO,CAAC,MAAD,CAAP,GAAgBW,SAAhB,GAA0B,wCAA1B,GAAmED,SAAnE,GAA6EV,OAAO,CAAC,MAAD,CAA3F;AAAoG;;AAAM,WAAKA,OAAO,CAAC,MAAD,CAAZ;AAAqB,eAAOA,OAAO,CAAC,MAAD,CAAP,GAAgBW,SAAhB,GAA0B,wCAA1B,GAAmED,SAAnE,GAA6EV,OAAO,CAAC,MAAD,CAA3F;AAAoG;AAA3vB;AAAmwB,GAAxwC,CAAP;AAAkxC,CAA1/C;;AAA2/C3C,MAAM,CAAC2C,OAAO,CAAC,MAAD,CAAR,CAAN,GAAwB,UAASa,SAAT,EAAmB;AAAC,MAAG,OAAOA,SAAP,KAAmB,WAAtB,EAAkC;AAAC,WAAOb,OAAO,CAAC,MAAD,CAAd;AAAwB;;AAAAa,WAAS,GAACA,SAAS,CAACb,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,IAA3B,EAAgCA,OAAO,CAAC,MAAD,CAAvC,EAAiDA,OAAO,CAAC,MAAD,CAAxD,EAAkE,IAAlE,EAAuEA,OAAO,CAAC,MAAD,CAA9E,EAAwFA,OAAO,CAAC,MAAD,CAA/F,EAAyG,IAAzG,EAA8GA,OAAO,CAAC,MAAD,CAArH,CAAV;AAAyI,SAAOa,SAAS,CAACb,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,wGAA3B,EAAoI,UAASc,SAAT,EAAmB;AAAC,QAAIC,SAAS,GAACf,OAAO,CAAC,MAAD,CAArB;;AAA8B,QAAG,KAAKA,OAAO,CAAC,MAAD,CAAZ,EAAsBc,SAAtB,CAAH,EAAoC;AAAC,UAAG,KAAK,MAAL,EAAaA,SAAb,CAAH,EAA2B;AAACC,iBAAS,GAACf,OAAO,CAAC,MAAD,CAAjB;AAA2B,OAAvD,MAA2D;AAACe,iBAAS,GAACf,OAAO,CAAC,MAAD,CAAjB;AAA2B;AAAC,KAA7H,MAAkI,IAAG,aAAa,MAAb,EAAqBc,SAArB,CAAH,EAAmC;AAACC,eAAS,GAAC,oBAAV;AAAgC,KAApE,MAAyE,IAAG,OAAO,MAAP,EAAeD,SAAf,CAAH,EAA6B;AAACC,eAAS,GAACf,OAAO,CAAC,MAAD,CAAjB;AAA2B;;AAAAY,SAAK,GAAC,wBAAsBG,SAAtB,GAAgCf,OAAO,CAAC,MAAD,CAA7C;;AAAsD,YAAOe,SAAP;AAAkB,WAAKf,OAAO,CAAC,MAAD,CAAZ;AAAqBc,iBAAS,GAACA,SAAS,CAACd,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,IAA3B,EAAgC,EAAhC,CAAV;AAA8Cc,iBAAS,GAACA,SAAS,CAACd,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,IAA3B,EAAgC,EAAhC,CAAV;;AAA8C,YAAGc,SAAS,KAAGd,OAAO,CAAC,MAAD,CAAtB,EAA+B;AAAC,iBAAOY,KAAK,GAACZ,OAAO,CAAC,MAAD,CAAb,GAAsBe,SAAtB,GAAgCf,OAAO,CAAC,MAAD,CAAvC,GAAgDc,SAAhD,GAA0D,SAA1D,GAAoEF,KAApE,GAA0E,GAAjF;AAAsF,SAAtH,MAA0H;AAAC,iBAAOA,KAAK,GAAC,qBAAN,GAA4BG,SAA5B,GAAsCf,OAAO,CAAC,MAAD,CAA7C,GAAsDc,SAAtD,GAAgEd,OAAO,CAAC,MAAD,CAAvE,GAAgFY,KAAhF,GAAsF,GAA7F;AAAkG;;AAAA;;AAAM,WAAI,mBAAJ;AAAwB,eAAOZ,OAAO,CAAC,MAAD,CAAP,GAAgBe,SAAhB,GAA0B,4DAA1B,GAAuFD,SAAvF,GAAiGd,OAAO,CAAC,MAAD,CAA/G;AAAwH;;AAAM,WAAKA,OAAO,CAAC,MAAD,CAAZ;AAAqBc,iBAAS,GAACA,SAAS,CAACd,OAAO,CAAC,MAAD,CAAR,CAAT,CAA2B,GAA3B,EAA+Bc,SAAS,CAACd,OAAO,CAAC,MAAD,CAAR,CAAT,GAA2B,GAA1D,CAAV;AAAyE,eAAOA,OAAO,CAAC,MAAD,CAAP,GAAgBe,SAAhB,GAA0Bf,OAAO,CAAC,MAAD,CAAjC,GAA0Cc,SAA1C,GAAoDd,OAAO,CAAC,MAAD,CAAlE;AAA2E;;AAAM,WAAKA,OAAO,CAAC,MAAD,CAAZ;AAAqB,eAAOA,OAAO,CAAC,MAAD,CAAP,GAAgBe,SAAhB,GAA0Bf,OAAO,CAAC,MAAD,CAAjC,GAA0Cc,SAA1C,GAAoD,SAA3D;AAAqE;;AAAM,WAAI,iBAAJ;AAAsB,eAAOd,OAAO,CAAC,MAAD,CAAP,GAAgBe,SAAhB,GAA0Bf,OAAO,CAAC,MAAD,CAAjC,GAA0Cc,SAA1C,GAAoDd,OAAO,CAAC,MAAD,CAAlE;AAA2E;AAA52B;AAAo3B,GAAp2C,CAAP;AAA82C,CAA9lD;;AAA+lD3C,MAAM,CAAC2C,OAAO,CAAC,MAAD,CAAR,CAAN,GAAwB,YAAU;AAAC,MAAG3C,MAAM,CAAC,KAAD,CAAN,CAAc2C,OAAO,CAAC,MAAD,CAArB,CAAH,EAAkC;AAAC3C,UAAM,CAAC2C,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,MAAD,CAA9B,EAAuC,IAAvC;AAA8C,GAAjF,MAAqF;AAACR,UAAM,CAACQ,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,MAAD,CAA9B;AAA2C;AAAC,CAArK;;AAAsK3C,MAAM,CAAC2C,OAAO,CAAC,MAAD,CAAR,CAAN,GAAwB,YAAU;AAAC,MAAG,OAAOgB,0BAAP,KAAoChB,OAAO,CAAC,MAAD,CAA9C,EAAuD;AAAC,WAAM,CAAC,CAAC,EAAR;AAAY,GAApE,MAAwE;AAAC,WAAM,CAAC,EAAP;AAAW;AAAC,CAAxH;;AAAyH3C,MAAM,CAAC2C,OAAO,CAAC,MAAD,CAAR,CAAN,GAAwB,UAASiB,SAAT,EAAmB;AAAC5D,QAAM,CAAC,KAAD,CAAN,CAAc2C,OAAO,CAAC,MAAD,CAArB,EAA8BiB,SAA9B;AAA0C,CAAtF,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACF7tK9D,MAAM,CAACC,MAAP,CAAc;AAAC8D,YAAU,EAAC,MAAIA;AAAhB,CAAd;AAA2C,IAAI1D,MAAJ;AAAWL,MAAM,CAACG,IAAP,CAAY,eAAZ,EAA4B;AAACE,QAAM,CAACD,CAAD,EAAG;AAACC,UAAM,GAACD,CAAP;AAAS;;AAApB,CAA5B,EAAkD,CAAlD;AAAqD,IAAI4D,cAAJ;AAAmBhE,MAAM,CAACG,IAAP,CAAY,cAAZ,EAA2B;AAAC6D,gBAAc,CAAC5D,CAAD,EAAG;AAAC4D,kBAAc,GAAC5D,CAAf;AAAiB;;AAApC,CAA3B,EAAiE,CAAjE;AAG9H,IAAI6D,OAAO,GAAC,CAAC,YAAD,EAAc,cAAd,EAA6B,KAA7B,EAAmC,UAAnC,EAA8C,YAA9C,EAA2D,SAA3D,EAAqE,gBAArE,EAAsF,MAAtF,EAA6F,UAA7F,EAAwG,+BAAxG,EAAwI,iBAAxI,EAA0J,SAA1J,EAAoK,MAApK,EAA2K,SAA3K,CAAZ;;AAAmM,WAASC,SAAT,EAAmBC,SAAnB,EAA6B;AAAC,MAAIC,SAAS,GAAC,UAASC,SAAT,EAAmB;AAAC,WAAM,EAAEA,SAAR,EAAkB;AAACH,eAAS,CAAC,MAAD,CAAT,CAAkBA,SAAS,CAAC,OAAD,CAAT,EAAlB;AAAyC;AAAC,GAA/F;;AAAgGE,WAAS,CAAC,EAAED,SAAH,CAAT;AAAwB,CAAtJ,EAAuJF,OAAvJ,EAA+J,KAA/J,CAAD;;AAAwK,IAAIK,OAAO,GAAC,UAASC,SAAT,EAAmBC,SAAnB,EAA6B;AAACD,WAAS,GAACA,SAAS,GAAC,GAApB;AAAwB,MAAIE,SAAS,GAACR,OAAO,CAACM,SAAD,CAArB;AAAiC,SAAOE,SAAP;AAAkB,CAArH;;AAAsH,IAAIV,UAAU,GAAC,EAAf;AAAkB,IAAIW,cAAc,GAAC,EAAnB;AAAsBrE,MAAM,CAAC,SAAD,CAAN,CAAkB,YAAU;AAAC0D,YAAU,CAAC,cAAD,CAAV;;AAA6B1D,QAAM,CAACiE,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuB,YAAU;AAACP,cAAU,CAACO,OAAO,CAAC,KAAD,CAAR,CAAV;AAA8B,GAAhE,EAAiE,MAAjE;AAA0E,CAApI;;AAAsIP,UAAU,CAACO,OAAO,CAAC,KAAD,CAAR,CAAV,GAA2B,UAASK,SAAT,EAAmB;AAACC,OAAK,CAACD,SAAD,EAAWE,MAAX,CAAL;;AAAwB,MAAGxE,MAAM,CAACiE,OAAO,CAAC,KAAD,CAAR,CAAT,EAA0B;AAAC,QAAIQ,SAAS,GAACzE,MAAM,CAACiE,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,EAAuCK,SAAvC,CAAd;;AAAgE,QAAGG,SAAH,EAAa,OAAOA,SAAS,CAACR,OAAO,CAAC,KAAD,CAAR,CAAT,EAAP;AAAoC,GAA5I,MAAgJ;AAAC,WAAON,cAAc,CAAC,+BAAD,CAAd,GAAkDM,OAAO,CAAC,KAAD,CAAzD,EAAkEK,SAAlE,CAAP;AAAqF;AAAC,CAA9S;;AAA+SZ,UAAU,CAACO,OAAO,CAAC,KAAD,CAAR,CAAV,GAA2B,YAAU;AAAC,MAAGjE,MAAM,CAACiE,OAAO,CAAC,KAAD,CAAR,CAAT,EAA0B;AAACI,kBAAc,GAAC,EAAf;;AAAkB,QAAIK,SAAS,GAACf,cAAc,CAACM,OAAO,CAAC,KAAD,CAAR,CAAd,GAAiC,OAAjC,EAA0C,IAA1C,CAAd;;AAA8D,QAAIU,SAAS,GAACD,SAAS,CAACT,OAAO,CAAC,KAAD,CAAR,CAAT,EAAd;;AAA0C,QAAIW,SAAS,GAACD,SAAS,CAACV,OAAO,CAAC,KAAD,CAAR,CAAT,CAA0B,UAASY,SAAT,EAAmB;AAACR,oBAAc,CAACJ,OAAO,CAAC,KAAD,CAAR,CAAd,CAA+BY,SAAS,CAAC,MAAD,CAAxC;AAAmD,KAAjG,CAAd;AAAkH;AAAC,CAA9S;;AAA+SnB,UAAU,CAACO,OAAO,CAAC,KAAD,CAAR,CAAV,GAA2B,YAAU;AAAC,MAAGjE,MAAM,CAACiE,OAAO,CAAC,KAAD,CAAR,CAAT,EAA0B;AAAC,WAAO9C,MAAM,CAAC,MAAD,CAAN,CAAenB,MAAM,CAACiE,OAAO,CAAC,KAAD,CAAR,CAAN,CAAuBA,OAAO,CAAC,KAAD,CAA9B,CAAf,CAAP;AAA+D,GAA1F,MAA8F;AAAC,WAAOI,cAAP;AAAuB;AAAC,CAA7J,C;;;;;;;;;;;ACH5uC1E,MAAM,CAACC,MAAP,CAAc;AAACkF,MAAI,EAAC,MAAIA;AAAV,CAAd;AAA+B,IAAIC,KAAJ;AAAUpF,MAAM,CAACG,IAAP,CAAY,cAAZ,EAA2B;AAACiF,OAAK,CAAChF,CAAD,EAAG;AAACgF,SAAK,GAAChF,CAAN;AAAQ;;AAAlB,CAA3B,EAA+C,CAA/C;AAEzC,IAAI+E,IAAI,GAAG;AACT,iBAAe,IAAIC,KAAK,CAACrB,UAAV,CAAqB,wBAArB,CADN;AAET,eAAe,IAAIqB,KAAK,CAACrB,UAAV,CAAqB,sBAArB,CAFN;AAGT,YAAe,IAAIqB,KAAK,CAACrB,UAAV,CAAqB,mBAArB,CAHN;AAIT,aAAe,IAAIqB,KAAK,CAACrB,UAAV,CAAqB,oBAArB,CAJN;AAKT,WAAe,IAAIqB,KAAK,CAACrB,UAAV,CAAqB,kBAArB,CALN;AAMT,YAAe,IAAIqB,KAAK,CAACrB,UAAV,CAAqB,mBAArB,CANN;AAOT,cAAe,IAAIqB,KAAK,CAACrB,UAAV,CAAqB,qBAArB;AAPN,CAAX;AAUAoB,IAAI,CAACE,WAAL,CAAiBC,KAAjB,CAAuB;AACrBC,QAAM,EAAE,YAAY;AAChB,WAAO,IAAP;AACH,GAHoB;AAIrBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH,GANoB;AAOrBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH;AAToB,CAAvB;AAYAN,IAAI,CAACO,SAAL,CAAeJ,KAAf,CAAqB;AACnBC,QAAM,EAAE,YAAY;AAChB,WAAO,IAAP;AACH,GAHkB;AAInBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH,GANkB;AAOnBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH;AATkB,CAArB;AAYAN,IAAI,CAACQ,MAAL,CAAYL,KAAZ,CAAkB;AAChBC,QAAM,EAAE,YAAY;AAChB,WAAO,IAAP;AACH,GAHe;AAIhBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH,GANe;AAOhBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH;AATe,CAAlB;AAYAN,IAAI,CAACS,OAAL,CAAaN,KAAb,CAAmB;AACjBC,QAAM,EAAE,YAAY;AAChB,WAAO,IAAP;AACH,GAHgB;AAIjBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH,GANgB;AAOjBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH;AATgB,CAAnB;AAYAN,IAAI,CAACU,KAAL,CAAWP,KAAX,CAAiB;AACfC,QAAM,EAAE,YAAY;AAChB,WAAO,IAAP;AACH,GAHc;AAIfC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH,GANc;AAOfC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH;AATc,CAAjB;AAYAN,IAAI,CAACW,MAAL,CAAYR,KAAZ,CAAkB;AAChBC,QAAM,EAAE,YAAY;AAChB,WAAO,IAAP;AACH,GAHe;AAIhBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH,GANe;AAOhBC,QAAM,EAAE,YAAW;AACf,WAAO,IAAP;AACH;AATe,CAAlB,E;;;;;;;;;;;ACxEAzF,MAAM,CAACC,MAAP,CAAc;AAACC,QAAM,EAAC,MAAIA;AAAZ,CAAd;AAAmC,IAAI6D,UAAJ;AAAe/D,MAAM,CAACG,IAAP,CAAY,kBAAZ,EAA+B;AAAC4D,YAAU,CAAC3D,CAAD,EAAG;AAAC2D,cAAU,GAAC3D,CAAX;AAAa;;AAA5B,CAA/B,EAA6D,CAA7D;AAAgE,IAAI+E,IAAJ;AAASnF,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAwB;AAACgF,MAAI,CAAC/E,CAAD,EAAG;AAAC+E,QAAI,GAAC/E,CAAL;AAAO;;AAAhB,CAAxB,EAA0C,CAA1C;AAA6C,IAAI2F,KAAJ;AAAU/F,MAAM,CAACG,IAAP,CAAY,YAAZ,EAAyB;AAAC4F,OAAK,CAAC3F,CAAD,EAAG;AAAC2F,SAAK,GAAC3F,CAAN;AAAQ;;AAAlB,CAAzB,EAA6C,CAA7C;AAIlL,IAAIF,MAAM,GAAG,EAAb;;AAEA,IAAIG,MAAM,CAAC2F,QAAX,EAAqB;AANrB,MAAIC,YAAJ;AAAiBjG,QAAM,CAACG,IAAP,CAAY,sBAAZ,EAAmC;AAAC8F,gBAAY,CAAC7F,CAAD,EAAG;AAAC6F,kBAAY,GAAC7F,CAAb;AAAe;;AAAhC,GAAnC,EAAqE,CAArE;AAQhB,oBAAAF,MAAM,GAAG,IAAI+F,YAAJ,CAAiB,YAAjB,CAAT;AACA;;AAED/F,MAAM,CAACgG,UAAP,GAAoBnC,UAApB;AACA7D,MAAM,CAACmB,IAAP,GAAc8D,IAAd;AACAjF,MAAM,CAACiG,KAAP,GAAeJ,KAAK,CAACI,KAArB,C;;;;;;;;;;;;ACbAC,SAAO,CAACnG,MAAR,CAAe;AAAC8F,SAAK,EAAC,MAAIA;AAAX,GAAf;AAAA,MAAIA,KAAJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,eAAY;AACX,iBADW,CAGX;AACA;AACA;AACA;;AACA,aAASM,IAAT,CAAcC,KAAd,EAAqBC,CAArB,EAAwB;AACtB,UAAIC,GAAG,GAAG,KAAV;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCD,WAAG,GAAGD,CAAC,CAACD,KAAK,CAACG,CAAD,CAAN,EAAWA,CAAX,EAAcH,KAAd,CAAP;;AACA,YAAIE,GAAJ,EAAS;AACP,iBAAOA,GAAP;AACD;AACF;;AACD,aAAOA,GAAP;AACD;;AAED,aAASG,SAAT,CAAmBC,UAAnB,EAA+B;AAC7B,aAAO,UAAUC,QAAV,EAAoB;AACzB,YAAIC,MAAM,GAAG,EAAb;AACA,YAAIC,IAAI,GAAG,CAAX;;AAEA,iBAASC,SAAT,GAAqB;AACnB,iBAAOX,IAAI,CAACO,UAAD,EAAa,UAAUK,SAAV,EAAqB;AAC3C,gBAAIC,CAAC,GAAGD,SAAS,CAACE,EAAV,CAAaC,IAAb,CAAkBP,QAAlB,CAAR;;AACA,gBAAIK,CAAJ,EAAO;AACL,kBAAIG,GAAG,GAAGH,CAAC,CAAC,CAAD,CAAX;AACAL,sBAAQ,GAAGA,QAAQ,CAACS,KAAT,CAAeD,GAAG,CAACX,MAAnB,CAAX;AACA,qBAAO;AACLW,mBAAG,EAAEA,GADA;AAELE,uBAAO,EAAEN,SAAS,CAACV,CAAV,CAAYW,CAAZ,EAAeH,IAAf;AAFJ,eAAP;AAID,aAPD,MAOO;AACL,qBAAOS,SAAP;AACD;AACF,WAZU,CAAX;AAaD;;AAED,eAAOX,QAAQ,KAAK,EAApB,EAAwB;AACtB,cAAIU,OAAO,GAAGP,SAAS,EAAvB;;AAEA,cAAI,CAACO,OAAL,EAAc;AACZ,gBAAIE,GAAG,GAAG,IAAIC,WAAJ,CAAgB,2BAA2Bb,QAAQ,CAAC,CAAD,CAAnC,GAAyC,WAAzC,GAAuDA,QAAQ,CAACc,MAAT,CAAgB,CAAhB,EAAmB,GAAnB,CAAvE,CAAV;AACAF,eAAG,CAACV,IAAJ,GAAWA,IAAX;AACA,kBAAMU,GAAN;AACD,WAPqB,CAStB;;;AACAF,iBAAO,CAACA,OAAR,CAAgBR,IAAhB,GAAuBA,IAAvB,CAVsB,CAYtB;;AACAA,cAAI,IAAIQ,OAAO,CAACF,GAAR,CAAYO,OAAZ,CAAoB,QAApB,EAA8B,EAA9B,EAAkClB,MAA1C;AAEAI,gBAAM,CAAChF,IAAP,CAAYyF,OAAO,CAACA,OAApB;AACD;;AAED,eAAOT,MAAP;AACD,OAvCD;AAwCD;;AAED,aAASe,aAAT,CAAuBX,CAAvB,EAA0B;AACxB;AACA,UAAIY,OAAO,GAAGZ,CAAC,CAAC,CAAD,CAAD,CAAKU,OAAL,CAAa,0CAAb,EAAyD,UAAUG,EAAV,EAAc;AACnF,YAAIA,EAAE,KAAK,IAAX,EAAiB;AACf,iBAAO,MAAP;AACD,SAFD,MAEO,IAAIA,EAAE,KAAK,KAAX,EAAkB;AACvB,iBAAO,GAAP;AACD,SAFM,MAEA;AACL,iBAAOA,EAAP;AACD;AACF,OARa,CAAd;AAUA,aAAO;AACLC,YAAI,EAAE,QADD;AAELC,aAAK,EAAE,OAAOH,OAAP,GAAiB,IAFnB;AAGLI,aAAK,EAAEC,IAAI,CAAChC,KAAL,CAAW,OAAO2B,OAAP,GAAiB,IAA5B,CAHF,CAGqC;;AAHrC,OAAP;AAKD;;AAED,aAASM,aAAT,CAAuBlB,CAAvB,EAA0B;AACxB,aAAO;AACLc,YAAI,EAAE,QADD;AAELC,aAAK,EAAEf,CAAC,CAAC,CAAD,CAFH;AAGLgB,aAAK,EAAEC,IAAI,CAAChC,KAAL,CAAWe,CAAC,CAAC,CAAD,CAAZ;AAHF,OAAP;AAKD;;AAED,aAASmB,WAAT,CAAqBnB,CAArB,EAAwB;AACtB;AACA,aAAO;AACLc,YAAI,EAAE,QADD;AAELE,aAAK,EAAEhB,CAAC,CAAC,CAAD,CAFH;AAGLe,aAAK,EAAE,OAAOf,CAAC,CAAC,CAAD,CAAD,CAAKU,OAAL,CAAa,IAAb,EAAmB,UAAUU,CAAV,EAAa;AAC5C,iBAAOA,CAAC,KAAK,IAAN,GAAa,MAAb,GAAsBA,CAA7B;AACD,SAFa,CAAP,GAEF;AALA,OAAP;AAOD;;AAED,aAASC,QAAT,CAAkBrB,CAAlB,EAAqB;AACnB;AACA,aAAO;AACLc,YAAI,EAAE,GADD;AAELC,aAAK,EAAEf,CAAC,CAAC,CAAD,CAAD,CAAKU,OAAL,CAAa,IAAb,EAAmB,UAAUU,CAAV,EAAa;AACrC,iBAAQ,IAAD,CAAOE,IAAP,CAAYF,CAAZ,IAAiBA,CAAjB,GAAqB,GAA5B;AACD,SAFM;AAFF,OAAP;AAMD;;AAED,aAASG,OAAT,CAAiBvB,CAAjB,EAAoB;AAClB,aAAO;AACLc,YAAI,EAAE,QADD;AAELC,aAAK,EAAEf,CAAC,CAAC,CAAD,CAFH;AAGLgB,aAAK,EAAEQ,UAAU,CAACxB,CAAC,CAAC,CAAD,CAAF;AAHZ,OAAP;AAKD;;AAED,aAASyB,QAAT,CAAkBzB,CAAlB,EAAqB;AACnB,UAAIgB,KAAJ;;AACA,cAAQhB,CAAC,CAAC,CAAD,CAAT;AACE,aAAK,MAAL;AAAagB,eAAK,GAAG,IAAR;AAAc;;AAC3B,aAAK,MAAL;AAAaA,eAAK,GAAG,IAAR;AAAc;;AAC3B,aAAK,OAAL;AAAcA,eAAK,GAAG,KAAR;AAAe;AAC7B;AAJF;;AAMA,aAAO;AACLF,YAAI,EAAE,MADD;AAELC,aAAK,EAAEf,CAAC,CAAC,CAAD,CAFH;AAGLgB,aAAK,EAAEA;AAHF,OAAP;AAKD;;AAED,aAASU,cAAT,CAAwBC,OAAxB,EAAiC;AAC/B,eAAStC,CAAT,CAAWyB,IAAX,EAAiB;AACf,eAAO,UAAUd,CAAV,EAAa;AAClB,iBAAO;AAAEc,gBAAI,EAAEA,IAAR;AAAcC,iBAAK,EAAEf,CAAC,CAAC,CAAD;AAAtB,WAAP;AACD,SAFD;AAGD;;AAED,UAAI4B,GAAG,GAAG,CACR;AAAE3B,UAAE,EAAE,MAAN;AAAcZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAlB,OADQ,EAER;AAAEY,UAAE,EAAE,KAAN;AAAaZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAjB,OAFQ,EAGR;AAAEY,UAAE,EAAE,KAAN;AAAaZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAjB,OAHQ,EAIR;AAAEY,UAAE,EAAE,KAAN;AAAaZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAjB,OAJQ,EAKR;AAAEY,UAAE,EAAE,KAAN;AAAaZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAjB,OALQ,EAMR;AAAEY,UAAE,EAAE,IAAN;AAAYZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAhB,OANQ,EAOR;AAAEY,UAAE,EAAE,IAAN;AAAYZ,SAAC,EAAEA,CAAC,CAAC,GAAD;AAAhB,OAPQ,EAQR;AAAEY,UAAE,EAAE,oBAAN;AAA4BZ,SAAC,EAAEoC;AAA/B,OARQ,EASR;AAAExB,UAAE,EAAE,gCAAN;AAAwCZ,SAAC,EAAEkC;AAA3C,OATQ,EAUR;AAAEtB,UAAE,EAAE,+CAAN;AAAuDZ,SAAC,EAAE6B;AAA1D,OAVQ,CAAV,CAP+B,CAoB/B;;AACA,UAAIS,OAAJ,EAAa;AACXC,WAAG,GAAGA,GAAG,CAACC,MAAJ,CAAW,CACf;AAAE5B,YAAE,EAAE,iDAAN;AAAyDZ,WAAC,EAAEsB;AAA5D,SADe,EAEf;AAAEV,YAAE,EAAE,wBAAN;AAAgCZ,WAAC,EAAEgC;AAAnC,SAFe,EAGf;AAAEpB,YAAE,EAAE,mBAAN;AAA2BZ,WAAC,EAAEgC;AAA9B,SAHe,EAIf;AAAEpB,YAAE,EAAE,sCAAN;AAA8CZ,WAAC,EAAE8B;AAAjD,SAJe,CAAX,CAAN;AAMD;;AAED,aAAOS,GAAP;AACD;;AAED,QAAIE,KAAK,GAAGrC,SAAS,CAACiC,cAAc,CAAC,IAAD,CAAf,CAArB;AACA,QAAIK,WAAW,GAAGtC,SAAS,CAACiC,cAAc,CAAC,KAAD,CAAf,CAA3B;;AAEA,aAASM,gBAAT,CAA0BpC,MAA1B,EAAkCqC,KAAlC,EAAyC;AACvC,aAAOA,KAAK,IAAI,CAAhB,EAAmBA,KAAK,EAAxB,EAA4B;AAC1B,YAAIrC,MAAM,CAACqC,KAAD,CAAN,CAAcnB,IAAd,KAAuB,GAA3B,EAAgC;AAC9B,iBAAOmB,KAAP;AACD;AACF;;AACD,aAAO3B,SAAP;AACD;;AAED,aAAS4B,kBAAT,CAA4BtC,MAA5B,EAAoC;AAClC,UAAIuC,GAAG,GAAG,EAAV;AAEAvC,YAAM,CAACwC,OAAP,CAAe,UAAUC,KAAV,EAAiBJ,KAAjB,EAAwB;AACrC,YAAII,KAAK,CAACvB,IAAN,KAAe,GAAf,IAAsBuB,KAAK,CAACvB,IAAN,KAAe,GAAzC,EAA8C;AAC5C;AACA,cAAIwB,MAAM,GAAGN,gBAAgB,CAACG,GAAD,EAAMF,KAAK,GAAG,CAAd,CAA7B;;AAEA,cAAIK,MAAM,IAAIH,GAAG,CAACG,MAAD,CAAH,CAAYxB,IAAZ,KAAqB,GAAnC,EAAwC;AACtC,gBAAIyB,SAAS,GAAGP,gBAAgB,CAACG,GAAD,EAAMG,MAAM,GAAG,CAAf,CAAhC;;AACA,gBAAIC,SAAS,IAAIJ,GAAG,CAACI,SAAD,CAAH,CAAezB,IAAf,KAAwB,GAArC,IAA4CqB,GAAG,CAACI,SAAD,CAAH,CAAezB,IAAf,KAAwB,GAAxE,EAA6E;AAC3EqB,iBAAG,CAACG,MAAD,CAAH,GAAc;AACZxB,oBAAI,EAAE,GADM;AAEZC,qBAAK,EAAE,GAFK;AAGZlB,oBAAI,EAAED,MAAM,CAAC0C,MAAD,CAAN,CAAezC;AAHT,eAAd;AAKD;AACF;AACF;;AAEDsC,WAAG,CAACvH,IAAJ,CAASyH,KAAT;AACD,OAlBD;AAoBA,aAAOF,GAAP;AACD;;AAED,aAASK,SAAT,CAAmBC,IAAnB,EAAyB;AACvB;AACA,UAAI7C,MAAM,GAAGkC,KAAK,CAACW,IAAD,CAAlB,CAFuB,CAIvB;;AACA7C,YAAM,GAAGsC,kBAAkB,CAACtC,MAAD,CAA3B,CALuB,CAOvB;;AACA,aAAOA,MAAM,CAAC8C,MAAP,CAAc,UAAUC,GAAV,EAAeN,KAAf,EAAsB;AACzC,eAAOM,GAAG,GAAGN,KAAK,CAACtB,KAAnB;AACD,OAFM,EAEJ,EAFI,CAAP;AAGD;;AAED,aAAS6B,QAAT,CAAkBhD,MAAlB,EAA0BiD,KAA1B,EAAiC;AAC/B,UAAIR,KAAK,GAAGzC,MAAM,CAACiD,KAAK,CAACC,GAAP,CAAlB;AACAD,WAAK,CAACC,GAAN,IAAa,CAAb;;AAEA,UAAI,CAACT,KAAL,EAAY;AACV,YAAIxC,IAAI,GAAGD,MAAM,CAACJ,MAAP,KAAkB,CAAlB,GAAsBI,MAAM,CAACA,MAAM,CAACJ,MAAP,GAAgB,CAAjB,CAAN,CAA0BK,IAAhD,GAAuD,CAAlE;AACA,eAAO;AAAEiB,cAAI,EAAE,KAAR;AAAejB,cAAI,EAAEA;AAArB,SAAP;AACD;;AAED,aAAOwC,KAAP;AACD;;AAED,aAASU,QAAT,CAAkBV,KAAlB,EAAyB;AACvB,cAAQA,KAAK,CAACvB,IAAd;AACE,aAAK,MAAL;AACA,aAAK,QAAL;AACA,aAAK,QAAL;AACE,iBAAOuB,KAAK,CAACvB,IAAN,GAAa,GAAb,GAAmBuB,KAAK,CAACtB,KAAhC;;AACF,aAAK,KAAL;AACE,iBAAO,aAAP;;AACF;AACE,iBAAO,MAAMsB,KAAK,CAACvB,IAAZ,GAAmB,GAA1B;AARJ;AAUD;;AAED,aAASkC,SAAT,CAAmBpD,MAAnB,EAA2BiD,KAA3B,EAAkC;AAChC,UAAII,KAAK,GAAGL,QAAQ,CAAChD,MAAD,EAASiD,KAAT,CAApB;;AACA,UAAII,KAAK,CAACnC,IAAN,KAAe,GAAnB,EAAwB;AACtB,YAAIoC,OAAO,GAAG,uBAAuBH,QAAQ,CAACE,KAAD,CAA/B,GAAyC,gBAAvD;;AACA,YAAIJ,KAAK,CAACM,QAAV,EAAoB;AAClBN,eAAK,CAACO,QAAN,CAAexI,IAAf,CAAoB;AAClBsI,mBAAO,EAAEA,OADS;AAElBrD,gBAAI,EAAEoD,KAAK,CAACpD;AAFM,WAApB;AAKAgD,eAAK,CAACC,GAAN,IAAa,CAAb;AACD,SAPD,MAOO;AACL,cAAIvC,GAAG,GAAG,IAAIC,WAAJ,CAAgB0C,OAAhB,CAAV;AACA3C,aAAG,CAACV,IAAJ,GAAWoD,KAAK,CAACpD,IAAjB;AACA,gBAAMU,GAAN;AACD;AACF;AACF;;AAED,aAAS8C,eAAT,CAAyBzD,MAAzB,EAAiCiD,KAAjC,EAAwCS,KAAxC,EAA+C;AAC7C,UAAIC,WAAW,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAlB;AACA,UAAIlB,KAAK,GAAGO,QAAQ,CAAChD,MAAD,EAASiD,KAAT,CAApB;;AACA,aAAO,IAAP,EAAa;AAAE;AACb,YAAIS,KAAK,IAAIA,KAAK,CAACE,OAAN,CAAcnB,KAAK,CAACvB,IAApB,MAA8B,CAAC,CAA5C,EAA+C;AAC7C,iBAAOuB,KAAP;AACD,SAFD,MAEO,IAAIA,KAAK,CAACvB,IAAN,KAAe,KAAnB,EAA0B;AAC/B,iBAAOuB,KAAP;AACD,SAFM,MAEA,IAAIkB,WAAW,CAACC,OAAZ,CAAoBnB,KAAK,CAACvB,IAA1B,MAAoC,CAAC,CAAzC,EAA4C;AACjD,cAAIoC,OAAO,GAAG,uBAAuBH,QAAQ,CAACV,KAAD,CAA/B,GAAyC,6CAAvD;;AACA,cAAIQ,KAAK,CAACM,QAAV,EAAoB;AAClBN,iBAAK,CAACO,QAAN,CAAexI,IAAf,CAAoB;AAClBsI,qBAAO,EAAEA,OADS;AAElBrD,kBAAI,EAAEwC,KAAK,CAACxC;AAFM,aAApB;AAIAwC,iBAAK,GAAGO,QAAQ,CAAChD,MAAD,EAASiD,KAAT,CAAhB;AACD,WAND,MAMO;AACL,gBAAItC,GAAG,GAAG,IAAIC,WAAJ,CAAgB0C,OAAhB,CAAV;AACA3C,eAAG,CAACV,IAAJ,GAAWwC,KAAK,CAACxC,IAAjB;AACA,kBAAMU,GAAN;AACD;AACF,SAbM,MAaA;AACL,iBAAO8B,KAAP;AACD;AACF;AACF;;AAED,aAASoB,UAAT,CAAoBZ,KAApB,EAA2BR,KAA3B,EAAkCa,OAAlC,EAA2C;AACzC,UAAIL,KAAK,CAACM,QAAV,EAAoB;AAClBN,aAAK,CAACO,QAAN,CAAexI,IAAf,CAAoB;AAClBsI,iBAAO,EAAEA,OADS;AAElBrD,cAAI,EAAEwC,KAAK,CAACxC;AAFM,SAApB;AAID,OALD,MAKO;AACL,YAAIU,GAAG,GAAG,IAAIC,WAAJ,CAAgB0C,OAAhB,CAAV;AACA3C,WAAG,CAACV,IAAJ,GAAWwC,KAAK,CAACxC,IAAjB;AACA,cAAMU,GAAN;AACD;AACF;;AAED,aAASmD,eAAT,CAAyBb,KAAzB,EAAgCR,KAAhC,EAAuCsB,QAAvC,EAAiD;AAC/CF,gBAAU,CAACZ,KAAD,EAAQR,KAAR,EAAe,uBAAuBU,QAAQ,CAACV,KAAD,CAA/B,GAAyC,aAAzC,GAAyDsB,QAAxE,CAAV;AACD;;AAED,aAASC,eAAT,CAAyBf,KAAzB,EAAgCgB,GAAhC,EAAqCxB,KAArC,EAA4C;AAC1C,UAAIyB,GAAG,GAAGzB,KAAK,CAACrB,KAAhB;;AAEA,UAAI6B,KAAK,CAACkB,SAAN,IAAmBzJ,MAAM,CAAC0J,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCL,GAArC,EAA0CC,GAA1C,CAAvB,EAAuE;AACrEL,kBAAU,CAACZ,KAAD,EAAQR,KAAR,EAAe,oBAAoByB,GAAnC,CAAV;AACD;AACF;;AAED,aAASK,UAAT,CAAoBtB,KAApB,EAA2BgB,GAA3B,EAAgCC,GAAhC,EAAqC9C,KAArC,EAA4C;AAC1CA,WAAK,GAAG6B,KAAK,CAACuB,OAAN,GAAgBvB,KAAK,CAACuB,OAAN,CAAcN,GAAd,EAAmB9C,KAAnB,CAAhB,GAA4CA,KAApD;;AACA,UAAIA,KAAK,KAAKV,SAAd,EAAyB;AACvBuD,WAAG,CAACC,GAAD,CAAH,GAAW9C,KAAX;AACD;AACF;;AAED,aAASqD,SAAT,CAAmBzE,MAAnB,EAA2BiD,KAA3B,EAAkCgB,GAAlC,EAAuC;AACrC,UAAIxB,KAAK,GAAGgB,eAAe,CAACzD,MAAD,EAASiD,KAAT,EAAgB,CAAC,GAAD,CAAhB,CAA3B;AACA,UAAIiB,GAAJ;AACA,UAAI9C,KAAJ;;AAEA,UAAIqB,KAAK,CAACvB,IAAN,KAAe,QAAnB,EAA6B;AAC3B4C,uBAAe,CAACb,KAAD,EAAQR,KAAR,EAAe,QAAf,CAAf;;AACA,gBAAQA,KAAK,CAACvB,IAAd;AACE,eAAK,GAAL;AACEuB,iBAAK,GAAG;AACNvB,kBAAI,EAAE,QADA;AAENE,mBAAK,EAAE,MAFD;AAGNnB,kBAAI,EAAEwC,KAAK,CAACxC;AAHN,aAAR;AAMAgD,iBAAK,CAACC,GAAN,IAAa,CAAb;AACA;;AAEF,eAAK,QAAL;AACA,eAAK,MAAL;AACET,iBAAK,GAAG;AACNvB,kBAAI,EAAE,QADA;AAENE,mBAAK,EAAE,KAAKqB,KAAK,CAACrB,KAFZ;AAGNnB,kBAAI,EAAEwC,KAAK,CAACxC;AAHN,aAAR;AAKA;;AAEF,eAAK,GAAL;AACA,eAAK,GAAL;AACEgD,iBAAK,CAACC,GAAN,IAAa,CAAb;AACA9B,iBAAK,GAAGsD,QAAQ,CAAC1E,MAAD,EAASiD,KAAT,CAAhB,CAFF,CAEmC;;AACjCsB,sBAAU,CAACtB,KAAD,EAAQgB,GAAR,EAAa,MAAb,EAAqB7C,KAArB,CAAV;AACA;AACF;AA1BF;AA4BD;;AAED4C,qBAAe,CAACf,KAAD,EAAQgB,GAAR,EAAaxB,KAAb,CAAf;AACAyB,SAAG,GAAGzB,KAAK,CAACrB,KAAZ;AACAgC,eAAS,CAACpD,MAAD,EAASiD,KAAT,CAAT;AACA7B,WAAK,GAAGsD,QAAQ,CAAC1E,MAAD,EAASiD,KAAT,CAAhB,CAxCqC,CAwCJ;;AAEjCsB,gBAAU,CAACtB,KAAD,EAAQgB,GAAR,EAAaC,GAAb,EAAkB9C,KAAlB,CAAV;AACD;;AAED,aAASuD,YAAT,CAAsB3E,MAAtB,EAA8BiD,KAA9B,EAAqC2B,GAArC,EAA0C;AACxC,UAAIV,GAAG,GAAGU,GAAG,CAAChF,MAAd;AACA,UAAIwB,KAAK,GAAGsD,QAAQ,CAAC1E,MAAD,EAASiD,KAAT,CAApB,CAFwC,CAEH;;AACrC2B,SAAG,CAACV,GAAD,CAAH,GAAWjB,KAAK,CAACuB,OAAN,GAAgBvB,KAAK,CAACuB,OAAN,CAAc,KAAKN,GAAnB,EAAwB9C,KAAxB,CAAhB,GAAiDA,KAA5D;AACD;;AAED,aAASyD,WAAT,CAAqB7E,MAArB,EAA6BiD,KAA7B,EAAoC;AAClC,aAAO6B,SAAS,CAAC9E,MAAD,EAASiD,KAAT,EAAgB,EAAhB,EAAoB;AAAE;AACpC8B,YAAI,EAAE,CAAC,GAAD,EAAM,GAAN,CAD4B;AAElCC,qBAAa,EAAEP,SAFmB;AAGlCQ,mBAAW,EAAE,QAHqB;AAIlCC,iBAAS,EAAE;AAJuB,OAApB,CAAhB;AAMD;;AAED,aAASC,UAAT,CAAoBnF,MAApB,EAA4BiD,KAA5B,EAAmC;AACjC,aAAO6B,SAAS,CAAC9E,MAAD,EAASiD,KAAT,EAAgB,EAAhB,EAAoB;AAAE;AACpC8B,YAAI,EAAE,CAAC,GAAD,CAD4B;AAElCC,qBAAa,EAAEL,YAFmB;AAGlCM,mBAAW,EAAE,aAHqB;AAIlCC,iBAAS,EAAE;AAJuB,OAApB,CAAhB;AAMD;;AAED,aAASJ,SAAT,CAAmB9E,MAAnB,EAA2BiD,KAA3B,EAAkCgB,GAAlC,EAAuCmB,IAAvC,EAA6C;AAC3C,UAAI3C,KAAK,GAAGgB,eAAe,CAACzD,MAAD,EAASiD,KAAT,EAAgBmC,IAAI,CAACL,IAArB,CAA3B;;AAEA,UAAItC,KAAK,CAACvB,IAAN,KAAe,KAAnB,EAA0B;AACxB4C,uBAAe,CAACb,KAAD,EAAQR,KAAR,EAAe,MAAM2C,IAAI,CAACF,SAAX,GAAuB,OAAvB,GAAiCE,IAAI,CAACH,WAArD,CAAf;AAEAxC,aAAK,GAAG;AACNvB,cAAI,EAAEkE,IAAI,CAACF,SADL;AAENjF,cAAI,EAAEwC,KAAK,CAACxC;AAFN,SAAR;AAID;;AAED,cAAQwC,KAAK,CAACvB,IAAd;AACE,aAAKkE,IAAI,CAACF,SAAV;AACE,iBAAOjB,GAAP;;AAEF;AACEhB,eAAK,CAACC,GAAN,IAAa,CAAb,CADF,CACkB;;AAChBkC,cAAI,CAACJ,aAAL,CAAmBhF,MAAnB,EAA2BiD,KAA3B,EAAkCgB,GAAlC;AACA;AAPJ,OAZ2C,CAsB3C;;;AACA,aAAO,IAAP,EAAa;AAAE;AACbxB,aAAK,GAAGO,QAAQ,CAAChD,MAAD,EAASiD,KAAT,CAAhB;;AAEA,YAAIR,KAAK,CAACvB,IAAN,KAAekE,IAAI,CAACF,SAApB,IAAiCzC,KAAK,CAACvB,IAAN,KAAe,GAApD,EAAyD;AACvD4C,yBAAe,CAACb,KAAD,EAAQR,KAAR,EAAe,aAAa2C,IAAI,CAACF,SAAlB,GAA8B,GAA7C,CAAf;AAEAzC,eAAK,GAAG;AACNvB,gBAAI,EAAEuB,KAAK,CAACvB,IAAN,KAAe,KAAf,GAAuBkE,IAAI,CAACF,SAA5B,GAAwC,GADxC;AAENjF,gBAAI,EAAEwC,KAAK,CAACxC;AAFN,WAAR;AAKAgD,eAAK,CAACC,GAAN,IAAa,CAAb;AACD;;AAED,gBAAQT,KAAK,CAACvB,IAAd;AACE,eAAKkE,IAAI,CAACF,SAAV;AACE,mBAAOjB,GAAP;;AAEF,eAAK,GAAL;AACEmB,gBAAI,CAACJ,aAAL,CAAmBhF,MAAnB,EAA2BiD,KAA3B,EAAkCgB,GAAlC;AACA;AACF;AAPF;AASD;AACF;;AAED,aAASoB,SAAT,CAAmBrF,MAAnB,EAA2BiD,KAA3B,EAAkCjB,GAAlC,EAAuC;AACrC,UAAIiB,KAAK,CAACC,GAAN,GAAYlD,MAAM,CAACJ,MAAvB,EAA+B;AAC7BiE,kBAAU,CAACZ,KAAD,EAAQjD,MAAM,CAACiD,KAAK,CAACC,GAAP,CAAd,EACR,uBAAuBC,QAAQ,CAACnD,MAAM,CAACiD,KAAK,CAACC,GAAP,CAAP,CAA/B,GAAqD,yBAD7C,CAAV;AAED,OAJoC,CAMrC;;;AACA,UAAID,KAAK,CAACM,QAAN,IAAkBN,KAAK,CAACO,QAAN,CAAe5D,MAAf,KAA0B,CAAhD,EAAmD;AACjD,YAAI0D,OAAO,GAAGL,KAAK,CAACO,QAAN,CAAe5D,MAAf,KAA0B,CAA1B,GAA8BqD,KAAK,CAACO,QAAN,CAAe,CAAf,EAAkBF,OAAhD,GAA0DL,KAAK,CAACO,QAAN,CAAe5D,MAAf,GAAwB,iBAAhG;AACA,YAAIe,GAAG,GAAG,IAAIC,WAAJ,CAAgB0C,OAAhB,CAAV;AACA3C,WAAG,CAACV,IAAJ,GAAWgD,KAAK,CAACO,QAAN,CAAe,CAAf,EAAkBvD,IAA7B;AACAU,WAAG,CAAC6C,QAAJ,GAAeP,KAAK,CAACO,QAArB;AACA7C,WAAG,CAACsD,GAAJ,GAAUjC,GAAV;AACA,cAAMrB,GAAN;AACD;AACF;;AAED,aAAS+D,QAAT,CAAkB1E,MAAlB,EAA0BiD,KAA1B,EAAiCqC,GAAjC,EAAsC;AACpC,UAAI7C,KAAK,GAAGgB,eAAe,CAACzD,MAAD,EAASiD,KAAT,CAA3B;AACA,UAAIjB,GAAJ;;AAEA,UAAIS,KAAK,CAACvB,IAAN,KAAe,KAAnB,EAA0B;AACxB4C,uBAAe,CAACb,KAAD,EAAQR,KAAR,EAAe,aAAf,CAAf;AACD;;AAED,cAAQA,KAAK,CAACvB,IAAd;AACE,aAAK,GAAL;AACEc,aAAG,GAAG6C,WAAW,CAAC7E,MAAD,EAASiD,KAAT,CAAjB;AACA;;AACF,aAAK,GAAL;AACEjB,aAAG,GAAGmD,UAAU,CAACnF,MAAD,EAASiD,KAAT,CAAhB;AACA;;AACF,aAAK,QAAL;AACA,aAAK,QAAL;AACA,aAAK,MAAL;AACEjB,aAAG,GAAGS,KAAK,CAACrB,KAAZ;AACA;AACF;AAZF;;AAeA,UAAIkE,GAAJ,EAAS;AACPtD,WAAG,GAAGiB,KAAK,CAACuB,OAAN,GAAgBvB,KAAK,CAACuB,OAAN,CAAc,EAAd,EAAkBxC,GAAlB,CAAhB,GAAyCA,GAA/C;AACAqD,iBAAS,CAACrF,MAAD,EAASiD,KAAT,EAAgBjB,GAAhB,CAAT;AACD;;AAED,aAAOA,GAAP;AACD;;AAED,aAAS3C,KAAT,CAAewD,IAAf,EAAqBuC,IAArB,EAA2B;AACzB,UAAI,OAAOA,IAAP,KAAgB,UAAhB,IAA8BA,IAAI,KAAK1E,SAA3C,EAAsD;AACpD,eAAOW,IAAI,CAAChC,KAAL,CAAWuD,SAAS,CAACC,IAAD,CAApB,EAA4BuC,IAA5B,CAAP;AACD,OAFD,MAEO,IAAI,IAAI1K,MAAJ,CAAW0K,IAAX,MAAqBA,IAAzB,EAA+B;AAAE;AACtC,cAAM,IAAIG,SAAJ,CAAc,2DAAd,CAAN;AACD;;AAEDH,UAAI,CAACrD,OAAL,GAAeqD,IAAI,CAACrD,OAAL,KAAiBrB,SAAjB,GAA6B0E,IAAI,CAACrD,OAAlC,GAA4C,IAA3D;AACAqD,UAAI,CAAC5B,QAAL,GAAgB4B,IAAI,CAAC5B,QAAL,IAAiB4B,IAAI,CAAC7B,QAAtB,IAAkC,KAAlD;AACA6B,UAAI,CAAC7B,QAAL,GAAgB6B,IAAI,CAAC7B,QAAL,IAAiB,KAAjC;AACA6B,UAAI,CAACjB,SAAL,GAAiBiB,IAAI,CAACjB,SAAL,IAAkB,KAAnC;;AAEA,UAAI,CAACiB,IAAI,CAAC5B,QAAN,IAAkB,CAAC4B,IAAI,CAACrD,OAA5B,EAAqC;AACnC,eAAOV,IAAI,CAAChC,KAAL,CAAWwD,IAAX,EAAiBuC,IAAI,CAACZ,OAAtB,CAAP;AACD;;AAED,UAAIxE,MAAM,GAAGoF,IAAI,CAACrD,OAAL,GAAeG,KAAK,CAACW,IAAD,CAApB,GAA6BV,WAAW,CAACU,IAAD,CAArD;;AAEA,UAAIuC,IAAI,CAACrD,OAAT,EAAkB;AAChB;AACA/B,cAAM,GAAGsC,kBAAkB,CAACtC,MAAD,CAA3B;AACD;;AAED,UAAIoF,IAAI,CAAC5B,QAAT,EAAmB;AACjB;AACAxD,cAAM,GAAGA,MAAM,CAACwF,MAAP,CAAc,UAAU/C,KAAV,EAAiB;AACtC,iBAAOA,KAAK,CAACvB,IAAN,KAAe,GAAtB;AACD,SAFQ,CAAT;AAIA,YAAI+B,KAAK,GAAG;AAAEC,aAAG,EAAE,CAAP;AAAUsB,iBAAO,EAAEY,IAAI,CAACZ,OAAxB;AAAiCjB,kBAAQ,EAAE6B,IAAI,CAAC7B,QAAhD;AAA0DY,mBAAS,EAAEiB,IAAI,CAACjB,SAA1E;AAAqFX,kBAAQ,EAAE;AAA/F,SAAZ;AACA,eAAOkB,QAAQ,CAAC1E,MAAD,EAASiD,KAAT,EAAgB,IAAhB,CAAf;AACD,OARD,MAQO;AACL,YAAIwC,OAAO,GAAGzF,MAAM,CAAC8C,MAAP,CAAc,UAAUC,GAAV,EAAeN,KAAf,EAAsB;AAChD,iBAAOM,GAAG,GAAGN,KAAK,CAACtB,KAAnB;AACD,SAFa,EAEX,EAFW,CAAd;AAIA,eAAOE,IAAI,CAAChC,KAAL,CAAWoG,OAAX,EAAoBL,IAAI,CAACZ,OAAzB,CAAP;AACD;AACF;;AAED,aAASkB,aAAT,CAAuBzB,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,aAAO7C,IAAI,CAACsE,SAAL,CAAezB,GAAf,IAAsB,GAAtB,GAA4ByB,SAAS,CAAC1B,GAAG,CAACC,GAAD,CAAJ,CAA5C,CAD+B,CACyB;AACzD;;AAED,aAASyB,SAAT,CAAmB1B,GAAnB,EAAwB;AACtB,cAAQ,OAAOA,GAAf;AACE,aAAK,QAAL;AACA,aAAK,QAAL;AACA,aAAK,SAAL;AACE,iBAAO5C,IAAI,CAACsE,SAAL,CAAe1B,GAAf,CAAP;AACF;AALF;;AAOA,UAAI2B,KAAK,CAACC,OAAN,CAAc5B,GAAd,CAAJ,EAAwB;AACtB,eAAO,MAAMA,GAAG,CAAC6B,GAAJ,CAAQH,SAAR,EAAmBI,IAAnB,CAAwB,GAAxB,CAAN,GAAqC,GAA5C;AACD;;AACD,UAAI,IAAIrL,MAAJ,CAAWuJ,GAAX,MAAoBA,GAAxB,EAA6B;AAAE;AAC7B,YAAIxJ,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYwJ,GAAZ,CAAX;AACAxJ,YAAI,CAACuL,IAAL;AACA,eAAO,MAAMvL,IAAI,CAACqL,GAAL,CAASJ,aAAa,CAACO,IAAd,CAAmB,IAAnB,EAAyBhC,GAAzB,CAAT,CAAN,GAAgD,GAAvD;AACD;;AACD,aAAO,MAAP;AACD,KAliBU,CAoiBX;;;AACA,uBAAAhF,KAAK,GAAG;AACN2D,eAAS,EAAEA,SADL;AAENvD,WAAK,EAAEA,KAFD;AAGNsG,eAAS,EAAEA;AAHL,KAAR,EAriBW,CA2iBX;AACA;AACA;AACA;AAEA;AACA;AACA;AACD,GAnjBA,GAAD","file":"/packages/meteortoys_toykit.js","sourcesContent":["import \"./main.html\";\nimport \"./style/toykit.css\"\nimport { ToyKit } from \"./ToyKit.js\"\n\nMeteor.startup(function(){\n  // inject Meteor Toys into Blaze\n  Meteor.defer(function () {\n    Blaze.render(Template.MeteorToys, document.body);\n  });\n\n  // subscribe to data\n  ToyKit.startSubscription();\n\n  // reset tooltip\n  ToyKit.set(\"focus\", null);\n\n  // bind hotkeys\n  ToyKit.bindHotKeys();\n\n  // grab toys data\n  ToyKit.grabToys();\n});\n\nTemplate.MeteorToys.helpers({\n  MeteorToys: function () {\n    return ToyKit.get(\"display\");\n  },\n  MeteorToy: function () {\n    data = ToyKit.get(\"registry\").core;\n    keys = Object.keys(data)\n    return keys;\n  },\n  MeteorToy_addon: function () {\n    data = ToyKit.get(\"registry\").addon;\n    keys = Object.keys(data)\n    return keys;\n  },\n  MeteorToysPackage: function () {\n    var temp = [];\n    \n    if (Package[\"msavin:mongol\"]) {\n      temp.push(\"Mongol\");\n    }\n\n    if (Package[\"msavin:jetsetter\"]) {\n      temp.push(\"JetSetter\");\n    }\n\n    temp.push(\"MeteorToys_notifications\");\n\n    return temp;\n  },\n  all: function () {\n    if (Package[\"meteortoys:allthings\"]) {\n      return \"MeteorToys_basic\";\n    }\n  },\n  MeteorToysCordova: function () {\n    if (Package[\"meteortoys:mobile\"]) {\n      if (typeof cordova === \"object\" || navigator.platform === \"iPhone\") {\n        return true;\n      }\n    }\n  },\n  MTtoggle: function () {\n    if (Package[\"meteortoys:toggle\"]) {\n      return true\n    }\n  }\n});\n\n\nwindow[\"MeteorToys\"] = {}\n\nwindow[\"MeteorToys\"].open = function () {\n  ToyKit.set(\"display\", true);\n  ToyKit.set(\"focus\", null);\n}\n\nwindow[\"MeteorToys\"].close = function () {\n  ToyKit.set(\"display\", false);\n  ToyKit.set(\"focus\", null); \n}\n\nexport { ToyKit }","import { ToyKit } from \"../shared\"\n\nvar _0x5dcf=['registry','unfocus','colorize','undefined','<em>undefined</em>','replace','&amp;','&lt;','&gt;','MeteorToys_number','test','MeteorToys_key','MeteorToys_string','MeteorToys_null','<span\\x20class=\\x22','\\x22>\\x22</span>','\\x22\\x20contenteditable=\\x22false\\x22>','</span>','substring','length','colorizeEditable','<em>No\\x20data</em>','_id','\\x20\\x22\\x20>','\\x20MeteorToys_inline\\x22\\x20contenteditable=\\x22true\\x22>','\\x20MeteorToys_inline\\x22\\x20contenteditable=\\x22true\\x22>\\x22','\\x22</span>','MeteorToys_boolean','closeToy','current','close','shouldLog','openToy','toggleDisplay','get','set','display','focus','subscribe','MeteorToys','MeteorToys_autopublish','bindHotKeys','keydown','keyCode','ctrlKey','grabToys','call','MeteorToysRegistry'];(function(_0x100734,_0x202146){var _0x57ac45=function(_0x43ac6e){while(--_0x43ac6e){_0x100734['push'](_0x100734['shift']());}};_0x57ac45(++_0x202146);}(_0x5dcf,0x1a1));var _0x20db=function(_0x53af96,_0x3f0619){_0x53af96=_0x53af96-0x0;var _0x1ef887=_0x5dcf[_0x53af96];return _0x1ef887;};ToyKit[_0x20db('0x0')]=function(){var _0x5a5054=ToyKit[_0x20db('0x1')]('display');if(_0x5a5054){ToyKit[_0x20db('0x2')](_0x20db('0x3'),![]);ToyKit[_0x20db('0x2')](_0x20db('0x4'),null);}else{ToyKit[_0x20db('0x2')](_0x20db('0x3'),!![]);ToyKit[_0x20db('0x2')](_0x20db('0x4'),null);}};ToyKit['startSubscription']=function(){Tracker['autorun'](function(){Meteor[_0x20db('0x5')](_0x20db('0x6'),ToyKit[_0x20db('0x1')](_0x20db('0x7')));});};ToyKit[_0x20db('0x8')]=function(){window['addEventListener'](_0x20db('0x9'),function(_0x4f7bc9){if(_0x4f7bc9[_0x20db('0xa')]===0x4d&&_0x4f7bc9[_0x20db('0xb')]){ToyKit[_0x20db('0x0')]();}});};ToyKit[_0x20db('0xc')]=function(){Meteor[_0x20db('0xd')](_0x20db('0xe'),function(_0x9d0c63,_0x43d56b){ToyKit['set'](_0x20db('0xf'),_0x43d56b);});};ToyKit[_0x20db('0x10')]=function(){ToyKit[_0x20db('0x2')](_0x20db('0x4'));};ToyKit[_0x20db('0x11')]=function(_0x5ad71d){if(typeof _0x5ad71d===_0x20db('0x12')){return _0x20db('0x13');}_0x5ad71d=_0x5ad71d[_0x20db('0x14')](/&/g,_0x20db('0x15'))['replace'](/</g,_0x20db('0x16'))['replace'](/>/g,_0x20db('0x17'));return _0x5ad71d[_0x20db('0x14')](/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g,function(_0x3a5c09){var _0x50c054=_0x20db('0x18');if(/^\"/[_0x20db('0x19')](_0x3a5c09)){if(/:$/[_0x20db('0x19')](_0x3a5c09)){_0x50c054=_0x20db('0x1a');}else{_0x50c054=_0x20db('0x1b');}}else if(/true|false/[_0x20db('0x19')](_0x3a5c09)){_0x50c054='MeteorToys_boolean';}else if(/null/[_0x20db('0x19')](_0x3a5c09)){_0x50c054=_0x20db('0x1c');}quote=_0x20db('0x1d')+_0x50c054+_0x20db('0x1e');switch(_0x50c054){case _0x20db('0x1a'):_0x3a5c09=_0x3a5c09[_0x20db('0x14')](/\"/g,'');_0x3a5c09=_0x3a5c09[_0x20db('0x14')](/:/g,'');return quote+'<span\\x20class=\\x22'+_0x50c054+_0x20db('0x1f')+_0x3a5c09+_0x20db('0x20')+quote+':';break;case _0x20db('0x18'):return _0x20db('0x1d')+_0x50c054+_0x20db('0x1f')+_0x3a5c09+'</span>';break;case _0x20db('0x1b'):_0x3a5c09=_0x3a5c09[_0x20db('0x21')](0x1,_0x3a5c09[_0x20db('0x22')]-0x1);return quote+_0x20db('0x1d')+_0x50c054+_0x20db('0x1f')+_0x3a5c09+'</span>'+quote;break;case'MeteorToys_boolean':return _0x20db('0x1d')+_0x50c054+'\\x22\\x20contenteditable=\\x22false\\x22>'+_0x3a5c09+_0x20db('0x20');break;case _0x20db('0x1c'):return _0x20db('0x1d')+_0x50c054+'\\x22\\x20contenteditable=\\x22false\\x22>'+_0x3a5c09+_0x20db('0x20');break;}});};ToyKit[_0x20db('0x23')]=function(_0x3a0087){if(typeof _0x3a0087==='undefined'){return _0x20db('0x24');}_0x3a0087=_0x3a0087[_0x20db('0x14')](/&/g,_0x20db('0x15'))[_0x20db('0x14')](/</g,_0x20db('0x16'))[_0x20db('0x14')](/>/g,_0x20db('0x17'));return _0x3a0087[_0x20db('0x14')](/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g,function(_0x29415d){var _0x17fe26=_0x20db('0x18');if(/^\"/[_0x20db('0x19')](_0x29415d)){if(/:$/['test'](_0x29415d)){_0x17fe26=_0x20db('0x1a');}else{_0x17fe26=_0x20db('0x1b');}}else if(/true|false/['test'](_0x29415d)){_0x17fe26='MeteorToys_boolean';}else if(/null/['test'](_0x29415d)){_0x17fe26=_0x20db('0x1c');}quote='<span\\x20class=\\x22'+_0x17fe26+_0x20db('0x1e');switch(_0x17fe26){case _0x20db('0x1a'):_0x29415d=_0x29415d[_0x20db('0x14')](/\"/g,'');_0x29415d=_0x29415d[_0x20db('0x14')](/:/g,'');if(_0x29415d===_0x20db('0x25')){return quote+_0x20db('0x1d')+_0x17fe26+_0x20db('0x26')+_0x29415d+'</span>'+quote+':';}else{return quote+'<span\\x20class=\\x22'+_0x17fe26+_0x20db('0x27')+_0x29415d+_0x20db('0x20')+quote+':';}break;case'MeteorToys_number':return _0x20db('0x1d')+_0x17fe26+'\\x20MeteorToys_inline\\x22\\x20contenteditable=\\x22true\\x22>'+_0x29415d+_0x20db('0x20');break;case _0x20db('0x1b'):_0x29415d=_0x29415d[_0x20db('0x21')](0x1,_0x29415d[_0x20db('0x22')]-0x1);return _0x20db('0x1d')+_0x17fe26+_0x20db('0x28')+_0x29415d+_0x20db('0x29');break;case _0x20db('0x2a'):return _0x20db('0x1d')+_0x17fe26+_0x20db('0x27')+_0x29415d+'</span>';break;case'MeteorToys_null':return _0x20db('0x1d')+_0x17fe26+_0x20db('0x27')+_0x29415d+_0x20db('0x20');break;}});};ToyKit[_0x20db('0x2b')]=function(){if(ToyKit['get'](_0x20db('0x2c'))){ToyKit[_0x20db('0x2')](_0x20db('0x2c'),null);}else{window[_0x20db('0x6')][_0x20db('0x2d')]();}};ToyKit[_0x20db('0x2e')]=function(){if(typeof METEORTOYS_DISABLE_LOGGING===_0x20db('0x12')){return!![];}else{return![];}};ToyKit[_0x20db('0x2f')]=function(_0xfd5d9f){ToyKit['set'](_0x20db('0x2c'),_0xfd5d9f);};\n\nexport { ToyKit }","import { Meteor } from \"meteor/meteor\";\nimport { MongoInternals } from \"meteor/mongo\";\n\nvar _0x59c6=['setTimeout','generateList','get','isClient','connection','_stores','_getCollection','open','isServer','defaultRemoteCollectionDriver','listCollections','forEach','push','getList'];(function(_0x7fe618,_0x3a4ea0){var _0x2f5eab=function(_0xadad64){while(--_0xadad64){_0x7fe618['push'](_0x7fe618['shift']());}};_0x2f5eab(++_0x3a4ea0);}(_0x59c6,0x17a));var _0x3617=function(_0x3f8819,_0x232fc4){_0x3f8819=_0x3f8819-0x0;var _0x5d8702=_0x59c6[_0x3f8819];return _0x5d8702;};var Collection={};var collectionList=[];Meteor['startup'](function(){Collection['generateList']();Meteor[_0x3617('0x0')](function(){Collection[_0x3617('0x1')]();},0x1388);});Collection[_0x3617('0x2')]=function(_0x1ff186){check(_0x1ff186,String);if(Meteor[_0x3617('0x3')]){var _0xdeeda8=Meteor[_0x3617('0x4')][_0x3617('0x5')][_0x1ff186];if(_0xdeeda8)return _0xdeeda8[_0x3617('0x6')]();}else{return MongoInternals['defaultRemoteCollectionDriver']()[_0x3617('0x7')](_0x1ff186);}};Collection[_0x3617('0x1')]=function(){if(Meteor[_0x3617('0x8')]){collectionList=[];var _0x5b00e9=MongoInternals[_0x3617('0x9')]()['mongo']['db'];var _0x16a0f9=_0x5b00e9[_0x3617('0xa')]();var _0x32d094=_0x16a0f9[_0x3617('0xb')](function(_0x355098){collectionList[_0x3617('0xc')](_0x355098['name']);});}};Collection[_0x3617('0xd')]=function(){if(Meteor[_0x3617('0x3')]){return Object['keys'](Meteor[_0x3617('0x4')][_0x3617('0x5')]);}else{return collectionList;}};\n\nexport { Collection }","import { Mongo } from \"meteor/mongo\";\n\nvar Data = {\n  'Impersonate': new Mongo.Collection(\"MeteorToys.Impersonate\"),\n  'JetSetter':   new Mongo.Collection(\"MeteorToys.JetSetter\"),\n  'Mongol':      new Mongo.Collection(\"MeteorToys.Mongol\"),\n  'AutoPub':     new Mongo.Collection(\"MeteorToys.AutoPub\"),\n  'Email':       new Mongo.Collection(\"MeteorToys.Email\"),\n  'Result':      new Mongo.Collection(\"MeteorToys.Result\"),\n  'Throttle':    new Mongo.Collection(\"MeteorToys.Throttle\")\n}\n\nData.Impersonate.allow({\n  insert: function () {\n      return true;\n  },\n  remove: function (){\n      return true;\n  },\n  update: function() {\n      return true;\n  }\n});\n\nData.JetSetter.allow({\n  insert: function () {\n      return true;\n  },\n  remove: function (){\n      return true;\n  },\n  update: function() {\n      return true;\n  }\n});\n\nData.Mongol.allow({\n  insert: function () {\n      return true;\n  },\n  remove: function (){\n      return true;\n  },\n  update: function() {\n      return true;\n  }\n});\n\nData.AutoPub.allow({\n  insert: function () {\n      return true;\n  },\n  remove: function (){\n      return true;\n  },\n  update: function() {\n      return true;\n  }\n});\n\nData.Email.allow({\n  insert: function () {\n      return true;\n  },\n  remove: function (){\n      return true;\n  },\n  update: function() {\n      return true;\n  }\n});\n\nData.Result.allow({\n  insert: function () {\n      return true;\n  },\n  remove: function (){\n      return true;\n  },\n  update: function() {\n      return true;\n  }\n});\n\nexport { Data }","import { Collection } from \"./collections.js\";\nimport { Data } from \"./data.js\";\nimport { RJSON } from './parse.js';\n\nvar ToyKit = {};\n\nif (Meteor.isClient) {\n\timport { ReactiveDict } from \"meteor/reactive-dict\"\n\tToyKit = new ReactiveDict(\"MeteorToys\")\n}\n\nToyKit.collection = Collection;\nToyKit.data = Data;\nToyKit.parse = RJSON.parse;\n\nexport { ToyKit }","var RJSON;\n/*\n  Copyright (c) 2013, Oleg Grenrus\n  All rights reserved.\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n      * Redistributions of source code must retain the above copyright\n        notice, this list of conditions and the following disclaimer.\n      * Redistributions in binary form must reproduce the above copyright\n        notice, this list of conditions and the following disclaimer in the\n        documentation and/or other materials provided with the distribution.\n      * Neither the name of the Oleg Grenrus nor the\n        names of its contributors may be used to endorse or promote products\n        derived from this software without specific prior written permission.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n  DISCLAIMED. IN NO EVENT SHALL OLEG GRENRUS BE LIABLE FOR ANY\n  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n(function () {\n  \"use strict\";\n\n  // slightly different from ES5 some, without cast to boolean\n  // [x, y, z].some(f):\n  // ES5:  !! ( f(x) || f(y) || f(z) || false)\n  // this:    ( f(x) || f(y) || f(z) || false)\n  function some(array, f) {\n    var acc = false;\n    for (var i = 0; i < array.length; i++) {\n      acc = f(array[i], i, array);\n      if (acc) {\n        return acc;\n      }\n    }\n    return acc;\n  }\n\n  function makeLexer(tokenSpecs) {\n    return function (contents) {\n      var tokens = [];\n      var line = 1;\n\n      function findToken() {\n        return some(tokenSpecs, function (tokenSpec) {\n          var m = tokenSpec.re.exec(contents);\n          if (m) {\n            var raw = m[0];\n            contents = contents.slice(raw.length);\n            return {\n              raw: raw,\n              matched: tokenSpec.f(m, line),\n            };\n          } else {\n            return undefined;\n          }\n        });\n      }\n\n      while (contents !== \"\") {\n        var matched = findToken();\n\n        if (!matched) {\n          var err = new SyntaxError(\"Unexpected character: \" + contents[0] + \"; input: \" + contents.substr(0, 100));\n          err.line = line;\n          throw err;\n        }\n\n        // add line to token\n        matched.matched.line = line;\n\n        // count lines\n        line += matched.raw.replace(/[^\\n]/g, \"\").length;\n\n        tokens.push(matched.matched);\n      }\n\n      return tokens;\n    };\n  }\n\n  function fStringSingle(m) {\n    // String in single quotes\n    var content = m[1].replace(/([^'\\\\]|\\\\['bnrtf\\\\]|\\\\u[0-9a-fA-F]{4})/g, function (mm) {\n      if (mm === \"\\\"\") {\n        return \"\\\\\\\"\";\n      } else if (mm === \"\\\\'\") {\n        return \"'\";\n      } else {\n        return mm;\n      }\n    });\n\n    return {\n      type: \"string\",\n      match: \"\\\"\" + content + \"\\\"\",\n      value: JSON.parse(\"\\\"\" + content + \"\\\"\"), // abusing real JSON.parse to unquote string\n    };\n  }\n\n  function fStringDouble(m) {\n    return {\n      type: \"string\",\n      match: m[0],\n      value: JSON.parse(m[0]),\n    };\n  }\n\n  function fIdentifier(m) {\n    // identifiers are transformed into strings\n    return {\n      type: \"string\",\n      value: m[0],\n      match: \"\\\"\" + m[0].replace(/./g, function (c) {\n        return c === \"\\\\\" ? \"\\\\\\\\\" : c;\n      }) + \"\\\"\",\n    };\n  }\n\n  function fComment(m) {\n    // comments are whitespace, leave only linefeeds\n    return {\n      type: \" \",\n      match: m[0].replace(/./g, function (c) {\n        return (/\\s/).test(c) ? c : \" \";\n      }),\n    };\n  }\n\n  function fNumber(m) {\n    return {\n      type: \"number\",\n      match: m[0],\n      value: parseFloat(m[0]),\n    };\n  }\n\n  function fKeyword(m) {\n    var value;\n    switch (m[1]) {\n      case \"null\": value = null; break;\n      case \"true\": value = true; break;\n      case \"false\": value = false; break;\n      // no default\n    }\n    return {\n      type: \"atom\",\n      match: m[0],\n      value: value,\n    };\n  }\n\n  function makeTokenSpecs(relaxed) {\n    function f(type) {\n      return function (m) {\n        return { type: type, match: m[0] };\n      };\n    }\n\n    var ret = [\n      { re: /^\\s+/, f: f(\" \") },\n      { re: /^\\{/, f: f(\"{\") },\n      { re: /^\\}/, f: f(\"}\") },\n      { re: /^\\[/, f: f(\"[\") },\n      { re: /^\\]/, f: f(\"]\") },\n      { re: /^,/, f: f(\",\") },\n      { re: /^:/, f: f(\":\") },\n      { re: /^(true|false|null)/, f: fKeyword },\n      { re: /^\\-?\\d+(\\.\\d+)?([eE][+-]?\\d+)?/, f: fNumber },\n      { re: /^\"([^\"\\\\]|\\\\[\"bnrtf\\\\\\/]|\\\\u[0-9a-fA-F]{4})*\"/, f: fStringDouble },\n    ];\n\n    // additional stuff\n    if (relaxed) {\n      ret = ret.concat([\n        { re: /^'(([^'\\\\]|\\\\['bnrtf\\\\\\/]|\\\\u[0-9a-fA-F]{4})*)'/, f: fStringSingle },\n        { re: /^\\/\\/.*?(?:\\r\\n|\\r|\\n)/, f: fComment },\n        { re: /^\\/\\*[\\s\\S]*?\\*\\//, f: fComment },\n        { re: /^[$a-zA-Z0-9_\\-+\\.\\*\\?!\\|&%\\^\\/#\\\\]+/, f: fIdentifier },\n      ]);\n    }\n\n    return ret;\n  }\n\n  var lexer = makeLexer(makeTokenSpecs(true));\n  var strictLexer = makeLexer(makeTokenSpecs(false));\n\n  function previousNWSToken(tokens, index) {\n    for (; index >= 0; index--) {\n      if (tokens[index].type !== \" \") {\n        return index;\n      }\n    }\n    return undefined;\n  }\n\n  function stripTrailingComma(tokens) {\n    var res = [];\n\n    tokens.forEach(function (token, index) {\n      if (token.type === \"]\" || token.type === \"}\") {\n        // go backwards as long as there is whitespace, until first comma\n        var commaI = previousNWSToken(res, index - 1);\n\n        if (commaI && res[commaI].type === \",\") {\n          var preCommaI = previousNWSToken(res, commaI - 1);\n          if (preCommaI && res[preCommaI].type !== \"[\" && res[preCommaI].type !== \"{\") {\n            res[commaI] = {\n              type: \" \",\n              match: \" \",\n              line: tokens[commaI].line,\n            };\n          }\n        }\n      }\n\n      res.push(token);\n    });\n\n    return res;\n  }\n\n  function transform(text) {\n    // Tokenize contents\n    var tokens = lexer(text);\n\n    // remove trailing commas\n    tokens = stripTrailingComma(tokens);\n\n    // concat stuff\n    return tokens.reduce(function (str, token) {\n      return str + token.match;\n    }, \"\");\n  }\n\n  function popToken(tokens, state) {\n    var token = tokens[state.pos];\n    state.pos += 1;\n\n    if (!token) {\n      var line = tokens.length !== 0 ? tokens[tokens.length - 1].line : 1;\n      return { type: \"eof\", line: line };\n    }\n\n    return token;\n  }\n\n  function strToken(token) {\n    switch (token.type) {\n      case \"atom\":\n      case \"string\":\n      case \"number\":\n        return token.type + \" \" + token.match;\n      case \"eof\":\n        return \"end-of-file\";\n      default:\n        return \"'\" + token.type + \"'\";\n    }\n  }\n\n  function skipColon(tokens, state) {\n    var colon = popToken(tokens, state);\n    if (colon.type !== \":\") {\n      var message = \"Unexpected token: \" + strToken(colon) + \", expected ':'\";\n      if (state.tolerant) {\n        state.warnings.push({\n          message: message,\n          line: colon.line,\n        });\n\n        state.pos -= 1;\n      } else {\n        var err = new SyntaxError(message);\n        err.line = colon.line;\n        throw err;\n      }\n    }\n  }\n\n  function skipPunctuation(tokens, state, valid) {\n    var punctuation = [\",\", \":\", \"]\", \"}\"];\n    var token = popToken(tokens, state);\n    while (true) { // eslint-disable-line no-constant-condition\n      if (valid && valid.indexOf(token.type) !== -1) {\n        return token;\n      } else if (token.type === \"eof\") {\n        return token;\n      } else if (punctuation.indexOf(token.type) !== -1) {\n        var message = \"Unexpected token: \" + strToken(token) + \", expected '[', '{', number, string or atom\";\n        if (state.tolerant) {\n          state.warnings.push({\n            message: message,\n            line: token.line,\n          });\n          token = popToken(tokens, state);\n        } else {\n          var err = new SyntaxError(message);\n          err.line = token.line;\n          throw err;\n        }\n      } else {\n        return token;\n      }\n    }\n  }\n\n  function raiseError(state, token, message) {\n    if (state.tolerant) {\n      state.warnings.push({\n        message: message,\n        line: token.line,\n      });\n    } else {\n      var err = new SyntaxError(message);\n      err.line = token.line;\n      throw err;\n    }\n  }\n\n  function raiseUnexpected(state, token, expected) {\n    raiseError(state, token, \"Unexpected token: \" + strToken(token) + \", expected \" + expected);\n  }\n\n  function checkDuplicates(state, obj, token) {\n    var key = token.value;\n\n    if (state.duplicate && Object.prototype.hasOwnProperty.call(obj, key)) {\n      raiseError(state, token, \"Duplicate key: \" + key);\n    }\n  }\n\n  function appendPair(state, obj, key, value) {\n    value = state.reviver ? state.reviver(key, value) : value;\n    if (value !== undefined) {\n      obj[key] = value;\n    }\n  }\n\n  function parsePair(tokens, state, obj) {\n    var token = skipPunctuation(tokens, state, [\":\"]);\n    var key;\n    var value;\n\n    if (token.type !== \"string\") {\n      raiseUnexpected(state, token, \"string\");\n      switch (token.type) {\n        case \":\":\n          token = {\n            type: \"string\",\n            value: \"null\",\n            line: token.line,\n          };\n\n          state.pos -= 1;\n          break;\n\n        case \"number\":\n        case \"atom\":\n          token = {\n            type: \"string\",\n            value: \"\" + token.value,\n            line: token.line,\n          };\n          break;\n\n        case \"[\":\n        case \"{\":\n          state.pos -= 1;\n          value = parseAny(tokens, state); // eslint-disable-line no-use-before-define\n          appendPair(state, obj, \"null\", value);\n          return;\n        // no default\n      }\n    }\n\n    checkDuplicates(state, obj, token);\n    key = token.value;\n    skipColon(tokens, state);\n    value = parseAny(tokens, state); // eslint-disable-line no-use-before-define\n\n    appendPair(state, obj, key, value);\n  }\n\n  function parseElement(tokens, state, arr) {\n    var key = arr.length;\n    var value = parseAny(tokens, state); // eslint-disable-line no-use-before-define\n    arr[key] = state.reviver ? state.reviver(\"\" + key, value) : value;\n  }\n\n  function parseObject(tokens, state) {\n    return parseMany(tokens, state, {}, { // eslint-disable-line no-use-before-define\n      skip: [\":\", \"}\"],\n      elementParser: parsePair,\n      elementName: \"string\",\n      endSymbol: \"}\",\n    });\n  }\n\n  function parseArray(tokens, state) {\n    return parseMany(tokens, state, [], { // eslint-disable-line no-use-before-define\n      skip: [\"]\"],\n      elementParser: parseElement,\n      elementName: \"json object\",\n      endSymbol: \"]\",\n    });\n  }\n\n  function parseMany(tokens, state, obj, opts) {\n    var token = skipPunctuation(tokens, state, opts.skip);\n\n    if (token.type === \"eof\") {\n      raiseUnexpected(state, token, \"'\" + opts.endSymbol + \"' or \" + opts.elementName);\n\n      token = {\n        type: opts.endSymbol,\n        line: token.line,\n      };\n    }\n\n    switch (token.type) {\n      case opts.endSymbol:\n        return obj;\n\n      default:\n        state.pos -= 1; // push the token back\n        opts.elementParser(tokens, state, obj);\n        break;\n    }\n\n    // Rest\n    while (true) { // eslint-disable-line no-constant-condition\n      token = popToken(tokens, state);\n\n      if (token.type !== opts.endSymbol && token.type !== \",\") {\n        raiseUnexpected(state, token, \"',' or '\" + opts.endSymbol + \"'\");\n\n        token = {\n          type: token.type === \"eof\" ? opts.endSymbol : \",\",\n          line: token.line,\n        };\n\n        state.pos -= 1;\n      }\n\n      switch (token.type) {\n        case opts.endSymbol:\n          return obj;\n\n        case \",\":\n          opts.elementParser(tokens, state, obj);\n          break;\n        // no default\n      }\n    }\n  }\n\n  function endChecks(tokens, state, ret) {\n    if (state.pos < tokens.length) {\n      raiseError(state, tokens[state.pos],\n        \"Unexpected token: \" + strToken(tokens[state.pos]) + \", expected end-of-input\");\n    }\n\n    // Throw error at the end\n    if (state.tolerant && state.warnings.length !== 0) {\n      var message = state.warnings.length === 1 ? state.warnings[0].message : state.warnings.length + \" parse warnings\";\n      var err = new SyntaxError(message);\n      err.line = state.warnings[0].line;\n      err.warnings = state.warnings;\n      err.obj = ret;\n      throw err;\n    }\n  }\n\n  function parseAny(tokens, state, end) {\n    var token = skipPunctuation(tokens, state);\n    var ret;\n\n    if (token.type === \"eof\") {\n      raiseUnexpected(state, token, \"json object\");\n    }\n\n    switch (token.type) {\n      case \"{\":\n        ret = parseObject(tokens, state);\n        break;\n      case \"[\":\n        ret = parseArray(tokens, state);\n        break;\n      case \"string\":\n      case \"number\":\n      case \"atom\":\n        ret = token.value;\n        break;\n      // no default\n    }\n\n    if (end) {\n      ret = state.reviver ? state.reviver(\"\", ret) : ret;\n      endChecks(tokens, state, ret);\n    }\n\n    return ret;\n  }\n\n  function parse(text, opts) {\n    if (typeof opts === \"function\" || opts === undefined) {\n      return JSON.parse(transform(text), opts);\n    } else if (new Object(opts) !== opts) { // eslint-disable-line no-new-object\n      throw new TypeError(\"opts/reviver should be undefined, a function or an object\");\n    }\n\n    opts.relaxed = opts.relaxed !== undefined ? opts.relaxed : true;\n    opts.warnings = opts.warnings || opts.tolerant || false;\n    opts.tolerant = opts.tolerant || false;\n    opts.duplicate = opts.duplicate || false;\n\n    if (!opts.warnings && !opts.relaxed) {\n      return JSON.parse(text, opts.reviver);\n    }\n\n    var tokens = opts.relaxed ? lexer(text) : strictLexer(text);\n\n    if (opts.relaxed) {\n      // Strip commas\n      tokens = stripTrailingComma(tokens);\n    }\n\n    if (opts.warnings) {\n      // Strip whitespace\n      tokens = tokens.filter(function (token) {\n        return token.type !== \" \";\n      });\n\n      var state = { pos: 0, reviver: opts.reviver, tolerant: opts.tolerant, duplicate: opts.duplicate, warnings: [] };\n      return parseAny(tokens, state, true);\n    } else {\n      var newtext = tokens.reduce(function (str, token) {\n        return str + token.match;\n      }, \"\");\n\n      return JSON.parse(newtext, opts.reviver);\n    }\n  }\n\n  function stringifyPair(obj, key) {\n    return JSON.stringify(key) + \":\" + stringify(obj[key]); // eslint-disable-line no-use-before-define\n  }\n\n  function stringify(obj) {\n    switch (typeof obj) {\n      case \"string\":\n      case \"number\":\n      case \"boolean\":\n        return JSON.stringify(obj);\n      // no default\n    }\n    if (Array.isArray(obj)) {\n      return \"[\" + obj.map(stringify).join(\",\") + \"]\";\n    }\n    if (new Object(obj) === obj) { // eslint-disable-line no-new-object\n      var keys = Object.keys(obj);\n      keys.sort();\n      return \"{\" + keys.map(stringifyPair.bind(null, obj)) + \"}\";\n    }\n    return \"null\";\n  }\n\n  // Export  stuff\n  RJSON = {\n    transform: transform,\n    parse: parse,\n    stringify: stringify,\n  };\n\n  // /* global window, module */\n  // if (typeof window !== \"undefined\") {\n  //   window.RJSON = RJSON;\n  // }\n\n  // if (typeof module !== \"undefined\") {\n  //   module.exports = RJSON;\n  // }\n}());\n\nexport { RJSON }"]}